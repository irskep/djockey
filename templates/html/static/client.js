var VY0=Object.create;var{getPrototypeOf:SY0,defineProperty:jG,getOwnPropertyNames:xD}=Object;var hD=Object.prototype.hasOwnProperty;var K8=(Z,J,Q)=>{for(let K of xD(J))if(!hD.call(Z,K)&&K!=="default")jG(Z,K,{get:()=>J[K],enumerable:!0});if(Q){for(let K of xD(J))if(!hD.call(Q,K)&&K!=="default")jG(Q,K,{get:()=>J[K],enumerable:!0});return Q}},z7=(Z,J,Q)=>{Q=Z!=null?VY0(SY0(Z)):{};const K=J||!Z||!Z.__esModule?jG(Q,"default",{value:Z,enumerable:!0}):Q;for(let X of xD(Z))if(!hD.call(K,X))jG(K,X,{get:()=>Z[X],enumerable:!0});return K};var i7=(Z,J)=>()=>(J||Z((J={exports:{}}).exports,J),J.exports);var q8=(Z,J)=>{for(var Q in J)jG(Z,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(K)=>J[Q]=()=>K})};var _=(Z,J)=>()=>(Z&&(J=Z(Z=0)),J);var kM=i7((yD,uD)=>{(function(Z,J){typeof yD=="object"&&typeof uD!="undefined"?uD.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis!="undefined"?globalThis:Z||self).dayjs=J()})(yD,function(){var Z=1000,J=60000,Q=3600000,K="millisecond",X="second",U="minute",Y="hour",q="day",z="week",G="month",H="quarter",W="year",F="date",M="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var $=["th","st","nd","rd"],f=S%100;return"["+S+($[(f-20)%10]||$[f]||$[0])+"]"}},L=function(S,$,f){var h=String(S);return!h||h.length>=$?S:""+Array($+1-h.length).join(f)+S},I={s:L,z:function(S){var $=-S.utcOffset(),f=Math.abs($),h=Math.floor(f/60),v=f%60;return($<=0?"+":"-")+L(h,2,"0")+":"+L(v,2,"0")},m:function S($,f){if($.date()<f.date())return-S(f,$);var h=12*(f.year()-$.year())+(f.month()-$.month()),v=$.clone().add(h,G),b=f-v<0,y=$.clone().add(h+(b?-1:1),G);return+(-(h+(f-v)/(b?v-y:y-v))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:G,y:W,w:z,d:q,D:F,h:Y,m:U,s:X,ms:K,Q:H}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},D="en",w={};w[D]=A;var N="$isDayjsObject",E=function(S){return S instanceof T||!(!S||!S[N])},j=function S($,f,h){var v;if(!$)return D;if(typeof $=="string"){var b=$.toLowerCase();w[b]&&(v=b),f&&(w[b]=f,v=b);var y=$.split("-");if(!v&&y.length>1)return S(y[0])}else{var k=$.name;w[k]=$,v=k}return!h&&v&&(D=v),v||!h&&D},P=function(S,$){if(E(S))return S.clone();var f=typeof $=="object"?$:{};return f.date=S,f.args=arguments,new T(f)},C=I;C.l=j,C.i=E,C.w=function(S,$){return P(S,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var T=function(){function S(f){this.$L=j(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[N]=!0}var $=S.prototype;return $.parse=function(f){this.$d=function(h){var{date:v,utc:b}=h;if(v===null)return new Date(NaN);if(C.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var y=v.match(B);if(y){var k=y[2]-1||0,g=(y[7]||"0").substring(0,3);return b?new Date(Date.UTC(y[1],k,y[3]||1,y[4]||0,y[5]||0,y[6]||0,g)):new Date(y[1],k,y[3]||1,y[4]||0,y[5]||0,y[6]||0,g)}}return new Date(v)}(f),this.init()},$.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},$.$utils=function(){return C},$.isValid=function(){return this.$d.toString()!==M},$.isSame=function(f,h){var v=P(f);return this.startOf(h)<=v&&v<=this.endOf(h)},$.isAfter=function(f,h){return P(f)<this.startOf(h)},$.isBefore=function(f,h){return this.endOf(h)<P(f)},$.$g=function(f,h,v){return C.u(f)?this[h]:this.set(v,f)},$.unix=function(){return Math.floor(this.valueOf()/1000)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(f,h){var v=this,b=!!C.u(h)||h,y=C.p(f),k=function(B0,X0){var d=C.w(v.$u?Date.UTC(v.$y,X0,B0):new Date(v.$y,X0,B0),v);return b?d:d.endOf(q)},g=function(B0,X0){return C.w(v.toDate()[B0].apply(v.toDate("s"),(b?[0,0,0,0]:[23,59,59,999]).slice(X0)),v)},u=this.$W,i=this.$M,e=this.$D,J0="set"+(this.$u?"UTC":"");switch(y){case W:return b?k(1,0):k(31,11);case G:return b?k(1,i):k(0,i+1);case z:var z0=this.$locale().weekStart||0,t=(u<z0?u+7:u)-z0;return k(b?e-t:e+(6-t),i);case q:case F:return g(J0+"Hours",0);case Y:return g(J0+"Minutes",1);case U:return g(J0+"Seconds",2);case X:return g(J0+"Milliseconds",3);default:return this.clone()}},$.endOf=function(f){return this.startOf(f,!1)},$.$set=function(f,h){var v,b=C.p(f),y="set"+(this.$u?"UTC":""),k=(v={},v[q]=y+"Date",v[F]=y+"Date",v[G]=y+"Month",v[W]=y+"FullYear",v[Y]=y+"Hours",v[U]=y+"Minutes",v[X]=y+"Seconds",v[K]=y+"Milliseconds",v)[b],g=b===q?this.$D+(h-this.$W):h;if(b===G||b===W){var u=this.clone().set(F,1);u.$d[k](g),u.init(),this.$d=u.set(F,Math.min(this.$D,u.daysInMonth())).$d}else k&&this.$d[k](g);return this.init(),this},$.set=function(f,h){return this.clone().$set(f,h)},$.get=function(f){return this[C.p(f)]()},$.add=function(f,h){var v,b=this;f=Number(f);var y=C.p(h),k=function(i){var e=P(b);return C.w(e.date(e.date()+Math.round(i*f)),b)};if(y===G)return this.set(G,this.$M+f);if(y===W)return this.set(W,this.$y+f);if(y===q)return k(1);if(y===z)return k(7);var g=(v={},v[U]=J,v[Y]=Q,v[X]=Z,v)[y]||1,u=this.$d.getTime()+f*g;return C.w(u,this)},$.subtract=function(f,h){return this.add(-1*f,h)},$.format=function(f){var h=this,v=this.$locale();if(!this.isValid())return v.invalidDate||M;var b=f||"YYYY-MM-DDTHH:mm:ssZ",y=C.z(this),k=this.$H,g=this.$m,u=this.$M,i=v.weekdays,e=v.months,J0=v.meridiem,z0=function(X0,d,o,a){return X0&&(X0[d]||X0(h,b))||o[d].slice(0,a)},t=function(X0){return C.s(k%12||12,X0,"0")},B0=J0||function(X0,d,o){var a=X0<12?"AM":"PM";return o?a.toLowerCase():a};return b.replace(O,function(X0,d){return d||function(o){switch(o){case"YY":return String(h.$y).slice(-2);case"YYYY":return C.s(h.$y,4,"0");case"M":return u+1;case"MM":return C.s(u+1,2,"0");case"MMM":return z0(v.monthsShort,u,e,3);case"MMMM":return z0(e,u);case"D":return h.$D;case"DD":return C.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return z0(v.weekdaysMin,h.$W,i,2);case"ddd":return z0(v.weekdaysShort,h.$W,i,3);case"dddd":return i[h.$W];case"H":return String(k);case"HH":return C.s(k,2,"0");case"h":return t(1);case"hh":return t(2);case"a":return B0(k,g,!0);case"A":return B0(k,g,!1);case"m":return String(g);case"mm":return C.s(g,2,"0");case"s":return String(h.$s);case"ss":return C.s(h.$s,2,"0");case"SSS":return C.s(h.$ms,3,"0");case"Z":return y}return null}(X0)||y.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(f,h,v){var b,y=this,k=C.p(h),g=P(f),u=(g.utcOffset()-this.utcOffset())*J,i=this-g,e=function(){return C.m(y,g)};switch(k){case W:b=e()/12;break;case G:b=e();break;case H:b=e()/3;break;case z:b=(i-u)/604800000;break;case q:b=(i-u)/86400000;break;case Y:b=i/Q;break;case U:b=i/J;break;case X:b=i/Z;break;default:b=i}return v?b:C.a(b)},$.daysInMonth=function(){return this.endOf(G).$D},$.$locale=function(){return w[this.$L]},$.locale=function(f,h){if(!f)return this.$L;var v=this.clone(),b=j(f,h,!0);return b&&(v.$L=b),v},$.clone=function(){return C.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},S}(),V=T.prototype;return P.prototype=V,[["$ms",K],["$s",X],["$m",U],["$H",Y],["$W",q],["$M",G],["$y",W],["$D",F]].forEach(function(S){V[S[1]]=function($){return this.$g($,S[0],S[1])}}),P.extend=function(S,$){return S.$i||(S($,T,P),S.$i=!0),P},P.locale=j,P.isDayjs=E,P.unix=function(S){return P(1000*S)},P.en=w[D],P.Ls=w,P.p={},P})});var $M,Vb;var Sb=_(()=>{$M={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:(Z)=>Z>=255?255:Z<0?0:Z,g:(Z)=>Z>=255?255:Z<0?0:Z,b:(Z)=>Z>=255?255:Z<0?0:Z,h:(Z)=>Z%360,s:(Z)=>Z>=100?100:Z<0?0:Z,l:(Z)=>Z>=100?100:Z<0?0:Z,a:(Z)=>Z>=1?1:Z<0?0:Z},toLinear:(Z)=>{const J=Z/255;return Z>0.03928?Math.pow((J+0.055)/1.055,2.4):J/12.92},hue2rgb:(Z,J,Q)=>{if(Q<0)Q+=1;if(Q>1)Q-=1;if(Q<0.16666666666666666)return Z+(J-Z)*6*Q;if(Q<0.5)return J;if(Q<0.6666666666666666)return Z+(J-Z)*(0.6666666666666666-Q)*6;return Z},hsl2rgb:({h:Z,s:J,l:Q},K)=>{if(!J)return Q*2.55;Z/=360,J/=100,Q/=100;const X=Q<0.5?Q*(1+J):Q+J-Q*J,U=2*Q-X;switch(K){case"r":return $M.hue2rgb(U,X,Z+0.3333333333333333)*255;case"g":return $M.hue2rgb(U,X,Z)*255;case"b":return $M.hue2rgb(U,X,Z-0.3333333333333333)*255}},rgb2hsl:({r:Z,g:J,b:Q},K)=>{Z/=255,J/=255,Q/=255;const X=Math.max(Z,J,Q),U=Math.min(Z,J,Q),Y=(X+U)/2;if(K==="l")return Y*100;if(X===U)return 0;const q=X-U,z=Y>0.5?q/(2-X-U):q/(X+U);if(K==="s")return z*100;switch(X){case Z:return((J-Q)/q+(J<Q?6:0))*60;case J:return((Q-Z)/q+2)*60;case Q:return((Z-J)/q+4)*60;default:return-1}}},Vb=$M});var TY0,Tb;var fb=_(()=>{TY0={clamp:(Z,J,Q)=>{if(J>Q)return Math.min(J,Math.max(Q,Z));return Math.min(Q,Math.max(J,Z))},round:(Z)=>{return Math.round(Z*10000000000)/10000000000}},Tb=TY0});var fY0,vb;var kb=_(()=>{fY0={dec2hex:(Z)=>{const J=Math.round(Z).toString(16);return J.length>1?J:`0${J}`}},vb=fY0});var vY0,j9;var E4=_(()=>{Sb();fb();kb();vY0={channel:Vb,lang:Tb,unit:vb},j9=vY0});var SK,zJ;var CG=_(()=>{E4();SK={};for(let Z=0;Z<=255;Z++)SK[Z]=j9.unit.dec2hex(Z);zJ={ALL:0,RGB:1,HSL:2}});class $b{constructor(){this.type=zJ.ALL}get(){return this.type}set(Z){if(this.type&&this.type!==Z)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=Z}reset(){this.type=zJ.ALL}is(Z){return this.type===Z}}var _b;var bb=_(()=>{CG();_b=$b});class xb{constructor(Z,J){this.color=J,this.changed=!1,this.data=Z,this.type=new _b}set(Z,J){return this.color=J,this.changed=!1,this.data=Z,this.type.type=zJ.ALL,this}_ensureHSL(){const Z=this.data,{h:J,s:Q,l:K}=Z;if(J===void 0)Z.h=j9.channel.rgb2hsl(Z,"h");if(Q===void 0)Z.s=j9.channel.rgb2hsl(Z,"s");if(K===void 0)Z.l=j9.channel.rgb2hsl(Z,"l")}_ensureRGB(){const Z=this.data,{r:J,g:Q,b:K}=Z;if(J===void 0)Z.r=j9.channel.hsl2rgb(Z,"r");if(Q===void 0)Z.g=j9.channel.hsl2rgb(Z,"g");if(K===void 0)Z.b=j9.channel.hsl2rgb(Z,"b")}get r(){const Z=this.data,J=Z.r;if(!this.type.is(zJ.HSL)&&J!==void 0)return J;return this._ensureHSL(),j9.channel.hsl2rgb(Z,"r")}get g(){const Z=this.data,J=Z.g;if(!this.type.is(zJ.HSL)&&J!==void 0)return J;return this._ensureHSL(),j9.channel.hsl2rgb(Z,"g")}get b(){const Z=this.data,J=Z.b;if(!this.type.is(zJ.HSL)&&J!==void 0)return J;return this._ensureHSL(),j9.channel.hsl2rgb(Z,"b")}get h(){const Z=this.data,J=Z.h;if(!this.type.is(zJ.RGB)&&J!==void 0)return J;return this._ensureRGB(),j9.channel.rgb2hsl(Z,"h")}get s(){const Z=this.data,J=Z.s;if(!this.type.is(zJ.RGB)&&J!==void 0)return J;return this._ensureRGB(),j9.channel.rgb2hsl(Z,"s")}get l(){const Z=this.data,J=Z.l;if(!this.type.is(zJ.RGB)&&J!==void 0)return J;return this._ensureRGB(),j9.channel.rgb2hsl(Z,"l")}get a(){return this.data.a}set r(Z){this.type.set(zJ.RGB),this.changed=!0,this.data.r=Z}set g(Z){this.type.set(zJ.RGB),this.changed=!0,this.data.g=Z}set b(Z){this.type.set(zJ.RGB),this.changed=!0,this.data.b=Z}set h(Z){this.type.set(zJ.HSL),this.changed=!0,this.data.h=Z}set s(Z){this.type.set(zJ.HSL),this.changed=!0,this.data.s=Z}set l(Z){this.type.set(zJ.HSL),this.changed=!0,this.data.l=Z}set a(Z){this.changed=!0,this.data.a=Z}}var hb;var yb=_(()=>{E4();bb();CG();hb=xb});var kY0,m5;var PG=_(()=>{yb();kY0=new hb({r:0,g:0,b:0,a:0},"transparent"),m5=kY0});var ub,WU;var mD=_(()=>{PG();CG();ub={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:(Z)=>{if(Z.charCodeAt(0)!==35)return;const J=Z.match(ub.re);if(!J)return;const Q=J[1],K=parseInt(Q,16),X=Q.length,U=X%4===0,Y=X>4,q=Y?1:17,z=Y?8:4,G=U?0:-1,H=Y?255:15;return m5.set({r:(K>>z*(G+3)&H)*q,g:(K>>z*(G+2)&H)*q,b:(K>>z*(G+1)&H)*q,a:U?(K&H)*q/255:1},Z)},stringify:(Z)=>{const{r:J,g:Q,b:K,a:X}=Z;if(X<1)return`#${SK[Math.round(J)]}${SK[Math.round(Q)]}${SK[Math.round(K)]}${SK[Math.round(X*255)]}`;else return`#${SK[Math.round(J)]}${SK[Math.round(Q)]}${SK[Math.round(K)]}`}},WU=ub});var _M,VG;var mb=_(()=>{E4();PG();_M={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:(Z)=>{const J=Z.match(_M.hueRe);if(J){const[,Q,K]=J;switch(K){case"grad":return j9.channel.clamp.h(parseFloat(Q)*0.9);case"rad":return j9.channel.clamp.h(parseFloat(Q)*180/Math.PI);case"turn":return j9.channel.clamp.h(parseFloat(Q)*360)}}return j9.channel.clamp.h(parseFloat(Z))},parse:(Z)=>{const J=Z.charCodeAt(0);if(J!==104&&J!==72)return;const Q=Z.match(_M.re);if(!Q)return;const[,K,X,U,Y,q]=Q;return m5.set({h:_M._hue2deg(K),s:j9.channel.clamp.s(parseFloat(X)),l:j9.channel.clamp.l(parseFloat(U)),a:Y?j9.channel.clamp.a(q?parseFloat(Y)/100:parseFloat(Y)):1},Z)},stringify:(Z)=>{const{h:J,s:Q,l:K,a:X}=Z;if(X<1)return`hsla(${j9.lang.round(J)}, ${j9.lang.round(Q)}%, ${j9.lang.round(K)}%, ${X})`;else return`hsl(${j9.lang.round(J)}, ${j9.lang.round(Q)}%, ${j9.lang.round(K)}%)`}},VG=_M});var bM,gD;var gb=_(()=>{mD();bM={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:(Z)=>{Z=Z.toLowerCase();const J=bM.colors[Z];if(!J)return;return WU.parse(J)},stringify:(Z)=>{const J=WU.stringify(Z);for(let Q in bM.colors)if(bM.colors[Q]===J)return Q;return}},gD=bM});var pb,SG;var cb=_(()=>{E4();PG();pb={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:(Z)=>{const J=Z.charCodeAt(0);if(J!==114&&J!==82)return;const Q=Z.match(pb.re);if(!Q)return;const[,K,X,U,Y,q,z,G,H]=Q;return m5.set({r:j9.channel.clamp.r(X?parseFloat(K)*2.55:parseFloat(K)),g:j9.channel.clamp.g(Y?parseFloat(U)*2.55:parseFloat(U)),b:j9.channel.clamp.b(z?parseFloat(q)*2.55:parseFloat(q)),a:G?j9.channel.clamp.a(H?parseFloat(G)/100:parseFloat(G)):1},Z)},stringify:(Z)=>{const{r:J,g:Q,b:K,a:X}=Z;if(X<1)return`rgba(${j9.lang.round(J)}, ${j9.lang.round(Q)}, ${j9.lang.round(K)}, ${j9.lang.round(X)})`;else return`rgb(${j9.lang.round(J)}, ${j9.lang.round(Q)}, ${j9.lang.round(K)})`}},SG=pb});var $Y0,GJ;var TK=_(()=>{mD();mb();gb();cb();CG();$Y0={format:{keyword:gD,hex:WU,rgb:SG,rgba:SG,hsl:VG,hsla:VG},parse:(Z)=>{if(typeof Z!=="string")return Z;const J=WU.parse(Z)||SG.parse(Z)||VG.parse(Z)||gD.parse(Z);if(J)return J;throw new Error(`Unsupported color format: "${Z}"`)},stringify:(Z)=>{if(!Z.changed&&Z.color)return Z.color;if(Z.type.is(zJ.HSL)||Z.data.r===void 0)return VG.stringify(Z);else if(Z.a<1||!Number.isInteger(Z.r)||!Number.isInteger(Z.g)||!Number.isInteger(Z.b))return SG.stringify(Z);else return WU.stringify(Z)}},GJ=$Y0});var _Y0=(Z,J)=>{const Q=GJ.parse(Z);for(let K in J)Q[K]=j9.channel.clamp[K](J[K]);return GJ.stringify(Q)},xM;var pD=_(()=>{E4();TK();xM=_Y0});var bY0=(Z,J,Q=0,K=1)=>{if(typeof Z!=="number")return xM(Z,{a:J});const X=m5.set({r:j9.channel.clamp.r(Z),g:j9.channel.clamp.g(J),b:j9.channel.clamp.b(Q),a:j9.channel.clamp.a(K)});return GJ.stringify(X)},j6;var cD=_(()=>{E4();PG();TK();pD();j6=bY0});var xY0=(Z,J)=>{return j9.lang.round(GJ.parse(Z)[J])},TG;var lb=_(()=>{E4();TK();TG=xY0});var hY0=(Z)=>{const{r:J,g:Q,b:K}=GJ.parse(Z),X=0.2126*j9.channel.toLinear(J)+0.7152*j9.channel.toLinear(Q)+0.0722*j9.channel.toLinear(K);return j9.lang.round(X)},db;var ib=_(()=>{E4();TK();db=hY0});var yY0=(Z)=>{return db(Z)>=0.5},sb;var rb=_(()=>{ib();sb=yY0});var uY0=(Z)=>{return!sb(Z)},V7;var nb=_(()=>{rb();V7=uY0});var mY0=(Z,J,Q)=>{const K=GJ.parse(Z),X=K[J],U=j9.channel.clamp[J](X+Q);if(X!==U)K[J]=U;return GJ.stringify(K)},hM;var lD=_(()=>{E4();TK();hM=mY0});var gY0=(Z,J)=>{return hM(Z,"l",J)},W9;var ab=_(()=>{lD();W9=gY0});var pY0=(Z,J)=>{return hM(Z,"l",-J)},R9;var ob=_(()=>{lD();R9=pY0});var cY0=(Z,J)=>{const Q=GJ.parse(Z),K={};for(let X in J){if(!J[X])continue;K[X]=Q[X]+J[X]}return xM(Z,K)},C0;var tb=_(()=>{TK();pD();C0=cY0});var lY0=(Z,J,Q=50)=>{const{r:K,g:X,b:U,a:Y}=GJ.parse(Z),{r:q,g:z,b:G,a:H}=GJ.parse(J),W=Q/100,F=W*2-1,M=Y-H,O=((F*M===-1?F:(F+M)/(1+F*M))+1)/2,A=1-O,L=K*O+q*A,I=X*O+z*A,D=U*O+G*A,w=Y*W+H*(1-W);return j6(L,I,D,w)},eb;var Zx=_(()=>{TK();cD();eb=lY0});var dY0=(Z,J=100)=>{const Q=GJ.parse(Z);return Q.r=255-Q.r,Q.g=255-Q.g,Q.b=255-Q.b,eb(Q,Z,J)},J9;var Jx=_(()=>{TK();Zx();J9=dY0});var Qx=_(()=>{cD();lb();nb();ab();ob();tb();Jx()});var _Q=_(()=>{Qx()});var sD=i7((dD,iD)=>{/*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE */(function(Z,J){typeof dD==="object"&&typeof iD!=="undefined"?iD.exports=J():typeof define==="function"&&define.amd?define(J):(Z=typeof globalThis!=="undefined"?globalThis:Z||self,Z.DOMPurify=J())})(dD,function(){const{entries:Z,setPrototypeOf:J,isFrozen:Q,getPrototypeOf:K,getOwnPropertyDescriptor:X}=Object;let{freeze:U,seal:Y,create:q}=Object,{apply:z,construct:G}=typeof Reflect!=="undefined"&&Reflect;if(!U)U=function h0(V0){return V0};if(!Y)Y=function h0(V0){return V0};if(!z)z=function h0(V0,l0,b0){return V0.apply(l0,b0)};if(!G)G=function h0(V0,l0){return new V0(...l0)};const H=E(Array.prototype.forEach),W=E(Array.prototype.pop),F=E(Array.prototype.push),M=E(String.prototype.toLowerCase),B=E(String.prototype.toString),O=E(String.prototype.match),A=E(String.prototype.replace),L=E(String.prototype.indexOf),I=E(String.prototype.trim),D=E(Object.prototype.hasOwnProperty),w=E(RegExp.prototype.test),N=j(TypeError);function E(h0){return function(V0){for(var l0=arguments.length,b0=new Array(l0>1?l0-1:0),S0=1;S0<l0;S0++)b0[S0-1]=arguments[S0];return z(h0,V0,b0)}}function j(h0){return function(){for(var V0=arguments.length,l0=new Array(V0),b0=0;b0<V0;b0++)l0[b0]=arguments[b0];return G(h0,l0)}}function P(h0,V0){let l0=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M;if(J)J(h0,null);let b0=V0.length;while(b0--){let S0=V0[b0];if(typeof S0==="string"){const H0=l0(S0);if(H0!==S0){if(!Q(V0))V0[b0]=H0;S0=H0}}h0[S0]=!0}return h0}function C(h0){for(let V0=0;V0<h0.length;V0++)if(!D(h0,V0))h0[V0]=null;return h0}function T(h0){const V0=q(null);for(let[l0,b0]of Z(h0))if(D(h0,l0))if(Array.isArray(b0))V0[l0]=C(b0);else if(b0&&typeof b0==="object"&&b0.constructor===Object)V0[l0]=T(b0);else V0[l0]=b0;return V0}function V(h0,V0){while(h0!==null){const b0=X(h0,V0);if(b0){if(b0.get)return E(b0.get);if(typeof b0.value==="function")return E(b0.value)}h0=K(h0)}function l0(){return null}return l0}const S=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),f=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),h=U(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),v=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),b=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y=U(["#text"]),k=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),g=U(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),u=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),i=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),e=Y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),J0=Y(/<%[\w\W]*|[\w\W]*%>/gm),z0=Y(/\${[\w\W]*}/gm),t=Y(/^data-[\-\w.\u00B7-\uFFFF]/),B0=Y(/^aria-[\-\w]+$/),X0=Y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),d=Y(/^(?:\w+script|data):/i),o=Y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),a=Y(/^html$/i),Q0=Y(/^[a-z][.\w]*(-[.\w]+)+$/i);var K0=Object.freeze({__proto__:null,MUSTACHE_EXPR:e,ERB_EXPR:J0,TMPLIT_EXPR:z0,DATA_ATTR:t,ARIA_ATTR:B0,IS_ALLOWED_URI:X0,IS_SCRIPT_OR_DATA:d,ATTR_WHITESPACE:o,DOCTYPE_NAME:a,CUSTOM_ELEMENT:Q0});const A0={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},r=function h0(){return typeof window==="undefined"?null:window},v0=function h0(V0,l0){if(typeof V0!=="object"||typeof V0.createPolicy!=="function")return null;let b0=null;const S0="data-tt-policy-suffix";if(l0&&l0.hasAttribute(S0))b0=l0.getAttribute(S0);const H0="dompurify"+(b0?"#"+b0:"");try{return V0.createPolicy(H0,{createHTML(l){return l},createScriptURL(l){return l}})}catch(l){return console.warn("TrustedTypes policy "+H0+" could not be created."),null}};function Y0(){let h0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r();const V0=(P9)=>Y0(P9);if(V0.version="3.1.6",V0.removed=[],!h0||!h0.document||h0.document.nodeType!==A0.document)return V0.isSupported=!1,V0;let{document:l0}=h0;const b0=l0,S0=b0.currentScript,{DocumentFragment:H0,HTMLTemplateElement:l,Node:q0,Element:G0,NodeFilter:n,NamedNodeMap:U0=h0.NamedNodeMap||h0.MozNamedAttrMap,HTMLFormElement:M0,DOMParser:F0,trustedTypes:x0}=h0,_0=G0.prototype,y0=V(_0,"cloneNode"),m0=V(_0,"remove"),d0=V(_0,"nextSibling"),u0=V(_0,"childNodes"),E0=V(_0,"parentNode");if(typeof l==="function"){const P9=l0.createElement("template");if(P9.content&&P9.content.ownerDocument)l0=P9.content.ownerDocument}let Z9,i0="";const{implementation:Q8,createNodeIterator:F8,createDocumentFragment:g9,getElementsByTagName:t9}=l0,{importNode:H9}=b0;let f9={};V0.isSupported=typeof Z==="function"&&typeof E0==="function"&&Q8&&Q8.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:t0,ERB_EXPR:T9,TMPLIT_EXPR:l9,DATA_ATTR:O9,ARIA_ATTR:w9,IS_SCRIPT_OR_DATA:M9,ATTR_WHITESPACE:c9,CUSTOM_ELEMENT:q9}=K0;let{IS_ALLOWED_URI:z8}=K0,N9=null;const y9=P({},[...S,...$,...f,...v,...y]);let N8=null;const CJ=P({},[...k,...g,...u,...i]);let e9=Object.seal(q(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_Z=null,GZ=null,xJ=!0,JJ=!0,j7=!1,AZ=!0,lZ=!1,a6=!0,o6=!1,$Q=!1,c7=!1,U9=!1,A9=!1,x9=!1,o0=!0,a9=!1;const R0="user-content-";let wK=!0,I0=!1,YJ={},jK=null;const AG=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fM=null;const LG=P({},["audio","video","img","source","image","track"]);let IG=null;const dZ=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),t6="http://www.w3.org/1998/Math/MathML",h5="http://www.w3.org/2000/svg",E6="http://www.w3.org/1999/xhtml";let y5=E6,DG=!1,Gq=null;const hJ=P({},[t6,h5,E6],B);let CK=null;const PK=["application/xhtml+xml","text/html"],l7="text/html";let qJ=null,I4=null;const u5=l0.createElement("form"),GU=function P9(w0){return w0 instanceof RegExp||w0 instanceof Function},w6=function P9(){let w0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(I4&&I4===w0)return;if(!w0||typeof w0!=="object")w0={};if(w0=T(w0),CK=PK.indexOf(w0.PARSER_MEDIA_TYPE)===-1?l7:w0.PARSER_MEDIA_TYPE,qJ=CK==="application/xhtml+xml"?B:M,N9=D(w0,"ALLOWED_TAGS")?P({},w0.ALLOWED_TAGS,qJ):y9,N8=D(w0,"ALLOWED_ATTR")?P({},w0.ALLOWED_ATTR,qJ):CJ,Gq=D(w0,"ALLOWED_NAMESPACES")?P({},w0.ALLOWED_NAMESPACES,B):hJ,IG=D(w0,"ADD_URI_SAFE_ATTR")?P(T(dZ),w0.ADD_URI_SAFE_ATTR,qJ):dZ,fM=D(w0,"ADD_DATA_URI_TAGS")?P(T(LG),w0.ADD_DATA_URI_TAGS,qJ):LG,jK=D(w0,"FORBID_CONTENTS")?P({},w0.FORBID_CONTENTS,qJ):AG,_Z=D(w0,"FORBID_TAGS")?P({},w0.FORBID_TAGS,qJ):{},GZ=D(w0,"FORBID_ATTR")?P({},w0.FORBID_ATTR,qJ):{},YJ=D(w0,"USE_PROFILES")?w0.USE_PROFILES:!1,xJ=w0.ALLOW_ARIA_ATTR!==!1,JJ=w0.ALLOW_DATA_ATTR!==!1,j7=w0.ALLOW_UNKNOWN_PROTOCOLS||!1,AZ=w0.ALLOW_SELF_CLOSE_IN_ATTR!==!1,lZ=w0.SAFE_FOR_TEMPLATES||!1,a6=w0.SAFE_FOR_XML!==!1,o6=w0.WHOLE_DOCUMENT||!1,U9=w0.RETURN_DOM||!1,A9=w0.RETURN_DOM_FRAGMENT||!1,x9=w0.RETURN_TRUSTED_TYPE||!1,c7=w0.FORCE_BODY||!1,o0=w0.SANITIZE_DOM!==!1,a9=w0.SANITIZE_NAMED_PROPS||!1,wK=w0.KEEP_CONTENT!==!1,I0=w0.IN_PLACE||!1,z8=w0.ALLOWED_URI_REGEXP||X0,y5=w0.NAMESPACE||E6,e9=w0.CUSTOM_ELEMENT_HANDLING||{},w0.CUSTOM_ELEMENT_HANDLING&&GU(w0.CUSTOM_ELEMENT_HANDLING.tagNameCheck))e9.tagNameCheck=w0.CUSTOM_ELEMENT_HANDLING.tagNameCheck;if(w0.CUSTOM_ELEMENT_HANDLING&&GU(w0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))e9.attributeNameCheck=w0.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;if(w0.CUSTOM_ELEMENT_HANDLING&&typeof w0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements==="boolean")e9.allowCustomizedBuiltInElements=w0.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;if(lZ)JJ=!1;if(A9)U9=!0;if(YJ){if(N9=P({},y),N8=[],YJ.html===!0)P(N9,S),P(N8,k);if(YJ.svg===!0)P(N9,$),P(N8,g),P(N8,i);if(YJ.svgFilters===!0)P(N9,f),P(N8,g),P(N8,i);if(YJ.mathMl===!0)P(N9,v),P(N8,u),P(N8,i)}if(w0.ADD_TAGS){if(N9===y9)N9=T(N9);P(N9,w0.ADD_TAGS,qJ)}if(w0.ADD_ATTR){if(N8===CJ)N8=T(N8);P(N8,w0.ADD_ATTR,qJ)}if(w0.ADD_URI_SAFE_ATTR)P(IG,w0.ADD_URI_SAFE_ATTR,qJ);if(w0.FORBID_CONTENTS){if(jK===AG)jK=T(jK);P(jK,w0.FORBID_CONTENTS,qJ)}if(wK)N9["#text"]=!0;if(o6)P(N9,["html","head","body"]);if(N9.table)P(N9,["tbody"]),delete _Z.tbody;if(w0.TRUSTED_TYPES_POLICY){if(typeof w0.TRUSTED_TYPES_POLICY.createHTML!=="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w0.TRUSTED_TYPES_POLICY.createScriptURL!=="function")throw N('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z9=w0.TRUSTED_TYPES_POLICY,i0=Z9.createHTML("")}else{if(Z9===void 0)Z9=v0(x0,S0);if(Z9!==null&&typeof i0==="string")i0=Z9.createHTML("")}if(U)U(w0);I4=w0},NG=P({},["mi","mo","mn","ms","mtext"]),HU=P({},["foreignobject","annotation-xml"]),EG=P({},["title","style","font","a","script"]),C7=P({},[...$,...f,...h]),Ob=P({},[...v,...b]),CY0=function P9(w0){let e0=E0(w0);if(!e0||!e0.tagName)e0={namespaceURI:y5,tagName:"template"};const L9=M(w0.tagName),QZ=M(e0.tagName);if(!Gq[w0.namespaceURI])return!1;if(w0.namespaceURI===h5){if(e0.namespaceURI===E6)return L9==="svg";if(e0.namespaceURI===t6)return L9==="svg"&&(QZ==="annotation-xml"||NG[QZ]);return Boolean(C7[L9])}if(w0.namespaceURI===t6){if(e0.namespaceURI===E6)return L9==="math";if(e0.namespaceURI===h5)return L9==="math"&&HU[QZ];return Boolean(Ob[L9])}if(w0.namespaceURI===E6){if(e0.namespaceURI===h5&&!HU[QZ])return!1;if(e0.namespaceURI===t6&&!NG[QZ])return!1;return!Ob[L9]&&(EG[L9]||!C7[L9])}if(CK==="application/xhtml+xml"&&Gq[w0.namespaceURI])return!0;return!1},D4=function P9(w0){F(V0.removed,{element:w0});try{E0(w0).removeChild(w0)}catch(e0){m0(w0)}},vM=function P9(w0,e0){try{F(V0.removed,{attribute:e0.getAttributeNode(w0),from:e0})}catch(L9){F(V0.removed,{attribute:null,from:e0})}if(e0.removeAttribute(w0),w0==="is"&&!N8[w0])if(U9||A9)try{D4(e0)}catch(L9){}else try{e0.setAttribute(w0,"")}catch(L9){}},Ab=function P9(w0){let e0=null,L9=null;if(c7)w0="<remove></remove>"+w0;else{const yJ=O(w0,/^[\r\n\t ]+/);L9=yJ&&yJ[0]}if(CK==="application/xhtml+xml"&&y5===E6)w0='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w0+"</body></html>";const QZ=Z9?Z9.createHTML(w0):w0;if(y5===E6)try{e0=new F0().parseFromString(QZ,CK)}catch(yJ){}if(!e0||!e0.documentElement){e0=Q8.createDocument(y5,"template",null);try{e0.documentElement.innerHTML=DG?i0:QZ}catch(yJ){}}const q7=e0.body||e0.documentElement;if(w0&&L9)q7.insertBefore(l0.createTextNode(L9),q7.childNodes[0]||null);if(y5===E6)return t9.call(e0,o6?"html":"body")[0];return o6?e0.documentElement:q7},Lb=function P9(w0){return F8.call(w0.ownerDocument||w0,w0,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT|n.SHOW_PROCESSING_INSTRUCTION|n.SHOW_CDATA_SECTION,null)},Ib=function P9(w0){return w0 instanceof M0&&(typeof w0.nodeName!=="string"||typeof w0.textContent!=="string"||typeof w0.removeChild!=="function"||!(w0.attributes instanceof U0)||typeof w0.removeAttribute!=="function"||typeof w0.setAttribute!=="function"||typeof w0.namespaceURI!=="string"||typeof w0.insertBefore!=="function"||typeof w0.hasChildNodes!=="function")},Db=function P9(w0){return typeof q0==="function"&&w0 instanceof q0},VK=function P9(w0,e0,L9){if(!f9[w0])return;H(f9[w0],(QZ)=>{QZ.call(V0,e0,L9,I4)})},Nb=function P9(w0){let e0=null;if(VK("beforeSanitizeElements",w0,null),Ib(w0))return D4(w0),!0;const L9=qJ(w0.nodeName);if(VK("uponSanitizeElement",w0,{tagName:L9,allowedTags:N9}),w0.hasChildNodes()&&!Db(w0.firstElementChild)&&w(/<[/\w]/g,w0.innerHTML)&&w(/<[/\w]/g,w0.textContent))return D4(w0),!0;if(w0.nodeType===A0.progressingInstruction)return D4(w0),!0;if(a6&&w0.nodeType===A0.comment&&w(/<[/\w]/g,w0.data))return D4(w0),!0;if(!N9[L9]||_Z[L9]){if(!_Z[L9]&&wb(L9)){if(e9.tagNameCheck instanceof RegExp&&w(e9.tagNameCheck,L9))return!1;if(e9.tagNameCheck instanceof Function&&e9.tagNameCheck(L9))return!1}if(wK&&!jK[L9]){const QZ=E0(w0)||w0.parentNode,q7=u0(w0)||w0.childNodes;if(q7&&QZ){const yJ=q7.length;for(let d7=yJ-1;d7>=0;--d7){const N4=y0(q7[d7],!0);N4.__removalCount=(w0.__removalCount||0)+1,QZ.insertBefore(N4,d0(w0))}}}return D4(w0),!0}if(w0 instanceof G0&&!CY0(w0))return D4(w0),!0;if((L9==="noscript"||L9==="noembed"||L9==="noframes")&&w(/<\/no(script|embed|frames)/i,w0.innerHTML))return D4(w0),!0;if(lZ&&w0.nodeType===A0.text){if(e0=w0.textContent,H([t0,T9,l9],(QZ)=>{e0=A(e0,QZ," ")}),w0.textContent!==e0)F(V0.removed,{element:w0.cloneNode()}),w0.textContent=e0}return VK("afterSanitizeElements",w0,null),!1},Eb=function P9(w0,e0,L9){if(o0&&(e0==="id"||e0==="name")&&((L9 in l0)||(L9 in u5)))return!1;if(JJ&&!GZ[e0]&&w(O9,e0));else if(xJ&&w(w9,e0));else if(!N8[e0]||GZ[e0])if(wb(w0)&&(e9.tagNameCheck instanceof RegExp&&w(e9.tagNameCheck,w0)||e9.tagNameCheck instanceof Function&&e9.tagNameCheck(w0))&&(e9.attributeNameCheck instanceof RegExp&&w(e9.attributeNameCheck,e0)||e9.attributeNameCheck instanceof Function&&e9.attributeNameCheck(e0))||e0==="is"&&e9.allowCustomizedBuiltInElements&&(e9.tagNameCheck instanceof RegExp&&w(e9.tagNameCheck,L9)||e9.tagNameCheck instanceof Function&&e9.tagNameCheck(L9)));else return!1;else if(IG[e0]);else if(w(z8,A(L9,c9,"")));else if((e0==="src"||e0==="xlink:href"||e0==="href")&&w0!=="script"&&L(L9,"data:")===0&&fM[w0]);else if(j7&&!w(M9,A(L9,c9,"")));else if(L9)return!1;return!0},wb=function P9(w0){return w0!=="annotation-xml"&&O(w0,q9)},jb=function P9(w0){VK("beforeSanitizeAttributes",w0,null);const{attributes:e0}=w0;if(!e0)return;const L9={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N8};let QZ=e0.length;while(QZ--){const q7=e0[QZ],{name:yJ,namespaceURI:d7,value:N4}=q7,wG=qJ(yJ);let P7=yJ==="value"?N4:I(N4);if(L9.attrName=wG,L9.attrValue=P7,L9.keepAttr=!0,L9.forceKeepAttr=void 0,VK("uponSanitizeAttribute",w0,L9),P7=L9.attrValue,a6&&w(/((--!?|])>)|<\/(style|title)/i,P7)){vM(yJ,w0);continue}if(L9.forceKeepAttr)continue;if(vM(yJ,w0),!L9.keepAttr)continue;if(!AZ&&w(/\/>/i,P7)){vM(yJ,w0);continue}if(lZ)H([t0,T9,l9],(Pb)=>{P7=A(P7,Pb," ")});const Cb=qJ(w0.nodeName);if(!Eb(Cb,wG,P7))continue;if(a9&&(wG==="id"||wG==="name"))vM(yJ,w0),P7=R0+P7;if(Z9&&typeof x0==="object"&&typeof x0.getAttributeType==="function")if(d7);else switch(x0.getAttributeType(Cb,wG)){case"TrustedHTML":{P7=Z9.createHTML(P7);break}case"TrustedScriptURL":{P7=Z9.createScriptURL(P7);break}}try{if(d7)w0.setAttributeNS(d7,yJ,P7);else w0.setAttribute(yJ,P7);if(Ib(w0))D4(w0);else W(V0.removed)}catch(Pb){}}VK("afterSanitizeAttributes",w0,null)},PY0=function P9(w0){let e0=null;const L9=Lb(w0);VK("beforeSanitizeShadowDOM",w0,null);while(e0=L9.nextNode()){if(VK("uponSanitizeShadowNode",e0,null),Nb(e0))continue;if(e0.content instanceof H0)P9(e0.content);jb(e0)}VK("afterSanitizeShadowDOM",w0,null)};return V0.sanitize=function(P9){let w0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e0=null,L9=null,QZ=null,q7=null;if(DG=!P9,DG)P9="<!-->";if(typeof P9!=="string"&&!Db(P9))if(typeof P9.toString==="function"){if(P9=P9.toString(),typeof P9!=="string")throw N("dirty is not a string, aborting")}else throw N("toString is not a function");if(!V0.isSupported)return P9;if(!$Q)w6(w0);if(V0.removed=[],typeof P9==="string")I0=!1;if(I0){if(P9.nodeName){const N4=qJ(P9.nodeName);if(!N9[N4]||_Z[N4])throw N("root node is forbidden and cannot be sanitized in-place")}}else if(P9 instanceof q0)if(e0=Ab("<!---->"),L9=e0.ownerDocument.importNode(P9,!0),L9.nodeType===A0.element&&L9.nodeName==="BODY")e0=L9;else if(L9.nodeName==="HTML")e0=L9;else e0.appendChild(L9);else{if(!U9&&!lZ&&!o6&&P9.indexOf("<")===-1)return Z9&&x9?Z9.createHTML(P9):P9;if(e0=Ab(P9),!e0)return U9?null:x9?i0:""}if(e0&&c7)D4(e0.firstChild);const yJ=Lb(I0?P9:e0);while(QZ=yJ.nextNode()){if(Nb(QZ))continue;if(QZ.content instanceof H0)PY0(QZ.content);jb(QZ)}if(I0)return P9;if(U9){if(A9){q7=g9.call(e0.ownerDocument);while(e0.firstChild)q7.appendChild(e0.firstChild)}else q7=e0;if(N8.shadowroot||N8.shadowrootmode)q7=H9.call(b0,q7,!0);return q7}let d7=o6?e0.outerHTML:e0.innerHTML;if(o6&&N9["!doctype"]&&e0.ownerDocument&&e0.ownerDocument.doctype&&e0.ownerDocument.doctype.name&&w(a,e0.ownerDocument.doctype.name))d7="<!DOCTYPE "+e0.ownerDocument.doctype.name+">\n"+d7;if(lZ)H([t0,T9,l9],(N4)=>{d7=A(d7,N4," ")});return Z9&&x9?Z9.createHTML(d7):d7},V0.setConfig=function(){let P9=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w6(P9),$Q=!0},V0.clearConfig=function(){I4=null,$Q=!1},V0.isValidAttribute=function(P9,w0,e0){if(!I4)w6({});const L9=qJ(P9),QZ=qJ(w0);return Eb(L9,QZ,e0)},V0.addHook=function(P9,w0){if(typeof w0!=="function")return;f9[P9]=f9[P9]||[],F(f9[P9],w0)},V0.removeHook=function(P9){if(f9[P9])return W(f9[P9])},V0.removeHooks=function(P9){if(f9[P9])f9[P9]=[]},V0.removeAllHooks=function(){f9={}},V0}var k0=Y0();return k0})});var _h={};q8(_h,{default:()=>u10});function tY0(Z){return String(Z).replace(oY0,(J)=>aY0[J])}function Qq0(Z){if(Z.default)return Z.default;var J=Z.type,Q=Array.isArray(J)?J[0]:J;if(typeof Q!=="string")return Q.enum[0];switch(Q){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function Gq0(Z){for(var J=0;J<YN.length;J++){var Q=YN[J];for(var K=0;K<Q.blocks.length;K++){var X=Q.blocks[K];if(Z>=X[0]&&Z<=X[1])return Q.name}}return null}function xx(Z){for(var J=0;J<aM.length;J+=2)if(Z>=aM[J]&&Z<=aM[J+1])return!0;return!1}function Dq0(Z,J){j4[Z]=J}function ON(Z,J,Q){if(!j4[J])throw new Error("Font metrics not found for font: "+J+".");var K=Z.charCodeAt(0),X=j4[J][K];if(!X&&Z[0]in Ux)K=Ux[Z[0]].charCodeAt(0),X=j4[J][K];if(!X&&Q==="text"){if(xx(K))X=j4[J][77]}if(X)return{depth:X[0],height:X[1],italic:X[2],skew:X[3],width:X[4]}}function Nq0(Z){var J;if(Z>=5)J=0;else if(Z>=3)J=1;else J=2;if(!rD[J]){var Q=rD[J]={cssEmPerMu:yM.quad[J]/18};for(var K in yM)if(yM.hasOwnProperty(K))Q[K]=yM[K][J]}return rD[J]}function zx(Z){if(Z instanceof V6)return Z;else throw new Error("Expected symbolNode but got "+String(Z)+".")}function Cq0(Z){if(Z instanceof Rq)return Z;else throw new Error("Expected span<HtmlDomNode> but got "+String(Z)+".")}function x(Z,J,Q,K,X,U){if(KZ[Z][X]={font:J,group:Q,replace:K},U&&K)KZ[Z][K]=KZ[Z][X]}function Y9(Z){var{type:J,names:Q,props:K,handler:X,htmlBuilder:U,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs,argTypes:K.argTypes,allowedInArgument:!!K.allowedInArgument,allowedInText:!!K.allowedInText,allowedInMath:K.allowedInMath===void 0?!0:K.allowedInMath,numOptionalArgs:K.numOptionalArgs||0,infix:!!K.infix,primitive:!!K.primitive,handler:X};for(var z=0;z<Q.length;++z)sx[Q[z]]=q;if(J){if(U)Z2[J]=U;if(Y)J2[J]=Y}}function MU(Z){var{type:J,htmlBuilder:Q,mathmlBuilder:K}=Z;Y9({type:J,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:Q,mathmlBuilder:K})}function dM(Z,J){var Q=hK(["base"],Z,J),K=hK(["strut"]);if(K.style.height=Q9(Q.height+Q.depth),Q.depth)K.style.verticalAlign=Q9(-Q.depth);return Q.children.unshift(K),Q}function HN(Z,J){var Q=null;if(Z.length===1&&Z[0].type==="tag")Q=Z[0].tag,Z=Z[0].body;var K=HJ(Z,J,"root"),X;if(K.length===2&&K[1].hasClass("tag"))X=K.pop();var U=[],Y=[];for(var q=0;q<K.length;q++)if(Y.push(K[q]),K[q].hasClass("mbin")||K[q].hasClass("mrel")||K[q].hasClass("allowbreak")){var z=!1;while(q<K.length-1&&K[q+1].hasClass("mspace")&&!K[q+1].hasClass("newline"))if(q++,Y.push(K[q]),K[q].hasClass("nobreak"))z=!0;if(!z)U.push(dM(Y,J)),Y=[]}else if(K[q].hasClass("newline")){if(Y.pop(),Y.length>0)U.push(dM(Y,J)),Y=[];U.push(K[q])}if(Y.length>0)U.push(dM(Y,J));var G;if(Q)G=dM(HJ(Q,J,!0)),G.classes=["tag"],U.push(G);else if(X)U.push(X);var H=hK(["katex-html"],U);if(H.setAttribute("aria-hidden","true"),G){var W=G.children[0];if(W.style.height=Q9(H.height+H.depth),H.depth)W.style.verticalAlign=Q9(-H.depth)}return H}function nx(Z){return new Bq(Z)}function Mx(Z,J,Q,K,X){var U=r7(Z,Q),Y;if(U.length===1&&U[0]instanceof P6&&v9.contains(["mrow","mtable"],U[0].type))Y=U[0];else Y=new n0.MathNode("mrow",U);var q=new n0.MathNode("annotation",[new n0.TextNode(J)]);q.setAttribute("encoding","application/x-tex");var z=new n0.MathNode("semantics",[Y,q]),G=new n0.MathNode("math",[z]);if(G.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),K)G.setAttribute("display","block");var H=X?"katex":"katex-mathml";return T0.makeSpan([H],[G])}function o9(Z,J){if(!Z||Z.type!==J)throw new Error("Expected node of type "+J+", but got "+(Z?"node of type "+Z.type:String(Z)));return Z}function DN(Z){var J=q2(Z);if(!J)throw new Error("Expected node of symbol group type, but got "+(Z?"node of type "+Z.type:String(Z)));return J}function q2(Z){if(Z&&(Z.type==="atom"||Vq0.hasOwnProperty(Z.type)))return Z;return null}function Zh(Z,J){var Q=HJ(Z.body,J,!0);return K10([Z.mclass],Q,J)}function Jh(Z,J){var Q,K=r7(Z.body,J);if(Z.mclass==="minner")Q=new n0.MathNode("mpadded",K);else if(Z.mclass==="mord")if(Z.isCharacterBox)Q=K[0],Q.type="mi";else Q=new n0.MathNode("mi",K);else{if(Z.isCharacterBox)Q=K[0],Q.type="mo";else Q=new n0.MathNode("mo",K);if(Z.mclass==="mbin")Q.attributes.lspace="0.22em",Q.attributes.rspace="0.22em";else if(Z.mclass==="mpunct")Q.attributes.lspace="0em",Q.attributes.rspace="0.17em";else if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.attributes.lspace="0em",Q.attributes.rspace="0em";else if(Z.mclass==="minner")Q.attributes.lspace="0.0556em",Q.attributes.width="+0.1111em"}return Q}function Y10(Z,J,Q){var K=X10[Z];switch(K){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return Q.callFunction(K,[J[0]],[J[1]]);case"\\uparrow":case"\\downarrow":{var X=Q.callFunction("\\\\cdleft",[J[0]],[]),U={type:"atom",text:K,mode:"math",family:"rel"},Y=Q.callFunction("\\Big",[U],[]),q=Q.callFunction("\\\\cdright",[J[1]],[]),z={type:"ordgroup",mode:"math",body:[X,Y,q]};return Q.callFunction("\\\\cdparent",[z],[])}case"\\\\cdlongequal":return Q.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var G={type:"textord",text:"\\Vert",mode:"math"};return Q.callFunction("\\Big",[G],[])}default:return{type:"textord",text:" ",mode:"math"}}}function q10(Z){var J=[];Z.gullet.beginGroup(),Z.gullet.macros.set("\\cr","\\\\\\relax"),Z.gullet.beginGroup();while(!0){J.push(Z.parseExpression(!1,"\\\\")),Z.gullet.endGroup(),Z.gullet.beginGroup();var Q=Z.fetch().text;if(Q==="&"||Q==="\\\\")Z.consume();else if(Q==="\\end"){if(J[J.length-1].length===0)J.pop();break}else throw new a0("Expected \\\\ or \\cr or \\end",Z.nextToken)}var K=[],X=[K];for(var U=0;U<J.length;U++){var Y=J[U],q=Bx();for(var z=0;z<Y.length;z++)if(!Rx(Y[z]))q.body.push(Y[z]);else{K.push(q),z+=1;var G=DN(Y[z]).text,H=new Array(2);if(H[0]={type:"ordgroup",mode:"math",body:[]},H[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(G)>-1);else if("<>AV".indexOf(G)>-1)for(var W=0;W<2;W++){var F=!0;for(var M=z+1;M<Y.length;M++){if(U10(Y[M],G)){F=!1,z=M;break}if(Rx(Y[M]))throw new a0("Missing a "+G+" character to complete a CD arrow.",Y[M]);H[W].body.push(Y[M])}if(F)throw new a0("Missing a "+G+" character to complete a CD arrow.",Y[z])}else throw new a0("Expected one of \"<>AV=|.\" after @",Y[z]);var B=Y10(G,H,Z),O={type:"styling",body:[B],mode:"math",style:"display"};K.push(O),q=Bx()}if(U%2===0)K.push(q);else K.shift();K=[],X.push(K)}Z.gullet.endGroup(),Z.gullet.endGroup();var A=new Array(X[0].length).fill({type:"align",align:"c",pregap:0.25,postgap:0.25});return{type:"array",mode:"math",body:X,arraystretch:1,addJot:!0,rowGaps:[null],cols:A,colSeparationType:"CD",hLinesBeforeRow:new Array(X.length+1).fill([])}}function G2(Z,J){var Q=q2(Z);if(Q&&v9.contains(D10,Q.text))return Q;else if(Q)throw new a0("Invalid delimiter '"+Q.text+"' after '"+J.funcName+"'",Z);else throw new a0("Invalid delimiter type '"+Z.type+"'",Z)}function Ax(Z){if(!Z.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function P4(Z){var{type:J,names:Q,props:K,handler:X,htmlBuilder:U,mathmlBuilder:Y}=Z,q={type:J,numArgs:K.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:X};for(var z=0;z<Q.length;++z)Bh[Q[z]]=q;if(U)Z2[J]=U;if(Y)J2[J]=Y}function Z0(Z,J){Rh[Z]=J}function Lx(Z){var J=[];Z.consumeSpaces();var Q=Z.fetch().text;if(Q==="\\relax")Z.consume(),Z.consumeSpaces(),Q=Z.fetch().text;while(Q==="\\hline"||Q==="\\hdashline")Z.consume(),J.push(Q==="\\hdashline"),Z.consumeSpaces(),Q=Z.fetch().text;return J}function CN(Z){if(Z.indexOf("ed")===-1)return Z.indexOf("*")===-1}function d5(Z,J,Q){var{hskipBeforeAndAfter:K,addJot:X,cols:U,arraystretch:Y,colSeparationType:q,autoTag:z,singleRow:G,emptySingleRow:H,maxNumCols:W,leqno:F}=J;if(Z.gullet.beginGroup(),!G)Z.gullet.macros.set("\\cr","\\\\\\relax");if(!Y){var M=Z.gullet.expandMacroAsText("\\arraystretch");if(M==null)Y=1;else if(Y=parseFloat(M),!Y||Y<0)throw new a0("Invalid \\arraystretch: "+M)}Z.gullet.beginGroup();var B=[],O=[B],A=[],L=[],I=z!=null?[]:void 0;function D(){if(z)Z.gullet.macros.set("\\@eqnsw","1",!0)}function w(){if(I)if(Z.gullet.macros.get("\\df@tag"))I.push(Z.subparse([new ZQ("\\df@tag")])),Z.gullet.macros.set("\\df@tag",void 0,!0);else I.push(Boolean(z)&&Z.gullet.macros.get("\\@eqnsw")==="1")}D(),L.push(Lx(Z));while(!0){var N=Z.parseExpression(!1,G?"\\end":"\\\\");if(Z.gullet.endGroup(),Z.gullet.beginGroup(),N={type:"ordgroup",mode:Z.mode,body:N},Q)N={type:"styling",mode:Z.mode,style:Q,body:[N]};B.push(N);var E=Z.fetch().text;if(E==="&"){if(W&&B.length===W)if(G||q)throw new a0("Too many tab characters: &",Z.nextToken);else Z.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.");Z.consume()}else if(E==="\\end"){if(w(),B.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(O.length>1||!H))O.pop();if(L.length<O.length+1)L.push([]);break}else if(E==="\\\\"){Z.consume();var j=void 0;if(Z.gullet.future().text!==" ")j=Z.parseSizeGroup(!0);A.push(j?j.value:null),w(),L.push(Lx(Z)),B=[],O.push(B),D()}else throw new a0("Expected & or \\\\ or \\cr or \\end",Z.nextToken)}return Z.gullet.endGroup(),Z.gullet.endGroup(),{type:"array",mode:Z.mode,addJot:X,arraystretch:Y,body:O,cols:U,rowGaps:A,hskipBeforeAndAfter:K,hLinesBeforeRow:L,colSeparationType:q,tags:I,leqno:F}}function PN(Z){if(Z.slice(0,1)==="d")return"display";else return"text"}function jh(Z,J,Q){var K=HJ(Z,J,!1),X=J.sizeMultiplier/Q.sizeMultiplier;for(var U=0;U<K.length;U++){var Y=K[U].classes.indexOf("sizing");if(Y<0)Array.prototype.push.apply(K[U].classes,J.sizingClasses(Q));else if(K[U].classes[Y+1]==="reset-size"+J.size)K[U].classes[Y+1]="reset-size"+Q.size;K[U].height*=X,K[U].depth*=X}return T0.makeFragment(K)}class C6{constructor(Z,J,Q){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=Z,this.start=J,this.end=Q}static range(Z,J){if(!J)return Z&&Z.loc;else if(!Z||!Z.loc||!J.loc||Z.loc.lexer!==J.loc.lexer)return null;else return new C6(Z.loc.lexer,Z.loc.start,J.loc.end)}}class ZQ{constructor(Z,J){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=Z,this.loc=J}range(Z,J){return new ZQ(J,C6.range(this,Z))}}class a0{constructor(Z,J){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var Q="KaTeX parse error: "+Z,K,X,U=J&&J.loc;if(U&&U.start<=U.end){var Y=U.lexer.input;if(K=U.start,X=U.end,K===Y.length)Q+=" at end of input: ";else Q+=" at position "+(K+1)+": ";var q=Y.slice(K,X).replace(/[^]/g,"$&\u0332"),z;if(K>15)z="\u2026"+Y.slice(K-15,K);else z=Y.slice(0,K);var G;if(X+15<Y.length)G=Y.slice(X,X+15)+"\u2026";else G=Y.slice(X);Q+=z+q+G}var H=new Error(Q);if(H.name="ParseError",H.__proto__=a0.prototype,H.position=K,K!=null&&X!=null)H.length=X-K;return H.rawMessage=Z,H}}class K2{constructor(Z){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,Z=Z||{};for(var J in nM)if(nM.hasOwnProperty(J)){var Q=nM[J];this[J]=Z[J]!==void 0?Q.processor?Q.processor(Z[J]):Z[J]:Qq0(Q)}}reportNonstrict(Z,J,Q){var K=this.strict;if(typeof K==="function")K=K(Z,J,Q);if(!K||K==="ignore")return;else if(K===!0||K==="error")throw new a0("LaTeX-incompatible input and strict mode is set to 'error': "+(J+" ["+Z+"]"),Q);else if(K==="warn")typeof console!=="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]"));else typeof console!=="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]"))}useStrictBehavior(Z,J,Q){var K=this.strict;if(typeof K==="function")try{K=K(Z,J,Q)}catch(X){K="error"}if(!K||K==="ignore")return!1;else if(K===!0||K==="error")return!0;else if(K==="warn")return typeof console!=="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(J+" ["+Z+"]")),!1;else return typeof console!=="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+K+"': "+J+" ["+Z+"]")),!1}isTrusted(Z){if(Z.url&&!Z.protocol){var J=v9.protocolFromUrl(Z.url);if(J==null)return!1;Z.protocol=J}var Q=typeof this.trust==="function"?this.trust(Z):this.trust;return Boolean(Q)}}class kK{constructor(Z,J,Q){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=Z,this.size=J,this.cramped=Q}sup(){return w4[Kq0[this.id]]}sub(){return w4[Xq0[this.id]]}fracNum(){return w4[Uq0[this.id]]}fracDen(){return w4[Yq0[this.id]]}cramp(){return w4[qq0[this.id]]}text(){return w4[zq0[this.id]]}isTight(){return this.size>=2}}class Bq{constructor(Z){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=Z,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(Z){return v9.contains(this.classes,Z)}toNode(){var Z=document.createDocumentFragment();for(var J=0;J<this.children.length;J++)Z.appendChild(this.children[J].toNode());return Z}toMarkup(){var Z="";for(var J=0;J<this.children.length;J++)Z+=this.children[J].toMarkup();return Z}toText(){var Z=(J)=>J.toText();return this.children.map(Z).join("")}}class $K{constructor(Z){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=Z.style,this.color=Z.color,this.size=Z.size||$K.BASESIZE,this.textSize=Z.textSize||this.size,this.phantom=!!Z.phantom,this.font=Z.font||"",this.fontFamily=Z.fontFamily||"",this.fontWeight=Z.fontWeight||"",this.fontShape=Z.fontShape||"",this.sizeMultiplier=Yx[this.size-1],this.maxSize=Z.maxSize,this.minRuleThickness=Z.minRuleThickness,this._fontMetrics=void 0}extend(Z){var J={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var Q in Z)if(Z.hasOwnProperty(Q))J[Q]=Z[Q];return new $K(J)}havingStyle(Z){if(this.style===Z)return this;else return this.extend({style:Z,size:qx(this.textSize,Z)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(Z){if(this.size===Z&&this.textSize===Z)return this;else return this.extend({style:this.style.text(),size:Z,textSize:Z,sizeMultiplier:Yx[Z-1]})}havingBaseStyle(Z){Z=Z||this.style.text();var J=qx($K.BASESIZE,Z);if(this.size===J&&this.textSize===$K.BASESIZE&&this.style===Z)return this;else return this.extend({style:Z,size:J})}havingBaseSizing(){var Z;switch(this.style.id){case 4:case 5:Z=3;break;case 6:case 7:Z=1;break;default:Z=6}return this.extend({style:this.style.text(),size:Z})}withColor(Z){return this.extend({color:Z})}withPhantom(){return this.extend({phantom:!0})}withFont(Z){return this.extend({font:Z})}withTextFontFamily(Z){return this.extend({fontFamily:Z,font:""})}withTextFontWeight(Z){return this.extend({fontWeight:Z,font:""})}withTextFontShape(Z){return this.extend({fontShape:Z,font:""})}sizingClasses(Z){if(Z.size!==this.size)return["sizing","reset-size"+Z.size,"size"+this.size];else return[]}baseSizingClasses(){if(this.size!==$K.BASESIZE)return["sizing","reset-size"+this.size,"size"+$K.BASESIZE];else return[]}fontMetrics(){if(!this._fontMetrics)this._fontMetrics=Nq0(this.size);return this._fontMetrics}getColor(){if(this.phantom)return"transparent";else return this.color}}class Rq{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yx.call(this,Z,Q,K),this.children=J||[]}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return v9.contains(this.classes,Z)}toNode(){return ux.call(this,"span")}toMarkup(){return mx.call(this,"span")}}class X2{constructor(Z,J,Q,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yx.call(this,J,K),this.children=Q||[],this.setAttribute("href",Z)}setAttribute(Z,J){this.attributes[Z]=J}hasClass(Z){return v9.contains(this.classes,Z)}toNode(){return ux.call(this,"a")}toMarkup(){return mx.call(this,"a")}}class gx{constructor(Z,J,Q){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=J,this.src=Z,this.classes=["mord"],this.style=Q}hasClass(Z){return v9.contains(this.classes,Z)}toNode(){var Z=document.createElement("img");Z.src=this.src,Z.alt=this.alt,Z.className="mord";for(var J in this.style)if(this.style.hasOwnProperty(J))Z.style[J]=this.style[J];return Z}toMarkup(){var Z="<img src=\""+v9.escape(this.src)+"\""+(" alt=\""+v9.escape(this.alt)+"\""),J="";for(var Q in this.style)if(this.style.hasOwnProperty(Q))J+=v9.hyphenate(Q)+":"+this.style[Q]+";";if(J)Z+=" style=\""+v9.escape(J)+"\"";return Z+="'/>",Z}}class V6{constructor(Z,J,Q,K,X,U,Y,q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=Z,this.height=J||0,this.depth=Q||0,this.italic=K||0,this.skew=X||0,this.width=U||0,this.classes=Y||[],this.style=q||{},this.maxFontSize=0;var z=Gq0(this.text.charCodeAt(0));if(z)this.classes.push(z+"_fallback");if(/[]/.test(this.text))this.text=jq0[this.text]}hasClass(Z){return v9.contains(this.classes,Z)}toNode(){var Z=document.createTextNode(this.text),J=null;if(this.italic>0)J=document.createElement("span"),J.style.marginRight=Q9(this.italic);if(this.classes.length>0)J=J||document.createElement("span"),J.className=c5(this.classes);for(var Q in this.style)if(this.style.hasOwnProperty(Q))J=J||document.createElement("span"),J.style[Q]=this.style[Q];if(J)return J.appendChild(Z),J;else return Z}toMarkup(){var Z=!1,J="<span";if(this.classes.length)Z=!0,J+=" class=\"",J+=v9.escape(c5(this.classes)),J+="\"";var Q="";if(this.italic>0)Q+="margin-right:"+this.italic+"em;";for(var K in this.style)if(this.style.hasOwnProperty(K))Q+=v9.hyphenate(K)+":"+this.style[K]+";";if(Q)Z=!0,J+=" style=\""+v9.escape(Q)+"\"";var X=v9.escape(this.text);if(Z)return J+=">",J+=X,J+="</span>",J;else return X}}class C4{constructor(Z,J){this.children=void 0,this.attributes=void 0,this.children=Z||[],this.attributes=J||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"svg");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);for(var K=0;K<this.children.length;K++)J.appendChild(this.children[K].toNode());return J}toMarkup(){var Z="<svg xmlns=\"http://www.w3.org/2000/svg\"";for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+"=\""+v9.escape(this.attributes[J])+"\"";Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</svg>",Z}}class xK{constructor(Z,J){this.pathName=void 0,this.alternate=void 0,this.pathName=Z,this.alternate=J}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"path");if(this.alternate)J.setAttribute("d",this.alternate);else J.setAttribute("d",Xx[this.pathName]);return J}toMarkup(){if(this.alternate)return"<path d=\""+v9.escape(this.alternate)+"\"/>";else return"<path d=\""+v9.escape(Xx[this.pathName])+"\"/>"}}class tM{constructor(Z){this.attributes=void 0,this.attributes=Z||{}}toNode(){var Z="http://www.w3.org/2000/svg",J=document.createElementNS(Z,"line");for(var Q in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,Q))J.setAttribute(Q,this.attributes[Q]);return J}toMarkup(){var Z="<line";for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+"=\""+v9.escape(this.attributes[J])+"\"";return Z+="/>",Z}}class P6{constructor(Z,J,Q){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=Z,this.attributes={},this.children=J||[],this.classes=Q||[]}setAttribute(Z,J){this.attributes[Z]=J}getAttribute(Z){return this.attributes[Z]}toNode(){var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z.setAttribute(J,this.attributes[J]);if(this.classes.length>0)Z.className=c5(this.classes);for(var Q=0;Q<this.children.length;Q++)Z.appendChild(this.children[Q].toNode());return Z}toMarkup(){var Z="<"+this.type;for(var J in this.attributes)if(Object.prototype.hasOwnProperty.call(this.attributes,J))Z+=" "+J+"=\"",Z+=v9.escape(this.attributes[J]),Z+="\"";if(this.classes.length>0)Z+=" class =\""+v9.escape(c5(this.classes))+"\"";Z+=">";for(var Q=0;Q<this.children.length;Q++)Z+=this.children[Q].toMarkup();return Z+="</"+this.type+">",Z}toText(){return this.children.map((Z)=>Z.toText()).join("")}}class Fq{constructor(Z){this.text=void 0,this.text=Z}toNode(){return document.createTextNode(this.text)}toMarkup(){return v9.escape(this.toText())}toText(){return this.text}}class ax{constructor(Z){if(this.width=void 0,this.character=void 0,this.width=Z,Z>=0.05555&&Z<=0.05556)this.character="\u200A";else if(Z>=0.1666&&Z<=0.1667)this.character="\u2009";else if(Z>=0.2222&&Z<=0.2223)this.character="\u2005";else if(Z>=0.2777&&Z<=0.2778)this.character="\u2005\u200A";else if(Z>=-0.05556&&Z<=-0.05555)this.character="\u200A\u2063";else if(Z>=-0.1667&&Z<=-0.1666)this.character="\u2009\u2063";else if(Z>=-0.2223&&Z<=-0.2222)this.character="\u205F\u2063";else if(Z>=-0.2778&&Z<=-0.2777)this.character="\u2005\u2063";else this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);else{var Z=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return Z.setAttribute("width",Q9(this.width)),Z}}toMarkup(){if(this.character)return"<mtext>"+this.character+"</mtext>";else return"<mspace width=\""+Q9(this.width)+"\"/>"}toText(){if(this.character)return this.character;else return" "}}class BN{constructor(Z,J){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=Z,this.settings=J,this.tokenRegex=new RegExp(_10,"g"),this.catcodes={"%":14,"~":13}}setCatcode(Z,J){this.catcodes[Z]=J}lex(){var Z=this.input,J=this.tokenRegex.lastIndex;if(J===Z.length)return new ZQ("EOF",new C6(this,J,J));var Q=this.tokenRegex.exec(Z);if(Q===null||Q.index!==J)throw new a0("Unexpected character: '"+Z[J]+"'",new ZQ(Z[J],new C6(this,J,J+1)));var K=Q[6]||Q[3]||(Q[2]?"\\ ":" ");if(this.catcodes[K]===14){var X=Z.indexOf("\n",this.tokenRegex.lastIndex);if(X===-1)this.tokenRegex.lastIndex=Z.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)");else this.tokenRegex.lastIndex=X+1;return this.lex()}return new ZQ(K,new C6(this,J,this.tokenRegex.lastIndex))}}class Vh{constructor(Z,J){if(Z===void 0)Z={};if(J===void 0)J={};this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=J,this.builtins=Z,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new a0("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var Z=this.undefStack.pop();for(var J in Z)if(Z.hasOwnProperty(J))if(Z[J]==null)delete this.current[J];else this.current[J]=Z[J]}endGroups(){while(this.undefStack.length>0)this.endGroup()}has(Z){return this.current.hasOwnProperty(Z)||this.builtins.hasOwnProperty(Z)}get(Z){if(this.current.hasOwnProperty(Z))return this.current[Z];else return this.builtins[Z]}set(Z,J,Q){if(Q===void 0)Q=!1;if(Q){for(var K=0;K<this.undefStack.length;K++)delete this.undefStack[K][Z];if(this.undefStack.length>0)this.undefStack[this.undefStack.length-1][Z]=J}else{var X=this.undefStack[this.undefStack.length-1];if(X&&!X.hasOwnProperty(Z))X[Z]=this.current[Z]}if(J==null)delete this.current[Z];else this.current[Z]=J}}class vh{constructor(Z,J,Q){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=J,this.expansionCount=0,this.feed(Z),this.macros=new Vh(b10,J.macros),this.mode=Q,this.stack=[]}feed(Z){this.lexer=new BN(Z,this.settings)}switchMode(Z){this.mode=Z}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){if(this.stack.length===0)this.pushToken(this.lexer.lex());return this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(Z){this.stack.push(Z)}pushTokens(Z){this.stack.push(...Z)}scanArgument(Z){var J,Q,K;if(Z){if(this.consumeSpaces(),this.future().text!=="[")return null;J=this.popToken(),{tokens:K,end:Q}=this.consumeArg(["]"])}else({tokens:K,start:J,end:Q}=this.consumeArg());return this.pushToken(new ZQ("EOF",Q.loc)),this.pushTokens(K),J.range(Q,"")}consumeSpaces(){for(;;){var Z=this.future();if(Z.text===" ")this.stack.pop();else break}}consumeArg(Z){var J=[],Q=Z&&Z.length>0;if(!Q)this.consumeSpaces();var K=this.future(),X,U=0,Y=0;do{if(X=this.popToken(),J.push(X),X.text==="{")++U;else if(X.text==="}"){if(--U,U===-1)throw new a0("Extra }",X)}else if(X.text==="EOF")throw new a0("Unexpected end of input in a macro argument, expected '"+(Z&&Q?Z[Y]:"}")+"'",X);if(Z&&Q)if((U===0||U===1&&Z[Y]==="{")&&X.text===Z[Y]){if(++Y,Y===Z.length){J.splice(-Y,Y);break}}else Y=0}while(U!==0||Q);if(K.text==="{"&&J[J.length-1].text==="}")J.pop(),J.shift();return J.reverse(),{tokens:J,start:K,end:X}}consumeArgs(Z,J){if(J){if(J.length!==Z+1)throw new a0("The length of delimiters doesn't match the number of args!");var Q=J[0];for(var K=0;K<Q.length;K++){var X=this.popToken();if(Q[K]!==X.text)throw new a0("Use of the macro doesn't match its definition",X)}}var U=[];for(var Y=0;Y<Z;Y++)U.push(this.consumeArg(J&&J[Y+1]).tokens);return U}countExpansion(Z){if(this.expansionCount+=Z,this.expansionCount>this.settings.maxExpand)throw new a0("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(Z){var J=this.popToken(),Q=J.text,K=!J.noexpand?this._getExpansion(Q):null;if(K==null||Z&&K.unexpandable){if(Z&&K==null&&Q[0]==="\\"&&!this.isDefined(Q))throw new a0("Undefined control sequence: "+Q);return this.pushToken(J),!1}this.countExpansion(1);var X=K.tokens,U=this.consumeArgs(K.numArgs,K.delimiters);if(K.numArgs){X=X.slice();for(var Y=X.length-1;Y>=0;--Y){var q=X[Y];if(q.text==="#"){if(Y===0)throw new a0("Incomplete placeholder at end of macro body",q);if(q=X[--Y],q.text==="#")X.splice(Y+1,1);else if(/^[1-9]$/.test(q.text))X.splice(Y,2,...U[+q.text-1]);else throw new a0("Not a valid argument number",q)}}}return this.pushTokens(X),X.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var Z=this.stack.pop();if(Z.treatAsRelax)Z.text="\\relax";return Z}throw new Error}expandMacro(Z){return this.macros.has(Z)?this.expandTokens([new ZQ(Z)]):void 0}expandTokens(Z){var J=[],Q=this.stack.length;this.pushTokens(Z);while(this.stack.length>Q)if(this.expandOnce(!0)===!1){var K=this.stack.pop();if(K.treatAsRelax)K.noexpand=!1,K.treatAsRelax=!1;J.push(K)}return this.countExpansion(J.length),J}expandMacroAsText(Z){var J=this.expandMacro(Z);if(J)return J.map((Q)=>Q.text).join("");else return J}_getExpansion(Z){var J=this.macros.get(Z);if(J==null)return J;if(Z.length===1){var Q=this.lexer.catcodes[Z];if(Q!=null&&Q!==13)return}var K=typeof J==="function"?J(this):J;if(typeof K==="string"){var X=0;if(K.indexOf("#")!==-1){var U=K.replace(/##/g,"");while(U.indexOf("#"+(X+1))!==-1)++X}var Y=new BN(K,this.settings),q=[],z=Y.lex();while(z.text!=="EOF")q.push(z),z=Y.lex();q.reverse();var G={tokens:q,numArgs:X};return G}return K}isDefined(Z){return this.macros.has(Z)||p5.hasOwnProperty(Z)||KZ.math.hasOwnProperty(Z)||KZ.text.hasOwnProperty(Z)||fh.hasOwnProperty(Z)}isExpandable(Z){var J=this.macros.get(Z);return J!=null?typeof J==="string"||typeof J==="function"||!J.unexpandable:p5.hasOwnProperty(Z)&&!p5[Z].primitive}}class W2{constructor(Z,J){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new vh(Z,J,this.mode),this.settings=J,this.leftrightDepth=0}expect(Z,J){if(J===void 0)J=!0;if(this.fetch().text!==Z)throw new a0("Expected '"+Z+"', got '"+this.fetch().text+"'",this.fetch());if(J)this.consume()}consume(){this.nextToken=null}fetch(){if(this.nextToken==null)this.nextToken=this.gullet.expandNextToken();return this.nextToken}switchMode(Z){this.mode=Z,this.gullet.switchMode(Z)}parse(){if(!this.settings.globalGroup)this.gullet.beginGroup();if(this.settings.colorIsTextColor)this.gullet.macros.set("\\color","\\textcolor");try{var Z=this.parseExpression(!1);if(this.expect("EOF"),!this.settings.globalGroup)this.gullet.endGroup();return Z}finally{this.gullet.endGroups()}}subparse(Z){var J=this.nextToken;this.consume(),this.gullet.pushToken(new ZQ("}")),this.gullet.pushTokens(Z);var Q=this.parseExpression(!1);return this.expect("}"),this.nextToken=J,Q}parseExpression(Z,J){var Q=[];while(!0){if(this.mode==="math")this.consumeSpaces();var K=this.fetch();if(W2.endOfExpression.indexOf(K.text)!==-1)break;if(J&&K.text===J)break;if(Z&&p5[K.text]&&p5[K.text].infix)break;var X=this.parseAtom(J);if(!X)break;else if(X.type==="internal")continue;Q.push(X)}if(this.mode==="text")this.formLigatures(Q);return this.handleInfixNodes(Q)}handleInfixNodes(Z){var J=-1,Q;for(var K=0;K<Z.length;K++)if(Z[K].type==="infix"){if(J!==-1)throw new a0("only one infix operator per group",Z[K].token);J=K,Q=Z[K].replaceWith}if(J!==-1&&Q){var X,U,Y=Z.slice(0,J),q=Z.slice(J+1);if(Y.length===1&&Y[0].type==="ordgroup")X=Y[0];else X={type:"ordgroup",mode:this.mode,body:Y};if(q.length===1&&q[0].type==="ordgroup")U=q[0];else U={type:"ordgroup",mode:this.mode,body:q};var z;if(Q==="\\\\abovefrac")z=this.callFunction(Q,[X,Z[J],U],[]);else z=this.callFunction(Q,[X,U],[]);return[z]}else return Z}handleSupSubscript(Z){var J=this.fetch(),Q=J.text;this.consume(),this.consumeSpaces();var K=this.parseGroup(Z);if(!K)throw new a0("Expected group after '"+Q+"'",J);return K}formatUnsupportedCmd(Z){var J=[];for(var Q=0;Q<Z.length;Q++)J.push({type:"textord",mode:"text",text:Z[Q]});var K={type:"text",mode:this.mode,body:J},X={type:"color",mode:this.mode,color:this.settings.errorColor,body:[K]};return X}parseAtom(Z){var J=this.parseGroup("atom",Z);if(this.mode==="text")return J;var Q,K;while(!0){this.consumeSpaces();var X=this.fetch();if(X.text==="\\limits"||X.text==="\\nolimits"){if(J&&J.type==="op"){var U=X.text==="\\limits";J.limits=U,J.alwaysHandleSupSub=!0}else if(J&&J.type==="operatorname"){if(J.alwaysHandleSupSub)J.limits=X.text==="\\limits"}else throw new a0("Limit controls must follow a math operator",X);this.consume()}else if(X.text==="^"){if(Q)throw new a0("Double superscript",X);Q=this.handleSupSubscript("superscript")}else if(X.text==="_"){if(K)throw new a0("Double subscript",X);K=this.handleSupSubscript("subscript")}else if(X.text==="'"){if(Q)throw new a0("Double superscript",X);var Y={type:"textord",mode:this.mode,text:"\\prime"},q=[Y];this.consume();while(this.fetch().text==="'")q.push(Y),this.consume();if(this.fetch().text==="^")q.push(this.handleSupSubscript("superscript"));Q={type:"ordgroup",mode:this.mode,body:q}}else if(rM[X.text]){var z=$x.test(X.text),G=[];G.push(new ZQ(rM[X.text])),this.consume();while(!0){var H=this.fetch().text;if(!rM[H])break;if($x.test(H)!==z)break;G.unshift(new ZQ(rM[H])),this.consume()}var W=this.subparse(G);if(z)K={type:"ordgroup",mode:"math",body:W};else Q={type:"ordgroup",mode:"math",body:W}}else break}if(Q||K)return{type:"supsub",mode:this.mode,base:J,sup:Q,sub:K};else return J}parseFunction(Z,J){var Q=this.fetch(),K=Q.text,X=p5[K];if(!X)return null;if(this.consume(),J&&J!=="atom"&&!X.allowedInArgument)throw new a0("Got function '"+K+"' with no arguments"+(J?" as "+J:""),Q);else if(this.mode==="text"&&!X.allowedInText)throw new a0("Can't use function '"+K+"' in text mode",Q);else if(this.mode==="math"&&X.allowedInMath===!1)throw new a0("Can't use function '"+K+"' in math mode",Q);var{args:U,optArgs:Y}=this.parseArguments(K,X);return this.callFunction(K,U,Y,Q,Z)}callFunction(Z,J,Q,K,X){var U={funcName:Z,parser:this,token:K,breakOnTokenText:X},Y=p5[Z];if(Y&&Y.handler)return Y.handler(U,J,Q);else throw new a0("No function handler for "+Z)}parseArguments(Z,J){var Q=J.numArgs+J.numOptionalArgs;if(Q===0)return{args:[],optArgs:[]};var K=[],X=[];for(var U=0;U<Q;U++){var Y=J.argTypes&&J.argTypes[U],q=U<J.numOptionalArgs;if(J.primitive&&Y==null||J.type==="sqrt"&&U===1&&X[0]==null)Y="primitive";var z=this.parseGroupOfType("argument to '"+Z+"'",Y,q);if(q)X.push(z);else if(z!=null)K.push(z);else throw new a0("Null argument, please report this as a bug")}return{args:K,optArgs:X}}parseGroupOfType(Z,J,Q){switch(J){case"color":return this.parseColorGroup(Q);case"size":return this.parseSizeGroup(Q);case"url":return this.parseUrlGroup(Q);case"math":case"text":return this.parseArgumentGroup(Q,J);case"hbox":{var K=this.parseArgumentGroup(Q,"text");return K!=null?{type:"styling",mode:K.mode,body:[K],style:"text"}:null}case"raw":{var X=this.parseStringGroup("raw",Q);return X!=null?{type:"raw",mode:"text",string:X.text}:null}case"primitive":{if(Q)throw new a0("A primitive argument cannot be optional");var U=this.parseGroup(Z);if(U==null)throw new a0("Expected group as "+Z,this.fetch());return U}case"original":case null:case void 0:return this.parseArgumentGroup(Q);default:throw new a0("Unknown group type as "+Z,this.fetch())}}consumeSpaces(){while(this.fetch().text===" ")this.consume()}parseStringGroup(Z,J){var Q=this.gullet.scanArgument(J);if(Q==null)return null;var K="",X;while((X=this.fetch()).text!=="EOF")K+=X.text,this.consume();return this.consume(),Q.text=K,Q}parseRegexGroup(Z,J){var Q=this.fetch(),K=Q,X="",U;while((U=this.fetch()).text!=="EOF"&&Z.test(X+U.text))K=U,X+=K.text,this.consume();if(X==="")throw new a0("Invalid "+J+": '"+Q.text+"'",Q);return Q.range(K,X)}parseColorGroup(Z){var J=this.parseStringGroup("color",Z);if(J==null)return null;var Q=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(J.text);if(!Q)throw new a0("Invalid color: '"+J.text+"'",J);var K=Q[0];if(/^[0-9a-f]{6}$/i.test(K))K="#"+K;return{type:"color-token",mode:this.mode,color:K}}parseSizeGroup(Z){var J,Q=!1;if(this.gullet.consumeSpaces(),!Z&&this.gullet.future().text!=="{")J=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size");else J=this.parseStringGroup("size",Z);if(!J)return null;if(!Z&&J.text.length===0)J.text="0pt",Q=!0;var K=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J.text);if(!K)throw new a0("Invalid size: '"+J.text+"'",J);var X={number:+(K[1]+K[2]),unit:K[3]};if(!hx(X))throw new a0("Invalid unit: '"+X.unit+"'",J);return{type:"size",mode:this.mode,value:X,isBlank:Q}}parseUrlGroup(Z){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var J=this.parseStringGroup("url",Z);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),J==null)return null;var Q=J.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:Q}}parseArgumentGroup(Z,J){var Q=this.gullet.scanArgument(Z);if(Q==null)return null;var K=this.mode;if(J)this.switchMode(J);this.gullet.beginGroup();var X=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var U={type:"ordgroup",mode:this.mode,loc:Q.loc,body:X};if(J)this.switchMode(K);return U}parseGroup(Z,J){var Q=this.fetch(),K=Q.text,X;if(K==="{"||K==="\\begingroup"){this.consume();var U=K==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Y=this.parseExpression(!1,U),q=this.fetch();this.expect(U),this.gullet.endGroup(),X={type:"ordgroup",mode:this.mode,loc:C6.range(Q,q),body:Y,semisimple:K==="\\begingroup"||void 0}}else if(X=this.parseFunction(J,Z)||this.parseSymbol(),X==null&&K[0]==="\\"&&!fh.hasOwnProperty(K)){if(this.settings.throwOnError)throw new a0("Undefined control sequence: "+K,Q);X=this.formatUnsupportedCmd(K),this.consume()}return X}formLigatures(Z){var J=Z.length-1;for(var Q=0;Q<J;++Q){var K=Z[Q],X=K.text;if(X==="-"&&Z[Q+1].text==="-")if(Q+1<J&&Z[Q+2].text==="-")Z.splice(Q,3,{type:"textord",mode:"text",loc:C6.range(K,Z[Q+2]),text:"---"}),J-=2;else Z.splice(Q,2,{type:"textord",mode:"text",loc:C6.range(K,Z[Q+1]),text:"--"}),J-=1;if((X==="'"||X==="`")&&Z[Q+1].text===X)Z.splice(Q,2,{type:"textord",mode:"text",loc:C6.range(K,Z[Q+1]),text:X+X}),J-=1}}parseSymbol(){var Z=this.fetch(),J=Z.text;if(/^\\verb[^a-zA-Z]/.test(J)){this.consume();var Q=J.slice(5),K=Q.charAt(0)==="*";if(K)Q=Q.slice(1);if(Q.length<2||Q.charAt(0)!==Q.slice(-1))throw new a0("\\verb assertion failed --\n                    please report what input caused this bug");return Q=Q.slice(1,-1),{type:"verb",mode:"text",body:Q,star:K}}if(_x.hasOwnProperty(J[0])&&!KZ[this.mode][J[0]]){if(this.settings.strict&&this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode","Accented Unicode text character \""+J[0]+"\" used in math mode",Z);J=_x[J[0]]+J.slice(1)}var X=$10.exec(J);if(X){if(J=J.substring(0,X.index),J==="i")J="\u0131";else if(J==="j")J="\u0237"}var U;if(KZ[this.mode][J]){if(this.settings.strict&&this.mode==="math"&&zN.indexOf(J)>=0)this.settings.reportNonstrict("unicodeTextInMathMode","Latin-1/Unicode text character \""+J[0]+"\" used in math mode",Z);var Y=KZ[this.mode][J].group,q=C6.range(Z),z;if(Pq0.hasOwnProperty(Y)){var G=Y;z={type:"atom",mode:this.mode,family:G,loc:q,text:J}}else z={type:Y,mode:this.mode,loc:q,text:J};U=z}else if(J.charCodeAt(0)>=128){if(this.settings.strict){if(!xx(J.charCodeAt(0)))this.settings.reportNonstrict("unknownSymbol","Unrecognized Unicode character \""+J[0]+"\""+(" ("+J.charCodeAt(0)+")"),Z);else if(this.mode==="math")this.settings.reportNonstrict("unicodeTextInMathMode","Unicode text character \""+J[0]+"\" used in math mode",Z)}U={type:"textord",mode:"text",loc:C6.range(Z),text:J}}else return null;if(this.consume(),X)for(var H=0;H<X[0].length;H++){var W=X[0][H];if(!UN[W])throw new a0("Unknown accent ' "+W+"'",Z);var F=UN[W][this.mode]||UN[W].text;if(!F)throw new a0("Accent "+W+" unsupported in "+this.mode+" mode",Z);U={type:"accent",mode:this.mode,loc:C6.range(Z),label:F,isStretchy:!1,isShifty:!0,base:U}}return U}}var iY0=function Z(J,Q){return J.indexOf(Q)!==-1},sY0=function Z(J,Q){return J===void 0?Q:J},rY0,nY0=function Z(J){return J.replace(rY0,"-$1").toLowerCase()},aY0,oY0,bx=function Z(J){if(J.type==="ordgroup")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="color")if(J.body.length===1)return Z(J.body[0]);else return J;else if(J.type==="font")return Z(J.body);else return J},eY0=function Z(J){var Q=bx(J);return Q.type==="mathord"||Q.type==="textord"||Q.type==="atom"},Zq0=function Z(J){if(!J)throw new Error("Expected non-null, but got "+String(J));return J},Jq0=function Z(J){var Q=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(J);if(!Q)return"_relative";if(Q[2]!==":")return null;if(!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(Q[1]))return null;return Q[1].toLowerCase()},v9,nM,RN=0,oM=1,Wq=2,_K=3,_G=4,e6=5,Mq=6,S7=7,w4,Kq0,Xq0,Uq0,Yq0,qq0,zq0,$9,YN,aM,Hq=80,Hq0=function Z(J,Q){return"M95,"+(622+J+Q)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+J/2.075+" -"+J+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+J)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},Wq0=function Z(J,Q){return"M263,"+(601+J+Q)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+J/2.084+" -"+J+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+J)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},Fq0=function Z(J,Q){return"M983 "+(10+J+Q)+"\nl"+J/3.13+" -"+J+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+J)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+J)+" "+Q+"h400000v"+(40+J)+"h-400000z"},Mq0=function Z(J,Q){return"M424,"+(2398+J+Q)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+J/4.223+" -"+J+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+J)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+J)+" "+Q+"\nh400000v"+(40+J)+"h-400000z"},Bq0=function Z(J,Q){return"M473,"+(2713+J+Q)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+J/5.298+" -"+J+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+J)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+J)+" "+Q+"h400000v"+(40+J)+"H1017.7z"},Rq0=function Z(J){var Q=J/2;return"M400000 "+J+" H0 L"+Q+" 0 l65 45 L145 "+(J-80)+" H400000z"},Oq0=function Z(J,Q,K){var X=K-54-Q-J;return"M702 "+(J+Q)+"H400000"+(40+J)+"\nH742v"+X+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+Q+"H400000v"+(40+J)+"H742z"},Aq0=function Z(J,Q,K){Q=1000*Q;var X="";switch(J){case"sqrtMain":X=Hq0(Q,Hq);break;case"sqrtSize1":X=Wq0(Q,Hq);break;case"sqrtSize2":X=Fq0(Q,Hq);break;case"sqrtSize3":X=Mq0(Q,Hq);break;case"sqrtSize4":X=Bq0(Q,Hq);break;case"sqrtTall":X=Oq0(Q,Hq,K)}return X},Lq0=function Z(J,Q){switch(J){case"\u239C":return"M291 0 H417 V"+Q+" H291z M291 0 H417 V"+Q+" H291z";case"\u2223":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z";case"\u2225":return"M145 0 H188 V"+Q+" H145z M145 0 H188 V"+Q+" H145z"+("M367 0 H410 V"+Q+" H367z M367 0 H410 V"+Q+" H367z");case"\u239F":return"M457 0 H583 V"+Q+" H457z M457 0 H583 V"+Q+" H457z";case"\u23A2":return"M319 0 H403 V"+Q+" H319z M319 0 H403 V"+Q+" H319z";case"\u23A5":return"M263 0 H347 V"+Q+" H263z M263 0 H347 V"+Q+" H263z";case"\u23AA":return"M384 0 H504 V"+Q+" H384z M384 0 H504 V"+Q+" H384z";case"\u23D0":return"M312 0 H355 V"+Q+" H312z M312 0 H355 V"+Q+" H312z";case"\u2016":return"M257 0 H300 V"+Q+" H257z M257 0 H300 V"+Q+" H257z"+("M478 0 H521 V"+Q+" H478z M478 0 H521 V"+Q+" H478z");default:return""}},Xx,Iq0=function Z(J,Q){switch(J){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+Q+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+Q+" v1759 h84z";case"vert":return"M145 15 v585 v"+Q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-Q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+Q+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-Q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+Q+" v585 h43z\nM367 15 v585 v"+Q+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-Q+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+Q+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Q+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+Q+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Q+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+Q+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Q+" v602 h84z\nM403 1759 V0 H319 V1759 v"+Q+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Q+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+Q+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(Q+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(Q+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(Q+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(Q+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}},j4,yM,Ux,rD,Eq0,Yx,qx=function Z(J,Q){return Q.size<2?J:Eq0[J-1][Q.size-1]},qN,wq0,hx=function Z(J){if(typeof J!=="string")J=J.unit;return J in qN||J in wq0||J==="ex"},SZ=function Z(J,Q){var K;if(J.unit in qN)K=qN[J.unit]/Q.fontMetrics().ptPerEm/Q.sizeMultiplier;else if(J.unit==="mu")K=Q.fontMetrics().cssEmPerMu;else{var X;if(Q.style.isTight())X=Q.havingStyle(Q.style.text());else X=Q;if(J.unit==="ex")K=X.fontMetrics().xHeight;else if(J.unit==="em")K=X.fontMetrics().quad;else throw new a0("Invalid unit: '"+J.unit+"'");if(X!==Q)K*=X.sizeMultiplier/Q.sizeMultiplier}return Math.min(J.number*K,Q.maxSize)},Q9=function Z(J){return+J.toFixed(4)+"em"},c5=function Z(J){return J.filter((Q)=>Q).join(" ")},yx=function Z(J,Q,K){if(this.classes=J||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=K||{},Q){if(Q.style.isTight())this.classes.push("mtight");var X=Q.getColor();if(X)this.style.color=X}},ux=function Z(J){var Q=document.createElement(J);Q.className=c5(this.classes);for(var K in this.style)if(this.style.hasOwnProperty(K))Q.style[K]=this.style[K];for(var X in this.attributes)if(this.attributes.hasOwnProperty(X))Q.setAttribute(X,this.attributes[X]);for(var U=0;U<this.children.length;U++)Q.appendChild(this.children[U].toNode());return Q},mx=function Z(J){var Q="<"+J;if(this.classes.length)Q+=" class=\""+v9.escape(c5(this.classes))+"\"";var K="";for(var X in this.style)if(this.style.hasOwnProperty(X))K+=v9.hyphenate(X)+":"+this.style[X]+";";if(K)Q+=" style=\""+v9.escape(K)+"\"";for(var U in this.attributes)if(this.attributes.hasOwnProperty(U))Q+=" "+U+"=\""+v9.escape(this.attributes[U])+"\"";Q+=">";for(var Y=0;Y<this.children.length;Y++)Q+=this.children[Y].toMarkup();return Q+="</"+J+">",Q},jq0,Pq0,Vq0,KZ,m="math",r0="text",s="main",O0="ams",LZ="accent-token",z9="bin",T7="close",Oq="inner",k9="mathord",QJ="op-token",S6="open",U2="punct",L0="rel",uK="spacing",N0="textord",px,Gx="0123456789/@.\"",nD="0123456789/@.\"",uM="0123456789/@.\"",Hx="0123456789!@*()-=+\";:?/.,",aD="0123456789!@*()-=+\";:?/.,",mM="0123456789!@*()-=+\";:?/.,",eM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",fG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",gM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u9="",PZ="",G7="",fK="",g5="",zN="\xD0\xDE\xFE",vG="\xD0\xDE\xFE",pM="\xD0\xDE\xFE",cM,Wx,Sq0=function Z(J,Q){var K=J.charCodeAt(0),X=J.charCodeAt(1),U=(K-55296)*1024+(X-56320)+65536,Y=Q==="math"?0:1;if(119808<=U&&U<120484){var q=Math.floor((U-119808)/26);return[cM[q][2],cM[q][Y]]}else if(120782<=U&&U<=120831){var z=Math.floor((U-120782)/10);return[Wx[z][2],Wx[z][Y]]}else if(U===120485||U===120486)return[cM[0][2],cM[0][Y]];else if(120486<U&&U<120782)return["",""];else throw new a0("Unsupported character: "+J)},Y2=function Z(J,Q,K){if(KZ[K][J]&&KZ[K][J].replace)J=KZ[K][J].replace;return{value:J,metrics:ON(J,Q,K)}},bQ=function Z(J,Q,K,X,U){var Y=Y2(J,Q,K),q=Y.metrics;J=Y.value;var z;if(q){var G=q.italic;if(K==="text"||X&&X.font==="mathit")G=0;z=new V6(J,q.height,q.depth,G,q.skew,q.width,U)}else typeof console!=="undefined"&&console.warn("No character metrics "+("for '"+J+"' in style '"+Q+"' and mode '"+K+"'")),z=new V6(J,0,0,0,0,0,U);if(X){if(z.maxFontSize=X.sizeMultiplier,X.style.isTight())z.classes.push("mtight");var H=X.getColor();if(H)z.style.color=H}return z},Tq0=function Z(J,Q,K,X){if(X===void 0)X=[];if(K.font==="boldsymbol"&&Y2(J,"Main-Bold",Q).metrics)return bQ(J,"Main-Bold",Q,K,X.concat(["mathbf"]));else if(J==="\\"||KZ[Q][J].font==="main")return bQ(J,"Main-Regular",Q,K,X);else return bQ(J,"AMS-Regular",Q,K,X.concat(["amsrm"]))},fq0=function Z(J,Q,K,X,U){if(U!=="textord"&&Y2(J,"Math-BoldItalic",Q).metrics)return{fontName:"Math-BoldItalic",fontClass:"boldsymbol"};else return{fontName:"Main-Bold",fontClass:"mathbf"}},vq0=function Z(J,Q,K){var{mode:X,text:U}=J,Y=["mord"],q=X==="math"||X==="text"&&Q.font,z=q?Q.font:Q.fontFamily,G="",H="";if(U.charCodeAt(0)===55349)[G,H]=Sq0(U,X);if(G.length>0)return bQ(U,G,X,Q,Y.concat(H));else if(z){var W,F;if(z==="boldsymbol"){var M=fq0(U,X,Q,Y,K);W=M.fontName,F=[M.fontClass]}else if(q)W=dx[z].fontName,F=[z];else W=lM(z,Q.fontWeight,Q.fontShape),F=[z,Q.fontWeight,Q.fontShape];if(Y2(U,W,X).metrics)return bQ(U,W,X,Q,Y.concat(F));else if(px.hasOwnProperty(U)&&W.slice(0,10)==="Typewriter"){var B=[];for(var O=0;O<U.length;O++)B.push(bQ(U[O],W,X,Q,Y.concat(F)));return lx(B)}}if(K==="mathord")return bQ(U,"Math-Italic",X,Q,Y.concat(["mathnormal"]));else if(K==="textord"){var A=KZ[X][U]&&KZ[X][U].font;if(A==="ams"){var L=lM("amsrm",Q.fontWeight,Q.fontShape);return bQ(U,L,X,Q,Y.concat("amsrm",Q.fontWeight,Q.fontShape))}else if(A==="main"||!A){var I=lM("textrm",Q.fontWeight,Q.fontShape);return bQ(U,I,X,Q,Y.concat(Q.fontWeight,Q.fontShape))}else{var D=lM(A,Q.fontWeight,Q.fontShape);return bQ(U,D,X,Q,Y.concat(D,Q.fontWeight,Q.fontShape))}}else throw new Error("unexpected type: "+K+" in makeOrd")},kq0=(Z,J)=>{if(c5(Z.classes)!==c5(J.classes)||Z.skew!==J.skew||Z.maxFontSize!==J.maxFontSize)return!1;if(Z.classes.length===1){var Q=Z.classes[0];if(Q==="mbin"||Q==="mord")return!1}for(var K in Z.style)if(Z.style.hasOwnProperty(K)&&Z.style[K]!==J.style[K])return!1;for(var X in J.style)if(J.style.hasOwnProperty(X)&&Z.style[X]!==J.style[X])return!1;return!0},$q0=(Z)=>{for(var J=0;J<Z.length-1;J++){var Q=Z[J],K=Z[J+1];if(Q instanceof V6&&K instanceof V6&&kq0(Q,K))Q.text+=K.text,Q.height=Math.max(Q.height,K.height),Q.depth=Math.max(Q.depth,K.depth),Q.italic=K.italic,Z.splice(J+1,1),J--}return Z},AN=function Z(J){var Q=0,K=0,X=0;for(var U=0;U<J.children.length;U++){var Y=J.children[U];if(Y.height>Q)Q=Y.height;if(Y.depth>K)K=Y.depth;if(Y.maxFontSize>X)X=Y.maxFontSize}J.height=Q,J.depth=K,J.maxFontSize=X},s7=function Z(J,Q,K,X){var U=new Rq(J,Q,K,X);return AN(U),U},cx=(Z,J,Q,K)=>new Rq(Z,J,Q,K),_q0=function Z(J,Q,K){var X=s7([J],[],Q);return X.height=Math.max(K||Q.fontMetrics().defaultRuleThickness,Q.minRuleThickness),X.style.borderBottomWidth=Q9(X.height),X.maxFontSize=1,X},bq0=function Z(J,Q,K,X){var U=new X2(J,Q,K,X);return AN(U),U},lx=function Z(J){var Q=new Bq(J);return AN(Q),Q},xq0=function Z(J,Q){if(J instanceof Bq)return s7([],[J],Q);return J},hq0=function Z(J){if(J.positionType==="individualShift"){var Q=J.children,K=[Q[0]],X=-Q[0].shift-Q[0].elem.depth,U=X;for(var Y=1;Y<Q.length;Y++){var q=-Q[Y].shift-U-Q[Y].elem.depth,z=q-(Q[Y-1].elem.height+Q[Y-1].elem.depth);U=U+q,K.push({type:"kern",size:z}),K.push(Q[Y])}return{children:K,depth:X}}var G;if(J.positionType==="top"){var H=J.positionData;for(var W=0;W<J.children.length;W++){var F=J.children[W];H-=F.type==="kern"?F.size:F.elem.height+F.elem.depth}G=H}else if(J.positionType==="bottom")G=-J.positionData;else{var M=J.children[0];if(M.type!=="elem")throw new Error('First child must have type "elem".');if(J.positionType==="shift")G=-M.elem.depth-J.positionData;else if(J.positionType==="firstBaseline")G=-M.elem.depth;else throw new Error("Invalid positionType "+J.positionType+".")}return{children:J.children,depth:G}},yq0=function Z(J,Q){var{children:K,depth:X}=hq0(J),U=0;for(var Y=0;Y<K.length;Y++){var q=K[Y];if(q.type==="elem"){var z=q.elem;U=Math.max(U,z.maxFontSize,z.height)}}U+=2;var G=s7(["pstrut"],[]);G.style.height=Q9(U);var H=[],W=X,F=X,M=X;for(var B=0;B<K.length;B++){var O=K[B];if(O.type==="kern")M+=O.size;else{var A=O.elem,L=O.wrapperClasses||[],I=O.wrapperStyle||{},D=s7(L,[G,A],void 0,I);if(D.style.top=Q9(-U-M-A.depth),O.marginLeft)D.style.marginLeft=O.marginLeft;if(O.marginRight)D.style.marginRight=O.marginRight;H.push(D),M+=A.height+A.depth}W=Math.min(W,M),F=Math.max(F,M)}var w=s7(["vlist"],H);w.style.height=Q9(F);var N;if(W<0){var E=s7([],[]),j=s7(["vlist"],[E]);j.style.height=Q9(-W);var P=s7(["vlist-s"],[new V6("\u200B")]);N=[s7(["vlist-r"],[w,P]),s7(["vlist-r"],[j])]}else N=[s7(["vlist-r"],[w])];var C=s7(["vlist-t"],N);if(N.length===2)C.classes.push("vlist-t2");return C.height=F,C.depth=-W,C},uq0=(Z,J)=>{var Q=s7(["mspace"],[],J),K=SZ(Z,J);return Q.style.marginRight=Q9(K),Q},lM=function Z(J,Q,K){var X="";switch(J){case"amsrm":X="AMS";break;case"textrm":X="Main";break;case"textsf":X="SansSerif";break;case"texttt":X="Typewriter";break;default:X=J}var U;if(Q==="textbf"&&K==="textit")U="BoldItalic";else if(Q==="textbf")U="Bold";else if(Q==="textit")U="Italic";else U="Regular";return X+"-"+U},dx,ix,mq0=function Z(J,Q){var[K,X,U]=ix[J],Y=new xK(K),q=new C4([Y],{width:Q9(X),height:Q9(U),style:"width:"+Q9(X),viewBox:"0 0 "+1000*X+" "+1000*U,preserveAspectRatio:"xMinYMin"}),z=cx(["overlay"],[q],Q);return z.height=U,z.style.height=Q9(U),z.style.width=Q9(X),z},T0,VZ,FU,vK,gq0,pq0,sx,Z2,J2,Q2=function Z(J){return J.type==="ordgroup"&&J.body.length===1?J.body[0]:J},iZ=function Z(J){return J.type==="ordgroup"?J.body:[J]},hK,cq0,lq0,dq0,iq0,HJ=function Z(J,Q,K,X){if(X===void 0)X=[null,null];var U=[];for(var Y=0;Y<J.length;Y++){var q=M8(J[Y],Q);if(q instanceof Bq){var z=q.children;U.push(...z)}else U.push(q)}if(T0.tryCombineChars(U),!K)return U;var G=Q;if(J.length===1){var H=J[0];if(H.type==="sizing")G=Q.havingSize(H.size);else if(H.type==="styling")G=Q.havingStyle(dq0[H.style])}var W=hK([X[0]||"leftmost"],[],Q),F=hK([X[1]||"rightmost"],[],Q),M=K==="root";return Fx(U,(B,O)=>{var A=O.classes[0],L=B.classes[0];if(A==="mbin"&&v9.contains(lq0,L))O.classes[0]="mord";else if(L==="mbin"&&v9.contains(cq0,A))B.classes[0]="mord"},{node:W},F,M),Fx(U,(B,O)=>{var A=GN(O),L=GN(B),I=A&&L?B.hasClass("mtight")?pq0[A][L]:gq0[A][L]:null;if(I)return T0.makeGlue(I,G)},{node:W},F,M),U},Fx=function Z(J,Q,K,X,U){if(X)J.push(X);var Y=0;for(;Y<J.length;Y++){var q=J[Y],z=rx(q);if(z){Z(z.children,Q,K,null,U);continue}var G=!q.hasClass("mspace");if(G){var H=Q(q,K.node);if(H)if(K.insertAfter)K.insertAfter(H);else J.unshift(H),Y++}if(G)K.node=q;else if(U&&q.hasClass("newline"))K.node=hK(["leftmost"]);K.insertAfter=((W)=>(F)=>{J.splice(W+1,0,F),Y++})(Y)}if(X)J.pop()},rx=function Z(J){if(J instanceof Bq||J instanceof X2||J instanceof Rq&&J.hasClass("enclosing"))return J;return null},sq0=function Z(J,Q){var K=rx(J);if(K){var X=K.children;if(X.length){if(Q==="right")return Z(X[X.length-1],"right");else if(Q==="left")return Z(X[0],"left")}}return J},GN=function Z(J,Q){if(!J)return null;if(Q)J=sq0(J,Q);return iq0[J.classes[0]]||null},bG=function Z(J,Q){var K=["nulldelimiter"].concat(J.baseSizingClasses());return hK(Q.concat(K))},M8=function Z(J,Q,K){if(!J)return hK();if(Z2[J.type]){var X=Z2[J.type](J,Q);if(K&&Q.size!==K.size){X=hK(Q.sizingClasses(K),[X],Q);var U=Q.sizeMultiplier/K.sizeMultiplier;X.height*=U,X.depth*=U}return X}else throw new a0("Got group of unknown type: '"+J.type+"'")},n0,JQ=function Z(J,Q,K){if(KZ[Q][J]&&KZ[Q][J].replace&&J.charCodeAt(0)!==55349&&!(px.hasOwnProperty(J)&&K&&(K.fontFamily&&K.fontFamily.slice(4,6)==="tt"||K.font&&K.font.slice(4,6)==="tt")))J=KZ[Q][J].replace;return new n0.TextNode(J)},LN=function Z(J){if(J.length===1)return J[0];else return new n0.MathNode("mrow",J)},IN=function Z(J,Q){if(Q.fontFamily==="texttt")return"monospace";else if(Q.fontFamily==="textsf")if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"sans-serif-bold-italic";else if(Q.fontShape==="textit")return"sans-serif-italic";else if(Q.fontWeight==="textbf")return"bold-sans-serif";else return"sans-serif";else if(Q.fontShape==="textit"&&Q.fontWeight==="textbf")return"bold-italic";else if(Q.fontShape==="textit")return"italic";else if(Q.fontWeight==="textbf")return"bold";var K=Q.font;if(!K||K==="mathnormal")return null;var X=J.mode;if(K==="mathit")return"italic";else if(K==="boldsymbol")return J.type==="textord"?"bold":"bold-italic";else if(K==="mathbf")return"bold";else if(K==="mathbb")return"double-struck";else if(K==="mathfrak")return"fraktur";else if(K==="mathscr"||K==="mathcal")return"script";else if(K==="mathsf")return"sans-serif";else if(K==="mathtt")return"monospace";var U=J.text;if(v9.contains(["\\imath","\\jmath"],U))return null;if(KZ[X][U]&&KZ[X][U].replace)U=KZ[X][U].replace;var Y=T0.fontMap[K].fontName;if(ON(U,Y,X))return T0.fontMap[K].variant;return null},r7=function Z(J,Q,K){if(J.length===1){var X=n8(J[0],Q);if(K&&X instanceof P6&&X.type==="mo")X.setAttribute("lspace","0em"),X.setAttribute("rspace","0em");return[X]}var U=[],Y;for(var q=0;q<J.length;q++){var z=n8(J[q],Q);if(z instanceof P6&&Y instanceof P6){if(z.type==="mtext"&&Y.type==="mtext"&&z.getAttribute("mathvariant")===Y.getAttribute("mathvariant")){Y.children.push(...z.children);continue}else if(z.type==="mn"&&Y.type==="mn"){Y.children.push(...z.children);continue}else if(z.type==="mi"&&z.children.length===1&&Y.type==="mn"){var G=z.children[0];if(G instanceof Fq&&G.text==="."){Y.children.push(...z.children);continue}}else if(Y.type==="mi"&&Y.children.length===1){var H=Y.children[0];if(H instanceof Fq&&H.text==="\u0338"&&(z.type==="mo"||z.type==="mi"||z.type==="mn")){var W=z.children[0];if(W instanceof Fq&&W.text.length>0)W.text=W.text.slice(0,1)+"\u0338"+W.text.slice(1),U.pop()}}}U.push(z),Y=z}return U},l5=function Z(J,Q,K){return LN(r7(J,Q,K))},n8=function Z(J,Q){if(!J)return new n0.MathNode("mrow");if(J2[J.type]){var K=J2[J.type](J,Q);return K}else throw new a0("Got group of unknown type: '"+J.type+"'")},ox=function Z(J){return new $K({style:J.displayMode?$9.DISPLAY:$9.TEXT,maxSize:J.maxSize,minRuleThickness:J.minRuleThickness})},tx=function Z(J,Q){if(Q.displayMode){var K=["katex-display"];if(Q.leqno)K.push("leqno");if(Q.fleqn)K.push("fleqn");J=T0.makeSpan(K,[J])}return J},rq0=function Z(J,Q,K){var X=ox(K),U;if(K.output==="mathml")return Mx(J,Q,X,K.displayMode,!0);else if(K.output==="html"){var Y=HN(J,X);U=T0.makeSpan(["katex"],[Y])}else{var q=Mx(J,Q,X,K.displayMode,!1),z=HN(J,X);U=T0.makeSpan(["katex"],[q,z])}return tx(U,K)},nq0=function Z(J,Q,K){var X=ox(K),U=HN(J,X),Y=T0.makeSpan(["katex"],[U]);return tx(Y,K)},aq0,oq0=function Z(J){var Q=new n0.MathNode("mo",[new n0.TextNode(aq0[J.replace(/^\\/,"")])]);return Q.setAttribute("stretchy","true"),Q},tq0,eq0=function Z(J){if(J.type==="ordgroup")return J.body.length;else return 1},Z10=function Z(J,Q){function K(){var q=400000,z=J.label.slice(1);if(v9.contains(["widehat","widecheck","widetilde","utilde"],z)){var G=J,H=eq0(G.base),W,F,M;if(H>5)if(z==="widehat"||z==="widecheck")W=420,q=2364,M=0.42,F=z+"4";else W=312,q=2340,M=0.34,F="tilde4";else{var B=[1,1,2,2,3,3][H];if(z==="widehat"||z==="widecheck")q=[0,1062,2364,2364,2364][B],W=[0,239,300,360,420][B],M=[0,0.24,0.3,0.3,0.36,0.42][B],F=z+B;else q=[0,600,1033,2339,2340][B],W=[0,260,286,306,312][B],M=[0,0.26,0.286,0.3,0.306,0.34][B],F="tilde"+B}var O=new xK(F),A=new C4([O],{width:"100%",height:Q9(M),viewBox:"0 0 "+q+" "+W,preserveAspectRatio:"none"});return{span:T0.makeSvgSpan([],[A],Q),minWidth:0,height:M}}else{var L=[],I=tq0[z],[D,w,N]=I,E=N/1000,j=D.length,P,C;if(j===1){var T=I[3];P=["hide-tail"],C=[T]}else if(j===2)P=["halfarrow-left","halfarrow-right"],C=["xMinYMin","xMaxYMin"];else if(j===3)P=["brace-left","brace-center","brace-right"],C=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error("Correct katexImagesData or update code here to support\n                    "+j+" children.");for(var V=0;V<j;V++){var S=new xK(D[V]),$=new C4([S],{width:"400em",height:Q9(E),viewBox:"0 0 "+q+" "+N,preserveAspectRatio:C[V]+" slice"}),f=T0.makeSvgSpan([P[V]],[$],Q);if(j===1)return{span:f,minWidth:w,height:E};else f.style.height=Q9(E),L.push(f)}return{span:T0.makeSpan(["stretchy"],L,Q),minWidth:w,height:E}}}var{span:X,minWidth:U,height:Y}=K();if(X.height=Y,X.style.height=Q9(Y),U>0)X.style.minWidth=Q9(U);return X},J10=function Z(J,Q,K,X,U){var Y,q=J.height+J.depth+K+X;if(/fbox|color|angl/.test(Q)){if(Y=T0.makeSpan(["stretchy",Q],[],U),Q==="fbox"){var z=U.color&&U.getColor();if(z)Y.style.borderColor=z}}else{var G=[];if(/^[bx]cancel$/.test(Q))G.push(new tM({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"}));if(/^x?cancel$/.test(Q))G.push(new tM({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var H=new C4(G,{width:"100%",height:Q9(q)});Y=T0.makeSvgSpan([],[H],U)}return Y.height=q,Y.style.height=Q9(q),Y},yK,NN=(Z,J)=>{var Q,K,X;if(Z&&Z.type==="supsub")K=o9(Z.base,"accent"),Q=K.base,Z.base=Q,X=Cq0(M8(Z,J)),Z.base=K;else K=o9(Z,"accent"),Q=K.base;var U=M8(Q,J.havingCrampedStyle()),Y=K.isShifty&&v9.isCharacterBox(Q),q=0;if(Y){var z=v9.getBaseElem(Q),G=M8(z,J.havingCrampedStyle());q=zx(G).skew}var H=K.label==="\\c",W=H?U.height+U.depth:Math.min(U.height,J.fontMetrics().xHeight),F;if(!K.isStretchy){var M,B;if(K.label==="\\vec")M=T0.staticSvg("vec",J),B=T0.svgData.vec[1];else if(M=T0.makeOrd({mode:K.mode,text:K.label},J,"textord"),M=zx(M),M.italic=0,B=M.width,H)W+=M.depth;F=T0.makeSpan(["accent-body"],[M]);var O=K.label==="\\textcircled";if(O)F.classes.push("accent-full"),W=U.height;var A=q;if(!O)A-=B/2;if(F.style.left=Q9(A),K.label==="\\textcircled")F.style.top=".2em";F=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"kern",size:-W},{type:"elem",elem:F}]},J)}else F=yK.svgSpan(K,J),F=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"elem",elem:F,wrapperClasses:["svg-align"],wrapperStyle:q>0?{width:"calc(100% - "+Q9(2*q)+")",marginLeft:Q9(2*q)}:void 0}]},J);var L=T0.makeSpan(["mord","accent"],[F],J);if(X)return X.children[0]=L,X.height=Math.max(L.height,X.height),X.classes[0]="mord",X;else return L},ex=(Z,J)=>{var Q=Z.isStretchy?yK.mathMLnode(Z.label):new n0.MathNode("mo",[JQ(Z.label,Z.mode)]),K=new n0.MathNode("mover",[n8(Z.base,J),Q]);return K.setAttribute("accent","true"),K},Q10,iM=(Z)=>{var J=new n0.MathNode("mpadded",Z?[Z]:[]);return J.setAttribute("width","+0.6em"),J.setAttribute("lspace","0.3em"),J},K10,z2=(Z)=>{var J=Z.type==="ordgroup"&&Z.body.length?Z.body[0]:Z;if(J.type==="atom"&&(J.family==="bin"||J.family==="rel"))return"m"+J.family;else return"mord"},X10,Bx=()=>{return{type:"styling",body:[],mode:"math",style:"display"}},Rx=(Z)=>{return Z.type==="textord"&&Z.text==="@"},U10=(Z,J)=>{return(Z.type==="mathord"||Z.type==="atom")&&Z.text===J},Qh=(Z,J)=>{var Q=HJ(Z.body,J.withColor(Z.color),!1);return T0.makeFragment(Q)},Kh=(Z,J)=>{var Q=r7(Z.body,J.withColor(Z.color)),K=new n0.MathNode("mstyle",Q);return K.setAttribute("mathcolor",Z.color),K},WN,Xh=(Z)=>{var J=Z.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(J))throw new a0("Expected a control sequence",Z);return J},z10=(Z)=>{var J=Z.gullet.popToken();if(J.text==="="){if(J=Z.gullet.popToken(),J.text===" ")J=Z.gullet.popToken()}return J},Uh=(Z,J,Q,K)=>{var X=Z.gullet.macros.get(Q.text);if(X==null)Q.noexpand=!0,X={tokens:[Q],numArgs:0,unexpandable:!Z.gullet.isExpandable(Q.text)};Z.gullet.macros.set(J,X,K)},kG=function Z(J,Q,K){var X=KZ.math[J]&&KZ.math[J].replace,U=ON(X||J,Q,K);if(!U)throw new Error("Unsupported symbol "+J+" and font size "+Q+".");return U},EN=function Z(J,Q,K,X){var U=K.havingBaseStyle(Q),Y=T0.makeSpan(X.concat(U.sizingClasses(K)),[J],K),q=U.sizeMultiplier/K.sizeMultiplier;return Y.height*=q,Y.depth*=q,Y.maxFontSize=U.sizeMultiplier,Y},Yh=function Z(J,Q,K){var X=Q.havingBaseStyle(K),U=(1-Q.sizeMultiplier/X.sizeMultiplier)*Q.fontMetrics().axisHeight;J.classes.push("delimcenter"),J.style.top=Q9(U),J.height-=U,J.depth+=U},G10=function Z(J,Q,K,X,U,Y){var q=T0.makeSymbol(J,"Main-Regular",U,X),z=EN(q,Q,X,Y);if(K)Yh(z,X,Q);return z},H10=function Z(J,Q,K,X){return T0.makeSymbol(J,"Size"+Q+"-Regular",K,X)},qh=function Z(J,Q,K,X,U,Y){var q=H10(J,Q,U,X),z=EN(T0.makeSpan(["delimsizing","size"+Q],[q],X),$9.TEXT,X,Y);if(K)Yh(z,X,$9.TEXT);return z},oD=function Z(J,Q,K){var X;if(Q==="Size1-Regular")X="delim-size1";else X="delim-size4";var U=T0.makeSpan(["delimsizinginner",X],[T0.makeSpan([],[T0.makeSymbol(J,Q,K)])]);return{type:"elem",elem:U}},tD=function Z(J,Q,K){var X=j4["Size4-Regular"][J.charCodeAt(0)]?j4["Size4-Regular"][J.charCodeAt(0)][4]:j4["Size1-Regular"][J.charCodeAt(0)][4],U=new xK("inner",Lq0(J,Math.round(1000*Q))),Y=new C4([U],{width:Q9(X),height:Q9(Q),style:"width:"+Q9(X),viewBox:"0 0 "+1000*X+" "+Math.round(1000*Q),preserveAspectRatio:"xMinYMin"}),q=T0.makeSvgSpan([],[Y],K);return q.height=Q,q.style.height=Q9(Q),q.style.width=Q9(X),{type:"elem",elem:q}},FN=0.008,sM,W10,F10,zh=function Z(J,Q,K,X,U,Y){var q,z,G,H,W="",F=0;q=G=H=J,z=null;var M="Size1-Regular";if(J==="\\uparrow")G=H="\u23D0";else if(J==="\\Uparrow")G=H="\u2016";else if(J==="\\downarrow")q=G="\u23D0";else if(J==="\\Downarrow")q=G="\u2016";else if(J==="\\updownarrow")q="\\uparrow",G="\u23D0",H="\\downarrow";else if(J==="\\Updownarrow")q="\\Uparrow",G="\u2016",H="\\Downarrow";else if(v9.contains(W10,J))G="\u2223",W="vert",F=333;else if(v9.contains(F10,J))G="\u2225",W="doublevert",F=556;else if(J==="["||J==="\\lbrack")q="\u23A1",G="\u23A2",H="\u23A3",M="Size4-Regular",W="lbrack",F=667;else if(J==="]"||J==="\\rbrack")q="\u23A4",G="\u23A5",H="\u23A6",M="Size4-Regular",W="rbrack",F=667;else if(J==="\\lfloor"||J==="\u230A")G=q="\u23A2",H="\u23A3",M="Size4-Regular",W="lfloor",F=667;else if(J==="\\lceil"||J==="\u2308")q="\u23A1",G=H="\u23A2",M="Size4-Regular",W="lceil",F=667;else if(J==="\\rfloor"||J==="\u230B")G=q="\u23A5",H="\u23A6",M="Size4-Regular",W="rfloor",F=667;else if(J==="\\rceil"||J==="\u2309")q="\u23A4",G=H="\u23A5",M="Size4-Regular",W="rceil",F=667;else if(J==="("||J==="\\lparen")q="\u239B",G="\u239C",H="\u239D",M="Size4-Regular",W="lparen",F=875;else if(J===")"||J==="\\rparen")q="\u239E",G="\u239F",H="\u23A0",M="Size4-Regular",W="rparen",F=875;else if(J==="\\{"||J==="\\lbrace")q="\u23A7",z="\u23A8",H="\u23A9",G="\u23AA",M="Size4-Regular";else if(J==="\\}"||J==="\\rbrace")q="\u23AB",z="\u23AC",H="\u23AD",G="\u23AA",M="Size4-Regular";else if(J==="\\lgroup"||J==="\u27EE")q="\u23A7",H="\u23A9",G="\u23AA",M="Size4-Regular";else if(J==="\\rgroup"||J==="\u27EF")q="\u23AB",H="\u23AD",G="\u23AA",M="Size4-Regular";else if(J==="\\lmoustache"||J==="\u23B0")q="\u23A7",H="\u23AD",G="\u23AA",M="Size4-Regular";else if(J==="\\rmoustache"||J==="\u23B1")q="\u23AB",H="\u23A9",G="\u23AA",M="Size4-Regular";var B=kG(q,M,U),O=B.height+B.depth,A=kG(G,M,U),L=A.height+A.depth,I=kG(H,M,U),D=I.height+I.depth,w=0,N=1;if(z!==null){var E=kG(z,M,U);w=E.height+E.depth,N=2}var j=O+D+w,P=Math.max(0,Math.ceil((Q-j)/(N*L))),C=j+P*N*L,T=X.fontMetrics().axisHeight;if(K)T*=X.sizeMultiplier;var V=C/2-T,S=[];if(W.length>0){var $=C-O-D,f=Math.round(C*1000),h=Iq0(W,Math.round($*1000)),v=new xK(W,h),b=(F/1000).toFixed(3)+"em",y=(f/1000).toFixed(3)+"em",k=new C4([v],{width:b,height:y,viewBox:"0 0 "+F+" "+f}),g=T0.makeSvgSpan([],[k],X);g.height=f/1000,g.style.width=b,g.style.height=y,S.push({type:"elem",elem:g})}else{if(S.push(oD(H,M,U)),S.push(sM),z===null){var u=C-O-D+2*FN;S.push(tD(G,u,X))}else{var i=(C-O-D-w)/2+2*FN;S.push(tD(G,i,X)),S.push(sM),S.push(oD(z,M,U)),S.push(sM),S.push(tD(G,i,X))}S.push(sM),S.push(oD(q,M,U))}var e=X.havingBaseStyle($9.TEXT),J0=T0.makeVList({positionType:"bottom",positionData:V,children:S},e);return EN(T0.makeSpan(["delimsizing","mult"],[J0],e),$9.TEXT,X,Y)},eD=80,ZN=0.08,JN=function Z(J,Q,K,X,U){var Y=Aq0(J,X,K),q=new xK(J,Y),z=new C4([q],{width:"400em",height:Q9(Q),viewBox:"0 0 400000 "+K,preserveAspectRatio:"xMinYMin slice"});return T0.makeSvgSpan(["hide-tail"],[z],U)},M10=function Z(J,Q){var K=Q.havingBaseSizing(),X=Fh("\\surd",J*K.sizeMultiplier,Wh,K),U=K.sizeMultiplier,Y=Math.max(0,Q.minRuleThickness-Q.fontMetrics().sqrtRuleThickness),q,z=0,G=0,H=0,W;if(X.type==="small"){if(H=1000+1000*Y+eD,J<1)U=1;else if(J<1.4)U=0.7;z=(1+Y+ZN)/U,G=(1+Y)/U,q=JN("sqrtMain",z,H,Y,Q),q.style.minWidth="0.853em",W=0.833/U}else if(X.type==="large")H=(1000+eD)*$G[X.size],G=($G[X.size]+Y)/U,z=($G[X.size]+Y+ZN)/U,q=JN("sqrtSize"+X.size,z,H,Y,Q),q.style.minWidth="1.02em",W=1/U;else z=J+Y+ZN,G=J+Y,H=Math.floor(1000*J+Y)+eD,q=JN("sqrtTall",z,H,Y,Q),q.style.minWidth="0.742em",W=1.056;return q.height=G,q.style.height=Q9(z),{span:q,advanceWidth:W,ruleWidth:(Q.fontMetrics().sqrtRuleThickness+Y)*U}},Gh,B10,Hh,$G,R10=function Z(J,Q,K,X,U){if(J==="<"||J==="\\lt"||J==="\u27E8")J="\\langle";else if(J===">"||J==="\\gt"||J==="\u27E9")J="\\rangle";if(v9.contains(Gh,J)||v9.contains(Hh,J))return qh(J,Q,!1,K,X,U);else if(v9.contains(B10,J))return zh(J,$G[Q],!1,K,X,U);else throw new a0("Illegal delimiter: '"+J+"'")},O10,A10,Wh,L10=function Z(J){if(J.type==="small")return"Main-Regular";else if(J.type==="large")return"Size"+J.size+"-Regular";else if(J.type==="stack")return"Size4-Regular";else throw new Error("Add support for delim type '"+J.type+"' here.")},Fh=function Z(J,Q,K,X){var U=Math.min(2,3-X.style.size);for(var Y=U;Y<K.length;Y++){if(K[Y].type==="stack")break;var q=kG(J,L10(K[Y]),"math"),z=q.height+q.depth;if(K[Y].type==="small"){var G=X.havingBaseStyle(K[Y].style);z*=G.sizeMultiplier}if(z>Q)return K[Y]}return K[K.length-1]},Mh=function Z(J,Q,K,X,U,Y){if(J==="<"||J==="\\lt"||J==="\u27E8")J="\\langle";else if(J===">"||J==="\\gt"||J==="\u27E9")J="\\rangle";var q;if(v9.contains(Hh,J))q=O10;else if(v9.contains(Gh,J))q=Wh;else q=A10;var z=Fh(J,Q,q,X);if(z.type==="small")return G10(J,z.style,K,X,U,Y);else if(z.type==="large")return qh(J,z.size,K,X,U,Y);else return zh(J,Q,K,X,U,Y)},I10=function Z(J,Q,K,X,U,Y){var q=X.fontMetrics().axisHeight*X.sizeMultiplier,z=901,G=5/X.fontMetrics().ptPerEm,H=Math.max(Q-q,K+q),W=Math.max(H/500*z,2*H-G);return Mh(J,W,!0,X,U,Y)},bK,Ox,D10,wN=(Z,J)=>{var Q=T0.wrapFragment(M8(Z.body,J),J),K=Z.label.slice(1),X=J.sizeMultiplier,U,Y=0,q=v9.isCharacterBox(Z.body);if(K==="sout")U=T0.makeSpan(["stretchy","sout"]),U.height=J.fontMetrics().defaultRuleThickness/X,Y=-0.5*J.fontMetrics().xHeight;else if(K==="phase"){var z=SZ({number:0.6,unit:"pt"},J),G=SZ({number:0.35,unit:"ex"},J),H=J.havingBaseSizing();X=X/H.sizeMultiplier;var W=Q.height+Q.depth+z+G;Q.style.paddingLeft=Q9(W/2+z);var F=Math.floor(1000*W*X),M=Rq0(F),B=new C4([new xK("phase",M)],{width:"400em",height:Q9(F/1000),viewBox:"0 0 400000 "+F,preserveAspectRatio:"xMinYMin slice"});U=T0.makeSvgSpan(["hide-tail"],[B],J),U.style.height=Q9(W),Y=Q.depth+z+G}else{if(/cancel/.test(K)){if(!q)Q.classes.push("cancel-pad")}else if(K==="angl")Q.classes.push("anglpad");else Q.classes.push("boxpad");var O=0,A=0,L=0;if(/box/.test(K))L=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness),O=J.fontMetrics().fboxsep+(K==="colorbox"?0:L),A=O;else if(K==="angl")L=Math.max(J.fontMetrics().defaultRuleThickness,J.minRuleThickness),O=4*L,A=Math.max(0,0.25-Q.depth);else O=q?0.2:0,A=O;if(U=yK.encloseSpan(Q,K,O,A,J),/fbox|boxed|fcolorbox/.test(K))U.style.borderStyle="solid",U.style.borderWidth=Q9(L);else if(K==="angl"&&L!==0.049)U.style.borderTopWidth=Q9(L),U.style.borderRightWidth=Q9(L);if(Y=Q.depth+A,Z.backgroundColor){if(U.style.backgroundColor=Z.backgroundColor,Z.borderColor)U.style.borderColor=Z.borderColor}}var I;if(Z.backgroundColor)I=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:U,shift:Y},{type:"elem",elem:Q,shift:0}]},J);else{var D=/cancel|phase/.test(K)?["svg-align"]:[];I=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Q,shift:0},{type:"elem",elem:U,shift:Y,wrapperClasses:D}]},J)}if(/cancel/.test(K))I.height=Q.height,I.depth=Q.depth;if(/cancel/.test(K)&&!q)return T0.makeSpan(["mord","cancel-lap"],[I],J);else return T0.makeSpan(["mord"],[I],J)},jN=(Z,J)=>{var Q=0,K=new n0.MathNode(Z.label.indexOf("colorbox")>-1?"mpadded":"menclose",[n8(Z.body,J)]);switch(Z.label){case"\\cancel":K.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":K.setAttribute("notation","downdiagonalstrike");break;case"\\phase":K.setAttribute("notation","phasorangle");break;case"\\sout":K.setAttribute("notation","horizontalstrike");break;case"\\fbox":K.setAttribute("notation","box");break;case"\\angl":K.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(Q=J.fontMetrics().fboxsep*J.fontMetrics().ptPerEm,K.setAttribute("width","+"+2*Q+"pt"),K.setAttribute("height","+"+2*Q+"pt"),K.setAttribute("lspace",Q+"pt"),K.setAttribute("voffset",Q+"pt"),Z.label==="\\fcolorbox"){var X=Math.max(J.fontMetrics().fboxrule,J.minRuleThickness);K.setAttribute("style","border: "+X+"em solid "+String(Z.borderColor))}break;case"\\xcancel":K.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}if(Z.backgroundColor)K.setAttribute("mathbackground",Z.backgroundColor);return K},Bh,Rh,H2=(Z)=>{var J=Z.parser.settings;if(!J.displayMode)throw new a0("{"+Z.envName+"} can be used only in display mode.")},V4=function Z(J,Q){var K,X,U=J.body.length,Y=J.hLinesBeforeRow,q=0,z=new Array(U),G=[],H=Math.max(Q.fontMetrics().arrayRuleWidth,Q.minRuleThickness),W=1/Q.fontMetrics().ptPerEm,F=5*W;if(J.colSeparationType&&J.colSeparationType==="small"){var M=Q.havingStyle($9.SCRIPT).sizeMultiplier;F=0.2778*(M/Q.sizeMultiplier)}var B=J.colSeparationType==="CD"?SZ({number:3,unit:"ex"},Q):12*W,O=3*W,A=J.arraystretch*B,L=0.7*A,I=0.3*A,D=0;function w(k0){for(var h0=0;h0<k0.length;++h0){if(h0>0)D+=0.25;G.push({pos:D,isDashed:k0[h0]})}}w(Y[0]);for(K=0;K<J.body.length;++K){var N=J.body[K],E=L,j=I;if(q<N.length)q=N.length;var P=new Array(N.length);for(X=0;X<N.length;++X){var C=M8(N[X],Q);if(j<C.depth)j=C.depth;if(E<C.height)E=C.height;P[X]=C}var T=J.rowGaps[K],V=0;if(T){if(V=SZ(T,Q),V>0){if(V+=I,j<V)j=V;V=0}}if(J.addJot)j+=O;P.height=E,P.depth=j,D+=E,P.pos=D,D+=j+V,z[K]=P,w(Y[K+1])}var S=D/2+Q.fontMetrics().axisHeight,$=J.cols||[],f=[],h,v,b=[];if(J.tags&&J.tags.some((k0)=>k0))for(K=0;K<U;++K){var y=z[K],k=y.pos-S,g=J.tags[K],u=void 0;if(g===!0)u=T0.makeSpan(["eqn-num"],[],Q);else if(g===!1)u=T0.makeSpan([],[],Q);else u=T0.makeSpan([],HJ(g,Q,!0),Q);u.depth=y.depth,u.height=y.height,b.push({type:"elem",elem:u,shift:k})}for(X=0,v=0;X<q||v<$.length;++X,++v){var i=$[v]||{},e=!0;while(i.type==="separator"){if(!e)h=T0.makeSpan(["arraycolsep"],[]),h.style.width=Q9(Q.fontMetrics().doubleRuleSep),f.push(h);if(i.separator==="|"||i.separator===":"){var J0=i.separator==="|"?"solid":"dashed",z0=T0.makeSpan(["vertical-separator"],[],Q);z0.style.height=Q9(D),z0.style.borderRightWidth=Q9(H),z0.style.borderRightStyle=J0,z0.style.margin="0 "+Q9(-H/2);var t=D-S;if(t)z0.style.verticalAlign=Q9(-t);f.push(z0)}else throw new a0("Invalid separator type: "+i.separator);v++,i=$[v]||{},e=!1}if(X>=q)continue;var B0=void 0;if(X>0||J.hskipBeforeAndAfter){if(B0=v9.deflt(i.pregap,F),B0!==0)h=T0.makeSpan(["arraycolsep"],[]),h.style.width=Q9(B0),f.push(h)}var X0=[];for(K=0;K<U;++K){var d=z[K],o=d[X];if(!o)continue;var a=d.pos-S;o.depth=d.depth,o.height=d.height,X0.push({type:"elem",elem:o,shift:a})}if(X0=T0.makeVList({positionType:"individualShift",children:X0},Q),X0=T0.makeSpan(["col-align-"+(i.align||"c")],[X0]),f.push(X0),X<q-1||J.hskipBeforeAndAfter){if(B0=v9.deflt(i.postgap,F),B0!==0)h=T0.makeSpan(["arraycolsep"],[]),h.style.width=Q9(B0),f.push(h)}}if(z=T0.makeSpan(["mtable"],f),G.length>0){var Q0=T0.makeLineSpan("hline",Q,H),K0=T0.makeLineSpan("hdashline",Q,H),A0=[{type:"elem",elem:z,shift:0}];while(G.length>0){var r=G.pop(),v0=r.pos-S;if(r.isDashed)A0.push({type:"elem",elem:K0,shift:v0});else A0.push({type:"elem",elem:Q0,shift:v0})}z=T0.makeVList({positionType:"individualShift",children:A0},Q)}if(b.length===0)return T0.makeSpan(["mord"],[z],Q);else{var Y0=T0.makeVList({positionType:"individualShift",children:b},Q);return Y0=T0.makeSpan(["tag"],[Y0],Q),T0.makeFragment([z,Y0])}},N10,S4=function Z(J,Q){var K=[],X=new n0.MathNode("mtd",[],["mtr-glue"]),U=new n0.MathNode("mtd",[],["mml-eqn-num"]);for(var Y=0;Y<J.body.length;Y++){var q=J.body[Y],z=[];for(var G=0;G<q.length;G++)z.push(new n0.MathNode("mtd",[n8(q[G],Q)]));if(J.tags&&J.tags[Y])if(z.unshift(X),z.push(X),J.leqno)z.unshift(U);else z.push(U);K.push(new n0.MathNode("mtr",z))}var H=new n0.MathNode("mtable",K),W=J.arraystretch===0.5?0.1:0.16+J.arraystretch-1+(J.addJot?0.09:0);H.setAttribute("rowspacing",Q9(W));var F="",M="";if(J.cols&&J.cols.length>0){var B=J.cols,O="",A=!1,L=0,I=B.length;if(B[0].type==="separator")F+="top ",L=1;if(B[B.length-1].type==="separator")F+="bottom ",I-=1;for(var D=L;D<I;D++)if(B[D].type==="align"){if(M+=N10[B[D].align],A)O+="none ";A=!0}else if(B[D].type==="separator"){if(A)O+=B[D].separator==="|"?"solid ":"dashed ",A=!1}if(H.setAttribute("columnalign",M.trim()),/[sd]/.test(O))H.setAttribute("columnlines",O.trim())}if(J.colSeparationType==="align"){var w=J.cols||[],N="";for(var E=1;E<w.length;E++)N+=E%2?"0em ":"1em ";H.setAttribute("columnspacing",N.trim())}else if(J.colSeparationType==="alignat"||J.colSeparationType==="gather")H.setAttribute("columnspacing","0em");else if(J.colSeparationType==="small")H.setAttribute("columnspacing","0.2778em");else if(J.colSeparationType==="CD")H.setAttribute("columnspacing","0.5em");else H.setAttribute("columnspacing","1em");var j="",P=J.hLinesBeforeRow;F+=P[0].length>0?"left ":"",F+=P[P.length-1].length>0?"right ":"";for(var C=1;C<P.length-1;C++)j+=P[C].length===0?"none ":P[C][0]?"dashed ":"solid ";if(/[sd]/.test(j))H.setAttribute("rowlines",j.trim());if(F!=="")H=new n0.MathNode("menclose",[H]),H.setAttribute("notation",F.trim());if(J.arraystretch&&J.arraystretch<1)H=new n0.MathNode("mstyle",[H]),H.setAttribute("scriptlevel","1");return H},Oh=function Z(J,Q){if(J.envName.indexOf("ed")===-1)H2(J);var K=[],X=J.envName.indexOf("at")>-1?"alignat":"align",U=J.envName==="split",Y=d5(J.parser,{cols:K,addJot:!0,autoTag:U?void 0:CN(J.envName),emptySingleRow:!0,colSeparationType:X,maxNumCols:U?2:void 0,leqno:J.parser.settings.leqno},"display"),q,z=0,G={type:"ordgroup",mode:J.mode,body:[]};if(Q[0]&&Q[0].type==="ordgroup"){var H="";for(var W=0;W<Q[0].body.length;W++){var F=o9(Q[0].body[W],"textord");H+=F.text}q=Number(H),z=q*2}var M=!z;Y.body.forEach(function(L){for(var I=1;I<L.length;I+=2){var D=o9(L[I],"styling"),w=o9(D.body[0],"ordgroup");w.body.unshift(G)}if(!M){var N=L.length/2;if(q<N)throw new a0("Too many math in a row: "+("expected "+q+", but got "+N),L[0])}else if(z<L.length)z=L.length});for(var B=0;B<z;++B){var O="r",A=0;if(B%2===1)O="l";else if(B>0&&M)A=1;K[B]={type:"align",align:O,pregap:A,postgap:0}}return Y.colSeparationType=M?"align":"alignat",Y},Ix,Ah=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return M8(Z.body,K)},Lh=(Z,J)=>{var Q=Z.font,K=J.withFont(Q);return n8(Z.body,K)},Dx,Ih=(Z,J)=>{var Q=J;if(Z==="display")Q=Q.id>=$9.SCRIPT.id?Q.text():$9.DISPLAY;else if(Z==="text"&&Q.size===$9.DISPLAY.size)Q=$9.TEXT;else if(Z==="script")Q=$9.SCRIPT;else if(Z==="scriptscript")Q=$9.SCRIPTSCRIPT;return Q},VN=(Z,J)=>{var Q=Ih(Z.size,J.style),K=Q.fracNum(),X=Q.fracDen(),U;U=J.havingStyle(K);var Y=M8(Z.numer,U,J);if(Z.continued){var q=8.5/J.fontMetrics().ptPerEm,z=3.5/J.fontMetrics().ptPerEm;Y.height=Y.height<q?q:Y.height,Y.depth=Y.depth<z?z:Y.depth}U=J.havingStyle(X);var G=M8(Z.denom,U,J),H,W,F;if(Z.hasBarLine){if(Z.barSize)W=SZ(Z.barSize,J),H=T0.makeLineSpan("frac-line",J,W);else H=T0.makeLineSpan("frac-line",J);W=H.height,F=H.height}else H=null,W=0,F=J.fontMetrics().defaultRuleThickness;var M,B,O;if(Q.size===$9.DISPLAY.size||Z.size==="display"){if(M=J.fontMetrics().num1,W>0)B=3*F;else B=7*F;O=J.fontMetrics().denom1}else{if(W>0)M=J.fontMetrics().num2,B=F;else M=J.fontMetrics().num3,B=3*F;O=J.fontMetrics().denom2}var A;if(!H){var L=M-Y.depth-(G.height-O);if(L<B)M+=0.5*(B-L),O+=0.5*(B-L);A=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:Y,shift:-M}]},J)}else{var I=J.fontMetrics().axisHeight;if(M-Y.depth-(I+0.5*W)<B)M+=B-(M-Y.depth-(I+0.5*W));if(I-0.5*W-(G.height-O)<B)O+=B-(I-0.5*W-(G.height-O));var D=-(I-0.5*W);A=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:O},{type:"elem",elem:H,shift:D},{type:"elem",elem:Y,shift:-M}]},J)}U=J.havingStyle(Q),A.height*=U.sizeMultiplier/J.sizeMultiplier,A.depth*=U.sizeMultiplier/J.sizeMultiplier;var w;if(Q.size===$9.DISPLAY.size)w=J.fontMetrics().delim1;else if(Q.size===$9.SCRIPTSCRIPT.size)w=J.havingStyle($9.SCRIPT).fontMetrics().delim2;else w=J.fontMetrics().delim2;var N,E;if(Z.leftDelim==null)N=bG(J,["mopen"]);else N=bK.customSizedDelim(Z.leftDelim,w,!0,J.havingStyle(Q),Z.mode,["mopen"]);if(Z.continued)E=T0.makeSpan([]);else if(Z.rightDelim==null)E=bG(J,["mclose"]);else E=bK.customSizedDelim(Z.rightDelim,w,!0,J.havingStyle(Q),Z.mode,["mclose"]);return T0.makeSpan(["mord"].concat(U.sizingClasses(J)),[N,T0.makeSpan(["mfrac"],[A]),E],J)},SN=(Z,J)=>{var Q=new n0.MathNode("mfrac",[n8(Z.numer,J),n8(Z.denom,J)]);if(!Z.hasBarLine)Q.setAttribute("linethickness","0px");else if(Z.barSize){var K=SZ(Z.barSize,J);Q.setAttribute("linethickness",Q9(K))}var X=Ih(Z.size,J.style);if(X.size!==J.style.size){Q=new n0.MathNode("mstyle",[Q]);var U=X.size===$9.DISPLAY.size?"true":"false";Q.setAttribute("displaystyle",U),Q.setAttribute("scriptlevel","0")}if(Z.leftDelim!=null||Z.rightDelim!=null){var Y=[];if(Z.leftDelim!=null){var q=new n0.MathNode("mo",[new n0.TextNode(Z.leftDelim.replace("\\",""))]);q.setAttribute("fence","true"),Y.push(q)}if(Y.push(Q),Z.rightDelim!=null){var z=new n0.MathNode("mo",[new n0.TextNode(Z.rightDelim.replace("\\",""))]);z.setAttribute("fence","true"),Y.push(z)}return LN(Y)}return Q},Nx,Ex=function Z(J){var Q=null;if(J.length>0)Q=J,Q=Q==="."?null:Q;return Q},Dh=(Z,J)=>{var Q=J.style,K,X;if(Z.type==="supsub")K=Z.sup?M8(Z.sup,J.havingStyle(Q.sup()),J):M8(Z.sub,J.havingStyle(Q.sub()),J),X=o9(Z.base,"horizBrace");else X=o9(Z,"horizBrace");var U=M8(X.base,J.havingBaseStyle($9.DISPLAY)),Y=yK.svgSpan(X,J),q;if(X.isOver)q=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:U},{type:"kern",size:0.1},{type:"elem",elem:Y}]},J),q.children[0].children[0].children[1].classes.push("svg-align");else q=T0.makeVList({positionType:"bottom",positionData:U.depth+0.1+Y.height,children:[{type:"elem",elem:Y},{type:"kern",size:0.1},{type:"elem",elem:U}]},J),q.children[0].children[0].children[0].classes.push("svg-align");if(K){var z=T0.makeSpan(["mord",X.isOver?"mover":"munder"],[q],J);if(X.isOver)q=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:0.2},{type:"elem",elem:K}]},J);else q=T0.makeVList({positionType:"bottom",positionData:z.depth+0.2+K.height+K.depth,children:[{type:"elem",elem:K},{type:"kern",size:0.2},{type:"elem",elem:z}]},J)}return T0.makeSpan(["mord",X.isOver?"mover":"munder"],[q],J)},E10=(Z,J)=>{var Q=yK.mathMLnode(Z.label);return new n0.MathNode(Z.isOver?"mover":"munder",[n8(Z.base,J),Q])},QN=function Z(J){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(J))return{number:+J,unit:"bp"};else{var Q=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(J);if(!Q)throw new a0("Invalid size: '"+J+"' in \\includegraphics");var K={number:+(Q[1]+Q[2]),unit:Q[3]};if(!hx(K))throw new a0("Invalid unit: '"+K.unit+"' in \\includegraphics.");return K}},wx=(Z,J)=>{switch(J.style.size){case $9.DISPLAY.size:return Z.display;case $9.TEXT.size:return Z.text;case $9.SCRIPT.size:return Z.script;case $9.SCRIPTSCRIPT.size:return Z.scriptscript;default:return Z.text}},Nh=(Z,J,Q,K,X,U,Y)=>{Z=T0.makeSpan([],[Z]);var q=Q&&v9.isCharacterBox(Q),z,G;if(J){var H=M8(J,K.havingStyle(X.sup()),K);G={elem:H,kern:Math.max(K.fontMetrics().bigOpSpacing1,K.fontMetrics().bigOpSpacing3-H.depth)}}if(Q){var W=M8(Q,K.havingStyle(X.sub()),K);z={elem:W,kern:Math.max(K.fontMetrics().bigOpSpacing2,K.fontMetrics().bigOpSpacing4-W.height)}}var F;if(G&&z){var M=K.fontMetrics().bigOpSpacing5+z.elem.height+z.elem.depth+z.kern+Z.depth+Y;F=T0.makeVList({positionType:"bottom",positionData:M,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:z.elem,marginLeft:Q9(-U)},{type:"kern",size:z.kern},{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:Q9(U)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else if(z){var B=Z.height-Y;F=T0.makeVList({positionType:"top",positionData:B,children:[{type:"kern",size:K.fontMetrics().bigOpSpacing5},{type:"elem",elem:z.elem,marginLeft:Q9(-U)},{type:"kern",size:z.kern},{type:"elem",elem:Z}]},K)}else if(G){var O=Z.depth+Y;F=T0.makeVList({positionType:"bottom",positionData:O,children:[{type:"elem",elem:Z},{type:"kern",size:G.kern},{type:"elem",elem:G.elem,marginLeft:Q9(U)},{type:"kern",size:K.fontMetrics().bigOpSpacing5}]},K)}else return Z;var A=[F];if(z&&U!==0&&!q){var L=T0.makeSpan(["mspace"],[],K);L.style.marginRight=Q9(U),A.unshift(L)}return T0.makeSpan(["mop","op-limits"],A,K)},Eh,Aq=(Z,J)=>{var Q,K,X=!1,U;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,U=o9(Z.base,"op"),X=!0;else U=o9(Z,"op");var Y=J.style,q=!1;if(Y.size===$9.DISPLAY.size&&U.symbol&&!v9.contains(Eh,U.name))q=!0;var z;if(U.symbol){var G=q?"Size2-Regular":"Size1-Regular",H="";if(U.name==="\\oiint"||U.name==="\\oiiint")H=U.name.slice(1),U.name=H==="oiint"?"\\iint":"\\iiint";if(z=T0.makeSymbol(U.name,G,"math",J,["mop","op-symbol",q?"large-op":"small-op"]),H.length>0){var W=z.italic,F=T0.staticSvg(H+"Size"+(q?"2":"1"),J);z=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:z,shift:0},{type:"elem",elem:F,shift:q?0.08:0}]},J),U.name="\\"+H,z.classes.unshift("mop"),z.italic=W}}else if(U.body){var M=HJ(U.body,J,!0);if(M.length===1&&M[0]instanceof V6)z=M[0],z.classes[0]="mop";else z=T0.makeSpan(["mop"],M,J)}else{var B=[];for(var O=1;O<U.name.length;O++)B.push(T0.mathsym(U.name[O],U.mode,J));z=T0.makeSpan(["mop"],B,J)}var A=0,L=0;if((z instanceof V6||U.name==="\\oiint"||U.name==="\\oiiint")&&!U.suppressBaseShift)A=(z.height-z.depth)/2-J.fontMetrics().axisHeight,L=z.italic;if(X)return Nh(z,Q,K,J,Y,L,A);else{if(A)z.style.position="relative",z.style.top=Q9(A);return z}},xG=(Z,J)=>{var Q;if(Z.symbol){if(Q=new P6("mo",[JQ(Z.name,Z.mode)]),v9.contains(Eh,Z.name))Q.setAttribute("largeop","false")}else if(Z.body)Q=new P6("mo",r7(Z.body,J));else{Q=new P6("mi",[new Fq(Z.name.slice(1))]);var K=new P6("mo",[JQ("\u2061","text")]);if(Z.parentIsSupSub)Q=new P6("mrow",[Q,K]);else Q=nx([Q,K])}return Q},w10,j10,wh=(Z,J)=>{var Q,K,X=!1,U;if(Z.type==="supsub")Q=Z.sup,K=Z.sub,U=o9(Z.base,"operatorname"),X=!0;else U=o9(Z,"operatorname");var Y;if(U.body.length>0){var q=U.body.map((W)=>{var F=W.text;if(typeof F==="string")return{type:"textord",mode:W.mode,text:F};else return W}),z=HJ(q,J.withFont("mathrm"),!0);for(var G=0;G<z.length;G++){var H=z[G];if(H instanceof V6)H.text=H.text.replace(/\u2212/,"-").replace(/\u2217/,"*")}Y=T0.makeSpan(["mop"],z,J)}else Y=T0.makeSpan(["mop"],[],J);if(X)return Nh(Y,Q,K,J,J.style,0,0);else return Y},C10=(Z,J)=>{var Q=r7(Z.body,J.withFont("mathrm")),K=!0;for(var X=0;X<Q.length;X++){var U=Q[X];if(U instanceof n0.SpaceNode);else if(U instanceof n0.MathNode)switch(U.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var Y=U.children[0];if(U.children.length===1&&Y instanceof n0.TextNode)Y.text=Y.text.replace(/\u2212/,"-").replace(/\u2217/,"*");else K=!1;break}default:K=!1}else K=!1}if(K){var q=Q.map((H)=>H.toText()).join("");Q=[new n0.TextNode(q)]}var z=new n0.MathNode("mi",Q);z.setAttribute("mathvariant","normal");var G=new n0.MathNode("mo",[JQ("\u2061","text")]);if(Z.parentIsSupSub)return new n0.MathNode("mrow",[z,G]);else return n0.newDocumentFragment([z,G])},jx,P10=(Z,J)=>{var Q=J.havingSize(Z.size);return jh(Z.body,Q,J)},Cx,V10=function Z(J,Q){var K=J.base;if(!K)return null;else if(K.type==="op"){var X=K.limits&&(Q.style.size===$9.DISPLAY.size||K.alwaysHandleSupSub);return X?Aq:null}else if(K.type==="operatorname"){var U=K.alwaysHandleSupSub&&(Q.style.size===$9.DISPLAY.size||K.limits);return U?wh:null}else if(K.type==="accent")return v9.isCharacterBox(K.base)?NN:null;else if(K.type==="horizBrace"){var Y=!J.sub;return Y===K.isOver?Dh:null}else return null},Ch,KN,XN,Px=()=>{var Z=new n0.MathNode("mtd",[]);return Z.setAttribute("width","50%"),Z},Vx,Sx,S10,Tx=(Z,J)=>{var Q=Z.font;if(!Q)return J;else if(Vx[Q])return J.withTextFontFamily(Vx[Q]);else if(Sx[Q])return J.withTextFontWeight(Sx[Q]);else if(Q==="\\emph")return J.fontShape==="textit"?J.withTextFontShape("textup"):J.withTextFontShape("textit");return J.withTextFontShape(S10[Q])},fx=(Z)=>Z.body.replace(/ /g,Z.star?"\u2423":"\xA0"),p5,Ph="[ \r\n\t]",T10="\\\\[a-zA-Z@]+",f10="\\\\[^\uD800-\uDFFF]",v10,k10="\\\\(\n|[ \r\t]+\n?)[ \r\t]*",MN="[\u0300-\u036F]",$10,_10,b10,vx,TN=(Z,J,Q)=>{var K=Z.consumeArg().tokens;if(K.length!==1)throw new a0("\\newcommand's first argument must be a macro name");var X=K[0].text,U=Z.isDefined(X);if(U&&!J)throw new a0("\\newcommand{"+X+"} attempting to redefine "+(X+"; use \\renewcommand"));if(!U&&!Q)throw new a0("\\renewcommand{"+X+"} when command "+X+" does not yet exist; use \\newcommand");var Y=0;if(K=Z.consumeArg().tokens,K.length===1&&K[0].text==="["){var q="",z=Z.expandNextToken();while(z.text!=="]"&&z.text!=="EOF")q+=z.text,z=Z.expandNextToken();if(!q.match(/^\s*[0-9]+\s*$/))throw new a0("Invalid number of arguments: "+q);Y=parseInt(q),K=Z.consumeArg().tokens}return Z.macros.set(X,{tokens:K,numArgs:Y}),""},kx,fN,Sh,Th=(Z)=>(J)=>{var Q=J.consumeArg().tokens,K=J.consumeArg().tokens,X=J.consumeArg().tokens,U=J.consumeArg().tokens,Y=J.macros.get("|"),q=J.macros.get("\\|");J.macros.beginGroup();var z=(W)=>(F)=>{if(Z){if(F.macros.set("|",Y),X.length)F.macros.set("\\|",q)}var M=W;if(!W&&X.length){var B=F.future();if(B.text==="|")F.popToken(),M=!0}return{tokens:M?X:K,numArgs:0}};if(J.macros.set("|",z(!1)),X.length)J.macros.set("\\|",z(!0));var G=J.consumeArg().tokens,H=J.expandTokens([...U,...G,...Q]);return J.macros.endGroup(),{tokens:H.reverse(),numArgs:0}},fh,$x,rM,UN,_x,vN=function Z(J,Q){if(!(typeof J==="string"||J instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var K=new W2(J,Q);delete K.gullet.macros.current["\\df@tag"];var X=K.parse();if(delete K.gullet.macros.current["\\current@color"],delete K.gullet.macros.current["\\color"],K.gullet.macros.get("\\df@tag")){if(!Q.displayMode)throw new a0("\\tag works only in display equations");X=[{type:"tag",mode:"text",body:X,tag:K.subparse([new ZQ("\\df@tag")])}]}return X},kh=function Z(J,Q,K){Q.textContent="";var X=kN(J,K).toNode();Q.appendChild(X)},x10=function Z(J,Q){var K=kN(J,Q).toMarkup();return K},h10=function Z(J,Q){var K=new K2(Q);return vN(J,K)},$h=function Z(J,Q,K){if(K.throwOnError||!(J instanceof a0))throw J;var X=T0.makeSpan(["katex-error"],[new V6(Q)]);return X.setAttribute("title",J.toString()),X.setAttribute("style","color:"+K.errorColor),X},kN=function Z(J,Q){var K=new K2(Q);try{var X=vN(J,K);return rq0(X,J,K)}catch(U){return $h(U,J,K)}},y10=function Z(J,Q){var K=new K2(Q);try{var X=vN(J,K);return nq0(X,J,K)}catch(U){return $h(U,J,K)}},u10;var bh=_(()=>{a0.prototype.__proto__=Error.prototype;rY0=/([A-Z])/g,aY0={"&":"&amp;",">":"&gt;","<":"&lt;","\"":"&quot;","'":"&#x27;"},oY0=/[&><"']/g,v9={contains:iY0,deflt:sY0,escape:tY0,hyphenate:nY0,getBaseElem:bx,isCharacterBox:eY0,protocolFromUrl:Jq0},nM={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:(Z)=>"#"+Z},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(Z,J)=>{return J.push(Z),J}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:(Z)=>Math.max(0,Z),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:(Z)=>Math.max(0,Z),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1000,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:(Z)=>Math.max(0,Z),cli:"-e, --max-expand <n>",cliProcessor:(Z)=>Z==="Infinity"?1/0:parseInt(Z)},globalGroup:{type:"boolean",cli:!1}};w4=[new kK(RN,0,!1),new kK(oM,0,!0),new kK(Wq,1,!1),new kK(_K,1,!0),new kK(_G,2,!1),new kK(e6,2,!0),new kK(Mq,3,!1),new kK(S7,3,!0)],Kq0=[_G,e6,_G,e6,Mq,S7,Mq,S7],Xq0=[e6,e6,e6,e6,S7,S7,S7,S7],Uq0=[Wq,_K,_G,e6,Mq,S7,Mq,S7],Yq0=[_K,_K,e6,e6,S7,S7,S7,S7],qq0=[oM,oM,_K,_K,e6,e6,S7,S7],zq0=[RN,oM,Wq,_K,Wq,_K,Wq,_K],$9={DISPLAY:w4[RN],TEXT:w4[Wq],SCRIPT:w4[_G],SCRIPTSCRIPT:w4[Mq]},YN=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],aM=[];YN.forEach((Z)=>Z.blocks.forEach((J)=>aM.push(...J)));Xx={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};j4={"AMS-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68889,0,0,0.72222],"66":[0,0.68889,0,0,0.66667],"67":[0,0.68889,0,0,0.72222],"68":[0,0.68889,0,0,0.72222],"69":[0,0.68889,0,0,0.66667],"70":[0,0.68889,0,0,0.61111],"71":[0,0.68889,0,0,0.77778],"72":[0,0.68889,0,0,0.77778],"73":[0,0.68889,0,0,0.38889],"74":[0.16667,0.68889,0,0,0.5],"75":[0,0.68889,0,0,0.77778],"76":[0,0.68889,0,0,0.66667],"77":[0,0.68889,0,0,0.94445],"78":[0,0.68889,0,0,0.72222],"79":[0.16667,0.68889,0,0,0.77778],"80":[0,0.68889,0,0,0.61111],"81":[0.16667,0.68889,0,0,0.77778],"82":[0,0.68889,0,0,0.72222],"83":[0,0.68889,0,0,0.55556],"84":[0,0.68889,0,0,0.66667],"85":[0,0.68889,0,0,0.72222],"86":[0,0.68889,0,0,0.72222],"87":[0,0.68889,0,0,1],"88":[0,0.68889,0,0,0.72222],"89":[0,0.68889,0,0,0.72222],"90":[0,0.68889,0,0,0.66667],"107":[0,0.68889,0,0,0.55556],"160":[0,0,0,0,0.25],"165":[0,0.675,0.025,0,0.75],"174":[0.15559,0.69224,0,0,0.94666],"240":[0,0.68889,0,0,0.55556],"295":[0,0.68889,0,0,0.54028],"710":[0,0.825,0,0,2.33334],"732":[0,0.9,0,0,2.33334],"770":[0,0.825,0,0,2.33334],"771":[0,0.9,0,0,2.33334],"989":[0.08167,0.58167,0,0,0.77778],"1008":[0,0.43056,0.04028,0,0.66667],"8245":[0,0.54986,0,0,0.275],"8463":[0,0.68889,0,0,0.54028],"8487":[0,0.68889,0,0,0.72222],"8498":[0,0.68889,0,0,0.55556],"8502":[0,0.68889,0,0,0.66667],"8503":[0,0.68889,0,0,0.44445],"8504":[0,0.68889,0,0,0.66667],"8513":[0,0.68889,0,0,0.63889],"8592":[-0.03598,0.46402,0,0,0.5],"8594":[-0.03598,0.46402,0,0,0.5],"8602":[-0.13313,0.36687,0,0,1],"8603":[-0.13313,0.36687,0,0,1],"8606":[0.01354,0.52239,0,0,1],"8608":[0.01354,0.52239,0,0,1],"8610":[0.01354,0.52239,0,0,1.11111],"8611":[0.01354,0.52239,0,0,1.11111],"8619":[0,0.54986,0,0,1],"8620":[0,0.54986,0,0,1],"8621":[-0.13313,0.37788,0,0,1.38889],"8622":[-0.13313,0.36687,0,0,1],"8624":[0,0.69224,0,0,0.5],"8625":[0,0.69224,0,0,0.5],"8630":[0,0.43056,0,0,1],"8631":[0,0.43056,0,0,1],"8634":[0.08198,0.58198,0,0,0.77778],"8635":[0.08198,0.58198,0,0,0.77778],"8638":[0.19444,0.69224,0,0,0.41667],"8639":[0.19444,0.69224,0,0,0.41667],"8642":[0.19444,0.69224,0,0,0.41667],"8643":[0.19444,0.69224,0,0,0.41667],"8644":[0.1808,0.675,0,0,1],"8646":[0.1808,0.675,0,0,1],"8647":[0.1808,0.675,0,0,1],"8648":[0.19444,0.69224,0,0,0.83334],"8649":[0.1808,0.675,0,0,1],"8650":[0.19444,0.69224,0,0,0.83334],"8651":[0.01354,0.52239,0,0,1],"8652":[0.01354,0.52239,0,0,1],"8653":[-0.13313,0.36687,0,0,1],"8654":[-0.13313,0.36687,0,0,1],"8655":[-0.13313,0.36687,0,0,1],"8666":[0.13667,0.63667,0,0,1],"8667":[0.13667,0.63667,0,0,1],"8669":[-0.13313,0.37788,0,0,1],"8672":[-0.064,0.437,0,0,1.334],"8674":[-0.064,0.437,0,0,1.334],"8705":[0,0.825,0,0,0.5],"8708":[0,0.68889,0,0,0.55556],"8709":[0.08167,0.58167,0,0,0.77778],"8717":[0,0.43056,0,0,0.42917],"8722":[-0.03598,0.46402,0,0,0.5],"8724":[0.08198,0.69224,0,0,0.77778],"8726":[0.08167,0.58167,0,0,0.77778],"8733":[0,0.69224,0,0,0.77778],"8736":[0,0.69224,0,0,0.72222],"8737":[0,0.69224,0,0,0.72222],"8738":[0.03517,0.52239,0,0,0.72222],"8739":[0.08167,0.58167,0,0,0.22222],"8740":[0.25142,0.74111,0,0,0.27778],"8741":[0.08167,0.58167,0,0,0.38889],"8742":[0.25142,0.74111,0,0,0.5],"8756":[0,0.69224,0,0,0.66667],"8757":[0,0.69224,0,0,0.66667],"8764":[-0.13313,0.36687,0,0,0.77778],"8765":[-0.13313,0.37788,0,0,0.77778],"8769":[-0.13313,0.36687,0,0,0.77778],"8770":[-0.03625,0.46375,0,0,0.77778],"8774":[0.30274,0.79383,0,0,0.77778],"8776":[-0.01688,0.48312,0,0,0.77778],"8778":[0.08167,0.58167,0,0,0.77778],"8782":[0.06062,0.54986,0,0,0.77778],"8783":[0.06062,0.54986,0,0,0.77778],"8785":[0.08198,0.58198,0,0,0.77778],"8786":[0.08198,0.58198,0,0,0.77778],"8787":[0.08198,0.58198,0,0,0.77778],"8790":[0,0.69224,0,0,0.77778],"8791":[0.22958,0.72958,0,0,0.77778],"8796":[0.08198,0.91667,0,0,0.77778],"8806":[0.25583,0.75583,0,0,0.77778],"8807":[0.25583,0.75583,0,0,0.77778],"8808":[0.25142,0.75726,0,0,0.77778],"8809":[0.25142,0.75726,0,0,0.77778],"8812":[0.25583,0.75583,0,0,0.5],"8814":[0.20576,0.70576,0,0,0.77778],"8815":[0.20576,0.70576,0,0,0.77778],"8816":[0.30274,0.79383,0,0,0.77778],"8817":[0.30274,0.79383,0,0,0.77778],"8818":[0.22958,0.72958,0,0,0.77778],"8819":[0.22958,0.72958,0,0,0.77778],"8822":[0.1808,0.675,0,0,0.77778],"8823":[0.1808,0.675,0,0,0.77778],"8828":[0.13667,0.63667,0,0,0.77778],"8829":[0.13667,0.63667,0,0,0.77778],"8830":[0.22958,0.72958,0,0,0.77778],"8831":[0.22958,0.72958,0,0,0.77778],"8832":[0.20576,0.70576,0,0,0.77778],"8833":[0.20576,0.70576,0,0,0.77778],"8840":[0.30274,0.79383,0,0,0.77778],"8841":[0.30274,0.79383,0,0,0.77778],"8842":[0.13597,0.63597,0,0,0.77778],"8843":[0.13597,0.63597,0,0,0.77778],"8847":[0.03517,0.54986,0,0,0.77778],"8848":[0.03517,0.54986,0,0,0.77778],"8858":[0.08198,0.58198,0,0,0.77778],"8859":[0.08198,0.58198,0,0,0.77778],"8861":[0.08198,0.58198,0,0,0.77778],"8862":[0,0.675,0,0,0.77778],"8863":[0,0.675,0,0,0.77778],"8864":[0,0.675,0,0,0.77778],"8865":[0,0.675,0,0,0.77778],"8872":[0,0.69224,0,0,0.61111],"8873":[0,0.69224,0,0,0.72222],"8874":[0,0.69224,0,0,0.88889],"8876":[0,0.68889,0,0,0.61111],"8877":[0,0.68889,0,0,0.61111],"8878":[0,0.68889,0,0,0.72222],"8879":[0,0.68889,0,0,0.72222],"8882":[0.03517,0.54986,0,0,0.77778],"8883":[0.03517,0.54986,0,0,0.77778],"8884":[0.13667,0.63667,0,0,0.77778],"8885":[0.13667,0.63667,0,0,0.77778],"8888":[0,0.54986,0,0,1.11111],"8890":[0.19444,0.43056,0,0,0.55556],"8891":[0.19444,0.69224,0,0,0.61111],"8892":[0.19444,0.69224,0,0,0.61111],"8901":[0,0.54986,0,0,0.27778],"8903":[0.08167,0.58167,0,0,0.77778],"8905":[0.08167,0.58167,0,0,0.77778],"8906":[0.08167,0.58167,0,0,0.77778],"8907":[0,0.69224,0,0,0.77778],"8908":[0,0.69224,0,0,0.77778],"8909":[-0.03598,0.46402,0,0,0.77778],"8910":[0,0.54986,0,0,0.76042],"8911":[0,0.54986,0,0,0.76042],"8912":[0.03517,0.54986,0,0,0.77778],"8913":[0.03517,0.54986,0,0,0.77778],"8914":[0,0.54986,0,0,0.66667],"8915":[0,0.54986,0,0,0.66667],"8916":[0,0.69224,0,0,0.66667],"8918":[0.0391,0.5391,0,0,0.77778],"8919":[0.0391,0.5391,0,0,0.77778],"8920":[0.03517,0.54986,0,0,1.33334],"8921":[0.03517,0.54986,0,0,1.33334],"8922":[0.38569,0.88569,0,0,0.77778],"8923":[0.38569,0.88569,0,0,0.77778],"8926":[0.13667,0.63667,0,0,0.77778],"8927":[0.13667,0.63667,0,0,0.77778],"8928":[0.30274,0.79383,0,0,0.77778],"8929":[0.30274,0.79383,0,0,0.77778],"8934":[0.23222,0.74111,0,0,0.77778],"8935":[0.23222,0.74111,0,0,0.77778],"8936":[0.23222,0.74111,0,0,0.77778],"8937":[0.23222,0.74111,0,0,0.77778],"8938":[0.20576,0.70576,0,0,0.77778],"8939":[0.20576,0.70576,0,0,0.77778],"8940":[0.30274,0.79383,0,0,0.77778],"8941":[0.30274,0.79383,0,0,0.77778],"8994":[0.19444,0.69224,0,0,0.77778],"8995":[0.19444,0.69224,0,0,0.77778],"9416":[0.15559,0.69224,0,0,0.90222],"9484":[0,0.69224,0,0,0.5],"9488":[0,0.69224,0,0,0.5],"9492":[0,0.37788,0,0,0.5],"9496":[0,0.37788,0,0,0.5],"9585":[0.19444,0.68889,0,0,0.88889],"9586":[0.19444,0.74111,0,0,0.88889],"9632":[0,0.675,0,0,0.77778],"9633":[0,0.675,0,0,0.77778],"9650":[0,0.54986,0,0,0.72222],"9651":[0,0.54986,0,0,0.72222],"9654":[0.03517,0.54986,0,0,0.77778],"9660":[0,0.54986,0,0,0.72222],"9661":[0,0.54986,0,0,0.72222],"9664":[0.03517,0.54986,0,0,0.77778],"9674":[0.11111,0.69224,0,0,0.66667],"9733":[0.19444,0.69224,0,0,0.94445],"10003":[0,0.69224,0,0,0.83334],"10016":[0,0.69224,0,0,0.83334],"10731":[0.11111,0.69224,0,0,0.66667],"10846":[0.19444,0.75583,0,0,0.61111],"10877":[0.13667,0.63667,0,0,0.77778],"10878":[0.13667,0.63667,0,0,0.77778],"10885":[0.25583,0.75583,0,0,0.77778],"10886":[0.25583,0.75583,0,0,0.77778],"10887":[0.13597,0.63597,0,0,0.77778],"10888":[0.13597,0.63597,0,0,0.77778],"10889":[0.26167,0.75726,0,0,0.77778],"10890":[0.26167,0.75726,0,0,0.77778],"10891":[0.48256,0.98256,0,0,0.77778],"10892":[0.48256,0.98256,0,0,0.77778],"10901":[0.13667,0.63667,0,0,0.77778],"10902":[0.13667,0.63667,0,0,0.77778],"10933":[0.25142,0.75726,0,0,0.77778],"10934":[0.25142,0.75726,0,0,0.77778],"10935":[0.26167,0.75726,0,0,0.77778],"10936":[0.26167,0.75726,0,0,0.77778],"10937":[0.26167,0.75726,0,0,0.77778],"10938":[0.26167,0.75726,0,0,0.77778],"10949":[0.25583,0.75583,0,0,0.77778],"10950":[0.25583,0.75583,0,0,0.77778],"10955":[0.28481,0.79383,0,0,0.77778],"10956":[0.28481,0.79383,0,0,0.77778],"57350":[0.08167,0.58167,0,0,0.22222],"57351":[0.08167,0.58167,0,0,0.38889],"57352":[0.08167,0.58167,0,0,0.77778],"57353":[0,0.43056,0.04028,0,0.66667],"57356":[0.25142,0.75726,0,0,0.77778],"57357":[0.25142,0.75726,0,0,0.77778],"57358":[0.41951,0.91951,0,0,0.77778],"57359":[0.30274,0.79383,0,0,0.77778],"57360":[0.30274,0.79383,0,0,0.77778],"57361":[0.41951,0.91951,0,0,0.77778],"57366":[0.25142,0.75726,0,0,0.77778],"57367":[0.25142,0.75726,0,0,0.77778],"57368":[0.25142,0.75726,0,0,0.77778],"57369":[0.25142,0.75726,0,0,0.77778],"57370":[0.13597,0.63597,0,0,0.77778],"57371":[0.13597,0.63597,0,0,0.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.68333,0,0.19445,0.79847],"66":[0,0.68333,0.03041,0.13889,0.65681],"67":[0,0.68333,0.05834,0.13889,0.52653],"68":[0,0.68333,0.02778,0.08334,0.77139],"69":[0,0.68333,0.08944,0.11111,0.52778],"70":[0,0.68333,0.09931,0.11111,0.71875],"71":[0.09722,0.68333,0.0593,0.11111,0.59487],"72":[0,0.68333,0.00965,0.11111,0.84452],"73":[0,0.68333,0.07382,0,0.54452],"74":[0.09722,0.68333,0.18472,0.16667,0.67778],"75":[0,0.68333,0.01445,0.05556,0.76195],"76":[0,0.68333,0,0.13889,0.68972],"77":[0,0.68333,0,0.13889,1.2009],"78":[0,0.68333,0.14736,0.08334,0.82049],"79":[0,0.68333,0.02778,0.11111,0.79611],"80":[0,0.68333,0.08222,0.08334,0.69556],"81":[0.09722,0.68333,0,0.11111,0.81667],"82":[0,0.68333,0,0.08334,0.8475],"83":[0,0.68333,0.075,0.13889,0.60556],"84":[0,0.68333,0.25417,0,0.54464],"85":[0,0.68333,0.09931,0.08334,0.62583],"86":[0,0.68333,0.08222,0,0.61278],"87":[0,0.68333,0.08222,0.08334,0.98778],"88":[0,0.68333,0.14643,0.13889,0.7133],"89":[0.09722,0.68333,0.08222,0.08334,0.66834],"90":[0,0.68333,0.07944,0.13889,0.72473],"160":[0,0,0,0,0.25]},"Fraktur-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69141,0,0,0.29574],"34":[0,0.69141,0,0,0.21471],"38":[0,0.69141,0,0,0.73786],"39":[0,0.69141,0,0,0.21201],"40":[0.24982,0.74947,0,0,0.38865],"41":[0.24982,0.74947,0,0,0.38865],"42":[0,0.62119,0,0,0.27764],"43":[0.08319,0.58283,0,0,0.75623],"44":[0,0.10803,0,0,0.27764],"45":[0.08319,0.58283,0,0,0.75623],"46":[0,0.10803,0,0,0.27764],"47":[0.24982,0.74947,0,0,0.50181],"48":[0,0.47534,0,0,0.50181],"49":[0,0.47534,0,0,0.50181],"50":[0,0.47534,0,0,0.50181],"51":[0.18906,0.47534,0,0,0.50181],"52":[0.18906,0.47534,0,0,0.50181],"53":[0.18906,0.47534,0,0,0.50181],"54":[0,0.69141,0,0,0.50181],"55":[0.18906,0.47534,0,0,0.50181],"56":[0,0.69141,0,0,0.50181],"57":[0.18906,0.47534,0,0,0.50181],"58":[0,0.47534,0,0,0.21606],"59":[0.12604,0.47534,0,0,0.21606],"61":[-0.13099,0.36866,0,0,0.75623],"63":[0,0.69141,0,0,0.36245],"65":[0,0.69141,0,0,0.7176],"66":[0,0.69141,0,0,0.88397],"67":[0,0.69141,0,0,0.61254],"68":[0,0.69141,0,0,0.83158],"69":[0,0.69141,0,0,0.66278],"70":[0.12604,0.69141,0,0,0.61119],"71":[0,0.69141,0,0,0.78539],"72":[0.06302,0.69141,0,0,0.7203],"73":[0,0.69141,0,0,0.55448],"74":[0.12604,0.69141,0,0,0.55231],"75":[0,0.69141,0,0,0.66845],"76":[0,0.69141,0,0,0.66602],"77":[0,0.69141,0,0,1.04953],"78":[0,0.69141,0,0,0.83212],"79":[0,0.69141,0,0,0.82699],"80":[0.18906,0.69141,0,0,0.82753],"81":[0.03781,0.69141,0,0,0.82699],"82":[0,0.69141,0,0,0.82807],"83":[0,0.69141,0,0,0.82861],"84":[0,0.69141,0,0,0.66899],"85":[0,0.69141,0,0,0.64576],"86":[0,0.69141,0,0,0.83131],"87":[0,0.69141,0,0,1.04602],"88":[0,0.69141,0,0,0.71922],"89":[0.18906,0.69141,0,0,0.83293],"90":[0.12604,0.69141,0,0,0.60201],"91":[0.24982,0.74947,0,0,0.27764],"93":[0.24982,0.74947,0,0,0.27764],"94":[0,0.69141,0,0,0.49965],"97":[0,0.47534,0,0,0.50046],"98":[0,0.69141,0,0,0.51315],"99":[0,0.47534,0,0,0.38946],"100":[0,0.62119,0,0,0.49857],"101":[0,0.47534,0,0,0.40053],"102":[0.18906,0.69141,0,0,0.32626],"103":[0.18906,0.47534,0,0,0.5037],"104":[0.18906,0.69141,0,0,0.52126],"105":[0,0.69141,0,0,0.27899],"106":[0,0.69141,0,0,0.28088],"107":[0,0.69141,0,0,0.38946],"108":[0,0.69141,0,0,0.27953],"109":[0,0.47534,0,0,0.76676],"110":[0,0.47534,0,0,0.52666],"111":[0,0.47534,0,0,0.48885],"112":[0.18906,0.52396,0,0,0.50046],"113":[0.18906,0.47534,0,0,0.48912],"114":[0,0.47534,0,0,0.38919],"115":[0,0.47534,0,0,0.44266],"116":[0,0.62119,0,0,0.33301],"117":[0,0.47534,0,0,0.5172],"118":[0,0.52396,0,0,0.5118],"119":[0,0.52396,0,0,0.77351],"120":[0.18906,0.47534,0,0,0.38865],"121":[0.18906,0.47534,0,0,0.49884],"122":[0.18906,0.47534,0,0,0.39054],"160":[0,0,0,0,0.25],"8216":[0,0.69141,0,0,0.21471],"8217":[0,0.69141,0,0,0.21471],"58112":[0,0.62119,0,0,0.49749],"58113":[0,0.62119,0,0,0.4983],"58114":[0.18906,0.69141,0,0,0.33328],"58115":[0.18906,0.69141,0,0,0.32923],"58116":[0.18906,0.47534,0,0,0.50343],"58117":[0,0.69141,0,0,0.33301],"58118":[0,0.62119,0,0,0.33409],"58119":[0,0.47534,0,0,0.50073]},"Main-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.35],"34":[0,0.69444,0,0,0.60278],"35":[0.19444,0.69444,0,0,0.95833],"36":[0.05556,0.75,0,0,0.575],"37":[0.05556,0.75,0,0,0.95833],"38":[0,0.69444,0,0,0.89444],"39":[0,0.69444,0,0,0.31944],"40":[0.25,0.75,0,0,0.44722],"41":[0.25,0.75,0,0,0.44722],"42":[0,0.75,0,0,0.575],"43":[0.13333,0.63333,0,0,0.89444],"44":[0.19444,0.15556,0,0,0.31944],"45":[0,0.44444,0,0,0.38333],"46":[0,0.15556,0,0,0.31944],"47":[0.25,0.75,0,0,0.575],"48":[0,0.64444,0,0,0.575],"49":[0,0.64444,0,0,0.575],"50":[0,0.64444,0,0,0.575],"51":[0,0.64444,0,0,0.575],"52":[0,0.64444,0,0,0.575],"53":[0,0.64444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0,0.64444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0,0.64444,0,0,0.575],"58":[0,0.44444,0,0,0.31944],"59":[0.19444,0.44444,0,0,0.31944],"60":[0.08556,0.58556,0,0,0.89444],"61":[-0.10889,0.39111,0,0,0.89444],"62":[0.08556,0.58556,0,0,0.89444],"63":[0,0.69444,0,0,0.54305],"64":[0,0.69444,0,0,0.89444],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0,0,0.81805],"67":[0,0.68611,0,0,0.83055],"68":[0,0.68611,0,0,0.88194],"69":[0,0.68611,0,0,0.75555],"70":[0,0.68611,0,0,0.72361],"71":[0,0.68611,0,0,0.90416],"72":[0,0.68611,0,0,0.9],"73":[0,0.68611,0,0,0.43611],"74":[0,0.68611,0,0,0.59444],"75":[0,0.68611,0,0,0.90138],"76":[0,0.68611,0,0,0.69166],"77":[0,0.68611,0,0,1.09166],"78":[0,0.68611,0,0,0.9],"79":[0,0.68611,0,0,0.86388],"80":[0,0.68611,0,0,0.78611],"81":[0.19444,0.68611,0,0,0.86388],"82":[0,0.68611,0,0,0.8625],"83":[0,0.68611,0,0,0.63889],"84":[0,0.68611,0,0,0.8],"85":[0,0.68611,0,0,0.88472],"86":[0,0.68611,0.01597,0,0.86944],"87":[0,0.68611,0.01597,0,1.18888],"88":[0,0.68611,0,0,0.86944],"89":[0,0.68611,0.02875,0,0.86944],"90":[0,0.68611,0,0,0.70277],"91":[0.25,0.75,0,0,0.31944],"92":[0.25,0.75,0,0,0.575],"93":[0.25,0.75,0,0,0.31944],"94":[0,0.69444,0,0,0.575],"95":[0.31,0.13444,0.03194,0,0.575],"97":[0,0.44444,0,0,0.55902],"98":[0,0.69444,0,0,0.63889],"99":[0,0.44444,0,0,0.51111],"100":[0,0.69444,0,0,0.63889],"101":[0,0.44444,0,0,0.52708],"102":[0,0.69444,0.10903,0,0.35139],"103":[0.19444,0.44444,0.01597,0,0.575],"104":[0,0.69444,0,0,0.63889],"105":[0,0.69444,0,0,0.31944],"106":[0.19444,0.69444,0,0,0.35139],"107":[0,0.69444,0,0,0.60694],"108":[0,0.69444,0,0,0.31944],"109":[0,0.44444,0,0,0.95833],"110":[0,0.44444,0,0,0.63889],"111":[0,0.44444,0,0,0.575],"112":[0.19444,0.44444,0,0,0.63889],"113":[0.19444,0.44444,0,0,0.60694],"114":[0,0.44444,0,0,0.47361],"115":[0,0.44444,0,0,0.45361],"116":[0,0.63492,0,0,0.44722],"117":[0,0.44444,0,0,0.63889],"118":[0,0.44444,0.01597,0,0.60694],"119":[0,0.44444,0.01597,0,0.83055],"120":[0,0.44444,0,0,0.60694],"121":[0.19444,0.44444,0.01597,0,0.60694],"122":[0,0.44444,0,0,0.51111],"123":[0.25,0.75,0,0,0.575],"124":[0.25,0.75,0,0,0.31944],"125":[0.25,0.75,0,0,0.575],"126":[0.35,0.34444,0,0,0.575],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.86853],"168":[0,0.69444,0,0,0.575],"172":[0,0.44444,0,0,0.76666],"176":[0,0.69444,0,0,0.86944],"177":[0.13333,0.63333,0,0,0.89444],"184":[0.17014,0,0,0,0.51111],"198":[0,0.68611,0,0,1.04166],"215":[0.13333,0.63333,0,0,0.89444],"216":[0.04861,0.73472,0,0,0.89444],"223":[0,0.69444,0,0,0.59722],"230":[0,0.44444,0,0,0.83055],"247":[0.13333,0.63333,0,0,0.89444],"248":[0.09722,0.54167,0,0,0.575],"305":[0,0.44444,0,0,0.31944],"338":[0,0.68611,0,0,1.16944],"339":[0,0.44444,0,0,0.89444],"567":[0.19444,0.44444,0,0,0.35139],"710":[0,0.69444,0,0,0.575],"711":[0,0.63194,0,0,0.575],"713":[0,0.59611,0,0,0.575],"714":[0,0.69444,0,0,0.575],"715":[0,0.69444,0,0,0.575],"728":[0,0.69444,0,0,0.575],"729":[0,0.69444,0,0,0.31944],"730":[0,0.69444,0,0,0.86944],"732":[0,0.69444,0,0,0.575],"733":[0,0.69444,0,0,0.575],"915":[0,0.68611,0,0,0.69166],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0,0,0.89444],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0,0,0.76666],"928":[0,0.68611,0,0,0.9],"931":[0,0.68611,0,0,0.83055],"933":[0,0.68611,0,0,0.89444],"934":[0,0.68611,0,0,0.83055],"936":[0,0.68611,0,0,0.89444],"937":[0,0.68611,0,0,0.83055],"8211":[0,0.44444,0.03194,0,0.575],"8212":[0,0.44444,0.03194,0,1.14999],"8216":[0,0.69444,0,0,0.31944],"8217":[0,0.69444,0,0,0.31944],"8220":[0,0.69444,0,0,0.60278],"8221":[0,0.69444,0,0,0.60278],"8224":[0.19444,0.69444,0,0,0.51111],"8225":[0.19444,0.69444,0,0,0.51111],"8242":[0,0.55556,0,0,0.34444],"8407":[0,0.72444,0.15486,0,0.575],"8463":[0,0.69444,0,0,0.66759],"8465":[0,0.69444,0,0,0.83055],"8467":[0,0.69444,0,0,0.47361],"8472":[0.19444,0.44444,0,0,0.74027],"8476":[0,0.69444,0,0,0.83055],"8501":[0,0.69444,0,0,0.70277],"8592":[-0.10889,0.39111,0,0,1.14999],"8593":[0.19444,0.69444,0,0,0.575],"8594":[-0.10889,0.39111,0,0,1.14999],"8595":[0.19444,0.69444,0,0,0.575],"8596":[-0.10889,0.39111,0,0,1.14999],"8597":[0.25,0.75,0,0,0.575],"8598":[0.19444,0.69444,0,0,1.14999],"8599":[0.19444,0.69444,0,0,1.14999],"8600":[0.19444,0.69444,0,0,1.14999],"8601":[0.19444,0.69444,0,0,1.14999],"8636":[-0.10889,0.39111,0,0,1.14999],"8637":[-0.10889,0.39111,0,0,1.14999],"8640":[-0.10889,0.39111,0,0,1.14999],"8641":[-0.10889,0.39111,0,0,1.14999],"8656":[-0.10889,0.39111,0,0,1.14999],"8657":[0.19444,0.69444,0,0,0.70277],"8658":[-0.10889,0.39111,0,0,1.14999],"8659":[0.19444,0.69444,0,0,0.70277],"8660":[-0.10889,0.39111,0,0,1.14999],"8661":[0.25,0.75,0,0,0.70277],"8704":[0,0.69444,0,0,0.63889],"8706":[0,0.69444,0.06389,0,0.62847],"8707":[0,0.69444,0,0,0.63889],"8709":[0.05556,0.75,0,0,0.575],"8711":[0,0.68611,0,0,0.95833],"8712":[0.08556,0.58556,0,0,0.76666],"8715":[0.08556,0.58556,0,0,0.76666],"8722":[0.13333,0.63333,0,0,0.89444],"8723":[0.13333,0.63333,0,0,0.89444],"8725":[0.25,0.75,0,0,0.575],"8726":[0.25,0.75,0,0,0.575],"8727":[-0.02778,0.47222,0,0,0.575],"8728":[-0.02639,0.47361,0,0,0.575],"8729":[-0.02639,0.47361,0,0,0.575],"8730":[0.18,0.82,0,0,0.95833],"8733":[0,0.44444,0,0,0.89444],"8734":[0,0.44444,0,0,1.14999],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.31944],"8741":[0.25,0.75,0,0,0.575],"8743":[0,0.55556,0,0,0.76666],"8744":[0,0.55556,0,0,0.76666],"8745":[0,0.55556,0,0,0.76666],"8746":[0,0.55556,0,0,0.76666],"8747":[0.19444,0.69444,0.12778,0,0.56875],"8764":[-0.10889,0.39111,0,0,0.89444],"8768":[0.19444,0.69444,0,0,0.31944],"8771":[0.00222,0.50222,0,0,0.89444],"8773":[0.027,0.638,0,0,0.894],"8776":[0.02444,0.52444,0,0,0.89444],"8781":[0.00222,0.50222,0,0,0.89444],"8801":[0.00222,0.50222,0,0,0.89444],"8804":[0.19667,0.69667,0,0,0.89444],"8805":[0.19667,0.69667,0,0,0.89444],"8810":[0.08556,0.58556,0,0,1.14999],"8811":[0.08556,0.58556,0,0,1.14999],"8826":[0.08556,0.58556,0,0,0.89444],"8827":[0.08556,0.58556,0,0,0.89444],"8834":[0.08556,0.58556,0,0,0.89444],"8835":[0.08556,0.58556,0,0,0.89444],"8838":[0.19667,0.69667,0,0,0.89444],"8839":[0.19667,0.69667,0,0,0.89444],"8846":[0,0.55556,0,0,0.76666],"8849":[0.19667,0.69667,0,0,0.89444],"8850":[0.19667,0.69667,0,0,0.89444],"8851":[0,0.55556,0,0,0.76666],"8852":[0,0.55556,0,0,0.76666],"8853":[0.13333,0.63333,0,0,0.89444],"8854":[0.13333,0.63333,0,0,0.89444],"8855":[0.13333,0.63333,0,0,0.89444],"8856":[0.13333,0.63333,0,0,0.89444],"8857":[0.13333,0.63333,0,0,0.89444],"8866":[0,0.69444,0,0,0.70277],"8867":[0,0.69444,0,0,0.70277],"8868":[0,0.69444,0,0,0.89444],"8869":[0,0.69444,0,0,0.89444],"8900":[-0.02639,0.47361,0,0,0.575],"8901":[-0.02639,0.47361,0,0,0.31944],"8902":[-0.02778,0.47222,0,0,0.575],"8968":[0.25,0.75,0,0,0.51111],"8969":[0.25,0.75,0,0,0.51111],"8970":[0.25,0.75,0,0,0.51111],"8971":[0.25,0.75,0,0,0.51111],"8994":[-0.13889,0.36111,0,0,1.14999],"8995":[-0.13889,0.36111,0,0,1.14999],"9651":[0.19444,0.69444,0,0,1.02222],"9657":[-0.02778,0.47222,0,0,0.575],"9661":[0.19444,0.69444,0,0,1.02222],"9667":[-0.02778,0.47222,0,0,0.575],"9711":[0.19444,0.69444,0,0,1.14999],"9824":[0.12963,0.69444,0,0,0.89444],"9825":[0.12963,0.69444,0,0,0.89444],"9826":[0.12963,0.69444,0,0,0.89444],"9827":[0.12963,0.69444,0,0,0.89444],"9837":[0,0.75,0,0,0.44722],"9838":[0.19444,0.69444,0,0,0.44722],"9839":[0.19444,0.69444,0,0,0.44722],"10216":[0.25,0.75,0,0,0.44722],"10217":[0.25,0.75,0,0,0.44722],"10815":[0,0.68611,0,0,0.9],"10927":[0.19667,0.69667,0,0,0.89444],"10928":[0.19667,0.69667,0,0,0.89444],"57376":[0.19444,0.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.11417,0,0.38611],"34":[0,0.69444,0.07939,0,0.62055],"35":[0.19444,0.69444,0.06833,0,0.94444],"37":[0.05556,0.75,0.12861,0,0.94444],"38":[0,0.69444,0.08528,0,0.88555],"39":[0,0.69444,0.12945,0,0.35555],"40":[0.25,0.75,0.15806,0,0.47333],"41":[0.25,0.75,0.03306,0,0.47333],"42":[0,0.75,0.14333,0,0.59111],"43":[0.10333,0.60333,0.03306,0,0.88555],"44":[0.19444,0.14722,0,0,0.35555],"45":[0,0.44444,0.02611,0,0.41444],"46":[0,0.14722,0,0,0.35555],"47":[0.25,0.75,0.15806,0,0.59111],"48":[0,0.64444,0.13167,0,0.59111],"49":[0,0.64444,0.13167,0,0.59111],"50":[0,0.64444,0.13167,0,0.59111],"51":[0,0.64444,0.13167,0,0.59111],"52":[0.19444,0.64444,0.13167,0,0.59111],"53":[0,0.64444,0.13167,0,0.59111],"54":[0,0.64444,0.13167,0,0.59111],"55":[0.19444,0.64444,0.13167,0,0.59111],"56":[0,0.64444,0.13167,0,0.59111],"57":[0,0.64444,0.13167,0,0.59111],"58":[0,0.44444,0.06695,0,0.35555],"59":[0.19444,0.44444,0.06695,0,0.35555],"61":[-0.10889,0.39111,0.06833,0,0.88555],"63":[0,0.69444,0.11472,0,0.59111],"64":[0,0.69444,0.09208,0,0.88555],"65":[0,0.68611,0,0,0.86555],"66":[0,0.68611,0.0992,0,0.81666],"67":[0,0.68611,0.14208,0,0.82666],"68":[0,0.68611,0.09062,0,0.87555],"69":[0,0.68611,0.11431,0,0.75666],"70":[0,0.68611,0.12903,0,0.72722],"71":[0,0.68611,0.07347,0,0.89527],"72":[0,0.68611,0.17208,0,0.8961],"73":[0,0.68611,0.15681,0,0.47166],"74":[0,0.68611,0.145,0,0.61055],"75":[0,0.68611,0.14208,0,0.89499],"76":[0,0.68611,0,0,0.69777],"77":[0,0.68611,0.17208,0,1.07277],"78":[0,0.68611,0.17208,0,0.8961],"79":[0,0.68611,0.09062,0,0.85499],"80":[0,0.68611,0.0992,0,0.78721],"81":[0.19444,0.68611,0.09062,0,0.85499],"82":[0,0.68611,0.02559,0,0.85944],"83":[0,0.68611,0.11264,0,0.64999],"84":[0,0.68611,0.12903,0,0.7961],"85":[0,0.68611,0.17208,0,0.88083],"86":[0,0.68611,0.18625,0,0.86555],"87":[0,0.68611,0.18625,0,1.15999],"88":[0,0.68611,0.15681,0,0.86555],"89":[0,0.68611,0.19803,0,0.86555],"90":[0,0.68611,0.14208,0,0.70888],"91":[0.25,0.75,0.1875,0,0.35611],"93":[0.25,0.75,0.09972,0,0.35611],"94":[0,0.69444,0.06709,0,0.59111],"95":[0.31,0.13444,0.09811,0,0.59111],"97":[0,0.44444,0.09426,0,0.59111],"98":[0,0.69444,0.07861,0,0.53222],"99":[0,0.44444,0.05222,0,0.53222],"100":[0,0.69444,0.10861,0,0.59111],"101":[0,0.44444,0.085,0,0.53222],"102":[0.19444,0.69444,0.21778,0,0.4],"103":[0.19444,0.44444,0.105,0,0.53222],"104":[0,0.69444,0.09426,0,0.59111],"105":[0,0.69326,0.11387,0,0.35555],"106":[0.19444,0.69326,0.1672,0,0.35555],"107":[0,0.69444,0.11111,0,0.53222],"108":[0,0.69444,0.10861,0,0.29666],"109":[0,0.44444,0.09426,0,0.94444],"110":[0,0.44444,0.09426,0,0.64999],"111":[0,0.44444,0.07861,0,0.59111],"112":[0.19444,0.44444,0.07861,0,0.59111],"113":[0.19444,0.44444,0.105,0,0.53222],"114":[0,0.44444,0.11111,0,0.50167],"115":[0,0.44444,0.08167,0,0.48694],"116":[0,0.63492,0.09639,0,0.385],"117":[0,0.44444,0.09426,0,0.62055],"118":[0,0.44444,0.11111,0,0.53222],"119":[0,0.44444,0.11111,0,0.76777],"120":[0,0.44444,0.12583,0,0.56055],"121":[0.19444,0.44444,0.105,0,0.56166],"122":[0,0.44444,0.13889,0,0.49055],"126":[0.35,0.34444,0.11472,0,0.59111],"160":[0,0,0,0,0.25],"168":[0,0.69444,0.11473,0,0.59111],"176":[0,0.69444,0,0,0.94888],"184":[0.17014,0,0,0,0.53222],"198":[0,0.68611,0.11431,0,1.02277],"216":[0.04861,0.73472,0.09062,0,0.88555],"223":[0.19444,0.69444,0.09736,0,0.665],"230":[0,0.44444,0.085,0,0.82666],"248":[0.09722,0.54167,0.09458,0,0.59111],"305":[0,0.44444,0.09426,0,0.35555],"338":[0,0.68611,0.11431,0,1.14054],"339":[0,0.44444,0.085,0,0.82666],"567":[0.19444,0.44444,0.04611,0,0.385],"710":[0,0.69444,0.06709,0,0.59111],"711":[0,0.63194,0.08271,0,0.59111],"713":[0,0.59444,0.10444,0,0.59111],"714":[0,0.69444,0.08528,0,0.59111],"715":[0,0.69444,0,0,0.59111],"728":[0,0.69444,0.10333,0,0.59111],"729":[0,0.69444,0.12945,0,0.35555],"730":[0,0.69444,0,0,0.94888],"732":[0,0.69444,0.11472,0,0.59111],"733":[0,0.69444,0.11472,0,0.59111],"915":[0,0.68611,0.12903,0,0.69777],"916":[0,0.68611,0,0,0.94444],"920":[0,0.68611,0.09062,0,0.88555],"923":[0,0.68611,0,0,0.80666],"926":[0,0.68611,0.15092,0,0.76777],"928":[0,0.68611,0.17208,0,0.8961],"931":[0,0.68611,0.11431,0,0.82666],"933":[0,0.68611,0.10778,0,0.88555],"934":[0,0.68611,0.05632,0,0.82666],"936":[0,0.68611,0.10778,0,0.88555],"937":[0,0.68611,0.0992,0,0.82666],"8211":[0,0.44444,0.09811,0,0.59111],"8212":[0,0.44444,0.09811,0,1.18221],"8216":[0,0.69444,0.12945,0,0.35555],"8217":[0,0.69444,0.12945,0,0.35555],"8220":[0,0.69444,0.16772,0,0.62055],"8221":[0,0.69444,0.07939,0,0.62055]},"Main-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.12417,0,0.30667],"34":[0,0.69444,0.06961,0,0.51444],"35":[0.19444,0.69444,0.06616,0,0.81777],"37":[0.05556,0.75,0.13639,0,0.81777],"38":[0,0.69444,0.09694,0,0.76666],"39":[0,0.69444,0.12417,0,0.30667],"40":[0.25,0.75,0.16194,0,0.40889],"41":[0.25,0.75,0.03694,0,0.40889],"42":[0,0.75,0.14917,0,0.51111],"43":[0.05667,0.56167,0.03694,0,0.76666],"44":[0.19444,0.10556,0,0,0.30667],"45":[0,0.43056,0.02826,0,0.35778],"46":[0,0.10556,0,0,0.30667],"47":[0.25,0.75,0.16194,0,0.51111],"48":[0,0.64444,0.13556,0,0.51111],"49":[0,0.64444,0.13556,0,0.51111],"50":[0,0.64444,0.13556,0,0.51111],"51":[0,0.64444,0.13556,0,0.51111],"52":[0.19444,0.64444,0.13556,0,0.51111],"53":[0,0.64444,0.13556,0,0.51111],"54":[0,0.64444,0.13556,0,0.51111],"55":[0.19444,0.64444,0.13556,0,0.51111],"56":[0,0.64444,0.13556,0,0.51111],"57":[0,0.64444,0.13556,0,0.51111],"58":[0,0.43056,0.0582,0,0.30667],"59":[0.19444,0.43056,0.0582,0,0.30667],"61":[-0.13313,0.36687,0.06616,0,0.76666],"63":[0,0.69444,0.1225,0,0.51111],"64":[0,0.69444,0.09597,0,0.76666],"65":[0,0.68333,0,0,0.74333],"66":[0,0.68333,0.10257,0,0.70389],"67":[0,0.68333,0.14528,0,0.71555],"68":[0,0.68333,0.09403,0,0.755],"69":[0,0.68333,0.12028,0,0.67833],"70":[0,0.68333,0.13305,0,0.65277],"71":[0,0.68333,0.08722,0,0.77361],"72":[0,0.68333,0.16389,0,0.74333],"73":[0,0.68333,0.15806,0,0.38555],"74":[0,0.68333,0.14028,0,0.525],"75":[0,0.68333,0.14528,0,0.76888],"76":[0,0.68333,0,0,0.62722],"77":[0,0.68333,0.16389,0,0.89666],"78":[0,0.68333,0.16389,0,0.74333],"79":[0,0.68333,0.09403,0,0.76666],"80":[0,0.68333,0.10257,0,0.67833],"81":[0.19444,0.68333,0.09403,0,0.76666],"82":[0,0.68333,0.03868,0,0.72944],"83":[0,0.68333,0.11972,0,0.56222],"84":[0,0.68333,0.13305,0,0.71555],"85":[0,0.68333,0.16389,0,0.74333],"86":[0,0.68333,0.18361,0,0.74333],"87":[0,0.68333,0.18361,0,0.99888],"88":[0,0.68333,0.15806,0,0.74333],"89":[0,0.68333,0.19383,0,0.74333],"90":[0,0.68333,0.14528,0,0.61333],"91":[0.25,0.75,0.1875,0,0.30667],"93":[0.25,0.75,0.10528,0,0.30667],"94":[0,0.69444,0.06646,0,0.51111],"95":[0.31,0.12056,0.09208,0,0.51111],"97":[0,0.43056,0.07671,0,0.51111],"98":[0,0.69444,0.06312,0,0.46],"99":[0,0.43056,0.05653,0,0.46],"100":[0,0.69444,0.10333,0,0.51111],"101":[0,0.43056,0.07514,0,0.46],"102":[0.19444,0.69444,0.21194,0,0.30667],"103":[0.19444,0.43056,0.08847,0,0.46],"104":[0,0.69444,0.07671,0,0.51111],"105":[0,0.65536,0.1019,0,0.30667],"106":[0.19444,0.65536,0.14467,0,0.30667],"107":[0,0.69444,0.10764,0,0.46],"108":[0,0.69444,0.10333,0,0.25555],"109":[0,0.43056,0.07671,0,0.81777],"110":[0,0.43056,0.07671,0,0.56222],"111":[0,0.43056,0.06312,0,0.51111],"112":[0.19444,0.43056,0.06312,0,0.51111],"113":[0.19444,0.43056,0.08847,0,0.46],"114":[0,0.43056,0.10764,0,0.42166],"115":[0,0.43056,0.08208,0,0.40889],"116":[0,0.61508,0.09486,0,0.33222],"117":[0,0.43056,0.07671,0,0.53666],"118":[0,0.43056,0.10764,0,0.46],"119":[0,0.43056,0.10764,0,0.66444],"120":[0,0.43056,0.12042,0,0.46389],"121":[0.19444,0.43056,0.08847,0,0.48555],"122":[0,0.43056,0.12292,0,0.40889],"126":[0.35,0.31786,0.11585,0,0.51111],"160":[0,0,0,0,0.25],"168":[0,0.66786,0.10474,0,0.51111],"176":[0,0.69444,0,0,0.83129],"184":[0.17014,0,0,0,0.46],"198":[0,0.68333,0.12028,0,0.88277],"216":[0.04861,0.73194,0.09403,0,0.76666],"223":[0.19444,0.69444,0.10514,0,0.53666],"230":[0,0.43056,0.07514,0,0.71555],"248":[0.09722,0.52778,0.09194,0,0.51111],"338":[0,0.68333,0.12028,0,0.98499],"339":[0,0.43056,0.07514,0,0.71555],"710":[0,0.69444,0.06646,0,0.51111],"711":[0,0.62847,0.08295,0,0.51111],"713":[0,0.56167,0.10333,0,0.51111],"714":[0,0.69444,0.09694,0,0.51111],"715":[0,0.69444,0,0,0.51111],"728":[0,0.69444,0.10806,0,0.51111],"729":[0,0.66786,0.11752,0,0.30667],"730":[0,0.69444,0,0,0.83129],"732":[0,0.66786,0.11585,0,0.51111],"733":[0,0.69444,0.1225,0,0.51111],"915":[0,0.68333,0.13305,0,0.62722],"916":[0,0.68333,0,0,0.81777],"920":[0,0.68333,0.09403,0,0.76666],"923":[0,0.68333,0,0,0.69222],"926":[0,0.68333,0.15294,0,0.66444],"928":[0,0.68333,0.16389,0,0.74333],"931":[0,0.68333,0.12028,0,0.71555],"933":[0,0.68333,0.11111,0,0.76666],"934":[0,0.68333,0.05986,0,0.71555],"936":[0,0.68333,0.11111,0,0.76666],"937":[0,0.68333,0.10257,0,0.71555],"8211":[0,0.43056,0.09208,0,0.51111],"8212":[0,0.43056,0.09208,0,1.02222],"8216":[0,0.69444,0.12417,0,0.30667],"8217":[0,0.69444,0.12417,0,0.30667],"8220":[0,0.69444,0.1685,0,0.51444],"8221":[0,0.69444,0.06961,0,0.51444],"8463":[0,0.68889,0,0,0.54028]},"Main-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.27778],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.77778],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.19444,0.10556,0,0,0.27778],"45":[0,0.43056,0,0,0.33333],"46":[0,0.10556,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.64444,0,0,0.5],"49":[0,0.64444,0,0,0.5],"50":[0,0.64444,0,0,0.5],"51":[0,0.64444,0,0,0.5],"52":[0,0.64444,0,0,0.5],"53":[0,0.64444,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0,0.64444,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0,0.64444,0,0,0.5],"58":[0,0.43056,0,0,0.27778],"59":[0.19444,0.43056,0,0,0.27778],"60":[0.0391,0.5391,0,0,0.77778],"61":[-0.13313,0.36687,0,0,0.77778],"62":[0.0391,0.5391,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.77778],"65":[0,0.68333,0,0,0.75],"66":[0,0.68333,0,0,0.70834],"67":[0,0.68333,0,0,0.72222],"68":[0,0.68333,0,0,0.76389],"69":[0,0.68333,0,0,0.68056],"70":[0,0.68333,0,0,0.65278],"71":[0,0.68333,0,0,0.78472],"72":[0,0.68333,0,0,0.75],"73":[0,0.68333,0,0,0.36111],"74":[0,0.68333,0,0,0.51389],"75":[0,0.68333,0,0,0.77778],"76":[0,0.68333,0,0,0.625],"77":[0,0.68333,0,0,0.91667],"78":[0,0.68333,0,0,0.75],"79":[0,0.68333,0,0,0.77778],"80":[0,0.68333,0,0,0.68056],"81":[0.19444,0.68333,0,0,0.77778],"82":[0,0.68333,0,0,0.73611],"83":[0,0.68333,0,0,0.55556],"84":[0,0.68333,0,0,0.72222],"85":[0,0.68333,0,0,0.75],"86":[0,0.68333,0.01389,0,0.75],"87":[0,0.68333,0.01389,0,1.02778],"88":[0,0.68333,0,0,0.75],"89":[0,0.68333,0.025,0,0.75],"90":[0,0.68333,0,0,0.61111],"91":[0.25,0.75,0,0,0.27778],"92":[0.25,0.75,0,0,0.5],"93":[0.25,0.75,0,0,0.27778],"94":[0,0.69444,0,0,0.5],"95":[0.31,0.12056,0.02778,0,0.5],"97":[0,0.43056,0,0,0.5],"98":[0,0.69444,0,0,0.55556],"99":[0,0.43056,0,0,0.44445],"100":[0,0.69444,0,0,0.55556],"101":[0,0.43056,0,0,0.44445],"102":[0,0.69444,0.07778,0,0.30556],"103":[0.19444,0.43056,0.01389,0,0.5],"104":[0,0.69444,0,0,0.55556],"105":[0,0.66786,0,0,0.27778],"106":[0.19444,0.66786,0,0,0.30556],"107":[0,0.69444,0,0,0.52778],"108":[0,0.69444,0,0,0.27778],"109":[0,0.43056,0,0,0.83334],"110":[0,0.43056,0,0,0.55556],"111":[0,0.43056,0,0,0.5],"112":[0.19444,0.43056,0,0,0.55556],"113":[0.19444,0.43056,0,0,0.52778],"114":[0,0.43056,0,0,0.39167],"115":[0,0.43056,0,0,0.39445],"116":[0,0.61508,0,0,0.38889],"117":[0,0.43056,0,0,0.55556],"118":[0,0.43056,0.01389,0,0.52778],"119":[0,0.43056,0.01389,0,0.72222],"120":[0,0.43056,0,0,0.52778],"121":[0.19444,0.43056,0.01389,0,0.52778],"122":[0,0.43056,0,0,0.44445],"123":[0.25,0.75,0,0,0.5],"124":[0.25,0.75,0,0,0.27778],"125":[0.25,0.75,0,0,0.5],"126":[0.35,0.31786,0,0,0.5],"160":[0,0,0,0,0.25],"163":[0,0.69444,0,0,0.76909],"167":[0.19444,0.69444,0,0,0.44445],"168":[0,0.66786,0,0,0.5],"172":[0,0.43056,0,0,0.66667],"176":[0,0.69444,0,0,0.75],"177":[0.08333,0.58333,0,0,0.77778],"182":[0.19444,0.69444,0,0,0.61111],"184":[0.17014,0,0,0,0.44445],"198":[0,0.68333,0,0,0.90278],"215":[0.08333,0.58333,0,0,0.77778],"216":[0.04861,0.73194,0,0,0.77778],"223":[0,0.69444,0,0,0.5],"230":[0,0.43056,0,0,0.72222],"247":[0.08333,0.58333,0,0,0.77778],"248":[0.09722,0.52778,0,0,0.5],"305":[0,0.43056,0,0,0.27778],"338":[0,0.68333,0,0,1.01389],"339":[0,0.43056,0,0,0.77778],"567":[0.19444,0.43056,0,0,0.30556],"710":[0,0.69444,0,0,0.5],"711":[0,0.62847,0,0,0.5],"713":[0,0.56778,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.66786,0,0,0.27778],"730":[0,0.69444,0,0,0.75],"732":[0,0.66786,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.68333,0,0,0.625],"916":[0,0.68333,0,0,0.83334],"920":[0,0.68333,0,0,0.77778],"923":[0,0.68333,0,0,0.69445],"926":[0,0.68333,0,0,0.66667],"928":[0,0.68333,0,0,0.75],"931":[0,0.68333,0,0,0.72222],"933":[0,0.68333,0,0,0.77778],"934":[0,0.68333,0,0,0.72222],"936":[0,0.68333,0,0,0.77778],"937":[0,0.68333,0,0,0.72222],"8211":[0,0.43056,0.02778,0,0.5],"8212":[0,0.43056,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5],"8224":[0.19444,0.69444,0,0,0.44445],"8225":[0.19444,0.69444,0,0,0.44445],"8230":[0,0.123,0,0,1.172],"8242":[0,0.55556,0,0,0.275],"8407":[0,0.71444,0.15382,0,0.5],"8463":[0,0.68889,0,0,0.54028],"8465":[0,0.69444,0,0,0.72222],"8467":[0,0.69444,0,0.11111,0.41667],"8472":[0.19444,0.43056,0,0.11111,0.63646],"8476":[0,0.69444,0,0,0.72222],"8501":[0,0.69444,0,0,0.61111],"8592":[-0.13313,0.36687,0,0,1],"8593":[0.19444,0.69444,0,0,0.5],"8594":[-0.13313,0.36687,0,0,1],"8595":[0.19444,0.69444,0,0,0.5],"8596":[-0.13313,0.36687,0,0,1],"8597":[0.25,0.75,0,0,0.5],"8598":[0.19444,0.69444,0,0,1],"8599":[0.19444,0.69444,0,0,1],"8600":[0.19444,0.69444,0,0,1],"8601":[0.19444,0.69444,0,0,1],"8614":[0.011,0.511,0,0,1],"8617":[0.011,0.511,0,0,1.126],"8618":[0.011,0.511,0,0,1.126],"8636":[-0.13313,0.36687,0,0,1],"8637":[-0.13313,0.36687,0,0,1],"8640":[-0.13313,0.36687,0,0,1],"8641":[-0.13313,0.36687,0,0,1],"8652":[0.011,0.671,0,0,1],"8656":[-0.13313,0.36687,0,0,1],"8657":[0.19444,0.69444,0,0,0.61111],"8658":[-0.13313,0.36687,0,0,1],"8659":[0.19444,0.69444,0,0,0.61111],"8660":[-0.13313,0.36687,0,0,1],"8661":[0.25,0.75,0,0,0.61111],"8704":[0,0.69444,0,0,0.55556],"8706":[0,0.69444,0.05556,0.08334,0.5309],"8707":[0,0.69444,0,0,0.55556],"8709":[0.05556,0.75,0,0,0.5],"8711":[0,0.68333,0,0,0.83334],"8712":[0.0391,0.5391,0,0,0.66667],"8715":[0.0391,0.5391,0,0,0.66667],"8722":[0.08333,0.58333,0,0,0.77778],"8723":[0.08333,0.58333,0,0,0.77778],"8725":[0.25,0.75,0,0,0.5],"8726":[0.25,0.75,0,0,0.5],"8727":[-0.03472,0.46528,0,0,0.5],"8728":[-0.05555,0.44445,0,0,0.5],"8729":[-0.05555,0.44445,0,0,0.5],"8730":[0.2,0.8,0,0,0.83334],"8733":[0,0.43056,0,0,0.77778],"8734":[0,0.43056,0,0,1],"8736":[0,0.69224,0,0,0.72222],"8739":[0.25,0.75,0,0,0.27778],"8741":[0.25,0.75,0,0,0.5],"8743":[0,0.55556,0,0,0.66667],"8744":[0,0.55556,0,0,0.66667],"8745":[0,0.55556,0,0,0.66667],"8746":[0,0.55556,0,0,0.66667],"8747":[0.19444,0.69444,0.11111,0,0.41667],"8764":[-0.13313,0.36687,0,0,0.77778],"8768":[0.19444,0.69444,0,0,0.27778],"8771":[-0.03625,0.46375,0,0,0.77778],"8773":[-0.022,0.589,0,0,0.778],"8776":[-0.01688,0.48312,0,0,0.77778],"8781":[-0.03625,0.46375,0,0,0.77778],"8784":[-0.133,0.673,0,0,0.778],"8801":[-0.03625,0.46375,0,0,0.77778],"8804":[0.13597,0.63597,0,0,0.77778],"8805":[0.13597,0.63597,0,0,0.77778],"8810":[0.0391,0.5391,0,0,1],"8811":[0.0391,0.5391,0,0,1],"8826":[0.0391,0.5391,0,0,0.77778],"8827":[0.0391,0.5391,0,0,0.77778],"8834":[0.0391,0.5391,0,0,0.77778],"8835":[0.0391,0.5391,0,0,0.77778],"8838":[0.13597,0.63597,0,0,0.77778],"8839":[0.13597,0.63597,0,0,0.77778],"8846":[0,0.55556,0,0,0.66667],"8849":[0.13597,0.63597,0,0,0.77778],"8850":[0.13597,0.63597,0,0,0.77778],"8851":[0,0.55556,0,0,0.66667],"8852":[0,0.55556,0,0,0.66667],"8853":[0.08333,0.58333,0,0,0.77778],"8854":[0.08333,0.58333,0,0,0.77778],"8855":[0.08333,0.58333,0,0,0.77778],"8856":[0.08333,0.58333,0,0,0.77778],"8857":[0.08333,0.58333,0,0,0.77778],"8866":[0,0.69444,0,0,0.61111],"8867":[0,0.69444,0,0,0.61111],"8868":[0,0.69444,0,0,0.77778],"8869":[0,0.69444,0,0,0.77778],"8872":[0.249,0.75,0,0,0.867],"8900":[-0.05555,0.44445,0,0,0.5],"8901":[-0.05555,0.44445,0,0,0.27778],"8902":[-0.03472,0.46528,0,0,0.5],"8904":[0.005,0.505,0,0,0.9],"8942":[0.03,0.903,0,0,0.278],"8943":[-0.19,0.313,0,0,1.172],"8945":[-0.1,0.823,0,0,1.282],"8968":[0.25,0.75,0,0,0.44445],"8969":[0.25,0.75,0,0,0.44445],"8970":[0.25,0.75,0,0,0.44445],"8971":[0.25,0.75,0,0,0.44445],"8994":[-0.14236,0.35764,0,0,1],"8995":[-0.14236,0.35764,0,0,1],"9136":[0.244,0.744,0,0,0.412],"9137":[0.244,0.745,0,0,0.412],"9651":[0.19444,0.69444,0,0,0.88889],"9657":[-0.03472,0.46528,0,0,0.5],"9661":[0.19444,0.69444,0,0,0.88889],"9667":[-0.03472,0.46528,0,0,0.5],"9711":[0.19444,0.69444,0,0,1],"9824":[0.12963,0.69444,0,0,0.77778],"9825":[0.12963,0.69444,0,0,0.77778],"9826":[0.12963,0.69444,0,0,0.77778],"9827":[0.12963,0.69444,0,0,0.77778],"9837":[0,0.75,0,0,0.38889],"9838":[0.19444,0.69444,0,0,0.38889],"9839":[0.19444,0.69444,0,0,0.38889],"10216":[0.25,0.75,0,0,0.38889],"10217":[0.25,0.75,0,0,0.38889],"10222":[0.244,0.744,0,0,0.412],"10223":[0.244,0.745,0,0,0.412],"10229":[0.011,0.511,0,0,1.609],"10230":[0.011,0.511,0,0,1.638],"10231":[0.011,0.511,0,0,1.859],"10232":[0.024,0.525,0,0,1.609],"10233":[0.024,0.525,0,0,1.638],"10234":[0.024,0.525,0,0,1.858],"10236":[0.011,0.511,0,0,1.638],"10815":[0,0.68333,0,0,0.75],"10927":[0.13597,0.63597,0,0,0.77778],"10928":[0.13597,0.63597,0,0,0.77778],"57376":[0.19444,0.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,0.25],"48":[0,0.44444,0,0,0.575],"49":[0,0.44444,0,0,0.575],"50":[0,0.44444,0,0,0.575],"51":[0.19444,0.44444,0,0,0.575],"52":[0.19444,0.44444,0,0,0.575],"53":[0.19444,0.44444,0,0,0.575],"54":[0,0.64444,0,0,0.575],"55":[0.19444,0.44444,0,0,0.575],"56":[0,0.64444,0,0,0.575],"57":[0.19444,0.44444,0,0,0.575],"65":[0,0.68611,0,0,0.86944],"66":[0,0.68611,0.04835,0,0.8664],"67":[0,0.68611,0.06979,0,0.81694],"68":[0,0.68611,0.03194,0,0.93812],"69":[0,0.68611,0.05451,0,0.81007],"70":[0,0.68611,0.15972,0,0.68889],"71":[0,0.68611,0,0,0.88673],"72":[0,0.68611,0.08229,0,0.98229],"73":[0,0.68611,0.07778,0,0.51111],"74":[0,0.68611,0.10069,0,0.63125],"75":[0,0.68611,0.06979,0,0.97118],"76":[0,0.68611,0,0,0.75555],"77":[0,0.68611,0.11424,0,1.14201],"78":[0,0.68611,0.11424,0,0.95034],"79":[0,0.68611,0.03194,0,0.83666],"80":[0,0.68611,0.15972,0,0.72309],"81":[0.19444,0.68611,0,0,0.86861],"82":[0,0.68611,0.00421,0,0.87235],"83":[0,0.68611,0.05382,0,0.69271],"84":[0,0.68611,0.15972,0,0.63663],"85":[0,0.68611,0.11424,0,0.80027],"86":[0,0.68611,0.25555,0,0.67778],"87":[0,0.68611,0.15972,0,1.09305],"88":[0,0.68611,0.07778,0,0.94722],"89":[0,0.68611,0.25555,0,0.67458],"90":[0,0.68611,0.06979,0,0.77257],"97":[0,0.44444,0,0,0.63287],"98":[0,0.69444,0,0,0.52083],"99":[0,0.44444,0,0,0.51342],"100":[0,0.69444,0,0,0.60972],"101":[0,0.44444,0,0,0.55361],"102":[0.19444,0.69444,0.11042,0,0.56806],"103":[0.19444,0.44444,0.03704,0,0.5449],"104":[0,0.69444,0,0,0.66759],"105":[0,0.69326,0,0,0.4048],"106":[0.19444,0.69326,0.0622,0,0.47083],"107":[0,0.69444,0.01852,0,0.6037],"108":[0,0.69444,0.0088,0,0.34815],"109":[0,0.44444,0,0,1.0324],"110":[0,0.44444,0,0,0.71296],"111":[0,0.44444,0,0,0.58472],"112":[0.19444,0.44444,0,0,0.60092],"113":[0.19444,0.44444,0.03704,0,0.54213],"114":[0,0.44444,0.03194,0,0.5287],"115":[0,0.44444,0,0,0.53125],"116":[0,0.63492,0,0,0.41528],"117":[0,0.44444,0,0,0.68102],"118":[0,0.44444,0.03704,0,0.56666],"119":[0,0.44444,0.02778,0,0.83148],"120":[0,0.44444,0,0,0.65903],"121":[0.19444,0.44444,0.03704,0,0.59028],"122":[0,0.44444,0.04213,0,0.55509],"160":[0,0,0,0,0.25],"915":[0,0.68611,0.15972,0,0.65694],"916":[0,0.68611,0,0,0.95833],"920":[0,0.68611,0.03194,0,0.86722],"923":[0,0.68611,0,0,0.80555],"926":[0,0.68611,0.07458,0,0.84125],"928":[0,0.68611,0.08229,0,0.98229],"931":[0,0.68611,0.05451,0,0.88507],"933":[0,0.68611,0.15972,0,0.67083],"934":[0,0.68611,0,0,0.76666],"936":[0,0.68611,0.11653,0,0.71402],"937":[0,0.68611,0.04835,0,0.8789],"945":[0,0.44444,0,0,0.76064],"946":[0.19444,0.69444,0.03403,0,0.65972],"947":[0.19444,0.44444,0.06389,0,0.59003],"948":[0,0.69444,0.03819,0,0.52222],"949":[0,0.44444,0,0,0.52882],"950":[0.19444,0.69444,0.06215,0,0.50833],"951":[0.19444,0.44444,0.03704,0,0.6],"952":[0,0.69444,0.03194,0,0.5618],"953":[0,0.44444,0,0,0.41204],"954":[0,0.44444,0,0,0.66759],"955":[0,0.69444,0,0,0.67083],"956":[0.19444,0.44444,0,0,0.70787],"957":[0,0.44444,0.06898,0,0.57685],"958":[0.19444,0.69444,0.03021,0,0.50833],"959":[0,0.44444,0,0,0.58472],"960":[0,0.44444,0.03704,0,0.68241],"961":[0.19444,0.44444,0,0,0.6118],"962":[0.09722,0.44444,0.07917,0,0.42361],"963":[0,0.44444,0.03704,0,0.68588],"964":[0,0.44444,0.13472,0,0.52083],"965":[0,0.44444,0.03704,0,0.63055],"966":[0.19444,0.44444,0,0,0.74722],"967":[0.19444,0.44444,0,0,0.71805],"968":[0.19444,0.69444,0.03704,0,0.75833],"969":[0,0.44444,0.03704,0,0.71782],"977":[0,0.69444,0,0,0.69155],"981":[0.19444,0.69444,0,0,0.7125],"982":[0,0.44444,0.03194,0,0.975],"1009":[0.19444,0.44444,0,0,0.6118],"1013":[0,0.44444,0,0,0.48333],"57649":[0,0.44444,0,0,0.39352],"57911":[0.19444,0.44444,0,0,0.43889]},"Math-Italic":{"32":[0,0,0,0,0.25],"48":[0,0.43056,0,0,0.5],"49":[0,0.43056,0,0,0.5],"50":[0,0.43056,0,0,0.5],"51":[0.19444,0.43056,0,0,0.5],"52":[0.19444,0.43056,0,0,0.5],"53":[0.19444,0.43056,0,0,0.5],"54":[0,0.64444,0,0,0.5],"55":[0.19444,0.43056,0,0,0.5],"56":[0,0.64444,0,0,0.5],"57":[0.19444,0.43056,0,0,0.5],"65":[0,0.68333,0,0.13889,0.75],"66":[0,0.68333,0.05017,0.08334,0.75851],"67":[0,0.68333,0.07153,0.08334,0.71472],"68":[0,0.68333,0.02778,0.05556,0.82792],"69":[0,0.68333,0.05764,0.08334,0.7382],"70":[0,0.68333,0.13889,0.08334,0.64306],"71":[0,0.68333,0,0.08334,0.78625],"72":[0,0.68333,0.08125,0.05556,0.83125],"73":[0,0.68333,0.07847,0.11111,0.43958],"74":[0,0.68333,0.09618,0.16667,0.55451],"75":[0,0.68333,0.07153,0.05556,0.84931],"76":[0,0.68333,0,0.02778,0.68056],"77":[0,0.68333,0.10903,0.08334,0.97014],"78":[0,0.68333,0.10903,0.08334,0.80347],"79":[0,0.68333,0.02778,0.08334,0.76278],"80":[0,0.68333,0.13889,0.08334,0.64201],"81":[0.19444,0.68333,0,0.08334,0.79056],"82":[0,0.68333,0.00773,0.08334,0.75929],"83":[0,0.68333,0.05764,0.08334,0.6132],"84":[0,0.68333,0.13889,0.08334,0.58438],"85":[0,0.68333,0.10903,0.02778,0.68278],"86":[0,0.68333,0.22222,0,0.58333],"87":[0,0.68333,0.13889,0,0.94445],"88":[0,0.68333,0.07847,0.08334,0.82847],"89":[0,0.68333,0.22222,0,0.58056],"90":[0,0.68333,0.07153,0.08334,0.68264],"97":[0,0.43056,0,0,0.52859],"98":[0,0.69444,0,0,0.42917],"99":[0,0.43056,0,0.05556,0.43276],"100":[0,0.69444,0,0.16667,0.52049],"101":[0,0.43056,0,0.05556,0.46563],"102":[0.19444,0.69444,0.10764,0.16667,0.48959],"103":[0.19444,0.43056,0.03588,0.02778,0.47697],"104":[0,0.69444,0,0,0.57616],"105":[0,0.65952,0,0,0.34451],"106":[0.19444,0.65952,0.05724,0,0.41181],"107":[0,0.69444,0.03148,0,0.5206],"108":[0,0.69444,0.01968,0.08334,0.29838],"109":[0,0.43056,0,0,0.87801],"110":[0,0.43056,0,0,0.60023],"111":[0,0.43056,0,0.05556,0.48472],"112":[0.19444,0.43056,0,0.08334,0.50313],"113":[0.19444,0.43056,0.03588,0.08334,0.44641],"114":[0,0.43056,0.02778,0.05556,0.45116],"115":[0,0.43056,0,0.05556,0.46875],"116":[0,0.61508,0,0.08334,0.36111],"117":[0,0.43056,0,0.02778,0.57246],"118":[0,0.43056,0.03588,0.02778,0.48472],"119":[0,0.43056,0.02691,0.08334,0.71592],"120":[0,0.43056,0,0.02778,0.57153],"121":[0.19444,0.43056,0.03588,0.05556,0.49028],"122":[0,0.43056,0.04398,0.05556,0.46505],"160":[0,0,0,0,0.25],"915":[0,0.68333,0.13889,0.08334,0.61528],"916":[0,0.68333,0,0.16667,0.83334],"920":[0,0.68333,0.02778,0.08334,0.76278],"923":[0,0.68333,0,0.16667,0.69445],"926":[0,0.68333,0.07569,0.08334,0.74236],"928":[0,0.68333,0.08125,0.05556,0.83125],"931":[0,0.68333,0.05764,0.08334,0.77986],"933":[0,0.68333,0.13889,0.05556,0.58333],"934":[0,0.68333,0,0.08334,0.66667],"936":[0,0.68333,0.11,0.05556,0.61222],"937":[0,0.68333,0.05017,0.08334,0.7724],"945":[0,0.43056,0.0037,0.02778,0.6397],"946":[0.19444,0.69444,0.05278,0.08334,0.56563],"947":[0.19444,0.43056,0.05556,0,0.51773],"948":[0,0.69444,0.03785,0.05556,0.44444],"949":[0,0.43056,0,0.08334,0.46632],"950":[0.19444,0.69444,0.07378,0.08334,0.4375],"951":[0.19444,0.43056,0.03588,0.05556,0.49653],"952":[0,0.69444,0.02778,0.08334,0.46944],"953":[0,0.43056,0,0.05556,0.35394],"954":[0,0.43056,0,0,0.57616],"955":[0,0.69444,0,0,0.58334],"956":[0.19444,0.43056,0,0.02778,0.60255],"957":[0,0.43056,0.06366,0.02778,0.49398],"958":[0.19444,0.69444,0.04601,0.11111,0.4375],"959":[0,0.43056,0,0.05556,0.48472],"960":[0,0.43056,0.03588,0,0.57003],"961":[0.19444,0.43056,0,0.08334,0.51702],"962":[0.09722,0.43056,0.07986,0.08334,0.36285],"963":[0,0.43056,0.03588,0,0.57141],"964":[0,0.43056,0.1132,0.02778,0.43715],"965":[0,0.43056,0.03588,0.02778,0.54028],"966":[0.19444,0.43056,0,0.08334,0.65417],"967":[0.19444,0.43056,0,0.05556,0.62569],"968":[0.19444,0.69444,0.03588,0.11111,0.65139],"969":[0,0.43056,0.03588,0,0.62245],"977":[0,0.69444,0,0.08334,0.59144],"981":[0.19444,0.69444,0,0.08334,0.59583],"982":[0,0.43056,0.02778,0,0.82813],"1009":[0.19444,0.43056,0,0.08334,0.51702],"1013":[0,0.43056,0,0.05556,0.4059],"57649":[0,0.43056,0,0.02778,0.32246],"57911":[0.19444,0.43056,0,0.08334,0.38403]},"SansSerif-Bold":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.36667],"34":[0,0.69444,0,0,0.55834],"35":[0.19444,0.69444,0,0,0.91667],"36":[0.05556,0.75,0,0,0.55],"37":[0.05556,0.75,0,0,1.02912],"38":[0,0.69444,0,0,0.83056],"39":[0,0.69444,0,0,0.30556],"40":[0.25,0.75,0,0,0.42778],"41":[0.25,0.75,0,0,0.42778],"42":[0,0.75,0,0,0.55],"43":[0.11667,0.61667,0,0,0.85556],"44":[0.10556,0.13056,0,0,0.30556],"45":[0,0.45833,0,0,0.36667],"46":[0,0.13056,0,0,0.30556],"47":[0.25,0.75,0,0,0.55],"48":[0,0.69444,0,0,0.55],"49":[0,0.69444,0,0,0.55],"50":[0,0.69444,0,0,0.55],"51":[0,0.69444,0,0,0.55],"52":[0,0.69444,0,0,0.55],"53":[0,0.69444,0,0,0.55],"54":[0,0.69444,0,0,0.55],"55":[0,0.69444,0,0,0.55],"56":[0,0.69444,0,0,0.55],"57":[0,0.69444,0,0,0.55],"58":[0,0.45833,0,0,0.30556],"59":[0.10556,0.45833,0,0,0.30556],"61":[-0.09375,0.40625,0,0,0.85556],"63":[0,0.69444,0,0,0.51945],"64":[0,0.69444,0,0,0.73334],"65":[0,0.69444,0,0,0.73334],"66":[0,0.69444,0,0,0.73334],"67":[0,0.69444,0,0,0.70278],"68":[0,0.69444,0,0,0.79445],"69":[0,0.69444,0,0,0.64167],"70":[0,0.69444,0,0,0.61111],"71":[0,0.69444,0,0,0.73334],"72":[0,0.69444,0,0,0.79445],"73":[0,0.69444,0,0,0.33056],"74":[0,0.69444,0,0,0.51945],"75":[0,0.69444,0,0,0.76389],"76":[0,0.69444,0,0,0.58056],"77":[0,0.69444,0,0,0.97778],"78":[0,0.69444,0,0,0.79445],"79":[0,0.69444,0,0,0.79445],"80":[0,0.69444,0,0,0.70278],"81":[0.10556,0.69444,0,0,0.79445],"82":[0,0.69444,0,0,0.70278],"83":[0,0.69444,0,0,0.61111],"84":[0,0.69444,0,0,0.73334],"85":[0,0.69444,0,0,0.76389],"86":[0,0.69444,0.01528,0,0.73334],"87":[0,0.69444,0.01528,0,1.03889],"88":[0,0.69444,0,0,0.73334],"89":[0,0.69444,0.0275,0,0.73334],"90":[0,0.69444,0,0,0.67223],"91":[0.25,0.75,0,0,0.34306],"93":[0.25,0.75,0,0,0.34306],"94":[0,0.69444,0,0,0.55],"95":[0.35,0.10833,0.03056,0,0.55],"97":[0,0.45833,0,0,0.525],"98":[0,0.69444,0,0,0.56111],"99":[0,0.45833,0,0,0.48889],"100":[0,0.69444,0,0,0.56111],"101":[0,0.45833,0,0,0.51111],"102":[0,0.69444,0.07639,0,0.33611],"103":[0.19444,0.45833,0.01528,0,0.55],"104":[0,0.69444,0,0,0.56111],"105":[0,0.69444,0,0,0.25556],"106":[0.19444,0.69444,0,0,0.28611],"107":[0,0.69444,0,0,0.53056],"108":[0,0.69444,0,0,0.25556],"109":[0,0.45833,0,0,0.86667],"110":[0,0.45833,0,0,0.56111],"111":[0,0.45833,0,0,0.55],"112":[0.19444,0.45833,0,0,0.56111],"113":[0.19444,0.45833,0,0,0.56111],"114":[0,0.45833,0.01528,0,0.37222],"115":[0,0.45833,0,0,0.42167],"116":[0,0.58929,0,0,0.40417],"117":[0,0.45833,0,0,0.56111],"118":[0,0.45833,0.01528,0,0.5],"119":[0,0.45833,0.01528,0,0.74445],"120":[0,0.45833,0,0,0.5],"121":[0.19444,0.45833,0.01528,0,0.5],"122":[0,0.45833,0,0,0.47639],"126":[0.35,0.34444,0,0,0.55],"160":[0,0,0,0,0.25],"168":[0,0.69444,0,0,0.55],"176":[0,0.69444,0,0,0.73334],"180":[0,0.69444,0,0,0.55],"184":[0.17014,0,0,0,0.48889],"305":[0,0.45833,0,0,0.25556],"567":[0.19444,0.45833,0,0,0.28611],"710":[0,0.69444,0,0,0.55],"711":[0,0.63542,0,0,0.55],"713":[0,0.63778,0,0,0.55],"728":[0,0.69444,0,0,0.55],"729":[0,0.69444,0,0,0.30556],"730":[0,0.69444,0,0,0.73334],"732":[0,0.69444,0,0,0.55],"733":[0,0.69444,0,0,0.55],"915":[0,0.69444,0,0,0.58056],"916":[0,0.69444,0,0,0.91667],"920":[0,0.69444,0,0,0.85556],"923":[0,0.69444,0,0,0.67223],"926":[0,0.69444,0,0,0.73334],"928":[0,0.69444,0,0,0.79445],"931":[0,0.69444,0,0,0.79445],"933":[0,0.69444,0,0,0.85556],"934":[0,0.69444,0,0,0.79445],"936":[0,0.69444,0,0,0.85556],"937":[0,0.69444,0,0,0.79445],"8211":[0,0.45833,0.03056,0,0.55],"8212":[0,0.45833,0.03056,0,1.10001],"8216":[0,0.69444,0,0,0.30556],"8217":[0,0.69444,0,0,0.30556],"8220":[0,0.69444,0,0,0.55834],"8221":[0,0.69444,0,0,0.55834]},"SansSerif-Italic":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0.05733,0,0.31945],"34":[0,0.69444,0.00316,0,0.5],"35":[0.19444,0.69444,0.05087,0,0.83334],"36":[0.05556,0.75,0.11156,0,0.5],"37":[0.05556,0.75,0.03126,0,0.83334],"38":[0,0.69444,0.03058,0,0.75834],"39":[0,0.69444,0.07816,0,0.27778],"40":[0.25,0.75,0.13164,0,0.38889],"41":[0.25,0.75,0.02536,0,0.38889],"42":[0,0.75,0.11775,0,0.5],"43":[0.08333,0.58333,0.02536,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0.01946,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0.13164,0,0.5],"48":[0,0.65556,0.11156,0,0.5],"49":[0,0.65556,0.11156,0,0.5],"50":[0,0.65556,0.11156,0,0.5],"51":[0,0.65556,0.11156,0,0.5],"52":[0,0.65556,0.11156,0,0.5],"53":[0,0.65556,0.11156,0,0.5],"54":[0,0.65556,0.11156,0,0.5],"55":[0,0.65556,0.11156,0,0.5],"56":[0,0.65556,0.11156,0,0.5],"57":[0,0.65556,0.11156,0,0.5],"58":[0,0.44444,0.02502,0,0.27778],"59":[0.125,0.44444,0.02502,0,0.27778],"61":[-0.13,0.37,0.05087,0,0.77778],"63":[0,0.69444,0.11809,0,0.47222],"64":[0,0.69444,0.07555,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0.08293,0,0.66667],"67":[0,0.69444,0.11983,0,0.63889],"68":[0,0.69444,0.07555,0,0.72223],"69":[0,0.69444,0.11983,0,0.59722],"70":[0,0.69444,0.13372,0,0.56945],"71":[0,0.69444,0.11983,0,0.66667],"72":[0,0.69444,0.08094,0,0.70834],"73":[0,0.69444,0.13372,0,0.27778],"74":[0,0.69444,0.08094,0,0.47222],"75":[0,0.69444,0.11983,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0.08094,0,0.875],"78":[0,0.69444,0.08094,0,0.70834],"79":[0,0.69444,0.07555,0,0.73611],"80":[0,0.69444,0.08293,0,0.63889],"81":[0.125,0.69444,0.07555,0,0.73611],"82":[0,0.69444,0.08293,0,0.64584],"83":[0,0.69444,0.09205,0,0.55556],"84":[0,0.69444,0.13372,0,0.68056],"85":[0,0.69444,0.08094,0,0.6875],"86":[0,0.69444,0.1615,0,0.66667],"87":[0,0.69444,0.1615,0,0.94445],"88":[0,0.69444,0.13372,0,0.66667],"89":[0,0.69444,0.17261,0,0.66667],"90":[0,0.69444,0.11983,0,0.61111],"91":[0.25,0.75,0.15942,0,0.28889],"93":[0.25,0.75,0.08719,0,0.28889],"94":[0,0.69444,0.0799,0,0.5],"95":[0.35,0.09444,0.08616,0,0.5],"97":[0,0.44444,0.00981,0,0.48056],"98":[0,0.69444,0.03057,0,0.51667],"99":[0,0.44444,0.08336,0,0.44445],"100":[0,0.69444,0.09483,0,0.51667],"101":[0,0.44444,0.06778,0,0.44445],"102":[0,0.69444,0.21705,0,0.30556],"103":[0.19444,0.44444,0.10836,0,0.5],"104":[0,0.69444,0.01778,0,0.51667],"105":[0,0.67937,0.09718,0,0.23889],"106":[0.19444,0.67937,0.09162,0,0.26667],"107":[0,0.69444,0.08336,0,0.48889],"108":[0,0.69444,0.09483,0,0.23889],"109":[0,0.44444,0.01778,0,0.79445],"110":[0,0.44444,0.01778,0,0.51667],"111":[0,0.44444,0.06613,0,0.5],"112":[0.19444,0.44444,0.0389,0,0.51667],"113":[0.19444,0.44444,0.04169,0,0.51667],"114":[0,0.44444,0.10836,0,0.34167],"115":[0,0.44444,0.0778,0,0.38333],"116":[0,0.57143,0.07225,0,0.36111],"117":[0,0.44444,0.04169,0,0.51667],"118":[0,0.44444,0.10836,0,0.46111],"119":[0,0.44444,0.10836,0,0.68334],"120":[0,0.44444,0.09169,0,0.46111],"121":[0.19444,0.44444,0.10836,0,0.46111],"122":[0,0.44444,0.08752,0,0.43472],"126":[0.35,0.32659,0.08826,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0.06385,0,0.5],"176":[0,0.69444,0,0,0.73752],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0.04169,0,0.23889],"567":[0.19444,0.44444,0.04169,0,0.26667],"710":[0,0.69444,0.0799,0,0.5],"711":[0,0.63194,0.08432,0,0.5],"713":[0,0.60889,0.08776,0,0.5],"714":[0,0.69444,0.09205,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0.09483,0,0.5],"729":[0,0.67937,0.07774,0,0.27778],"730":[0,0.69444,0,0,0.73752],"732":[0,0.67659,0.08826,0,0.5],"733":[0,0.69444,0.09205,0,0.5],"915":[0,0.69444,0.13372,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0.07555,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0.12816,0,0.66667],"928":[0,0.69444,0.08094,0,0.70834],"931":[0,0.69444,0.11983,0,0.72222],"933":[0,0.69444,0.09031,0,0.77778],"934":[0,0.69444,0.04603,0,0.72222],"936":[0,0.69444,0.09031,0,0.77778],"937":[0,0.69444,0.08293,0,0.72222],"8211":[0,0.44444,0.08616,0,0.5],"8212":[0,0.44444,0.08616,0,1],"8216":[0,0.69444,0.07816,0,0.27778],"8217":[0,0.69444,0.07816,0,0.27778],"8220":[0,0.69444,0.14205,0,0.5],"8221":[0,0.69444,0.00316,0,0.5]},"SansSerif-Regular":{"32":[0,0,0,0,0.25],"33":[0,0.69444,0,0,0.31945],"34":[0,0.69444,0,0,0.5],"35":[0.19444,0.69444,0,0,0.83334],"36":[0.05556,0.75,0,0,0.5],"37":[0.05556,0.75,0,0,0.83334],"38":[0,0.69444,0,0,0.75834],"39":[0,0.69444,0,0,0.27778],"40":[0.25,0.75,0,0,0.38889],"41":[0.25,0.75,0,0,0.38889],"42":[0,0.75,0,0,0.5],"43":[0.08333,0.58333,0,0,0.77778],"44":[0.125,0.08333,0,0,0.27778],"45":[0,0.44444,0,0,0.33333],"46":[0,0.08333,0,0,0.27778],"47":[0.25,0.75,0,0,0.5],"48":[0,0.65556,0,0,0.5],"49":[0,0.65556,0,0,0.5],"50":[0,0.65556,0,0,0.5],"51":[0,0.65556,0,0,0.5],"52":[0,0.65556,0,0,0.5],"53":[0,0.65556,0,0,0.5],"54":[0,0.65556,0,0,0.5],"55":[0,0.65556,0,0,0.5],"56":[0,0.65556,0,0,0.5],"57":[0,0.65556,0,0,0.5],"58":[0,0.44444,0,0,0.27778],"59":[0.125,0.44444,0,0,0.27778],"61":[-0.13,0.37,0,0,0.77778],"63":[0,0.69444,0,0,0.47222],"64":[0,0.69444,0,0,0.66667],"65":[0,0.69444,0,0,0.66667],"66":[0,0.69444,0,0,0.66667],"67":[0,0.69444,0,0,0.63889],"68":[0,0.69444,0,0,0.72223],"69":[0,0.69444,0,0,0.59722],"70":[0,0.69444,0,0,0.56945],"71":[0,0.69444,0,0,0.66667],"72":[0,0.69444,0,0,0.70834],"73":[0,0.69444,0,0,0.27778],"74":[0,0.69444,0,0,0.47222],"75":[0,0.69444,0,0,0.69445],"76":[0,0.69444,0,0,0.54167],"77":[0,0.69444,0,0,0.875],"78":[0,0.69444,0,0,0.70834],"79":[0,0.69444,0,0,0.73611],"80":[0,0.69444,0,0,0.63889],"81":[0.125,0.69444,0,0,0.73611],"82":[0,0.69444,0,0,0.64584],"83":[0,0.69444,0,0,0.55556],"84":[0,0.69444,0,0,0.68056],"85":[0,0.69444,0,0,0.6875],"86":[0,0.69444,0.01389,0,0.66667],"87":[0,0.69444,0.01389,0,0.94445],"88":[0,0.69444,0,0,0.66667],"89":[0,0.69444,0.025,0,0.66667],"90":[0,0.69444,0,0,0.61111],"91":[0.25,0.75,0,0,0.28889],"93":[0.25,0.75,0,0,0.28889],"94":[0,0.69444,0,0,0.5],"95":[0.35,0.09444,0.02778,0,0.5],"97":[0,0.44444,0,0,0.48056],"98":[0,0.69444,0,0,0.51667],"99":[0,0.44444,0,0,0.44445],"100":[0,0.69444,0,0,0.51667],"101":[0,0.44444,0,0,0.44445],"102":[0,0.69444,0.06944,0,0.30556],"103":[0.19444,0.44444,0.01389,0,0.5],"104":[0,0.69444,0,0,0.51667],"105":[0,0.67937,0,0,0.23889],"106":[0.19444,0.67937,0,0,0.26667],"107":[0,0.69444,0,0,0.48889],"108":[0,0.69444,0,0,0.23889],"109":[0,0.44444,0,0,0.79445],"110":[0,0.44444,0,0,0.51667],"111":[0,0.44444,0,0,0.5],"112":[0.19444,0.44444,0,0,0.51667],"113":[0.19444,0.44444,0,0,0.51667],"114":[0,0.44444,0.01389,0,0.34167],"115":[0,0.44444,0,0,0.38333],"116":[0,0.57143,0,0,0.36111],"117":[0,0.44444,0,0,0.51667],"118":[0,0.44444,0.01389,0,0.46111],"119":[0,0.44444,0.01389,0,0.68334],"120":[0,0.44444,0,0,0.46111],"121":[0.19444,0.44444,0.01389,0,0.46111],"122":[0,0.44444,0,0,0.43472],"126":[0.35,0.32659,0,0,0.5],"160":[0,0,0,0,0.25],"168":[0,0.67937,0,0,0.5],"176":[0,0.69444,0,0,0.66667],"184":[0.17014,0,0,0,0.44445],"305":[0,0.44444,0,0,0.23889],"567":[0.19444,0.44444,0,0,0.26667],"710":[0,0.69444,0,0,0.5],"711":[0,0.63194,0,0,0.5],"713":[0,0.60889,0,0,0.5],"714":[0,0.69444,0,0,0.5],"715":[0,0.69444,0,0,0.5],"728":[0,0.69444,0,0,0.5],"729":[0,0.67937,0,0,0.27778],"730":[0,0.69444,0,0,0.66667],"732":[0,0.67659,0,0,0.5],"733":[0,0.69444,0,0,0.5],"915":[0,0.69444,0,0,0.54167],"916":[0,0.69444,0,0,0.83334],"920":[0,0.69444,0,0,0.77778],"923":[0,0.69444,0,0,0.61111],"926":[0,0.69444,0,0,0.66667],"928":[0,0.69444,0,0,0.70834],"931":[0,0.69444,0,0,0.72222],"933":[0,0.69444,0,0,0.77778],"934":[0,0.69444,0,0,0.72222],"936":[0,0.69444,0,0,0.77778],"937":[0,0.69444,0,0,0.72222],"8211":[0,0.44444,0.02778,0,0.5],"8212":[0,0.44444,0.02778,0,1],"8216":[0,0.69444,0,0,0.27778],"8217":[0,0.69444,0,0,0.27778],"8220":[0,0.69444,0,0,0.5],"8221":[0,0.69444,0,0,0.5]},"Script-Regular":{"32":[0,0,0,0,0.25],"65":[0,0.7,0.22925,0,0.80253],"66":[0,0.7,0.04087,0,0.90757],"67":[0,0.7,0.1689,0,0.66619],"68":[0,0.7,0.09371,0,0.77443],"69":[0,0.7,0.18583,0,0.56162],"70":[0,0.7,0.13634,0,0.89544],"71":[0,0.7,0.17322,0,0.60961],"72":[0,0.7,0.29694,0,0.96919],"73":[0,0.7,0.19189,0,0.80907],"74":[0.27778,0.7,0.19189,0,1.05159],"75":[0,0.7,0.31259,0,0.91364],"76":[0,0.7,0.19189,0,0.87373],"77":[0,0.7,0.15981,0,1.08031],"78":[0,0.7,0.3525,0,0.9015],"79":[0,0.7,0.08078,0,0.73787],"80":[0,0.7,0.08078,0,1.01262],"81":[0,0.7,0.03305,0,0.88282],"82":[0,0.7,0.06259,0,0.85],"83":[0,0.7,0.19189,0,0.86767],"84":[0,0.7,0.29087,0,0.74697],"85":[0,0.7,0.25815,0,0.79996],"86":[0,0.7,0.27523,0,0.62204],"87":[0,0.7,0.27523,0,0.80532],"88":[0,0.7,0.26006,0,0.94445],"89":[0,0.7,0.2939,0,0.70961],"90":[0,0.7,0.24037,0,0.8212],"160":[0,0,0,0,0.25]},"Size1-Regular":{"32":[0,0,0,0,0.25],"40":[0.35001,0.85,0,0,0.45834],"41":[0.35001,0.85,0,0,0.45834],"47":[0.35001,0.85,0,0,0.57778],"91":[0.35001,0.85,0,0,0.41667],"92":[0.35001,0.85,0,0,0.57778],"93":[0.35001,0.85,0,0,0.41667],"123":[0.35001,0.85,0,0,0.58334],"125":[0.35001,0.85,0,0,0.58334],"160":[0,0,0,0,0.25],"710":[0,0.72222,0,0,0.55556],"732":[0,0.72222,0,0,0.55556],"770":[0,0.72222,0,0,0.55556],"771":[0,0.72222,0,0,0.55556],"8214":[-0.00099,0.601,0,0,0.77778],"8593":[0.00001,0.6,0,0,0.66667],"8595":[0.00001,0.6,0,0,0.66667],"8657":[0.00001,0.6,0,0,0.77778],"8659":[0.00001,0.6,0,0,0.77778],"8719":[0.25001,0.75,0,0,0.94445],"8720":[0.25001,0.75,0,0,0.94445],"8721":[0.25001,0.75,0,0,1.05556],"8730":[0.35001,0.85,0,0,1],"8739":[-0.00599,0.606,0,0,0.33333],"8741":[-0.00599,0.606,0,0,0.55556],"8747":[0.30612,0.805,0.19445,0,0.47222],"8748":[0.306,0.805,0.19445,0,0.47222],"8749":[0.306,0.805,0.19445,0,0.47222],"8750":[0.30612,0.805,0.19445,0,0.47222],"8896":[0.25001,0.75,0,0,0.83334],"8897":[0.25001,0.75,0,0,0.83334],"8898":[0.25001,0.75,0,0,0.83334],"8899":[0.25001,0.75,0,0,0.83334],"8968":[0.35001,0.85,0,0,0.47222],"8969":[0.35001,0.85,0,0,0.47222],"8970":[0.35001,0.85,0,0,0.47222],"8971":[0.35001,0.85,0,0,0.47222],"9168":[-0.00099,0.601,0,0,0.66667],"10216":[0.35001,0.85,0,0,0.47222],"10217":[0.35001,0.85,0,0,0.47222],"10752":[0.25001,0.75,0,0,1.11111],"10753":[0.25001,0.75,0,0,1.11111],"10754":[0.25001,0.75,0,0,1.11111],"10756":[0.25001,0.75,0,0,0.83334],"10758":[0.25001,0.75,0,0,0.83334]},"Size2-Regular":{"32":[0,0,0,0,0.25],"40":[0.65002,1.15,0,0,0.59722],"41":[0.65002,1.15,0,0,0.59722],"47":[0.65002,1.15,0,0,0.81111],"91":[0.65002,1.15,0,0,0.47222],"92":[0.65002,1.15,0,0,0.81111],"93":[0.65002,1.15,0,0,0.47222],"123":[0.65002,1.15,0,0,0.66667],"125":[0.65002,1.15,0,0,0.66667],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1],"732":[0,0.75,0,0,1],"770":[0,0.75,0,0,1],"771":[0,0.75,0,0,1],"8719":[0.55001,1.05,0,0,1.27778],"8720":[0.55001,1.05,0,0,1.27778],"8721":[0.55001,1.05,0,0,1.44445],"8730":[0.65002,1.15,0,0,1],"8747":[0.86225,1.36,0.44445,0,0.55556],"8748":[0.862,1.36,0.44445,0,0.55556],"8749":[0.862,1.36,0.44445,0,0.55556],"8750":[0.86225,1.36,0.44445,0,0.55556],"8896":[0.55001,1.05,0,0,1.11111],"8897":[0.55001,1.05,0,0,1.11111],"8898":[0.55001,1.05,0,0,1.11111],"8899":[0.55001,1.05,0,0,1.11111],"8968":[0.65002,1.15,0,0,0.52778],"8969":[0.65002,1.15,0,0,0.52778],"8970":[0.65002,1.15,0,0,0.52778],"8971":[0.65002,1.15,0,0,0.52778],"10216":[0.65002,1.15,0,0,0.61111],"10217":[0.65002,1.15,0,0,0.61111],"10752":[0.55001,1.05,0,0,1.51112],"10753":[0.55001,1.05,0,0,1.51112],"10754":[0.55001,1.05,0,0,1.51112],"10756":[0.55001,1.05,0,0,1.11111],"10758":[0.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,0.25],"40":[0.95003,1.45,0,0,0.73611],"41":[0.95003,1.45,0,0,0.73611],"47":[0.95003,1.45,0,0,1.04445],"91":[0.95003,1.45,0,0,0.52778],"92":[0.95003,1.45,0,0,1.04445],"93":[0.95003,1.45,0,0,0.52778],"123":[0.95003,1.45,0,0,0.75],"125":[0.95003,1.45,0,0,0.75],"160":[0,0,0,0,0.25],"710":[0,0.75,0,0,1.44445],"732":[0,0.75,0,0,1.44445],"770":[0,0.75,0,0,1.44445],"771":[0,0.75,0,0,1.44445],"8730":[0.95003,1.45,0,0,1],"8968":[0.95003,1.45,0,0,0.58334],"8969":[0.95003,1.45,0,0,0.58334],"8970":[0.95003,1.45,0,0,0.58334],"8971":[0.95003,1.45,0,0,0.58334],"10216":[0.95003,1.45,0,0,0.75],"10217":[0.95003,1.45,0,0,0.75]},"Size4-Regular":{"32":[0,0,0,0,0.25],"40":[1.25003,1.75,0,0,0.79167],"41":[1.25003,1.75,0,0,0.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,0.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,0.58334],"123":[1.25003,1.75,0,0,0.80556],"125":[1.25003,1.75,0,0,0.80556],"160":[0,0,0,0,0.25],"710":[0,0.825,0,0,1.8889],"732":[0,0.825,0,0,1.8889],"770":[0,0.825,0,0,1.8889],"771":[0,0.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,0.63889],"8969":[1.25003,1.75,0,0,0.63889],"8970":[1.25003,1.75,0,0,0.63889],"8971":[1.25003,1.75,0,0,0.63889],"9115":[0.64502,1.155,0,0,0.875],"9116":[0.00001,0.6,0,0,0.875],"9117":[0.64502,1.155,0,0,0.875],"9118":[0.64502,1.155,0,0,0.875],"9119":[0.00001,0.6,0,0,0.875],"9120":[0.64502,1.155,0,0,0.875],"9121":[0.64502,1.155,0,0,0.66667],"9122":[-0.00099,0.601,0,0,0.66667],"9123":[0.64502,1.155,0,0,0.66667],"9124":[0.64502,1.155,0,0,0.66667],"9125":[-0.00099,0.601,0,0,0.66667],"9126":[0.64502,1.155,0,0,0.66667],"9127":[0.00001,0.9,0,0,0.88889],"9128":[0.65002,1.15,0,0,0.88889],"9129":[0.90001,0,0,0,0.88889],"9130":[0,0.3,0,0,0.88889],"9131":[0.00001,0.9,0,0,0.88889],"9132":[0.65002,1.15,0,0,0.88889],"9133":[0.90001,0,0,0,0.88889],"9143":[0.88502,0.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,0.80556],"10217":[1.25003,1.75,0,0,0.80556],"57344":[-0.00499,0.605,0,0,1.05556],"57345":[-0.00499,0.605,0,0,1.05556],"57680":[0,0.12,0,0,0.45],"57681":[0,0.12,0,0,0.45],"57682":[0,0.12,0,0,0.45],"57683":[0,0.12,0,0,0.45]},"Typewriter-Regular":{"32":[0,0,0,0,0.525],"33":[0,0.61111,0,0,0.525],"34":[0,0.61111,0,0,0.525],"35":[0,0.61111,0,0,0.525],"36":[0.08333,0.69444,0,0,0.525],"37":[0.08333,0.69444,0,0,0.525],"38":[0,0.61111,0,0,0.525],"39":[0,0.61111,0,0,0.525],"40":[0.08333,0.69444,0,0,0.525],"41":[0.08333,0.69444,0,0,0.525],"42":[0,0.52083,0,0,0.525],"43":[-0.08056,0.53055,0,0,0.525],"44":[0.13889,0.125,0,0,0.525],"45":[-0.08056,0.53055,0,0,0.525],"46":[0,0.125,0,0,0.525],"47":[0.08333,0.69444,0,0,0.525],"48":[0,0.61111,0,0,0.525],"49":[0,0.61111,0,0,0.525],"50":[0,0.61111,0,0,0.525],"51":[0,0.61111,0,0,0.525],"52":[0,0.61111,0,0,0.525],"53":[0,0.61111,0,0,0.525],"54":[0,0.61111,0,0,0.525],"55":[0,0.61111,0,0,0.525],"56":[0,0.61111,0,0,0.525],"57":[0,0.61111,0,0,0.525],"58":[0,0.43056,0,0,0.525],"59":[0.13889,0.43056,0,0,0.525],"60":[-0.05556,0.55556,0,0,0.525],"61":[-0.19549,0.41562,0,0,0.525],"62":[-0.05556,0.55556,0,0,0.525],"63":[0,0.61111,0,0,0.525],"64":[0,0.61111,0,0,0.525],"65":[0,0.61111,0,0,0.525],"66":[0,0.61111,0,0,0.525],"67":[0,0.61111,0,0,0.525],"68":[0,0.61111,0,0,0.525],"69":[0,0.61111,0,0,0.525],"70":[0,0.61111,0,0,0.525],"71":[0,0.61111,0,0,0.525],"72":[0,0.61111,0,0,0.525],"73":[0,0.61111,0,0,0.525],"74":[0,0.61111,0,0,0.525],"75":[0,0.61111,0,0,0.525],"76":[0,0.61111,0,0,0.525],"77":[0,0.61111,0,0,0.525],"78":[0,0.61111,0,0,0.525],"79":[0,0.61111,0,0,0.525],"80":[0,0.61111,0,0,0.525],"81":[0.13889,0.61111,0,0,0.525],"82":[0,0.61111,0,0,0.525],"83":[0,0.61111,0,0,0.525],"84":[0,0.61111,0,0,0.525],"85":[0,0.61111,0,0,0.525],"86":[0,0.61111,0,0,0.525],"87":[0,0.61111,0,0,0.525],"88":[0,0.61111,0,0,0.525],"89":[0,0.61111,0,0,0.525],"90":[0,0.61111,0,0,0.525],"91":[0.08333,0.69444,0,0,0.525],"92":[0.08333,0.69444,0,0,0.525],"93":[0.08333,0.69444,0,0,0.525],"94":[0,0.61111,0,0,0.525],"95":[0.09514,0,0,0,0.525],"96":[0,0.61111,0,0,0.525],"97":[0,0.43056,0,0,0.525],"98":[0,0.61111,0,0,0.525],"99":[0,0.43056,0,0,0.525],"100":[0,0.61111,0,0,0.525],"101":[0,0.43056,0,0,0.525],"102":[0,0.61111,0,0,0.525],"103":[0.22222,0.43056,0,0,0.525],"104":[0,0.61111,0,0,0.525],"105":[0,0.61111,0,0,0.525],"106":[0.22222,0.61111,0,0,0.525],"107":[0,0.61111,0,0,0.525],"108":[0,0.61111,0,0,0.525],"109":[0,0.43056,0,0,0.525],"110":[0,0.43056,0,0,0.525],"111":[0,0.43056,0,0,0.525],"112":[0.22222,0.43056,0,0,0.525],"113":[0.22222,0.43056,0,0,0.525],"114":[0,0.43056,0,0,0.525],"115":[0,0.43056,0,0,0.525],"116":[0,0.55358,0,0,0.525],"117":[0,0.43056,0,0,0.525],"118":[0,0.43056,0,0,0.525],"119":[0,0.43056,0,0,0.525],"120":[0,0.43056,0,0,0.525],"121":[0.22222,0.43056,0,0,0.525],"122":[0,0.43056,0,0,0.525],"123":[0.08333,0.69444,0,0,0.525],"124":[0.08333,0.69444,0,0,0.525],"125":[0.08333,0.69444,0,0,0.525],"126":[0,0.61111,0,0,0.525],"127":[0,0.61111,0,0,0.525],"160":[0,0,0,0,0.525],"176":[0,0.61111,0,0,0.525],"184":[0.19445,0,0,0,0.525],"305":[0,0.43056,0,0,0.525],"567":[0.22222,0.43056,0,0,0.525],"711":[0,0.56597,0,0,0.525],"713":[0,0.56555,0,0,0.525],"714":[0,0.61111,0,0,0.525],"715":[0,0.61111,0,0,0.525],"728":[0,0.61111,0,0,0.525],"730":[0,0.61111,0,0,0.525],"770":[0,0.61111,0,0,0.525],"771":[0,0.61111,0,0,0.525],"776":[0,0.61111,0,0,0.525],"915":[0,0.61111,0,0,0.525],"916":[0,0.61111,0,0,0.525],"920":[0,0.61111,0,0,0.525],"923":[0,0.61111,0,0,0.525],"926":[0,0.61111,0,0,0.525],"928":[0,0.61111,0,0,0.525],"931":[0,0.61111,0,0,0.525],"933":[0,0.61111,0,0,0.525],"934":[0,0.61111,0,0,0.525],"936":[0,0.61111,0,0,0.525],"937":[0,0.61111,0,0,0.525],"8216":[0,0.61111,0,0,0.525],"8217":[0,0.61111,0,0,0.525],"8242":[0,0.61111,0,0,0.525],"9251":[0.11111,0.21944,0,0,0.525]}},yM={slant:[0.25,0.25,0.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[0.431,0.431,0.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[0.677,0.732,0.925],num2:[0.394,0.384,0.387],num3:[0.444,0.471,0.504],denom1:[0.686,0.752,1.025],denom2:[0.345,0.344,0.532],sup1:[0.413,0.503,0.504],sup2:[0.363,0.431,0.404],sup3:[0.289,0.286,0.294],sub1:[0.15,0.143,0.2],sub2:[0.247,0.286,0.4],supDrop:[0.386,0.353,0.494],subDrop:[0.05,0.071,0.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[0.25,0.25,0.25],defaultRuleThickness:[0.04,0.049,0.049],bigOpSpacing1:[0.111,0.111,0.111],bigOpSpacing2:[0.166,0.166,0.166],bigOpSpacing3:[0.2,0.2,0.2],bigOpSpacing4:[0.6,0.611,0.611],bigOpSpacing5:[0.1,0.143,0.143],sqrtRuleThickness:[0.04,0.04,0.04],ptPerEm:[10,10,10],doubleRuleSep:[0.2,0.2,0.2],arrayRuleWidth:[0.04,0.04,0.04],fboxsep:[0.3,0.3,0.3],fboxrule:[0.04,0.04,0.04]},Ux={"\xC5":"A","\xD0":"D","\xDE":"o","\xE5":"a","\xF0":"d","\xFE":"o","\u0410":"A","\u0411":"B","\u0412":"B","\u0413":"F","\u0414":"A","\u0415":"E","\u0416":"K","\u0417":"3","\u0418":"N","\u0419":"N","\u041A":"K","\u041B":"N","\u041C":"M","\u041D":"H","\u041E":"O","\u041F":"N","\u0420":"P","\u0421":"C","\u0422":"T","\u0423":"y","\u0424":"O","\u0425":"X","\u0426":"U","\u0427":"h","\u0428":"W","\u0429":"W","\u042A":"B","\u042B":"X","\u042C":"B","\u042D":"3","\u042E":"X","\u042F":"R","\u0430":"a","\u0431":"b","\u0432":"a","\u0433":"r","\u0434":"y","\u0435":"e","\u0436":"m","\u0437":"e","\u0438":"n","\u0439":"n","\u043A":"n","\u043B":"n","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"n","\u0440":"p","\u0441":"c","\u0442":"o","\u0443":"y","\u0444":"b","\u0445":"x","\u0446":"n","\u0447":"n","\u0448":"w","\u0449":"w","\u044A":"a","\u044B":"m","\u044C":"a","\u044D":"e","\u044E":"m","\u044F":"r"},rD={},Eq0=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Yx=[0.5,0.6,0.7,0.8,0.9,1,1.2,1.44,1.728,2.074,2.488];$K.BASESIZE=6;qN={pt:1,mm:2.8452755905511813,cm:28.45275590551181,in:72.27,bp:1.00375,pc:12,dd:1.070008643042351,cc:12.84010371650821,nd:1.0669781931464175,nc:12.80373831775701,sp:0.0000152587890625,px:1.00375},wq0={ex:!0,em:!0,mu:!0};jq0={"\xEE":"\u0131\u0302","\xEF":"\u0131\u0308","\xED":"\u0131\u0301","\xEC":"\u0131\u0300"};Pq0={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Vq0={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},KZ={math:{},text:{}};x(m,s,L0,"\u2261","\\equiv",!0);x(m,s,L0,"\u227A","\\prec",!0);x(m,s,L0,"\u227B","\\succ",!0);x(m,s,L0,"\u223C","\\sim",!0);x(m,s,L0,"\u22A5","\\perp");x(m,s,L0,"\u2AAF","\\preceq",!0);x(m,s,L0,"\u2AB0","\\succeq",!0);x(m,s,L0,"\u2243","\\simeq",!0);x(m,s,L0,"\u2223","\\mid",!0);x(m,s,L0,"\u226A","\\ll",!0);x(m,s,L0,"\u226B","\\gg",!0);x(m,s,L0,"\u224D","\\asymp",!0);x(m,s,L0,"\u2225","\\parallel");x(m,s,L0,"\u22C8","\\bowtie",!0);x(m,s,L0,"\u2323","\\smile",!0);x(m,s,L0,"\u2291","\\sqsubseteq",!0);x(m,s,L0,"\u2292","\\sqsupseteq",!0);x(m,s,L0,"\u2250","\\doteq",!0);x(m,s,L0,"\u2322","\\frown",!0);x(m,s,L0,"\u220B","\\ni",!0);x(m,s,L0,"\u221D","\\propto",!0);x(m,s,L0,"\u22A2","\\vdash",!0);x(m,s,L0,"\u22A3","\\dashv",!0);x(m,s,L0,"\u220B","\\owns");x(m,s,U2,".","\\ldotp");x(m,s,U2,"\u22C5","\\cdotp");x(m,s,N0,"#","\\#");x(r0,s,N0,"#","\\#");x(m,s,N0,"&","\\&");x(r0,s,N0,"&","\\&");x(m,s,N0,"\u2135","\\aleph",!0);x(m,s,N0,"\u2200","\\forall",!0);x(m,s,N0,"\u210F","\\hbar",!0);x(m,s,N0,"\u2203","\\exists",!0);x(m,s,N0,"\u2207","\\nabla",!0);x(m,s,N0,"\u266D","\\flat",!0);x(m,s,N0,"\u2113","\\ell",!0);x(m,s,N0,"\u266E","\\natural",!0);x(m,s,N0,"\u2663","\\clubsuit",!0);x(m,s,N0,"\u2118","\\wp",!0);x(m,s,N0,"\u266F","\\sharp",!0);x(m,s,N0,"\u2662","\\diamondsuit",!0);x(m,s,N0,"\u211C","\\Re",!0);x(m,s,N0,"\u2661","\\heartsuit",!0);x(m,s,N0,"\u2111","\\Im",!0);x(m,s,N0,"\u2660","\\spadesuit",!0);x(m,s,N0,"\xA7","\\S",!0);x(r0,s,N0,"\xA7","\\S");x(m,s,N0,"\xB6","\\P",!0);x(r0,s,N0,"\xB6","\\P");x(m,s,N0,"\u2020","\\dag");x(r0,s,N0,"\u2020","\\dag");x(r0,s,N0,"\u2020","\\textdagger");x(m,s,N0,"\u2021","\\ddag");x(r0,s,N0,"\u2021","\\ddag");x(r0,s,N0,"\u2021","\\textdaggerdbl");x(m,s,T7,"\u23B1","\\rmoustache",!0);x(m,s,S6,"\u23B0","\\lmoustache",!0);x(m,s,T7,"\u27EF","\\rgroup",!0);x(m,s,S6,"\u27EE","\\lgroup",!0);x(m,s,z9,"\u2213","\\mp",!0);x(m,s,z9,"\u2296","\\ominus",!0);x(m,s,z9,"\u228E","\\uplus",!0);x(m,s,z9,"\u2293","\\sqcap",!0);x(m,s,z9,"\u2217","\\ast");x(m,s,z9,"\u2294","\\sqcup",!0);x(m,s,z9,"\u25EF","\\bigcirc",!0);x(m,s,z9,"\u2219","\\bullet",!0);x(m,s,z9,"\u2021","\\ddagger");x(m,s,z9,"\u2240","\\wr",!0);x(m,s,z9,"\u2A3F","\\amalg");x(m,s,z9,"&","\\And");x(m,s,L0,"\u27F5","\\longleftarrow",!0);x(m,s,L0,"\u21D0","\\Leftarrow",!0);x(m,s,L0,"\u27F8","\\Longleftarrow",!0);x(m,s,L0,"\u27F6","\\longrightarrow",!0);x(m,s,L0,"\u21D2","\\Rightarrow",!0);x(m,s,L0,"\u27F9","\\Longrightarrow",!0);x(m,s,L0,"\u2194","\\leftrightarrow",!0);x(m,s,L0,"\u27F7","\\longleftrightarrow",!0);x(m,s,L0,"\u21D4","\\Leftrightarrow",!0);x(m,s,L0,"\u27FA","\\Longleftrightarrow",!0);x(m,s,L0,"\u21A6","\\mapsto",!0);x(m,s,L0,"\u27FC","\\longmapsto",!0);x(m,s,L0,"\u2197","\\nearrow",!0);x(m,s,L0,"\u21A9","\\hookleftarrow",!0);x(m,s,L0,"\u21AA","\\hookrightarrow",!0);x(m,s,L0,"\u2198","\\searrow",!0);x(m,s,L0,"\u21BC","\\leftharpoonup",!0);x(m,s,L0,"\u21C0","\\rightharpoonup",!0);x(m,s,L0,"\u2199","\\swarrow",!0);x(m,s,L0,"\u21BD","\\leftharpoondown",!0);x(m,s,L0,"\u21C1","\\rightharpoondown",!0);x(m,s,L0,"\u2196","\\nwarrow",!0);x(m,s,L0,"\u21CC","\\rightleftharpoons",!0);x(m,O0,L0,"\u226E","\\nless",!0);x(m,O0,L0,"\uE010","\\@nleqslant");x(m,O0,L0,"\uE011","\\@nleqq");x(m,O0,L0,"\u2A87","\\lneq",!0);x(m,O0,L0,"\u2268","\\lneqq",!0);x(m,O0,L0,"\uE00C","\\@lvertneqq");x(m,O0,L0,"\u22E6","\\lnsim",!0);x(m,O0,L0,"\u2A89","\\lnapprox",!0);x(m,O0,L0,"\u2280","\\nprec",!0);x(m,O0,L0,"\u22E0","\\npreceq",!0);x(m,O0,L0,"\u22E8","\\precnsim",!0);x(m,O0,L0,"\u2AB9","\\precnapprox",!0);x(m,O0,L0,"\u2241","\\nsim",!0);x(m,O0,L0,"\uE006","\\@nshortmid");x(m,O0,L0,"\u2224","\\nmid",!0);x(m,O0,L0,"\u22AC","\\nvdash",!0);x(m,O0,L0,"\u22AD","\\nvDash",!0);x(m,O0,L0,"\u22EA","\\ntriangleleft");x(m,O0,L0,"\u22EC","\\ntrianglelefteq",!0);x(m,O0,L0,"\u228A","\\subsetneq",!0);x(m,O0,L0,"\uE01A","\\@varsubsetneq");x(m,O0,L0,"\u2ACB","\\subsetneqq",!0);x(m,O0,L0,"\uE017","\\@varsubsetneqq");x(m,O0,L0,"\u226F","\\ngtr",!0);x(m,O0,L0,"\uE00F","\\@ngeqslant");x(m,O0,L0,"\uE00E","\\@ngeqq");x(m,O0,L0,"\u2A88","\\gneq",!0);x(m,O0,L0,"\u2269","\\gneqq",!0);x(m,O0,L0,"\uE00D","\\@gvertneqq");x(m,O0,L0,"\u22E7","\\gnsim",!0);x(m,O0,L0,"\u2A8A","\\gnapprox",!0);x(m,O0,L0,"\u2281","\\nsucc",!0);x(m,O0,L0,"\u22E1","\\nsucceq",!0);x(m,O0,L0,"\u22E9","\\succnsim",!0);x(m,O0,L0,"\u2ABA","\\succnapprox",!0);x(m,O0,L0,"\u2246","\\ncong",!0);x(m,O0,L0,"\uE007","\\@nshortparallel");x(m,O0,L0,"\u2226","\\nparallel",!0);x(m,O0,L0,"\u22AF","\\nVDash",!0);x(m,O0,L0,"\u22EB","\\ntriangleright");x(m,O0,L0,"\u22ED","\\ntrianglerighteq",!0);x(m,O0,L0,"\uE018","\\@nsupseteqq");x(m,O0,L0,"\u228B","\\supsetneq",!0);x(m,O0,L0,"\uE01B","\\@varsupsetneq");x(m,O0,L0,"\u2ACC","\\supsetneqq",!0);x(m,O0,L0,"\uE019","\\@varsupsetneqq");x(m,O0,L0,"\u22AE","\\nVdash",!0);x(m,O0,L0,"\u2AB5","\\precneqq",!0);x(m,O0,L0,"\u2AB6","\\succneqq",!0);x(m,O0,L0,"\uE016","\\@nsubseteqq");x(m,O0,z9,"\u22B4","\\unlhd");x(m,O0,z9,"\u22B5","\\unrhd");x(m,O0,L0,"\u219A","\\nleftarrow",!0);x(m,O0,L0,"\u219B","\\nrightarrow",!0);x(m,O0,L0,"\u21CD","\\nLeftarrow",!0);x(m,O0,L0,"\u21CF","\\nRightarrow",!0);x(m,O0,L0,"\u21AE","\\nleftrightarrow",!0);x(m,O0,L0,"\u21CE","\\nLeftrightarrow",!0);x(m,O0,L0,"\u25B3","\\vartriangle");x(m,O0,N0,"\u210F","\\hslash");x(m,O0,N0,"\u25BD","\\triangledown");x(m,O0,N0,"\u25CA","\\lozenge");x(m,O0,N0,"\u24C8","\\circledS");x(m,O0,N0,"\xAE","\\circledR");x(r0,O0,N0,"\xAE","\\circledR");x(m,O0,N0,"\u2221","\\measuredangle",!0);x(m,O0,N0,"\u2204","\\nexists");x(m,O0,N0,"\u2127","\\mho");x(m,O0,N0,"\u2132","\\Finv",!0);x(m,O0,N0,"\u2141","\\Game",!0);x(m,O0,N0,"\u2035","\\backprime");x(m,O0,N0,"\u25B2","\\blacktriangle");x(m,O0,N0,"\u25BC","\\blacktriangledown");x(m,O0,N0,"\u25A0","\\blacksquare");x(m,O0,N0,"\u29EB","\\blacklozenge");x(m,O0,N0,"\u2605","\\bigstar");x(m,O0,N0,"\u2222","\\sphericalangle",!0);x(m,O0,N0,"\u2201","\\complement",!0);x(m,O0,N0,"\xF0","\\eth",!0);x(r0,s,N0,"\xF0","\xF0");x(m,O0,N0,"\u2571","\\diagup");x(m,O0,N0,"\u2572","\\diagdown");x(m,O0,N0,"\u25A1","\\square");x(m,O0,N0,"\u25A1","\\Box");x(m,O0,N0,"\u25CA","\\Diamond");x(m,O0,N0,"\xA5","\\yen",!0);x(r0,O0,N0,"\xA5","\\yen",!0);x(m,O0,N0,"\u2713","\\checkmark",!0);x(r0,O0,N0,"\u2713","\\checkmark");x(m,O0,N0,"\u2136","\\beth",!0);x(m,O0,N0,"\u2138","\\daleth",!0);x(m,O0,N0,"\u2137","\\gimel",!0);x(m,O0,N0,"\u03DD","\\digamma",!0);x(m,O0,N0,"\u03F0","\\varkappa");x(m,O0,S6,"\u250C","\\@ulcorner",!0);x(m,O0,T7,"\u2510","\\@urcorner",!0);x(m,O0,S6,"\u2514","\\@llcorner",!0);x(m,O0,T7,"\u2518","\\@lrcorner",!0);x(m,O0,L0,"\u2266","\\leqq",!0);x(m,O0,L0,"\u2A7D","\\leqslant",!0);x(m,O0,L0,"\u2A95","\\eqslantless",!0);x(m,O0,L0,"\u2272","\\lesssim",!0);x(m,O0,L0,"\u2A85","\\lessapprox",!0);x(m,O0,L0,"\u224A","\\approxeq",!0);x(m,O0,z9,"\u22D6","\\lessdot");x(m,O0,L0,"\u22D8","\\lll",!0);x(m,O0,L0,"\u2276","\\lessgtr",!0);x(m,O0,L0,"\u22DA","\\lesseqgtr",!0);x(m,O0,L0,"\u2A8B","\\lesseqqgtr",!0);x(m,O0,L0,"\u2251","\\doteqdot");x(m,O0,L0,"\u2253","\\risingdotseq",!0);x(m,O0,L0,"\u2252","\\fallingdotseq",!0);x(m,O0,L0,"\u223D","\\backsim",!0);x(m,O0,L0,"\u22CD","\\backsimeq",!0);x(m,O0,L0,"\u2AC5","\\subseteqq",!0);x(m,O0,L0,"\u22D0","\\Subset",!0);x(m,O0,L0,"\u228F","\\sqsubset",!0);x(m,O0,L0,"\u227C","\\preccurlyeq",!0);x(m,O0,L0,"\u22DE","\\curlyeqprec",!0);x(m,O0,L0,"\u227E","\\precsim",!0);x(m,O0,L0,"\u2AB7","\\precapprox",!0);x(m,O0,L0,"\u22B2","\\vartriangleleft");x(m,O0,L0,"\u22B4","\\trianglelefteq");x(m,O0,L0,"\u22A8","\\vDash",!0);x(m,O0,L0,"\u22AA","\\Vvdash",!0);x(m,O0,L0,"\u2323","\\smallsmile");x(m,O0,L0,"\u2322","\\smallfrown");x(m,O0,L0,"\u224F","\\bumpeq",!0);x(m,O0,L0,"\u224E","\\Bumpeq",!0);x(m,O0,L0,"\u2267","\\geqq",!0);x(m,O0,L0,"\u2A7E","\\geqslant",!0);x(m,O0,L0,"\u2A96","\\eqslantgtr",!0);x(m,O0,L0,"\u2273","\\gtrsim",!0);x(m,O0,L0,"\u2A86","\\gtrapprox",!0);x(m,O0,z9,"\u22D7","\\gtrdot");x(m,O0,L0,"\u22D9","\\ggg",!0);x(m,O0,L0,"\u2277","\\gtrless",!0);x(m,O0,L0,"\u22DB","\\gtreqless",!0);x(m,O0,L0,"\u2A8C","\\gtreqqless",!0);x(m,O0,L0,"\u2256","\\eqcirc",!0);x(m,O0,L0,"\u2257","\\circeq",!0);x(m,O0,L0,"\u225C","\\triangleq",!0);x(m,O0,L0,"\u223C","\\thicksim");x(m,O0,L0,"\u2248","\\thickapprox");x(m,O0,L0,"\u2AC6","\\supseteqq",!0);x(m,O0,L0,"\u22D1","\\Supset",!0);x(m,O0,L0,"\u2290","\\sqsupset",!0);x(m,O0,L0,"\u227D","\\succcurlyeq",!0);x(m,O0,L0,"\u22DF","\\curlyeqsucc",!0);x(m,O0,L0,"\u227F","\\succsim",!0);x(m,O0,L0,"\u2AB8","\\succapprox",!0);x(m,O0,L0,"\u22B3","\\vartriangleright");x(m,O0,L0,"\u22B5","\\trianglerighteq");x(m,O0,L0,"\u22A9","\\Vdash",!0);x(m,O0,L0,"\u2223","\\shortmid");x(m,O0,L0,"\u2225","\\shortparallel");x(m,O0,L0,"\u226C","\\between",!0);x(m,O0,L0,"\u22D4","\\pitchfork",!0);x(m,O0,L0,"\u221D","\\varpropto");x(m,O0,L0,"\u25C0","\\blacktriangleleft");x(m,O0,L0,"\u2234","\\therefore",!0);x(m,O0,L0,"\u220D","\\backepsilon");x(m,O0,L0,"\u25B6","\\blacktriangleright");x(m,O0,L0,"\u2235","\\because",!0);x(m,O0,L0,"\u22D8","\\llless");x(m,O0,L0,"\u22D9","\\gggtr");x(m,O0,z9,"\u22B2","\\lhd");x(m,O0,z9,"\u22B3","\\rhd");x(m,O0,L0,"\u2242","\\eqsim",!0);x(m,s,L0,"\u22C8","\\Join");x(m,O0,L0,"\u2251","\\Doteq",!0);x(m,O0,z9,"\u2214","\\dotplus",!0);x(m,O0,z9,"\u2216","\\smallsetminus");x(m,O0,z9,"\u22D2","\\Cap",!0);x(m,O0,z9,"\u22D3","\\Cup",!0);x(m,O0,z9,"\u2A5E","\\doublebarwedge",!0);x(m,O0,z9,"\u229F","\\boxminus",!0);x(m,O0,z9,"\u229E","\\boxplus",!0);x(m,O0,z9,"\u22C7","\\divideontimes",!0);x(m,O0,z9,"\u22C9","\\ltimes",!0);x(m,O0,z9,"\u22CA","\\rtimes",!0);x(m,O0,z9,"\u22CB","\\leftthreetimes",!0);x(m,O0,z9,"\u22CC","\\rightthreetimes",!0);x(m,O0,z9,"\u22CF","\\curlywedge",!0);x(m,O0,z9,"\u22CE","\\curlyvee",!0);x(m,O0,z9,"\u229D","\\circleddash",!0);x(m,O0,z9,"\u229B","\\circledast",!0);x(m,O0,z9,"\u22C5","\\centerdot");x(m,O0,z9,"\u22BA","\\intercal",!0);x(m,O0,z9,"\u22D2","\\doublecap");x(m,O0,z9,"\u22D3","\\doublecup");x(m,O0,z9,"\u22A0","\\boxtimes",!0);x(m,O0,L0,"\u21E2","\\dashrightarrow",!0);x(m,O0,L0,"\u21E0","\\dashleftarrow",!0);x(m,O0,L0,"\u21C7","\\leftleftarrows",!0);x(m,O0,L0,"\u21C6","\\leftrightarrows",!0);x(m,O0,L0,"\u21DA","\\Lleftarrow",!0);x(m,O0,L0,"\u219E","\\twoheadleftarrow",!0);x(m,O0,L0,"\u21A2","\\leftarrowtail",!0);x(m,O0,L0,"\u21AB","\\looparrowleft",!0);x(m,O0,L0,"\u21CB","\\leftrightharpoons",!0);x(m,O0,L0,"\u21B6","\\curvearrowleft",!0);x(m,O0,L0,"\u21BA","\\circlearrowleft",!0);x(m,O0,L0,"\u21B0","\\Lsh",!0);x(m,O0,L0,"\u21C8","\\upuparrows",!0);x(m,O0,L0,"\u21BF","\\upharpoonleft",!0);x(m,O0,L0,"\u21C3","\\downharpoonleft",!0);x(m,s,L0,"\u22B6","\\origof",!0);x(m,s,L0,"\u22B7","\\imageof",!0);x(m,O0,L0,"\u22B8","\\multimap",!0);x(m,O0,L0,"\u21AD","\\leftrightsquigarrow",!0);x(m,O0,L0,"\u21C9","\\rightrightarrows",!0);x(m,O0,L0,"\u21C4","\\rightleftarrows",!0);x(m,O0,L0,"\u21A0","\\twoheadrightarrow",!0);x(m,O0,L0,"\u21A3","\\rightarrowtail",!0);x(m,O0,L0,"\u21AC","\\looparrowright",!0);x(m,O0,L0,"\u21B7","\\curvearrowright",!0);x(m,O0,L0,"\u21BB","\\circlearrowright",!0);x(m,O0,L0,"\u21B1","\\Rsh",!0);x(m,O0,L0,"\u21CA","\\downdownarrows",!0);x(m,O0,L0,"\u21BE","\\upharpoonright",!0);x(m,O0,L0,"\u21C2","\\downharpoonright",!0);x(m,O0,L0,"\u21DD","\\rightsquigarrow",!0);x(m,O0,L0,"\u21DD","\\leadsto");x(m,O0,L0,"\u21DB","\\Rrightarrow",!0);x(m,O0,L0,"\u21BE","\\restriction");x(m,s,N0,"\u2018","`");x(m,s,N0,"$","\\$");x(r0,s,N0,"$","\\$");x(r0,s,N0,"$","\\textdollar");x(m,s,N0,"%","\\%");x(r0,s,N0,"%","\\%");x(m,s,N0,"_","\\_");x(r0,s,N0,"_","\\_");x(r0,s,N0,"_","\\textunderscore");x(m,s,N0,"\u2220","\\angle",!0);x(m,s,N0,"\u221E","\\infty",!0);x(m,s,N0,"\u2032","\\prime");x(m,s,N0,"\u25B3","\\triangle");x(m,s,N0,"\u0393","\\Gamma",!0);x(m,s,N0,"\u0394","\\Delta",!0);x(m,s,N0,"\u0398","\\Theta",!0);x(m,s,N0,"\u039B","\\Lambda",!0);x(m,s,N0,"\u039E","\\Xi",!0);x(m,s,N0,"\u03A0","\\Pi",!0);x(m,s,N0,"\u03A3","\\Sigma",!0);x(m,s,N0,"\u03A5","\\Upsilon",!0);x(m,s,N0,"\u03A6","\\Phi",!0);x(m,s,N0,"\u03A8","\\Psi",!0);x(m,s,N0,"\u03A9","\\Omega",!0);x(m,s,N0,"A","\u0391");x(m,s,N0,"B","\u0392");x(m,s,N0,"E","\u0395");x(m,s,N0,"Z","\u0396");x(m,s,N0,"H","\u0397");x(m,s,N0,"I","\u0399");x(m,s,N0,"K","\u039A");x(m,s,N0,"M","\u039C");x(m,s,N0,"N","\u039D");x(m,s,N0,"O","\u039F");x(m,s,N0,"P","\u03A1");x(m,s,N0,"T","\u03A4");x(m,s,N0,"X","\u03A7");x(m,s,N0,"\xAC","\\neg",!0);x(m,s,N0,"\xAC","\\lnot");x(m,s,N0,"\u22A4","\\top");x(m,s,N0,"\u22A5","\\bot");x(m,s,N0,"\u2205","\\emptyset");x(m,O0,N0,"\u2205","\\varnothing");x(m,s,k9,"\u03B1","\\alpha",!0);x(m,s,k9,"\u03B2","\\beta",!0);x(m,s,k9,"\u03B3","\\gamma",!0);x(m,s,k9,"\u03B4","\\delta",!0);x(m,s,k9,"\u03F5","\\epsilon",!0);x(m,s,k9,"\u03B6","\\zeta",!0);x(m,s,k9,"\u03B7","\\eta",!0);x(m,s,k9,"\u03B8","\\theta",!0);x(m,s,k9,"\u03B9","\\iota",!0);x(m,s,k9,"\u03BA","\\kappa",!0);x(m,s,k9,"\u03BB","\\lambda",!0);x(m,s,k9,"\u03BC","\\mu",!0);x(m,s,k9,"\u03BD","\\nu",!0);x(m,s,k9,"\u03BE","\\xi",!0);x(m,s,k9,"\u03BF","\\omicron",!0);x(m,s,k9,"\u03C0","\\pi",!0);x(m,s,k9,"\u03C1","\\rho",!0);x(m,s,k9,"\u03C3","\\sigma",!0);x(m,s,k9,"\u03C4","\\tau",!0);x(m,s,k9,"\u03C5","\\upsilon",!0);x(m,s,k9,"\u03D5","\\phi",!0);x(m,s,k9,"\u03C7","\\chi",!0);x(m,s,k9,"\u03C8","\\psi",!0);x(m,s,k9,"\u03C9","\\omega",!0);x(m,s,k9,"\u03B5","\\varepsilon",!0);x(m,s,k9,"\u03D1","\\vartheta",!0);x(m,s,k9,"\u03D6","\\varpi",!0);x(m,s,k9,"\u03F1","\\varrho",!0);x(m,s,k9,"\u03C2","\\varsigma",!0);x(m,s,k9,"\u03C6","\\varphi",!0);x(m,s,z9,"\u2217","*",!0);x(m,s,z9,"+","+");x(m,s,z9,"\u2212","-",!0);x(m,s,z9,"\u22C5","\\cdot",!0);x(m,s,z9,"\u2218","\\circ",!0);x(m,s,z9,"\xF7","\\div",!0);x(m,s,z9,"\xB1","\\pm",!0);x(m,s,z9,"\xD7","\\times",!0);x(m,s,z9,"\u2229","\\cap",!0);x(m,s,z9,"\u222A","\\cup",!0);x(m,s,z9,"\u2216","\\setminus",!0);x(m,s,z9,"\u2227","\\land");x(m,s,z9,"\u2228","\\lor");x(m,s,z9,"\u2227","\\wedge",!0);x(m,s,z9,"\u2228","\\vee",!0);x(m,s,N0,"\u221A","\\surd");x(m,s,S6,"\u27E8","\\langle",!0);x(m,s,S6,"\u2223","\\lvert");x(m,s,S6,"\u2225","\\lVert");x(m,s,T7,"?","?");x(m,s,T7,"!","!");x(m,s,T7,"\u27E9","\\rangle",!0);x(m,s,T7,"\u2223","\\rvert");x(m,s,T7,"\u2225","\\rVert");x(m,s,L0,"=","=");x(m,s,L0,":",":");x(m,s,L0,"\u2248","\\approx",!0);x(m,s,L0,"\u2245","\\cong",!0);x(m,s,L0,"\u2265","\\ge");x(m,s,L0,"\u2265","\\geq",!0);x(m,s,L0,"\u2190","\\gets");x(m,s,L0,">","\\gt",!0);x(m,s,L0,"\u2208","\\in",!0);x(m,s,L0,"\uE020","\\@not");x(m,s,L0,"\u2282","\\subset",!0);x(m,s,L0,"\u2283","\\supset",!0);x(m,s,L0,"\u2286","\\subseteq",!0);x(m,s,L0,"\u2287","\\supseteq",!0);x(m,O0,L0,"\u2288","\\nsubseteq",!0);x(m,O0,L0,"\u2289","\\nsupseteq",!0);x(m,s,L0,"\u22A8","\\models");x(m,s,L0,"\u2190","\\leftarrow",!0);x(m,s,L0,"\u2264","\\le");x(m,s,L0,"\u2264","\\leq",!0);x(m,s,L0,"<","\\lt",!0);x(m,s,L0,"\u2192","\\rightarrow",!0);x(m,s,L0,"\u2192","\\to");x(m,O0,L0,"\u2271","\\ngeq",!0);x(m,O0,L0,"\u2270","\\nleq",!0);x(m,s,uK,"\xA0","\\ ");x(m,s,uK,"\xA0","\\space");x(m,s,uK,"\xA0","\\nobreakspace");x(r0,s,uK,"\xA0","\\ ");x(r0,s,uK,"\xA0"," ");x(r0,s,uK,"\xA0","\\space");x(r0,s,uK,"\xA0","\\nobreakspace");x(m,s,uK,null,"\\nobreak");x(m,s,uK,null,"\\allowbreak");x(m,s,U2,",",",");x(m,s,U2,";",";");x(m,O0,z9,"\u22BC","\\barwedge",!0);x(m,O0,z9,"\u22BB","\\veebar",!0);x(m,s,z9,"\u2299","\\odot",!0);x(m,s,z9,"\u2295","\\oplus",!0);x(m,s,z9,"\u2297","\\otimes",!0);x(m,s,N0,"\u2202","\\partial",!0);x(m,s,z9,"\u2298","\\oslash",!0);x(m,O0,z9,"\u229A","\\circledcirc",!0);x(m,O0,z9,"\u22A1","\\boxdot",!0);x(m,s,z9,"\u25B3","\\bigtriangleup");x(m,s,z9,"\u25BD","\\bigtriangledown");x(m,s,z9,"\u2020","\\dagger");x(m,s,z9,"\u22C4","\\diamond");x(m,s,z9,"\u22C6","\\star");x(m,s,z9,"\u25C3","\\triangleleft");x(m,s,z9,"\u25B9","\\triangleright");x(m,s,S6,"{","\\{");x(r0,s,N0,"{","\\{");x(r0,s,N0,"{","\\textbraceleft");x(m,s,T7,"}","\\}");x(r0,s,N0,"}","\\}");x(r0,s,N0,"}","\\textbraceright");x(m,s,S6,"{","\\lbrace");x(m,s,T7,"}","\\rbrace");x(m,s,S6,"[","\\lbrack",!0);x(r0,s,N0,"[","\\lbrack",!0);x(m,s,T7,"]","\\rbrack",!0);x(r0,s,N0,"]","\\rbrack",!0);x(m,s,S6,"(","\\lparen",!0);x(m,s,T7,")","\\rparen",!0);x(r0,s,N0,"<","\\textless",!0);x(r0,s,N0,">","\\textgreater",!0);x(m,s,S6,"\u230A","\\lfloor",!0);x(m,s,T7,"\u230B","\\rfloor",!0);x(m,s,S6,"\u2308","\\lceil",!0);x(m,s,T7,"\u2309","\\rceil",!0);x(m,s,N0,"\\","\\backslash");x(m,s,N0,"\u2223","|");x(m,s,N0,"\u2223","\\vert");x(r0,s,N0,"|","\\textbar",!0);x(m,s,N0,"\u2225","\\|");x(m,s,N0,"\u2225","\\Vert");x(r0,s,N0,"\u2225","\\textbardbl");x(r0,s,N0,"~","\\textasciitilde");x(r0,s,N0,"\\","\\textbackslash");x(r0,s,N0,"^","\\textasciicircum");x(m,s,L0,"\u2191","\\uparrow",!0);x(m,s,L0,"\u21D1","\\Uparrow",!0);x(m,s,L0,"\u2193","\\downarrow",!0);x(m,s,L0,"\u21D3","\\Downarrow",!0);x(m,s,L0,"\u2195","\\updownarrow",!0);x(m,s,L0,"\u21D5","\\Updownarrow",!0);x(m,s,QJ,"\u2210","\\coprod");x(m,s,QJ,"\u22C1","\\bigvee");x(m,s,QJ,"\u22C0","\\bigwedge");x(m,s,QJ,"\u2A04","\\biguplus");x(m,s,QJ,"\u22C2","\\bigcap");x(m,s,QJ,"\u22C3","\\bigcup");x(m,s,QJ,"\u222B","\\int");x(m,s,QJ,"\u222B","\\intop");x(m,s,QJ,"\u222C","\\iint");x(m,s,QJ,"\u222D","\\iiint");x(m,s,QJ,"\u220F","\\prod");x(m,s,QJ,"\u2211","\\sum");x(m,s,QJ,"\u2A02","\\bigotimes");x(m,s,QJ,"\u2A01","\\bigoplus");x(m,s,QJ,"\u2A00","\\bigodot");x(m,s,QJ,"\u222E","\\oint");x(m,s,QJ,"\u222F","\\oiint");x(m,s,QJ,"\u2230","\\oiiint");x(m,s,QJ,"\u2A06","\\bigsqcup");x(m,s,QJ,"\u222B","\\smallint");x(r0,s,Oq,"\u2026","\\textellipsis");x(m,s,Oq,"\u2026","\\mathellipsis");x(r0,s,Oq,"\u2026","\\ldots",!0);x(m,s,Oq,"\u2026","\\ldots",!0);x(m,s,Oq,"\u22EF","\\@cdots",!0);x(m,s,Oq,"\u22F1","\\ddots",!0);x(m,s,N0,"\u22EE","\\varvdots");x(m,s,LZ,"\u02CA","\\acute");x(m,s,LZ,"\u02CB","\\grave");x(m,s,LZ,"\xA8","\\ddot");x(m,s,LZ,"~","\\tilde");x(m,s,LZ,"\u02C9","\\bar");x(m,s,LZ,"\u02D8","\\breve");x(m,s,LZ,"\u02C7","\\check");x(m,s,LZ,"^","\\hat");x(m,s,LZ,"\u20D7","\\vec");x(m,s,LZ,"\u02D9","\\dot");x(m,s,LZ,"\u02DA","\\mathring");x(m,s,k9,"\uE131","\\@imath");x(m,s,k9,"\uE237","\\@jmath");x(m,s,N0,"\u0131","\u0131");x(m,s,N0,"\u0237","\u0237");x(r0,s,N0,"\u0131","\\i",!0);x(r0,s,N0,"\u0237","\\j",!0);x(r0,s,N0,"\xDF","\\ss",!0);x(r0,s,N0,"\xE6","\\ae",!0);x(r0,s,N0,"\u0153","\\oe",!0);x(r0,s,N0,"\xF8","\\o",!0);x(r0,s,N0,"\xC6","\\AE",!0);x(r0,s,N0,"\u0152","\\OE",!0);x(r0,s,N0,"\xD8","\\O",!0);x(r0,s,LZ,"\u02CA","\\'");x(r0,s,LZ,"\u02CB","\\`");x(r0,s,LZ,"\u02C6","\\^");x(r0,s,LZ,"\u02DC","\\~");x(r0,s,LZ,"\u02C9","\\=");x(r0,s,LZ,"\u02D8","\\u");x(r0,s,LZ,"\u02D9","\\.");x(r0,s,LZ,"\xB8","\\c");x(r0,s,LZ,"\u02DA","\\r");x(r0,s,LZ,"\u02C7","\\v");x(r0,s,LZ,"\xA8",'\\"');x(r0,s,LZ,"\u02DD","\\H");x(r0,s,LZ,"\u25EF","\\textcircled");px={"--":!0,"---":!0,"``":!0,"''":!0};x(r0,s,N0,"\u2013","--",!0);x(r0,s,N0,"\u2013","\\textendash");x(r0,s,N0,"\u2014","---",!0);x(r0,s,N0,"\u2014","\\textemdash");x(r0,s,N0,"\u2018","`",!0);x(r0,s,N0,"\u2018","\\textquoteleft");x(r0,s,N0,"\u2019","'",!0);x(r0,s,N0,"\u2019","\\textquoteright");x(r0,s,N0,"\u201C","``",!0);x(r0,s,N0,"\u201C","\\textquotedblleft");x(r0,s,N0,"\u201D","''",!0);x(r0,s,N0,"\u201D","\\textquotedblright");x(m,s,N0,"\xB0","\\degree",!0);x(r0,s,N0,"\xB0","\\degree");x(r0,s,N0,"\xB0","\\textdegree",!0);x(m,s,N0,"\xA3","\\pounds");x(m,s,N0,"\xA3","\\mathsterling",!0);x(r0,s,N0,"\xA3","\\pounds");x(r0,s,N0,"\xA3","\\textsterling",!0);x(m,O0,N0,"\u2720","\\maltese");x(r0,O0,N0,"\u2720","\\maltese");for(uM=0;uM<Gx.length;uM++)nD=Gx.charAt(uM),x(m,s,N0,nD,nD);for(mM=0;mM<Hx.length;mM++)aD=Hx.charAt(mM),x(r0,s,N0,aD,aD);for(gM=0;gM<eM.length;gM++)fG=eM.charAt(gM),x(m,s,k9,fG,fG),x(r0,s,N0,fG,fG);x(m,O0,N0,"C","\u2102");x(r0,O0,N0,"C","\u2102");x(m,O0,N0,"H","\u210D");x(r0,O0,N0,"H","\u210D");x(m,O0,N0,"N","\u2115");x(r0,O0,N0,"N","\u2115");x(m,O0,N0,"P","\u2119");x(r0,O0,N0,"P","\u2119");x(m,O0,N0,"Q","\u211A");x(r0,O0,N0,"Q","\u211A");x(m,O0,N0,"R","\u211D");x(r0,O0,N0,"R","\u211D");x(m,O0,N0,"Z","\u2124");x(r0,O0,N0,"Z","\u2124");x(m,s,k9,"h","\u210E");x(r0,s,k9,"h","\u210E");for(G7=0;G7<eM.length;G7++)if(PZ=eM.charAt(G7),u9=String.fromCharCode(55349,56320+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56372+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56424+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56580+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56684+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56736+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56788+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56840+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56944+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),G7<26)u9=String.fromCharCode(55349,56632+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9),u9=String.fromCharCode(55349,56476+G7),x(m,s,k9,PZ,u9),x(r0,s,N0,PZ,u9);u9=String.fromCharCode(55349,56668);x(m,s,k9,"k",u9);x(r0,s,N0,"k",u9);for(g5=0;g5<10;g5++)fK=g5.toString(),u9=String.fromCharCode(55349,57294+g5),x(m,s,k9,fK,u9),x(r0,s,N0,fK,u9),u9=String.fromCharCode(55349,57314+g5),x(m,s,k9,fK,u9),x(r0,s,N0,fK,u9),u9=String.fromCharCode(55349,57324+g5),x(m,s,k9,fK,u9),x(r0,s,N0,fK,u9),u9=String.fromCharCode(55349,57334+g5),x(m,s,k9,fK,u9),x(r0,s,N0,fK,u9);for(pM=0;pM<zN.length;pM++)vG=zN.charAt(pM),x(m,s,k9,vG,vG),x(r0,s,N0,vG,vG);cM=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Wx=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],dx={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},ix={vec:["vec",0.471,0.714],oiintSize1:["oiintSize1",0.957,0.499],oiintSize2:["oiintSize2",1.472,0.659],oiiintSize1:["oiiintSize1",1.304,0.499],oiiintSize2:["oiiintSize2",1.98,0.659]},T0={fontMap:dx,makeSymbol:bQ,mathsym:Tq0,makeSpan:s7,makeSvgSpan:cx,makeLineSpan:_q0,makeAnchor:bq0,makeFragment:lx,wrapFragment:xq0,makeVList:yq0,makeOrd:vq0,makeGlue:uq0,staticSvg:mq0,svgData:ix,tryCombineChars:$q0},VZ={number:3,unit:"mu"},FU={number:4,unit:"mu"},vK={number:5,unit:"mu"},gq0={mord:{mop:VZ,mbin:FU,mrel:vK,minner:VZ},mop:{mord:VZ,mop:VZ,mrel:vK,minner:VZ},mbin:{mord:FU,mop:FU,mopen:FU,minner:FU},mrel:{mord:vK,mop:vK,mopen:vK,minner:vK},mopen:{},mclose:{mop:VZ,mbin:FU,mrel:vK,minner:VZ},mpunct:{mord:VZ,mop:VZ,mrel:vK,mopen:VZ,mclose:VZ,mpunct:VZ,minner:VZ},minner:{mord:VZ,mop:VZ,mbin:FU,mrel:vK,mopen:VZ,mpunct:VZ,minner:VZ}},pq0={mord:{mop:VZ},mop:{mord:VZ,mop:VZ},mbin:{},mrel:{},mopen:{},mclose:{mop:VZ},mpunct:{},minner:{mop:VZ}},sx={},Z2={},J2={},hK=T0.makeSpan,cq0=["leftmost","mbin","mopen","mrel","mop","mpunct"],lq0=["rightmost","mrel","mclose","mpunct"],dq0={display:$9.DISPLAY,text:$9.TEXT,script:$9.SCRIPT,scriptscript:$9.SCRIPTSCRIPT},iq0={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"};n0={MathNode:P6,TextNode:Fq,SpaceNode:ax,newDocumentFragment:nx},aq0={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},tq0={overrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],0.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],0.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],0.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],0.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],0.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],0.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],0.888,522,"xMaxYMin"],xlongequal:[["longequal"],0.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],0.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],0.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],0.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],0.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],0.888,522],overgroup:[["leftgroup","rightgroup"],0.888,342],undergroup:[["leftgroupunder","rightgroupunder"],0.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},yK={encloseSpan:J10,mathMLnode:oq0,svgSpan:Z10},Q10=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((Z)=>"\\"+Z).join("|"));Y9({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(Z,J)=>{var Q=Q2(J[0]),K=!Q10.test(Z.funcName),X=!K||Z.funcName==="\\widehat"||Z.funcName==="\\widetilde"||Z.funcName==="\\widecheck";return{type:"accent",mode:Z.parser.mode,label:Z.funcName,isStretchy:K,isShifty:X,base:Q}},htmlBuilder:NN,mathmlBuilder:ex});Y9({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(Z,J)=>{var Q=J[0],K=Z.parser.mode;if(K==="math")Z.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+Z.funcName+" works only in text mode"),K="text";return{type:"accent",mode:K,label:Z.funcName,isStretchy:!1,isShifty:!0,base:Q}},htmlBuilder:NN,mathmlBuilder:ex});Y9({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"accentUnder",mode:Q.mode,label:K,base:X}},htmlBuilder:(Z,J)=>{var Q=M8(Z.base,J),K=yK.svgSpan(Z,J),X=Z.label==="\\utilde"?0.12:0,U=T0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"elem",elem:K,wrapperClasses:["svg-align"]},{type:"kern",size:X},{type:"elem",elem:Q}]},J);return T0.makeSpan(["mord","accentunder"],[U],J)},mathmlBuilder:(Z,J)=>{var Q=yK.mathMLnode(Z.label),K=new n0.MathNode("munder",[n8(Z.base,J),Q]);return K.setAttribute("accentunder","true"),K}});Y9({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K,funcName:X}=Z;return{type:"xArrow",mode:K.mode,label:X,body:J[0],below:Q[0]}},htmlBuilder(Z,J){var Q=J.style,K=J.havingStyle(Q.sup()),X=T0.wrapFragment(M8(Z.body,K,J),J),U=Z.label.slice(0,2)==="\\x"?"x":"cd";X.classes.push(U+"-arrow-pad");var Y;if(Z.below)K=J.havingStyle(Q.sub()),Y=T0.wrapFragment(M8(Z.below,K,J),J),Y.classes.push(U+"-arrow-pad");var q=yK.svgSpan(Z,J),z=-J.fontMetrics().axisHeight+0.5*q.height,G=-J.fontMetrics().axisHeight-0.5*q.height-0.111;if(X.depth>0.25||Z.label==="\\xleftequilibrium")G-=X.depth;var H;if(Y){var W=-J.fontMetrics().axisHeight+Y.height+0.5*q.height+0.111;H=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:X,shift:G},{type:"elem",elem:q,shift:z},{type:"elem",elem:Y,shift:W}]},J)}else H=T0.makeVList({positionType:"individualShift",children:[{type:"elem",elem:X,shift:G},{type:"elem",elem:q,shift:z}]},J);return H.children[0].children[0].children[1].classes.push("svg-align"),T0.makeSpan(["mrel","x-arrow"],[H],J)},mathmlBuilder(Z,J){var Q=yK.mathMLnode(Z.label);Q.setAttribute("minsize",Z.label.charAt(0)==="x"?"1.75em":"3.0em");var K;if(Z.body){var X=iM(n8(Z.body,J));if(Z.below){var U=iM(n8(Z.below,J));K=new n0.MathNode("munderover",[Q,U,X])}else K=new n0.MathNode("mover",[Q,X])}else if(Z.below){var Y=iM(n8(Z.below,J));K=new n0.MathNode("munder",[Q,Y])}else K=iM(),K=new n0.MathNode("mover",[Q,K]);return K}});K10=T0.makeSpan;Y9({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"mclass",mode:Q.mode,mclass:"m"+K.slice(5),body:iZ(X),isCharacterBox:v9.isCharacterBox(X)}},htmlBuilder:Zh,mathmlBuilder:Jh});Y9({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(Z,J){var{parser:Q}=Z;return{type:"mclass",mode:Q.mode,mclass:z2(J[0]),body:iZ(J[1]),isCharacterBox:v9.isCharacterBox(J[1])}}});Y9({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[1],U=J[0],Y;if(K!=="\\stackrel")Y=z2(X);else Y="mrel";var q={type:"op",mode:X.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:K!=="\\stackrel",body:iZ(X)},z={type:"supsub",mode:U.mode,base:q,sup:K==="\\underset"?null:U,sub:K==="\\underset"?U:null};return{type:"mclass",mode:Q.mode,mclass:Y,body:[z],isCharacterBox:v9.isCharacterBox(z)}},htmlBuilder:Zh,mathmlBuilder:Jh});Y9({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"pmb",mode:Q.mode,mclass:z2(J[0]),body:iZ(J[0])}},htmlBuilder(Z,J){var Q=HJ(Z.body,J,!0),K=T0.makeSpan([Z.mclass],Q,J);return K.style.textShadow="0.02em 0.01em 0.04px",K},mathmlBuilder(Z,J){var Q=r7(Z.body,J),K=new n0.MathNode("mstyle",Q);return K.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),K}});X10={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"};Y9({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"cdlabel",mode:Q.mode,side:K.slice(4),label:J[0]}},htmlBuilder(Z,J){var Q=J.havingStyle(J.style.sup()),K=T0.wrapFragment(M8(Z.label,Q,J),J);return K.classes.push("cd-label-"+Z.side),K.style.bottom=Q9(0.8-K.depth),K.height=0,K.depth=0,K},mathmlBuilder(Z,J){var Q=new n0.MathNode("mrow",[n8(Z.label,J)]);if(Q=new n0.MathNode("mpadded",[Q]),Q.setAttribute("width","0"),Z.side==="left")Q.setAttribute("lspace","-1width");return Q.setAttribute("voffset","0.7em"),Q=new n0.MathNode("mstyle",[Q]),Q.setAttribute("displaystyle","false"),Q.setAttribute("scriptlevel","1"),Q}});Y9({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z;return{type:"cdlabelparent",mode:Q.mode,fragment:J[0]}},htmlBuilder(Z,J){var Q=T0.wrapFragment(M8(Z.fragment,J),J);return Q.classes.push("cd-vert-arrow"),Q},mathmlBuilder(Z,J){return new n0.MathNode("mrow",[n8(Z.fragment,J)])}});Y9({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=o9(J[0],"ordgroup"),X=K.body,U="";for(var Y=0;Y<X.length;Y++){var q=o9(X[Y],"textord");U+=q.text}var z=parseInt(U),G;if(isNaN(z))throw new a0("\\@char has non-numeric argument "+U);else if(z<0||z>=1114111)throw new a0("\\@char with invalid code point "+U);else if(z<=65535)G=String.fromCharCode(z);else z-=65536,G=String.fromCharCode((z>>10)+55296,(z&1023)+56320);return{type:"textord",mode:Q.mode,text:G}}});Y9({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(Z,J){var{parser:Q}=Z,K=o9(J[0],"color-token").color,X=J[1];return{type:"color",mode:Q.mode,color:K,body:iZ(X)}},htmlBuilder:Qh,mathmlBuilder:Kh});Y9({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(Z,J){var{parser:Q,breakOnTokenText:K}=Z,X=o9(J[0],"color-token").color;Q.gullet.macros.set("\\current@color",X);var U=Q.parseExpression(!0,K);return{type:"color",mode:Q.mode,color:X,body:U}},htmlBuilder:Qh,mathmlBuilder:Kh});Y9({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(Z,J,Q){var{parser:K}=Z,X=K.gullet.future().text==="["?K.parseSizeGroup(!0):null,U=!K.settings.displayMode||!K.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:K.mode,newLine:U,size:X&&o9(X,"size").value}},htmlBuilder(Z,J){var Q=T0.makeSpan(["mspace"],[],J);if(Z.newLine){if(Q.classes.push("newline"),Z.size)Q.style.marginTop=Q9(SZ(Z.size,J))}return Q},mathmlBuilder(Z,J){var Q=new n0.MathNode("mspace");if(Z.newLine){if(Q.setAttribute("linebreak","newline"),Z.size)Q.setAttribute("height",Q9(SZ(Z.size,J)))}return Q}});WN={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"};Y9({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(Z){var{parser:J,funcName:Q}=Z;J.consumeSpaces();var K=J.fetch();if(WN[K.text]){if(Q==="\\global"||Q==="\\\\globallong")K.text=WN[K.text];return o9(J.parseFunction(),"internal")}throw new a0("Invalid token after macro prefix",K)}});Y9({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=J.gullet.popToken(),X=K.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(X))throw new a0("Expected a control sequence",K);var U=0,Y,q=[[]];while(J.gullet.future().text!=="{")if(K=J.gullet.popToken(),K.text==="#"){if(J.gullet.future().text==="{"){Y=J.gullet.future(),q[U].push("{");break}if(K=J.gullet.popToken(),!/^[1-9]$/.test(K.text))throw new a0("Invalid argument number \""+K.text+"\"");if(parseInt(K.text)!==U+1)throw new a0("Argument number \""+K.text+"\" out of order");U++,q.push([])}else if(K.text==="EOF")throw new a0("Expected a macro definition");else q[U].push(K.text);var{tokens:z}=J.gullet.consumeArg();if(Y)z.unshift(Y);if(Q==="\\edef"||Q==="\\xdef")z=J.gullet.expandTokens(z),z.reverse();return J.gullet.macros.set(X,{tokens:z,numArgs:U,delimiters:q},Q===WN[Q]),{type:"internal",mode:J.mode}}});Y9({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=Xh(J.gullet.popToken());J.gullet.consumeSpaces();var X=z10(J);return Uh(J,K,X,Q==="\\\\globallet"),{type:"internal",mode:J.mode}}});Y9({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z){var{parser:J,funcName:Q}=Z,K=Xh(J.gullet.popToken()),X=J.gullet.popToken(),U=J.gullet.popToken();return Uh(J,K,U,Q==="\\\\globalfuture"),J.gullet.pushToken(U),J.gullet.pushToken(X),{type:"internal",mode:J.mode}}});sM={type:"kern",size:-1*FN},W10=["|","\\lvert","\\rvert","\\vert"],F10=["\\|","\\lVert","\\rVert","\\Vert"],Gh=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],B10=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],Hh=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],$G=[0,1.2,1.8,2.4,3],O10=[{type:"small",style:$9.SCRIPTSCRIPT},{type:"small",style:$9.SCRIPT},{type:"small",style:$9.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],A10=[{type:"small",style:$9.SCRIPTSCRIPT},{type:"small",style:$9.SCRIPT},{type:"small",style:$9.TEXT},{type:"stack"}],Wh=[{type:"small",style:$9.SCRIPTSCRIPT},{type:"small",style:$9.SCRIPT},{type:"small",style:$9.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],bK={sqrtImage:M10,sizedDelim:R10,sizeToMaxHeight:$G,customSizedDelim:Mh,leftRightDelim:I10},Ox={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},D10=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];Y9({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(Z,J)=>{var Q=G2(J[0],Z);return{type:"delimsizing",mode:Z.parser.mode,size:Ox[Z.funcName].size,mclass:Ox[Z.funcName].mclass,delim:Q.text}},htmlBuilder:(Z,J)=>{if(Z.delim===".")return T0.makeSpan([Z.mclass]);return bK.sizedDelim(Z.delim,Z.size,J,Z.mode,[Z.mclass])},mathmlBuilder:(Z)=>{var J=[];if(Z.delim!==".")J.push(JQ(Z.delim,Z.mode));var Q=new n0.MathNode("mo",J);if(Z.mclass==="mopen"||Z.mclass==="mclose")Q.setAttribute("fence","true");else Q.setAttribute("fence","false");Q.setAttribute("stretchy","true");var K=Q9(bK.sizeToMaxHeight[Z.size]);return Q.setAttribute("minsize",K),Q.setAttribute("maxsize",K),Q}});Y9({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=Z.parser.gullet.macros.get("\\current@color");if(Q&&typeof Q!=="string")throw new a0("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:Z.parser.mode,delim:G2(J[0],Z).text,color:Q}}});Y9({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=G2(J[0],Z),K=Z.parser;++K.leftrightDepth;var X=K.parseExpression(!1);--K.leftrightDepth,K.expect("\\right",!1);var U=o9(K.parseFunction(),"leftright-right");return{type:"leftright",mode:K.mode,body:X,left:Q.text,right:U.delim,rightColor:U.color}},htmlBuilder:(Z,J)=>{Ax(Z);var Q=HJ(Z.body,J,!0,["mopen","mclose"]),K=0,X=0,U=!1;for(var Y=0;Y<Q.length;Y++)if(Q[Y].isMiddle)U=!0;else K=Math.max(Q[Y].height,K),X=Math.max(Q[Y].depth,X);K*=J.sizeMultiplier,X*=J.sizeMultiplier;var q;if(Z.left===".")q=bG(J,["mopen"]);else q=bK.leftRightDelim(Z.left,K,X,J,Z.mode,["mopen"]);if(Q.unshift(q),U)for(var z=1;z<Q.length;z++){var G=Q[z],H=G.isMiddle;if(H)Q[z]=bK.leftRightDelim(H.delim,K,X,H.options,Z.mode,[])}var W;if(Z.right===".")W=bG(J,["mclose"]);else{var F=Z.rightColor?J.withColor(Z.rightColor):J;W=bK.leftRightDelim(Z.right,K,X,F,Z.mode,["mclose"])}return Q.push(W),T0.makeSpan(["minner"],Q,J)},mathmlBuilder:(Z,J)=>{Ax(Z);var Q=r7(Z.body,J);if(Z.left!=="."){var K=new n0.MathNode("mo",[JQ(Z.left,Z.mode)]);K.setAttribute("fence","true"),Q.unshift(K)}if(Z.right!=="."){var X=new n0.MathNode("mo",[JQ(Z.right,Z.mode)]);if(X.setAttribute("fence","true"),Z.rightColor)X.setAttribute("mathcolor",Z.rightColor);Q.push(X)}return LN(Q)}});Y9({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var Q=G2(J[0],Z);if(!Z.parser.leftrightDepth)throw new a0("\\middle without preceding \\left",Q);return{type:"middle",mode:Z.parser.mode,delim:Q.text}},htmlBuilder:(Z,J)=>{var Q;if(Z.delim===".")Q=bG(J,[]);else{Q=bK.sizedDelim(Z.delim,1,J,Z.mode,[]);var K={delim:Z.delim,options:J};Q.isMiddle=K}return Q},mathmlBuilder:(Z,J)=>{var Q=Z.delim==="\\vert"||Z.delim==="|"?JQ("|","text"):JQ(Z.delim,Z.mode),K=new n0.MathNode("mo",[Q]);return K.setAttribute("fence","true"),K.setAttribute("lspace","0.05em"),K.setAttribute("rspace","0.05em"),K}});Y9({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(Z,J,Q){var{parser:K,funcName:X}=Z,U=o9(J[0],"color-token").color,Y=J[1];return{type:"enclose",mode:K.mode,label:X,backgroundColor:U,body:Y}},htmlBuilder:wN,mathmlBuilder:jN});Y9({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(Z,J,Q){var{parser:K,funcName:X}=Z,U=o9(J[0],"color-token").color,Y=o9(J[1],"color-token").color,q=J[2];return{type:"enclose",mode:K.mode,label:X,backgroundColor:Y,borderColor:U,body:q}},htmlBuilder:wN,mathmlBuilder:jN});Y9({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\fbox",body:J[0]}}});Y9({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"enclose",mode:Q.mode,label:K,body:X}},htmlBuilder:wN,mathmlBuilder:jN});Y9({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"enclose",mode:Q.mode,label:"\\angl",body:J[0]}}});Bh={},Rh={},N10={c:"center ",l:"left ",r:"right "};P4({type:"array",names:["array","darray"],props:{numArgs:1},handler(Z,J){var Q=q2(J[0]),K=Q?[J[0]]:o9(J[0],"ordgroup").body,X=K.map(function(Y){var q=DN(Y),z=q.text;if("lcr".indexOf(z)!==-1)return{type:"align",align:z};else if(z==="|")return{type:"separator",separator:"|"};else if(z===":")return{type:"separator",separator:":"};throw new a0("Unknown column alignment: "+z,Y)}),U={cols:X,hskipBeforeAndAfter:!0,maxNumCols:X.length};return d5(Z.parser,U,PN(Z.envName))},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(Z){var J={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[Z.envName.replace("*","")],Q="c",K={hskipBeforeAndAfter:!1,cols:[{type:"align",align:Q}]};if(Z.envName.charAt(Z.envName.length-1)==="*"){var X=Z.parser;if(X.consumeSpaces(),X.fetch().text==="["){if(X.consume(),X.consumeSpaces(),Q=X.fetch().text,"lcr".indexOf(Q)===-1)throw new a0("Expected l or c or r",X.nextToken);X.consume(),X.consumeSpaces(),X.expect("]"),X.consume(),K.cols=[{type:"align",align:Q}]}}var U=d5(Z.parser,K,PN(Z.envName)),Y=Math.max(0,...U.body.map((q)=>q.length));return U.cols=new Array(Y).fill({type:"align",align:Q}),J?{type:"leftright",mode:Z.mode,body:[U],left:J[0],right:J[1],rightColor:void 0}:U},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(Z){var J={arraystretch:0.5},Q=d5(Z.parser,J,"script");return Q.colSeparationType="small",Q},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["subarray"],props:{numArgs:1},handler(Z,J){var Q=q2(J[0]),K=Q?[J[0]]:o9(J[0],"ordgroup").body,X=K.map(function(Y){var q=DN(Y),z=q.text;if("lc".indexOf(z)!==-1)return{type:"align",align:z};throw new a0("Unknown column alignment: "+z,Y)});if(X.length>1)throw new a0("{subarray} can contain only one column");var U={cols:X,hskipBeforeAndAfter:!1,arraystretch:0.5};if(U=d5(Z.parser,U,"script"),U.body.length>0&&U.body[0].length>1)throw new a0("{subarray} can contain only one column");return U},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(Z){var J={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Q=d5(Z.parser,J,PN(Z.envName));return{type:"leftright",mode:Z.mode,body:[Q],left:Z.envName.indexOf("r")>-1?".":"\\{",right:Z.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Oh,htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(Z){if(v9.contains(["gather","gather*"],Z.envName))H2(Z);var J={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:CN(Z.envName),emptySingleRow:!0,leqno:Z.parser.settings.leqno};return d5(Z.parser,J,"display")},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Oh,htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(Z){H2(Z);var J={autoTag:CN(Z.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:Z.parser.settings.leqno};return d5(Z.parser,J,"display")},htmlBuilder:V4,mathmlBuilder:S4});P4({type:"array",names:["CD"],props:{numArgs:0},handler(Z){return H2(Z),q10(Z.parser)},htmlBuilder:V4,mathmlBuilder:S4});Z0("\\nonumber","\\gdef\\@eqnsw{0}");Z0("\\notag","\\nonumber");Y9({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(Z,J){throw new a0(Z.funcName+" valid only within array environment")}});Ix=Bh;Y9({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];if(X.type!=="ordgroup")throw new a0("Invalid environment name",X);var U="";for(var Y=0;Y<X.body.length;++Y)U+=o9(X.body[Y],"textord").text;if(K==="\\begin"){if(!Ix.hasOwnProperty(U))throw new a0("No such environment: "+U,X);var q=Ix[U],{args:z,optArgs:G}=Q.parseArguments("\\begin{"+U+"}",q),H={mode:Q.mode,envName:U,parser:Q},W=q.handler(H,z,G);Q.expect("\\end",!1);var F=Q.nextToken,M=o9(Q.parseFunction(),"environment");if(M.name!==U)throw new a0("Mismatch: \\begin{"+U+"} matched by \\end{"+M.name+"}",F);return W}return{type:"environment",mode:Q.mode,name:U,nameGroup:X}}});Dx={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Y9({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=Q2(J[0]),U=K;if(U in Dx)U=Dx[U];return{type:"font",mode:Q.mode,font:U.slice(1),body:X}},htmlBuilder:Ah,mathmlBuilder:Lh});Y9({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0],X=v9.isCharacterBox(K);return{type:"mclass",mode:Q.mode,mclass:z2(K),body:[{type:"font",mode:Q.mode,font:"boldsymbol",body:K}],isCharacterBox:X}}});Y9({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,breakOnTokenText:X}=Z,{mode:U}=Q,Y=Q.parseExpression(!0,X),q="math"+K.slice(1);return{type:"font",mode:U,font:q,body:{type:"ordgroup",mode:Q.mode,body:Y}}},htmlBuilder:Ah,mathmlBuilder:Lh});Y9({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=J[1],Y,q=null,z=null,G="auto";switch(K){case"\\dfrac":case"\\frac":case"\\tfrac":Y=!0;break;case"\\\\atopfrac":Y=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":Y=!1,q="(",z=")";break;case"\\\\bracefrac":Y=!1,q="\\{",z="\\}";break;case"\\\\brackfrac":Y=!1,q="[",z="]";break;default:throw new Error("Unrecognized genfrac command")}switch(K){case"\\dfrac":case"\\dbinom":G="display";break;case"\\tfrac":case"\\tbinom":G="text";break}return{type:"genfrac",mode:Q.mode,continued:!1,numer:X,denom:U,hasBarLine:Y,leftDelim:q,rightDelim:z,size:G,barSize:null}},htmlBuilder:VN,mathmlBuilder:SN});Y9({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=J[1];return{type:"genfrac",mode:Q.mode,continued:!0,numer:X,denom:U,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Y9({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(Z){var{parser:J,funcName:Q,token:K}=Z,X;switch(Q){case"\\over":X="\\frac";break;case"\\choose":X="\\binom";break;case"\\atop":X="\\\\atopfrac";break;case"\\brace":X="\\\\bracefrac";break;case"\\brack":X="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:J.mode,replaceWith:X,token:K}}});Nx=["display","text","script","scriptscript"];Y9({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(Z,J){var{parser:Q}=Z,K=J[4],X=J[5],U=Q2(J[0]),Y=U.type==="atom"&&U.family==="open"?Ex(U.text):null,q=Q2(J[1]),z=q.type==="atom"&&q.family==="close"?Ex(q.text):null,G=o9(J[2],"size"),H,W=null;if(G.isBlank)H=!0;else W=G.value,H=W.number>0;var F="auto",M=J[3];if(M.type==="ordgroup"){if(M.body.length>0){var B=o9(M.body[0],"textord");F=Nx[Number(B.text)]}}else M=o9(M,"textord"),F=Nx[Number(M.text)];return{type:"genfrac",mode:Q.mode,numer:K,denom:X,continued:!1,hasBarLine:H,barSize:W,leftDelim:Y,rightDelim:z,size:F}},htmlBuilder:VN,mathmlBuilder:SN});Y9({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(Z,J){var{parser:Q,funcName:K,token:X}=Z;return{type:"infix",mode:Q.mode,replaceWith:"\\\\abovefrac",size:o9(J[0],"size").value,token:X}}});Y9({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0],U=Zq0(o9(J[1],"infix").size),Y=J[2],q=U.number>0;return{type:"genfrac",mode:Q.mode,numer:X,denom:Y,continued:!1,hasBarLine:q,barSize:U,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:VN,mathmlBuilder:SN});Y9({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(Z,J){var{parser:Q,funcName:K}=Z;return{type:"horizBrace",mode:Q.mode,label:K,isOver:/^\\over/.test(K),base:J[0]}},htmlBuilder:Dh,mathmlBuilder:E10});Y9({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[1],X=o9(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\href",url:X}))return Q.formatUnsupportedCmd("\\href");return{type:"href",mode:Q.mode,href:X,body:iZ(K)}},htmlBuilder:(Z,J)=>{var Q=HJ(Z.body,J,!1);return T0.makeAnchor(Z.href,[],Q,J)},mathmlBuilder:(Z,J)=>{var Q=l5(Z.body,J);if(!(Q instanceof P6))Q=new P6("mrow",[Q]);return Q.setAttribute("href",Z.href),Q}});Y9({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=o9(J[0],"url").url;if(!Q.settings.isTrusted({command:"\\url",url:K}))return Q.formatUnsupportedCmd("\\url");var X=[];for(var U=0;U<K.length;U++){var Y=K[U];if(Y==="~")Y="\\textasciitilde";X.push({type:"textord",mode:"text",text:Y})}var q={type:"text",mode:Q.mode,font:"\\texttt",body:X};return{type:"href",mode:Q.mode,href:K,body:iZ(q)}}});Y9({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(Z,J){var{parser:Q}=Z;return{type:"hbox",mode:Q.mode,body:iZ(J[0])}},htmlBuilder(Z,J){var Q=HJ(Z.body,J,!1);return T0.makeFragment(Q)},mathmlBuilder(Z,J){return new n0.MathNode("mrow",r7(Z.body,J))}});Y9({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K,token:X}=Z,U=o9(J[0],"raw").string,Y=J[1];if(Q.settings.strict)Q.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var q,z={};switch(K){case"\\htmlClass":z.class=U,q={command:"\\htmlClass",class:U};break;case"\\htmlId":z.id=U,q={command:"\\htmlId",id:U};break;case"\\htmlStyle":z.style=U,q={command:"\\htmlStyle",style:U};break;case"\\htmlData":{var G=U.split(",");for(var H=0;H<G.length;H++){var W=G[H].split("=");if(W.length!==2)throw new a0("Error parsing key-value for \\htmlData");z["data-"+W[0].trim()]=W[1].trim()}q={command:"\\htmlData",attributes:z};break}default:throw new Error("Unrecognized html command")}if(!Q.settings.isTrusted(q))return Q.formatUnsupportedCmd(K);return{type:"html",mode:Q.mode,attributes:z,body:iZ(Y)}},htmlBuilder:(Z,J)=>{var Q=HJ(Z.body,J,!1),K=["enclosing"];if(Z.attributes.class)K.push(...Z.attributes.class.trim().split(/\s+/));var X=T0.makeSpan(K,Q,J);for(var U in Z.attributes)if(U!=="class"&&Z.attributes.hasOwnProperty(U))X.setAttribute(U,Z.attributes[U]);return X},mathmlBuilder:(Z,J)=>{return l5(Z.body,J)}});Y9({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"htmlmathml",mode:Q.mode,html:iZ(J[0]),mathml:iZ(J[1])}},htmlBuilder:(Z,J)=>{var Q=HJ(Z.html,J,!1);return T0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{return l5(Z.mathml,J)}});Y9({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(Z,J,Q)=>{var{parser:K}=Z,X={number:0,unit:"em"},U={number:0.9,unit:"em"},Y={number:0,unit:"em"},q="";if(Q[0]){var z=o9(Q[0],"raw").string,G=z.split(",");for(var H=0;H<G.length;H++){var W=G[H].split("=");if(W.length===2){var F=W[1].trim();switch(W[0].trim()){case"alt":q=F;break;case"width":X=QN(F);break;case"height":U=QN(F);break;case"totalheight":Y=QN(F);break;default:throw new a0("Invalid key: '"+W[0]+"' in \\includegraphics.")}}}}var M=o9(J[0],"url").url;if(q==="")q=M,q=q.replace(/^.*[\\/]/,""),q=q.substring(0,q.lastIndexOf("."));if(!K.settings.isTrusted({command:"\\includegraphics",url:M}))return K.formatUnsupportedCmd("\\includegraphics");return{type:"includegraphics",mode:K.mode,alt:q,width:X,height:U,totalheight:Y,src:M}},htmlBuilder:(Z,J)=>{var Q=SZ(Z.height,J),K=0;if(Z.totalheight.number>0)K=SZ(Z.totalheight,J)-Q;var X=0;if(Z.width.number>0)X=SZ(Z.width,J);var U={height:Q9(Q+K)};if(X>0)U.width=Q9(X);if(K>0)U.verticalAlign=Q9(-K);var Y=new gx(Z.src,Z.alt,U);return Y.height=Q,Y.depth=K,Y},mathmlBuilder:(Z,J)=>{var Q=new n0.MathNode("mglyph",[]);Q.setAttribute("alt",Z.alt);var K=SZ(Z.height,J),X=0;if(Z.totalheight.number>0)X=SZ(Z.totalheight,J)-K,Q.setAttribute("valign",Q9(-X));if(Q.setAttribute("height",Q9(K+X)),Z.width.number>0){var U=SZ(Z.width,J);Q.setAttribute("width",Q9(U))}return Q.setAttribute("src",Z.src),Q}});Y9({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=o9(J[0],"size");if(Q.settings.strict){var U=K[1]==="m",Y=X.value.unit==="mu";if(U){if(!Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" supports only mu units, "+("not "+X.value.unit+" units"));if(Q.mode!=="math")Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" works only in math mode")}else if(Y)Q.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+K+" doesn't support mu units")}return{type:"kern",mode:Q.mode,dimension:X.value}},htmlBuilder(Z,J){return T0.makeGlue(Z.dimension,J)},mathmlBuilder(Z,J){var Q=SZ(Z.dimension,J);return new n0.SpaceNode(Q)}});Y9({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"lap",mode:Q.mode,alignment:K.slice(5),body:X}},htmlBuilder:(Z,J)=>{var Q;if(Z.alignment==="clap")Q=T0.makeSpan([],[M8(Z.body,J)]),Q=T0.makeSpan(["inner"],[Q],J);else Q=T0.makeSpan(["inner"],[M8(Z.body,J)]);var K=T0.makeSpan(["fix"],[]),X=T0.makeSpan([Z.alignment],[Q,K],J),U=T0.makeSpan(["strut"]);if(U.style.height=Q9(X.height+X.depth),X.depth)U.style.verticalAlign=Q9(-X.depth);return X.children.unshift(U),X=T0.makeSpan(["thinbox"],[X],J),T0.makeSpan(["mord","vbox"],[X],J)},mathmlBuilder:(Z,J)=>{var Q=new n0.MathNode("mpadded",[n8(Z.body,J)]);if(Z.alignment!=="rlap"){var K=Z.alignment==="llap"?"-1":"-0.5";Q.setAttribute("lspace",K+"width")}return Q.setAttribute("width","0px"),Q}});Y9({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){var{funcName:Q,parser:K}=Z,X=K.mode;K.switchMode("math");var U=Q==="\\("?"\\)":"$",Y=K.parseExpression(!1,U);return K.expect(U),K.switchMode(X),{type:"styling",mode:K.mode,style:"text",body:Y}}});Y9({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(Z,J){throw new a0("Mismatched "+Z.funcName)}});Y9({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z;return{type:"mathchoice",mode:Q.mode,display:iZ(J[0]),text:iZ(J[1]),script:iZ(J[2]),scriptscript:iZ(J[3])}},htmlBuilder:(Z,J)=>{var Q=wx(Z,J),K=HJ(Q,J,!1);return T0.makeFragment(K)},mathmlBuilder:(Z,J)=>{var Q=wx(Z,J);return l5(Q,J)}});Eh=["\\smallint"],w10={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Y9({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=K;if(X.length===1)X=w10[X];return{type:"op",mode:Q.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:X}},htmlBuilder:Aq,mathmlBuilder:xG});Y9({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"op",mode:Q.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:iZ(K)}},htmlBuilder:Aq,mathmlBuilder:xG});j10={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Y9({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:Aq,mathmlBuilder:xG});Y9({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z;return{type:"op",mode:J.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:Q}},htmlBuilder:Aq,mathmlBuilder:xG});Y9({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(Z){var{parser:J,funcName:Q}=Z,K=Q;if(K.length===1)K=j10[K];return{type:"op",mode:J.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:K}},htmlBuilder:Aq,mathmlBuilder:xG});Y9({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(Z,J)=>{var{parser:Q,funcName:K}=Z,X=J[0];return{type:"operatorname",mode:Q.mode,body:iZ(X),alwaysHandleSupSub:K==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:wh,mathmlBuilder:C10});Z0("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");MU({type:"ordgroup",htmlBuilder(Z,J){if(Z.semisimple)return T0.makeFragment(HJ(Z.body,J,!1));return T0.makeSpan(["mord"],HJ(Z.body,J,!0),J)},mathmlBuilder(Z,J){return l5(Z.body,J,!0)}});Y9({type:"overline",names:["\\overline"],props:{numArgs:1},handler(Z,J){var{parser:Q}=Z,K=J[0];return{type:"overline",mode:Q.mode,body:K}},htmlBuilder(Z,J){var Q=M8(Z.body,J.havingCrampedStyle()),K=T0.makeLineSpan("overline-line",J),X=J.fontMetrics().defaultRuleThickness,U=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q},{type:"kern",size:3*X},{type:"elem",elem:K},{type:"kern",size:X}]},J);return T0.makeSpan(["mord","overline"],[U],J)},mathmlBuilder(Z,J){var Q=new n0.MathNode("mo",[new n0.TextNode("\u203E")]);Q.setAttribute("stretchy","true");var K=new n0.MathNode("mover",[n8(Z.body,J),Q]);return K.setAttribute("accent","true"),K}});Y9({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"phantom",mode:Q.mode,body:iZ(K)}},htmlBuilder:(Z,J)=>{var Q=HJ(Z.body,J.withPhantom(),!1);return T0.makeFragment(Q)},mathmlBuilder:(Z,J)=>{var Q=r7(Z.body,J);return new n0.MathNode("mphantom",Q)}});Y9({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"hphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=T0.makeSpan([],[M8(Z.body,J.withPhantom())]);if(Q.height=0,Q.depth=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0,Q.children[K].depth=0;return Q=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J),T0.makeSpan(["mord"],[Q],J)},mathmlBuilder:(Z,J)=>{var Q=r7(iZ(Z.body),J),K=new n0.MathNode("mphantom",Q),X=new n0.MathNode("mpadded",[K]);return X.setAttribute("height","0px"),X.setAttribute("depth","0px"),X}});Y9({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(Z,J)=>{var{parser:Q}=Z,K=J[0];return{type:"vphantom",mode:Q.mode,body:K}},htmlBuilder:(Z,J)=>{var Q=T0.makeSpan(["inner"],[M8(Z.body,J.withPhantom())]),K=T0.makeSpan(["fix"],[]);return T0.makeSpan(["mord","rlap"],[Q,K],J)},mathmlBuilder:(Z,J)=>{var Q=r7(iZ(Z.body),J),K=new n0.MathNode("mphantom",Q),X=new n0.MathNode("mpadded",[K]);return X.setAttribute("width","0px"),X}});Y9({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(Z,J){var{parser:Q}=Z,K=o9(J[0],"size").value,X=J[1];return{type:"raisebox",mode:Q.mode,dy:K,body:X}},htmlBuilder(Z,J){var Q=M8(Z.body,J),K=SZ(Z.dy,J);return T0.makeVList({positionType:"shift",positionData:-K,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){var Q=new n0.MathNode("mpadded",[n8(Z.body,J)]),K=Z.dy.number+Z.dy.unit;return Q.setAttribute("voffset",K),Q}});Y9({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(Z){var{parser:J}=Z;return{type:"internal",mode:J.mode}}});Y9({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(Z,J,Q){var{parser:K}=Z,X=Q[0],U=o9(J[0],"size"),Y=o9(J[1],"size");return{type:"rule",mode:K.mode,shift:X&&o9(X,"size").value,width:U.value,height:Y.value}},htmlBuilder(Z,J){var Q=T0.makeSpan(["mord","rule"],[],J),K=SZ(Z.width,J),X=SZ(Z.height,J),U=Z.shift?SZ(Z.shift,J):0;return Q.style.borderRightWidth=Q9(K),Q.style.borderTopWidth=Q9(X),Q.style.bottom=Q9(U),Q.width=K,Q.height=X+U,Q.depth=-U,Q.maxFontSize=X*1.125*J.sizeMultiplier,Q},mathmlBuilder(Z,J){var Q=SZ(Z.width,J),K=SZ(Z.height,J),X=Z.shift?SZ(Z.shift,J):0,U=J.color&&J.getColor()||"black",Y=new n0.MathNode("mspace");Y.setAttribute("mathbackground",U),Y.setAttribute("width",Q9(Q)),Y.setAttribute("height",Q9(K));var q=new n0.MathNode("mpadded",[Y]);if(X>=0)q.setAttribute("height",Q9(X));else q.setAttribute("height",Q9(X)),q.setAttribute("depth",Q9(-X));return q.setAttribute("voffset",Q9(X)),q}});jx=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Y9({type:"sizing",names:jx,props:{numArgs:0,allowedInText:!0},handler:(Z,J)=>{var{breakOnTokenText:Q,funcName:K,parser:X}=Z,U=X.parseExpression(!1,Q);return{type:"sizing",mode:X.mode,size:jx.indexOf(K)+1,body:U}},htmlBuilder:P10,mathmlBuilder:(Z,J)=>{var Q=J.havingSize(Z.size),K=r7(Z.body,Q),X=new n0.MathNode("mstyle",K);return X.setAttribute("mathsize",Q9(Q.sizeMultiplier)),X}});Y9({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(Z,J,Q)=>{var{parser:K}=Z,X=!1,U=!1,Y=Q[0]&&o9(Q[0],"ordgroup");if(Y){var q="";for(var z=0;z<Y.body.length;++z){var G=Y.body[z];if(q=G.text,q==="t")X=!0;else if(q==="b")U=!0;else{X=!1,U=!1;break}}}else X=!0,U=!0;var H=J[0];return{type:"smash",mode:K.mode,body:H,smashHeight:X,smashDepth:U}},htmlBuilder:(Z,J)=>{var Q=T0.makeSpan([],[M8(Z.body,J)]);if(!Z.smashHeight&&!Z.smashDepth)return Q;if(Z.smashHeight){if(Q.height=0,Q.children)for(var K=0;K<Q.children.length;K++)Q.children[K].height=0}if(Z.smashDepth){if(Q.depth=0,Q.children)for(var X=0;X<Q.children.length;X++)Q.children[X].depth=0}var U=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q}]},J);return T0.makeSpan(["mord"],[U],J)},mathmlBuilder:(Z,J)=>{var Q=new n0.MathNode("mpadded",[n8(Z.body,J)]);if(Z.smashHeight)Q.setAttribute("height","0px");if(Z.smashDepth)Q.setAttribute("depth","0px");return Q}});Y9({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(Z,J,Q){var{parser:K}=Z,X=Q[0],U=J[0];return{type:"sqrt",mode:K.mode,body:U,index:X}},htmlBuilder(Z,J){var Q=M8(Z.body,J.havingCrampedStyle());if(Q.height===0)Q.height=J.fontMetrics().xHeight;Q=T0.wrapFragment(Q,J);var K=J.fontMetrics(),X=K.defaultRuleThickness,U=X;if(J.style.id<$9.TEXT.id)U=J.fontMetrics().xHeight;var Y=X+U/4,q=Q.height+Q.depth+Y+X,{span:z,ruleWidth:G,advanceWidth:H}=bK.sqrtImage(q,J),W=z.height-G;if(W>Q.height+Q.depth+Y)Y=(Y+W-Q.height-Q.depth)/2;var F=z.height-Q.height-Y-G;Q.style.paddingLeft=Q9(H);var M=T0.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q,wrapperClasses:["svg-align"]},{type:"kern",size:-(Q.height+F)},{type:"elem",elem:z},{type:"kern",size:G}]},J);if(!Z.index)return T0.makeSpan(["mord","sqrt"],[M],J);else{var B=J.havingStyle($9.SCRIPTSCRIPT),O=M8(Z.index,B,J),A=0.6*(M.height-M.depth),L=T0.makeVList({positionType:"shift",positionData:-A,children:[{type:"elem",elem:O}]},J),I=T0.makeSpan(["root"],[L]);return T0.makeSpan(["mord","sqrt"],[I,M],J)}},mathmlBuilder(Z,J){var{body:Q,index:K}=Z;return K?new n0.MathNode("mroot",[n8(Q,J),n8(K,J)]):new n0.MathNode("msqrt",[n8(Q,J)])}});Cx={display:$9.DISPLAY,text:$9.TEXT,script:$9.SCRIPT,scriptscript:$9.SCRIPTSCRIPT};Y9({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(Z,J){var{breakOnTokenText:Q,funcName:K,parser:X}=Z,U=X.parseExpression(!0,Q),Y=K.slice(1,K.length-5);return{type:"styling",mode:X.mode,style:Y,body:U}},htmlBuilder(Z,J){var Q=Cx[Z.style],K=J.havingStyle(Q).withFont("");return jh(Z.body,K,J)},mathmlBuilder(Z,J){var Q=Cx[Z.style],K=J.havingStyle(Q),X=r7(Z.body,K),U=new n0.MathNode("mstyle",X),Y={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},q=Y[Z.style];return U.setAttribute("scriptlevel",q[0]),U.setAttribute("displaystyle",q[1]),U}});MU({type:"supsub",htmlBuilder(Z,J){var Q=V10(Z,J);if(Q)return Q(Z,J);var{base:K,sup:X,sub:U}=Z,Y=M8(K,J),q,z,G=J.fontMetrics(),H=0,W=0,F=K&&v9.isCharacterBox(K);if(X){var M=J.havingStyle(J.style.sup());if(q=M8(X,M,J),!F)H=Y.height-M.fontMetrics().supDrop*M.sizeMultiplier/J.sizeMultiplier}if(U){var B=J.havingStyle(J.style.sub());if(z=M8(U,B,J),!F)W=Y.depth+B.fontMetrics().subDrop*B.sizeMultiplier/J.sizeMultiplier}var O;if(J.style===$9.DISPLAY)O=G.sup1;else if(J.style.cramped)O=G.sup3;else O=G.sup2;var A=J.sizeMultiplier,L=Q9(0.5/G.ptPerEm/A),I=null;if(z){var D=Z.base&&Z.base.type==="op"&&Z.base.name&&(Z.base.name==="\\oiint"||Z.base.name==="\\oiiint");if(Y instanceof V6||D)I=Q9(-Y.italic)}var w;if(q&&z){H=Math.max(H,O,q.depth+0.25*G.xHeight),W=Math.max(W,G.sub2);var N=G.defaultRuleThickness,E=4*N;if(H-q.depth-(z.height-W)<E){W=E-(H-q.depth)+z.height;var j=0.8*G.xHeight-(H-q.depth);if(j>0)H+=j,W-=j}var P=[{type:"elem",elem:z,shift:W,marginRight:L,marginLeft:I},{type:"elem",elem:q,shift:-H,marginRight:L}];w=T0.makeVList({positionType:"individualShift",children:P},J)}else if(z){W=Math.max(W,G.sub1,z.height-0.8*G.xHeight);var C=[{type:"elem",elem:z,marginLeft:I,marginRight:L}];w=T0.makeVList({positionType:"shift",positionData:W,children:C},J)}else if(q)H=Math.max(H,O,q.depth+0.25*G.xHeight),w=T0.makeVList({positionType:"shift",positionData:-H,children:[{type:"elem",elem:q,marginRight:L}]},J);else throw new Error("supsub must have either sup or sub.");var T=GN(Y,"right")||"mord";return T0.makeSpan([T],[Y,T0.makeSpan(["msupsub"],[w])],J)},mathmlBuilder(Z,J){var Q=!1,K,X;if(Z.base&&Z.base.type==="horizBrace"){if(X=!!Z.sup,X===Z.base.isOver)Q=!0,K=Z.base.isOver}if(Z.base&&(Z.base.type==="op"||Z.base.type==="operatorname"))Z.base.parentIsSupSub=!0;var U=[n8(Z.base,J)];if(Z.sub)U.push(n8(Z.sub,J));if(Z.sup)U.push(n8(Z.sup,J));var Y;if(Q)Y=K?"mover":"munder";else if(!Z.sub){var q=Z.base;if(q&&q.type==="op"&&q.limits&&(J.style===$9.DISPLAY||q.alwaysHandleSupSub))Y="mover";else if(q&&q.type==="operatorname"&&q.alwaysHandleSupSub&&(q.limits||J.style===$9.DISPLAY))Y="mover";else Y="msup"}else if(!Z.sup){var z=Z.base;if(z&&z.type==="op"&&z.limits&&(J.style===$9.DISPLAY||z.alwaysHandleSupSub))Y="munder";else if(z&&z.type==="operatorname"&&z.alwaysHandleSupSub&&(z.limits||J.style===$9.DISPLAY))Y="munder";else Y="msub"}else{var G=Z.base;if(G&&G.type==="op"&&G.limits&&J.style===$9.DISPLAY)Y="munderover";else if(G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(J.style===$9.DISPLAY||G.limits))Y="munderover";else Y="msubsup"}return new n0.MathNode(Y,U)}});MU({type:"atom",htmlBuilder(Z,J){return T0.mathsym(Z.text,Z.mode,J,["m"+Z.family])},mathmlBuilder(Z,J){var Q=new n0.MathNode("mo",[JQ(Z.text,Z.mode)]);if(Z.family==="bin"){var K=IN(Z,J);if(K==="bold-italic")Q.setAttribute("mathvariant",K)}else if(Z.family==="punct")Q.setAttribute("separator","true");else if(Z.family==="open"||Z.family==="close")Q.setAttribute("stretchy","false");return Q}});Ch={mi:"italic",mn:"normal",mtext:"normal"};MU({type:"mathord",htmlBuilder(Z,J){return T0.makeOrd(Z,J,"mathord")},mathmlBuilder(Z,J){var Q=new n0.MathNode("mi",[JQ(Z.text,Z.mode,J)]),K=IN(Z,J)||"italic";if(K!==Ch[Q.type])Q.setAttribute("mathvariant",K);return Q}});MU({type:"textord",htmlBuilder(Z,J){return T0.makeOrd(Z,J,"textord")},mathmlBuilder(Z,J){var Q=JQ(Z.text,Z.mode,J),K=IN(Z,J)||"normal",X;if(Z.mode==="text")X=new n0.MathNode("mtext",[Q]);else if(/[0-9]/.test(Z.text))X=new n0.MathNode("mn",[Q]);else if(Z.text==="\\prime")X=new n0.MathNode("mo",[Q]);else X=new n0.MathNode("mi",[Q]);if(K!==Ch[X.type])X.setAttribute("mathvariant",K);return X}});KN={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},XN={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};MU({type:"spacing",htmlBuilder(Z,J){if(XN.hasOwnProperty(Z.text)){var Q=XN[Z.text].className||"";if(Z.mode==="text"){var K=T0.makeOrd(Z,J,"textord");return K.classes.push(Q),K}else return T0.makeSpan(["mspace",Q],[T0.mathsym(Z.text,Z.mode,J)],J)}else if(KN.hasOwnProperty(Z.text))return T0.makeSpan(["mspace",KN[Z.text]],[],J);else throw new a0("Unknown type of space \""+Z.text+"\"")},mathmlBuilder(Z,J){var Q;if(XN.hasOwnProperty(Z.text))Q=new n0.MathNode("mtext",[new n0.TextNode("\xA0")]);else if(KN.hasOwnProperty(Z.text))return new n0.MathNode("mspace");else throw new a0("Unknown type of space \""+Z.text+"\"");return Q}});MU({type:"tag",mathmlBuilder(Z,J){var Q=new n0.MathNode("mtable",[new n0.MathNode("mtr",[Px(),new n0.MathNode("mtd",[l5(Z.body,J)]),Px(),new n0.MathNode("mtd",[l5(Z.tag,J)])])]);return Q.setAttribute("width","100%"),Q}});Vx={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Sx={"\\textbf":"textbf","\\textmd":"textmd"},S10={"\\textit":"textit","\\textup":"textup"};Y9({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(Z,J){var{parser:Q,funcName:K}=Z,X=J[0];return{type:"text",mode:Q.mode,body:iZ(X),font:K}},htmlBuilder(Z,J){var Q=Tx(Z,J),K=HJ(Z.body,Q,!0);return T0.makeSpan(["mord","text"],K,Q)},mathmlBuilder(Z,J){var Q=Tx(Z,J);return l5(Z.body,Q)}});Y9({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(Z,J){var{parser:Q}=Z;return{type:"underline",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=M8(Z.body,J),K=T0.makeLineSpan("underline-line",J),X=J.fontMetrics().defaultRuleThickness,U=T0.makeVList({positionType:"top",positionData:Q.height,children:[{type:"kern",size:X},{type:"elem",elem:K},{type:"kern",size:3*X},{type:"elem",elem:Q}]},J);return T0.makeSpan(["mord","underline"],[U],J)},mathmlBuilder(Z,J){var Q=new n0.MathNode("mo",[new n0.TextNode("\u203E")]);Q.setAttribute("stretchy","true");var K=new n0.MathNode("munder",[n8(Z.body,J),Q]);return K.setAttribute("accentunder","true"),K}});Y9({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(Z,J){var{parser:Q}=Z;return{type:"vcenter",mode:Q.mode,body:J[0]}},htmlBuilder(Z,J){var Q=M8(Z.body,J),K=J.fontMetrics().axisHeight,X=0.5*(Q.height-K-(Q.depth+K));return T0.makeVList({positionType:"shift",positionData:X,children:[{type:"elem",elem:Q}]},J)},mathmlBuilder(Z,J){return new n0.MathNode("mpadded",[n8(Z.body,J)],["vcenter"])}});Y9({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(Z,J,Q){throw new a0("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(Z,J){var Q=fx(Z),K=[],X=J.havingStyle(J.style.text());for(var U=0;U<Q.length;U++){var Y=Q[U];if(Y==="~")Y="\\textasciitilde";K.push(T0.makeSymbol(Y,"Typewriter-Regular",Z.mode,X,["mord","texttt"]))}return T0.makeSpan(["mord","text"].concat(X.sizingClasses(J)),T0.tryCombineChars(K),X)},mathmlBuilder(Z,J){var Q=new n0.TextNode(fx(Z)),K=new n0.MathNode("mtext",[Q]);return K.setAttribute("mathvariant","monospace"),K}});p5=sx,v10="("+T10+")"+Ph+"*",$10=new RegExp(MN+"+$"),_10="("+Ph+"+)|"+(k10+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(MN+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(MN+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+v10)+("|"+f10+")");b10=Rh;Z0("\\noexpand",function(Z){var J=Z.popToken();if(Z.isExpandable(J.text))J.noexpand=!0,J.treatAsRelax=!0;return{tokens:[J],numArgs:0}});Z0("\\expandafter",function(Z){var J=Z.popToken();return Z.expandOnce(!0),{tokens:[J],numArgs:0}});Z0("\\@firstoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[0],numArgs:0}});Z0("\\@secondoftwo",function(Z){var J=Z.consumeArgs(2);return{tokens:J[1],numArgs:0}});Z0("\\@ifnextchar",function(Z){var J=Z.consumeArgs(3);Z.consumeSpaces();var Q=Z.future();if(J[0].length===1&&J[0][0].text===Q.text)return{tokens:J[1],numArgs:0};else return{tokens:J[2],numArgs:0}});Z0("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Z0("\\TextOrMath",function(Z){var J=Z.consumeArgs(2);if(Z.mode==="text")return{tokens:J[0],numArgs:0};else return{tokens:J[1],numArgs:0}});vx={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Z0("\\char",function(Z){var J=Z.popToken(),Q,K="";if(J.text==="'")Q=8,J=Z.popToken();else if(J.text==='"')Q=16,J=Z.popToken();else if(J.text==="`")if(J=Z.popToken(),J.text[0]==="\\")K=J.text.charCodeAt(1);else if(J.text==="EOF")throw new a0("\\char` missing argument");else K=J.text.charCodeAt(0);else Q=10;if(Q){if(K=vx[J.text],K==null||K>=Q)throw new a0("Invalid base-"+Q+" digit "+J.text);var X;while((X=vx[Z.future().text])!=null&&X<Q)K*=Q,K+=X,Z.popToken()}return"\\@char{"+K+"}"});Z0("\\newcommand",(Z)=>TN(Z,!1,!0));Z0("\\renewcommand",(Z)=>TN(Z,!0,!1));Z0("\\providecommand",(Z)=>TN(Z,!0,!0));Z0("\\message",(Z)=>{var J=Z.consumeArgs(1)[0];return console.log(J.reverse().map((Q)=>Q.text).join("")),""});Z0("\\errmessage",(Z)=>{var J=Z.consumeArgs(1)[0];return console.error(J.reverse().map((Q)=>Q.text).join("")),""});Z0("\\show",(Z)=>{var J=Z.popToken(),Q=J.text;return console.log(J,Z.macros.get(Q),p5[Q],KZ.math[Q],KZ.text[Q]),""});Z0("\\bgroup","{");Z0("\\egroup","}");Z0("~","\\nobreakspace");Z0("\\lq","`");Z0("\\rq","'");Z0("\\aa","\\r a");Z0("\\AA","\\r A");Z0("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");Z0("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Z0("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");Z0("\u212C","\\mathscr{B}");Z0("\u2130","\\mathscr{E}");Z0("\u2131","\\mathscr{F}");Z0("\u210B","\\mathscr{H}");Z0("\u2110","\\mathscr{I}");Z0("\u2112","\\mathscr{L}");Z0("\u2133","\\mathscr{M}");Z0("\u211B","\\mathscr{R}");Z0("\u212D","\\mathfrak{C}");Z0("\u210C","\\mathfrak{H}");Z0("\u2128","\\mathfrak{Z}");Z0("\\Bbbk","\\Bbb{k}");Z0("\xB7","\\cdotp");Z0("\\llap","\\mathllap{\\textrm{#1}}");Z0("\\rlap","\\mathrlap{\\textrm{#1}}");Z0("\\clap","\\mathclap{\\textrm{#1}}");Z0("\\mathstrut","\\vphantom{(}");Z0("\\underbar","\\underline{\\text{#1}}");Z0("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Z0("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");Z0("\\ne","\\neq");Z0("\u2260","\\neq");Z0("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}"+"{\\mathrel{\\char`\u2209}}");Z0("\u2209","\\notin");Z0("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}"+"}{\\mathrel{\\char`\u2258}}");Z0("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");Z0("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");Z0("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}"+"{\\mathrel{\\char`\u225B}}");Z0("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}"+"{\\mathrel{\\char`\u225D}}");Z0("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}"+"{\\mathrel{\\char`\u225E}}");Z0("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");Z0("\u27C2","\\perp");Z0("\u203C","\\mathclose{!\\mkern-0.8mu!}");Z0("\u220C","\\notni");Z0("\u231C","\\ulcorner");Z0("\u231D","\\urcorner");Z0("\u231E","\\llcorner");Z0("\u231F","\\lrcorner");Z0("\xA9","\\copyright");Z0("\xAE","\\textregistered");Z0("\uFE0F","\\textregistered");Z0("\\ulcorner","\\html@mathml{\\@ulcorner}{\\mathop{\\char\"231c}}");Z0("\\urcorner","\\html@mathml{\\@urcorner}{\\mathop{\\char\"231d}}");Z0("\\llcorner","\\html@mathml{\\@llcorner}{\\mathop{\\char\"231e}}");Z0("\\lrcorner","\\html@mathml{\\@lrcorner}{\\mathop{\\char\"231f}}");Z0("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");Z0("\u22EE","\\vdots");Z0("\\varGamma","\\mathit{\\Gamma}");Z0("\\varDelta","\\mathit{\\Delta}");Z0("\\varTheta","\\mathit{\\Theta}");Z0("\\varLambda","\\mathit{\\Lambda}");Z0("\\varXi","\\mathit{\\Xi}");Z0("\\varPi","\\mathit{\\Pi}");Z0("\\varSigma","\\mathit{\\Sigma}");Z0("\\varUpsilon","\\mathit{\\Upsilon}");Z0("\\varPhi","\\mathit{\\Phi}");Z0("\\varPsi","\\mathit{\\Psi}");Z0("\\varOmega","\\mathit{\\Omega}");Z0("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Z0("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Z0("\\boxed","\\fbox{$\\displaystyle{#1}$}");Z0("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Z0("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Z0("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");kx={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Z0("\\dots",function(Z){var J="\\dotso",Q=Z.expandAfterFuture().text;if(Q in kx)J=kx[Q];else if(Q.slice(0,4)==="\\not")J="\\dotsb";else if(Q in KZ.math){if(v9.contains(["bin","rel"],KZ.math[Q].group))J="\\dotsb"}return J});fN={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Z0("\\dotso",function(Z){var J=Z.future().text;if(J in fN)return"\\ldots\\,";else return"\\ldots"});Z0("\\dotsc",function(Z){var J=Z.future().text;if(J in fN&&J!==",")return"\\ldots\\,";else return"\\ldots"});Z0("\\cdots",function(Z){var J=Z.future().text;if(J in fN)return"\\@cdots\\,";else return"\\@cdots"});Z0("\\dotsb","\\cdots");Z0("\\dotsm","\\cdots");Z0("\\dotsi","\\!\\cdots");Z0("\\dotsx","\\ldots\\,");Z0("\\DOTSI","\\relax");Z0("\\DOTSB","\\relax");Z0("\\DOTSX","\\relax");Z0("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Z0("\\,","\\tmspace+{3mu}{.1667em}");Z0("\\thinspace","\\,");Z0("\\>","\\mskip{4mu}");Z0("\\:","\\tmspace+{4mu}{.2222em}");Z0("\\medspace","\\:");Z0("\\;","\\tmspace+{5mu}{.2777em}");Z0("\\thickspace","\\;");Z0("\\!","\\tmspace-{3mu}{.1667em}");Z0("\\negthinspace","\\!");Z0("\\negmedspace","\\tmspace-{4mu}{.2222em}");Z0("\\negthickspace","\\tmspace-{5mu}{.277em}");Z0("\\enspace","\\kern.5em ");Z0("\\enskip","\\hskip.5em\\relax");Z0("\\quad","\\hskip1em\\relax");Z0("\\qquad","\\hskip2em\\relax");Z0("\\tag","\\@ifstar\\tag@literal\\tag@paren");Z0("\\tag@paren","\\tag@literal{({#1})}");Z0("\\tag@literal",(Z)=>{if(Z.macros.get("\\df@tag"))throw new a0("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Z0("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Z0("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Z0("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Z0("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Z0("\\newline","\\\\\\relax");Z0("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");Sh=Q9(j4["Main-Regular"]["T".charCodeAt(0)][1]-0.7*j4["Main-Regular"]["A".charCodeAt(0)][1]);Z0("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Sh+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Z0("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Sh+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Z0("\\hspace","\\@ifstar\\@hspacer\\@hspace");Z0("\\@hspace","\\hskip #1\\relax");Z0("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Z0("\\ordinarycolon",":");Z0("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Z0("\\dblcolon","\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char\"2237}}");Z0("\\coloneqq","\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char\"2254}}");Z0("\\Coloneqq","\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char\"2237\\char\"3d}}");Z0("\\coloneq","\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char\"3a\\char\"2212}}");Z0("\\Coloneq","\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char\"2237\\char\"2212}}");Z0("\\eqqcolon","\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char\"2255}}");Z0("\\Eqqcolon","\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char\"3d\\char\"2237}}");Z0("\\eqcolon","\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char\"2239}}");Z0("\\Eqcolon","\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char\"2212\\char\"2237}}");Z0("\\colonapprox","\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char\"3a\\char\"2248}}");Z0("\\Colonapprox","\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char\"2237\\char\"2248}}");Z0("\\colonsim","\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char\"3a\\char\"223c}}");Z0("\\Colonsim","\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char\"2237\\char\"223c}}");Z0("\u2237","\\dblcolon");Z0("\u2239","\\eqcolon");Z0("\u2254","\\coloneqq");Z0("\u2255","\\eqqcolon");Z0("\u2A74","\\Coloneqq");Z0("\\ratio","\\vcentcolon");Z0("\\coloncolon","\\dblcolon");Z0("\\colonequals","\\coloneqq");Z0("\\coloncolonequals","\\Coloneqq");Z0("\\equalscolon","\\eqqcolon");Z0("\\equalscoloncolon","\\Eqqcolon");Z0("\\colonminus","\\coloneq");Z0("\\coloncolonminus","\\Coloneq");Z0("\\minuscolon","\\eqcolon");Z0("\\minuscoloncolon","\\Eqcolon");Z0("\\coloncolonapprox","\\Colonapprox");Z0("\\coloncolonsim","\\Colonsim");Z0("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Z0("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Z0("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Z0("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Z0("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");Z0("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Z0("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Z0("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Z0("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Z0("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Z0("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Z0("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Z0("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Z0("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");Z0("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");Z0("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");Z0("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");Z0("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");Z0("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");Z0("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");Z0("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");Z0("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");Z0("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");Z0("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");Z0("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");Z0("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");Z0("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");Z0("\\imath","\\html@mathml{\\@imath}{\u0131}");Z0("\\jmath","\\html@mathml{\\@jmath}{\u0237}");Z0("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}"+"{\\mathopen{\\char`\u27E6}}");Z0("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}"+"{\\mathclose{\\char`\u27E7}}");Z0("\u27E6","\\llbracket");Z0("\u27E7","\\rrbracket");Z0("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}"+"{\\mathopen{\\char`\u2983}}");Z0("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}"+"{\\mathclose{\\char`\u2984}}");Z0("\u2983","\\lBrace");Z0("\u2984","\\rBrace");Z0("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}"+"{\\char`\u29B5}}");Z0("\u29B5","\\minuso");Z0("\\darr","\\downarrow");Z0("\\dArr","\\Downarrow");Z0("\\Darr","\\Downarrow");Z0("\\lang","\\langle");Z0("\\rang","\\rangle");Z0("\\uarr","\\uparrow");Z0("\\uArr","\\Uparrow");Z0("\\Uarr","\\Uparrow");Z0("\\N","\\mathbb{N}");Z0("\\R","\\mathbb{R}");Z0("\\Z","\\mathbb{Z}");Z0("\\alef","\\aleph");Z0("\\alefsym","\\aleph");Z0("\\Alpha","\\mathrm{A}");Z0("\\Beta","\\mathrm{B}");Z0("\\bull","\\bullet");Z0("\\Chi","\\mathrm{X}");Z0("\\clubs","\\clubsuit");Z0("\\cnums","\\mathbb{C}");Z0("\\Complex","\\mathbb{C}");Z0("\\Dagger","\\ddagger");Z0("\\diamonds","\\diamondsuit");Z0("\\empty","\\emptyset");Z0("\\Epsilon","\\mathrm{E}");Z0("\\Eta","\\mathrm{H}");Z0("\\exist","\\exists");Z0("\\harr","\\leftrightarrow");Z0("\\hArr","\\Leftrightarrow");Z0("\\Harr","\\Leftrightarrow");Z0("\\hearts","\\heartsuit");Z0("\\image","\\Im");Z0("\\infin","\\infty");Z0("\\Iota","\\mathrm{I}");Z0("\\isin","\\in");Z0("\\Kappa","\\mathrm{K}");Z0("\\larr","\\leftarrow");Z0("\\lArr","\\Leftarrow");Z0("\\Larr","\\Leftarrow");Z0("\\lrarr","\\leftrightarrow");Z0("\\lrArr","\\Leftrightarrow");Z0("\\Lrarr","\\Leftrightarrow");Z0("\\Mu","\\mathrm{M}");Z0("\\natnums","\\mathbb{N}");Z0("\\Nu","\\mathrm{N}");Z0("\\Omicron","\\mathrm{O}");Z0("\\plusmn","\\pm");Z0("\\rarr","\\rightarrow");Z0("\\rArr","\\Rightarrow");Z0("\\Rarr","\\Rightarrow");Z0("\\real","\\Re");Z0("\\reals","\\mathbb{R}");Z0("\\Reals","\\mathbb{R}");Z0("\\Rho","\\mathrm{P}");Z0("\\sdot","\\cdot");Z0("\\sect","\\S");Z0("\\spades","\\spadesuit");Z0("\\sub","\\subset");Z0("\\sube","\\subseteq");Z0("\\supe","\\supseteq");Z0("\\Tau","\\mathrm{T}");Z0("\\thetasym","\\vartheta");Z0("\\weierp","\\wp");Z0("\\Zeta","\\mathrm{Z}");Z0("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Z0("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Z0("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Z0("\\bra","\\mathinner{\\langle{#1}|}");Z0("\\ket","\\mathinner{|{#1}\\rangle}");Z0("\\braket","\\mathinner{\\langle{#1}\\rangle}");Z0("\\Bra","\\left\\langle#1\\right|");Z0("\\Ket","\\left|#1\\right\\rangle");Z0("\\bra@ket",Th(!1));Z0("\\bra@set",Th(!0));Z0("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Z0("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Z0("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Z0("\\angln","{\\angl n}");Z0("\\blue","\\textcolor{##6495ed}{#1}");Z0("\\orange","\\textcolor{##ffa500}{#1}");Z0("\\pink","\\textcolor{##ff00af}{#1}");Z0("\\red","\\textcolor{##df0030}{#1}");Z0("\\green","\\textcolor{##28ae7b}{#1}");Z0("\\gray","\\textcolor{gray}{#1}");Z0("\\purple","\\textcolor{##9d38bd}{#1}");Z0("\\blueA","\\textcolor{##ccfaff}{#1}");Z0("\\blueB","\\textcolor{##80f6ff}{#1}");Z0("\\blueC","\\textcolor{##63d9ea}{#1}");Z0("\\blueD","\\textcolor{##11accd}{#1}");Z0("\\blueE","\\textcolor{##0c7f99}{#1}");Z0("\\tealA","\\textcolor{##94fff5}{#1}");Z0("\\tealB","\\textcolor{##26edd5}{#1}");Z0("\\tealC","\\textcolor{##01d1c1}{#1}");Z0("\\tealD","\\textcolor{##01a995}{#1}");Z0("\\tealE","\\textcolor{##208170}{#1}");Z0("\\greenA","\\textcolor{##b6ffb0}{#1}");Z0("\\greenB","\\textcolor{##8af281}{#1}");Z0("\\greenC","\\textcolor{##74cf70}{#1}");Z0("\\greenD","\\textcolor{##1fab54}{#1}");Z0("\\greenE","\\textcolor{##0d923f}{#1}");Z0("\\goldA","\\textcolor{##ffd0a9}{#1}");Z0("\\goldB","\\textcolor{##ffbb71}{#1}");Z0("\\goldC","\\textcolor{##ff9c39}{#1}");Z0("\\goldD","\\textcolor{##e07d10}{#1}");Z0("\\goldE","\\textcolor{##a75a05}{#1}");Z0("\\redA","\\textcolor{##fca9a9}{#1}");Z0("\\redB","\\textcolor{##ff8482}{#1}");Z0("\\redC","\\textcolor{##f9685d}{#1}");Z0("\\redD","\\textcolor{##e84d39}{#1}");Z0("\\redE","\\textcolor{##bc2612}{#1}");Z0("\\maroonA","\\textcolor{##ffbde0}{#1}");Z0("\\maroonB","\\textcolor{##ff92c6}{#1}");Z0("\\maroonC","\\textcolor{##ed5fa6}{#1}");Z0("\\maroonD","\\textcolor{##ca337c}{#1}");Z0("\\maroonE","\\textcolor{##9e034e}{#1}");Z0("\\purpleA","\\textcolor{##ddd7ff}{#1}");Z0("\\purpleB","\\textcolor{##c6b9fc}{#1}");Z0("\\purpleC","\\textcolor{##aa87ff}{#1}");Z0("\\purpleD","\\textcolor{##7854ab}{#1}");Z0("\\purpleE","\\textcolor{##543b78}{#1}");Z0("\\mintA","\\textcolor{##f5f9e8}{#1}");Z0("\\mintB","\\textcolor{##edf2df}{#1}");Z0("\\mintC","\\textcolor{##e0e5cc}{#1}");Z0("\\grayA","\\textcolor{##f6f7f7}{#1}");Z0("\\grayB","\\textcolor{##f0f1f2}{#1}");Z0("\\grayC","\\textcolor{##e3e5e6}{#1}");Z0("\\grayD","\\textcolor{##d6d8da}{#1}");Z0("\\grayE","\\textcolor{##babec2}{#1}");Z0("\\grayF","\\textcolor{##888d93}{#1}");Z0("\\grayG","\\textcolor{##626569}{#1}");Z0("\\grayH","\\textcolor{##3b3e40}{#1}");Z0("\\grayI","\\textcolor{##21242c}{#1}");Z0("\\kaBlue","\\textcolor{##314453}{#1}");Z0("\\kaGreen","\\textcolor{##71B307}{#1}");fh={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};$x=/^[]/,rM=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g","\u02B0":"h","\u2071":"i","\u02B2":"j","\u1D4F":"k","\u02E1":"l","\u1D50":"m","\u207F":"n","\u1D52":"o","\u1D56":"p","\u02B3":"r","\u02E2":"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v","\u02B7":"w","\u02E3":"x","\u02B8":"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),UN={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:"\\\"",math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},_x={"\xE1":"a\u0301","\xE0":"a\u0300","\xE4":"a\u0308","\u01DF":"a\u0308\u0304","\xE3":"a\u0303","\u0101":"a\u0304","\u0103":"a\u0306","\u1EAF":"a\u0306\u0301","\u1EB1":"a\u0306\u0300","\u1EB5":"a\u0306\u0303","\u01CE":"a\u030C","\xE2":"a\u0302","\u1EA5":"a\u0302\u0301","\u1EA7":"a\u0302\u0300","\u1EAB":"a\u0302\u0303","\u0227":"a\u0307","\u01E1":"a\u0307\u0304","\xE5":"a\u030A","\u01FB":"a\u030A\u0301","\u1E03":"b\u0307","\u0107":"c\u0301","\u1E09":"c\u0327\u0301","\u010D":"c\u030C","\u0109":"c\u0302","\u010B":"c\u0307","\xE7":"c\u0327","\u010F":"d\u030C","\u1E0B":"d\u0307","\u1E11":"d\u0327","\xE9":"e\u0301","\xE8":"e\u0300","\xEB":"e\u0308","\u1EBD":"e\u0303","\u0113":"e\u0304","\u1E17":"e\u0304\u0301","\u1E15":"e\u0304\u0300","\u0115":"e\u0306","\u1E1D":"e\u0327\u0306","\u011B":"e\u030C","\xEA":"e\u0302","\u1EBF":"e\u0302\u0301","\u1EC1":"e\u0302\u0300","\u1EC5":"e\u0302\u0303","\u0117":"e\u0307","\u0229":"e\u0327","\u1E1F":"f\u0307","\u01F5":"g\u0301","\u1E21":"g\u0304","\u011F":"g\u0306","\u01E7":"g\u030C","\u011D":"g\u0302","\u0121":"g\u0307","\u0123":"g\u0327","\u1E27":"h\u0308","\u021F":"h\u030C","\u0125":"h\u0302","\u1E23":"h\u0307","\u1E29":"h\u0327","\xED":"i\u0301","\xEC":"i\u0300","\xEF":"i\u0308","\u1E2F":"i\u0308\u0301","\u0129":"i\u0303","\u012B":"i\u0304","\u012D":"i\u0306","\u01D0":"i\u030C","\xEE":"i\u0302","\u01F0":"j\u030C","\u0135":"j\u0302","\u1E31":"k\u0301","\u01E9":"k\u030C","\u0137":"k\u0327","\u013A":"l\u0301","\u013E":"l\u030C","\u013C":"l\u0327","\u1E3F":"m\u0301","\u1E41":"m\u0307","\u0144":"n\u0301","\u01F9":"n\u0300","\xF1":"n\u0303","\u0148":"n\u030C","\u1E45":"n\u0307","\u0146":"n\u0327","\xF3":"o\u0301","\xF2":"o\u0300","\xF6":"o\u0308","\u022B":"o\u0308\u0304","\xF5":"o\u0303","\u1E4D":"o\u0303\u0301","\u1E4F":"o\u0303\u0308","\u022D":"o\u0303\u0304","\u014D":"o\u0304","\u1E53":"o\u0304\u0301","\u1E51":"o\u0304\u0300","\u014F":"o\u0306","\u01D2":"o\u030C","\xF4":"o\u0302","\u1ED1":"o\u0302\u0301","\u1ED3":"o\u0302\u0300","\u1ED7":"o\u0302\u0303","\u022F":"o\u0307","\u0231":"o\u0307\u0304","\u0151":"o\u030B","\u1E55":"p\u0301","\u1E57":"p\u0307","\u0155":"r\u0301","\u0159":"r\u030C","\u1E59":"r\u0307","\u0157":"r\u0327","\u015B":"s\u0301","\u1E65":"s\u0301\u0307","\u0161":"s\u030C","\u1E67":"s\u030C\u0307","\u015D":"s\u0302","\u1E61":"s\u0307","\u015F":"s\u0327","\u1E97":"t\u0308","\u0165":"t\u030C","\u1E6B":"t\u0307","\u0163":"t\u0327","\xFA":"u\u0301","\xF9":"u\u0300","\xFC":"u\u0308","\u01D8":"u\u0308\u0301","\u01DC":"u\u0308\u0300","\u01D6":"u\u0308\u0304","\u01DA":"u\u0308\u030C","\u0169":"u\u0303","\u1E79":"u\u0303\u0301","\u016B":"u\u0304","\u1E7B":"u\u0304\u0308","\u016D":"u\u0306","\u01D4":"u\u030C","\xFB":"u\u0302","\u016F":"u\u030A","\u0171":"u\u030B","\u1E7D":"v\u0303","\u1E83":"w\u0301","\u1E81":"w\u0300","\u1E85":"w\u0308","\u0175":"w\u0302","\u1E87":"w\u0307","\u1E98":"w\u030A","\u1E8D":"x\u0308","\u1E8B":"x\u0307","\xFD":"y\u0301","\u1EF3":"y\u0300","\xFF":"y\u0308","\u1EF9":"y\u0303","\u0233":"y\u0304","\u0177":"y\u0302","\u1E8F":"y\u0307","\u1E99":"y\u030A","\u017A":"z\u0301","\u017E":"z\u030C","\u1E91":"z\u0302","\u017C":"z\u0307","\xC1":"A\u0301","\xC0":"A\u0300","\xC4":"A\u0308","\u01DE":"A\u0308\u0304","\xC3":"A\u0303","\u0100":"A\u0304","\u0102":"A\u0306","\u1EAE":"A\u0306\u0301","\u1EB0":"A\u0306\u0300","\u1EB4":"A\u0306\u0303","\u01CD":"A\u030C","\xC2":"A\u0302","\u1EA4":"A\u0302\u0301","\u1EA6":"A\u0302\u0300","\u1EAA":"A\u0302\u0303","\u0226":"A\u0307","\u01E0":"A\u0307\u0304","\xC5":"A\u030A","\u01FA":"A\u030A\u0301","\u1E02":"B\u0307","\u0106":"C\u0301","\u1E08":"C\u0327\u0301","\u010C":"C\u030C","\u0108":"C\u0302","\u010A":"C\u0307","\xC7":"C\u0327","\u010E":"D\u030C","\u1E0A":"D\u0307","\u1E10":"D\u0327","\xC9":"E\u0301","\xC8":"E\u0300","\xCB":"E\u0308","\u1EBC":"E\u0303","\u0112":"E\u0304","\u1E16":"E\u0304\u0301","\u1E14":"E\u0304\u0300","\u0114":"E\u0306","\u1E1C":"E\u0327\u0306","\u011A":"E\u030C","\xCA":"E\u0302","\u1EBE":"E\u0302\u0301","\u1EC0":"E\u0302\u0300","\u1EC4":"E\u0302\u0303","\u0116":"E\u0307","\u0228":"E\u0327","\u1E1E":"F\u0307","\u01F4":"G\u0301","\u1E20":"G\u0304","\u011E":"G\u0306","\u01E6":"G\u030C","\u011C":"G\u0302","\u0120":"G\u0307","\u0122":"G\u0327","\u1E26":"H\u0308","\u021E":"H\u030C","\u0124":"H\u0302","\u1E22":"H\u0307","\u1E28":"H\u0327","\xCD":"I\u0301","\xCC":"I\u0300","\xCF":"I\u0308","\u1E2E":"I\u0308\u0301","\u0128":"I\u0303","\u012A":"I\u0304","\u012C":"I\u0306","\u01CF":"I\u030C","\xCE":"I\u0302","\u0130":"I\u0307","\u0134":"J\u0302","\u1E30":"K\u0301","\u01E8":"K\u030C","\u0136":"K\u0327","\u0139":"L\u0301","\u013D":"L\u030C","\u013B":"L\u0327","\u1E3E":"M\u0301","\u1E40":"M\u0307","\u0143":"N\u0301","\u01F8":"N\u0300","\xD1":"N\u0303","\u0147":"N\u030C","\u1E44":"N\u0307","\u0145":"N\u0327","\xD3":"O\u0301","\xD2":"O\u0300","\xD6":"O\u0308","\u022A":"O\u0308\u0304","\xD5":"O\u0303","\u1E4C":"O\u0303\u0301","\u1E4E":"O\u0303\u0308","\u022C":"O\u0303\u0304","\u014C":"O\u0304","\u1E52":"O\u0304\u0301","\u1E50":"O\u0304\u0300","\u014E":"O\u0306","\u01D1":"O\u030C","\xD4":"O\u0302","\u1ED0":"O\u0302\u0301","\u1ED2":"O\u0302\u0300","\u1ED6":"O\u0302\u0303","\u022E":"O\u0307","\u0230":"O\u0307\u0304","\u0150":"O\u030B","\u1E54":"P\u0301","\u1E56":"P\u0307","\u0154":"R\u0301","\u0158":"R\u030C","\u1E58":"R\u0307","\u0156":"R\u0327","\u015A":"S\u0301","\u1E64":"S\u0301\u0307","\u0160":"S\u030C","\u1E66":"S\u030C\u0307","\u015C":"S\u0302","\u1E60":"S\u0307","\u015E":"S\u0327","\u0164":"T\u030C","\u1E6A":"T\u0307","\u0162":"T\u0327","\xDA":"U\u0301","\xD9":"U\u0300","\xDC":"U\u0308","\u01D7":"U\u0308\u0301","\u01DB":"U\u0308\u0300","\u01D5":"U\u0308\u0304","\u01D9":"U\u0308\u030C","\u0168":"U\u0303","\u1E78":"U\u0303\u0301","\u016A":"U\u0304","\u1E7A":"U\u0304\u0308","\u016C":"U\u0306","\u01D3":"U\u030C","\xDB":"U\u0302","\u016E":"U\u030A","\u0170":"U\u030B","\u1E7C":"V\u0303","\u1E82":"W\u0301","\u1E80":"W\u0300","\u1E84":"W\u0308","\u0174":"W\u0302","\u1E86":"W\u0307","\u1E8C":"X\u0308","\u1E8A":"X\u0307","\xDD":"Y\u0301","\u1EF2":"Y\u0300","\u0178":"Y\u0308","\u1EF8":"Y\u0303","\u0232":"Y\u0304","\u0176":"Y\u0302","\u1E8E":"Y\u0307","\u0179":"Z\u0301","\u017D":"Z\u030C","\u1E90":"Z\u0302","\u017B":"Z\u0307","\u03AC":"\u03B1\u0301","\u1F70":"\u03B1\u0300","\u1FB1":"\u03B1\u0304","\u1FB0":"\u03B1\u0306","\u03AD":"\u03B5\u0301","\u1F72":"\u03B5\u0300","\u03AE":"\u03B7\u0301","\u1F74":"\u03B7\u0300","\u03AF":"\u03B9\u0301","\u1F76":"\u03B9\u0300","\u03CA":"\u03B9\u0308","\u0390":"\u03B9\u0308\u0301","\u1FD2":"\u03B9\u0308\u0300","\u1FD1":"\u03B9\u0304","\u1FD0":"\u03B9\u0306","\u03CC":"\u03BF\u0301","\u1F78":"\u03BF\u0300","\u03CD":"\u03C5\u0301","\u1F7A":"\u03C5\u0300","\u03CB":"\u03C5\u0308","\u03B0":"\u03C5\u0308\u0301","\u1FE2":"\u03C5\u0308\u0300","\u1FE1":"\u03C5\u0304","\u1FE0":"\u03C5\u0306","\u03CE":"\u03C9\u0301","\u1F7C":"\u03C9\u0300","\u038E":"\u03A5\u0301","\u1FEA":"\u03A5\u0300","\u03AB":"\u03A5\u0308","\u1FE9":"\u03A5\u0304","\u1FE8":"\u03A5\u0306","\u038F":"\u03A9\u0301","\u1FFA":"\u03A9\u0300"};W2.endOfExpression=["}","\\endgroup","\\end","\\right","&"];if(typeof document!=="undefined"){if(document.compatMode!=="CSS1Compat")typeof console!=="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),kh=function Z(){throw new a0("KaTeX doesn't work in quirks mode.")}}u10={version:"0.16.11",render:kh,renderToString:x10,ParseError:a0,SETTINGS_SCHEMA:nM,__parse:h10,__renderToDomTree:kN,__renderToHTMLTree:y10,__setFontMetrics:Dq0,__defineSymbol:x,__defineFunction:Y9,__defineMacro:Z0,__domTree:{Span:Rq,Anchor:X2,SymbolNode:V6,SvgNode:C4,PathNode:xK,LineNode:tM}}});function eh(){Iq.default.addHook("beforeSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("target"))J.setAttribute("data-temp-href-target",J.getAttribute("target")??"")}),Iq.default.addHook("afterSanitizeAttributes",(J)=>{if(J.tagName==="A"&&J.hasAttribute("data-temp-href-target")){if(J.setAttribute("target",J.getAttribute("data-temp-href-target")??""),J.removeAttribute("data-temp-href-target"),J.getAttribute("target")==="_blank")J.setAttribute("rel","noopener")}})}var gh,Iq,mh,R=(Z,J)=>mh(Z,"name",{value:J,configurable:!0}),xN=(Z,J)=>{for(var Q in J)mh(Z,Q,{get:J[Q],enumerable:!0})},mK,p,B2,QQ,hN,Dq,m10,yN,BU,uG,uN,ph,ch,$N,TZ,R2="#ffffff",O2="#f2f2f2",f7,g10,p10,c10,l10,d10,mG,i10,s10,r10,n10,T4,i5,lh,dh,a10,B8,yG,o10,RU,n7,ih,Lq,hG,A2,sh,rh,nh,mN,gN,a8,ah,oh,gG,t10,xh,e10,th,OU,Zz0,Jz0,Zy,hh,u8,Qz0,Kz0,Xz0,Uz0,Jy,Yz0,b8,qz0,zz0,s5,_N,Gz0,Hz0,yh,bN,PJ,Nq,r5,g0,Wz0,Fz0,R8,gK,F2,Mz0,Bz0,Qy,L2,pN="",cN="",lN="",dN,O8,E8,f8,v8,k8,o8,m8,uh,Rz0,W0,iN,I2,Oz0,sN,Az0,M2,pG,D2,Lz0;var X8=_(()=>{gh=z7(kM(),1);_Q();_Q();_Q();_Q();_Q();_Q();Iq=z7(sD(),1);mh=Object.defineProperty,mK={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},p={trace:R((...Z)=>{},"trace"),debug:R((...Z)=>{},"debug"),info:R((...Z)=>{},"info"),warn:R((...Z)=>{},"warn"),error:R((...Z)=>{},"error"),fatal:R((...Z)=>{},"fatal")},B2=R(function(Z="fatal"){let J=mK.fatal;if(typeof Z==="string"){if(Z.toLowerCase()in mK)J=mK[Z]}else if(typeof Z==="number")J=Z;if(p.trace=()=>{},p.debug=()=>{},p.info=()=>{},p.warn=()=>{},p.error=()=>{},p.fatal=()=>{},J<=mK.fatal)p.fatal=console.error?console.error.bind(console,QQ("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",QQ("FATAL"));if(J<=mK.error)p.error=console.error?console.error.bind(console,QQ("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",QQ("ERROR"));if(J<=mK.warn)p.warn=console.warn?console.warn.bind(console,QQ("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",QQ("WARN"));if(J<=mK.info)p.info=console.info?console.info.bind(console,QQ("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",QQ("INFO"));if(J<=mK.debug)p.debug=console.debug?console.debug.bind(console,QQ("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",QQ("DEBUG"));if(J<=mK.trace)p.trace=console.debug?console.debug.bind(console,QQ("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",QQ("TRACE"))},"setLogLevel"),QQ=R((Z)=>{return`%c${gh.default().format("ss.SSS")} : ${Z} : `},"format"),hN=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Dq=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,m10=/\s*%%.*\n/gm,yN=class extends Error{static{R(this,"UnknownDiagramError")}constructor(Z){super(Z);this.name="UnknownDiagramError"}},BU={},uG=R(function(Z,J){Z=Z.replace(hN,"").replace(Dq,"").replace(m10,"\n");for(let[Q,{detector:K}]of Object.entries(BU))if(K(Z,J))return Q;throw new yN(`No diagram type detected matching given configuration for text: ${Z}`)},"detectType"),uN=R((...Z)=>{for(let{id:J,detector:Q,loader:K}of Z)ph(J,Q,K)},"registerLazyLoadedDiagrams"),ph=R((Z,J,Q)=>{if(BU[Z])p.warn(`Detector with key ${Z} already exists. Overwriting.`);BU[Z]={detector:J,loader:Q},p.debug(`Detector with key ${Z} added${Q?" with loader":""}`)},"addDetector"),ch=R((Z)=>{return BU[Z].loader},"getDiagramLoader"),$N=R((Z,J,{depth:Q=2,clobber:K=!1}={})=>{const X={depth:Q,clobber:K};if(Array.isArray(J)&&!Array.isArray(Z))return J.forEach((U)=>$N(Z,U,X)),Z;else if(Array.isArray(J)&&Array.isArray(Z))return J.forEach((U)=>{if(!Z.includes(U))Z.push(U)}),Z;if(Z===void 0||Q<=0)if(Z!==void 0&&Z!==null&&typeof Z==="object"&&typeof J==="object")return Object.assign(Z,J);else return J;if(J!==void 0&&typeof Z==="object"&&typeof J==="object")Object.keys(J).forEach((U)=>{if(typeof J[U]==="object"&&(Z[U]===void 0||typeof Z[U]==="object")){if(Z[U]===void 0)Z[U]=Array.isArray(J[U])?[]:{};Z[U]=$N(Z[U],J[U],{depth:Q-1,clobber:K})}else if(K||typeof Z[U]!=="object"&&typeof J[U]!=="object")Z[U]=J[U]});return Z},"assignWithDepth"),TZ=$N,f7=R((Z,J)=>J?C0(Z,{s:-40,l:10}):C0(Z,{s:-40,l:-10}),"mkBorder"),g10=class{static{R(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||C0(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||C0(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||f7(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||f7(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||f7(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||f7(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||J9(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||J9(this.tertiaryColor),this.lineColor=this.lineColor||J9(this.background),this.arrowheadColor=this.arrowheadColor||J9(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?R9(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||R9(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||J9(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||W9(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||C0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||C0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||C0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||C0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||C0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||C0(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||C0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||C0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||C0(this.primaryColor,{h:330}),this.darkMode)for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=R9(this["cScale"+J],75);else for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScale"+J]=R9(this["cScale"+J],25);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleInv"+J]=this["cScaleInv"+J]||J9(this["cScale"+J]);for(let J=0;J<this.THEME_COLOR_LIMIT;J++)if(this.darkMode)this["cScalePeer"+J]=this["cScalePeer"+J]||W9(this["cScale"+J],10);else this["cScalePeer"+J]=this["cScalePeer"+J]||R9(this["cScale"+J],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let J=0;J<this.THEME_COLOR_LIMIT;J++)this["cScaleLabel"+J]=this["cScaleLabel"+J]||this.scaleLabelColor;const Z=this.darkMode?-4:-1;for(let J=0;J<5;J++)this["surface"+J]=this["surface"+J]||C0(this.mainBkg,{h:180,s:-15,l:Z*(5+J*3)}),this["surfacePeer"+J]=this["surfacePeer"+J]||C0(this.mainBkg,{h:180,s:-15,l:Z*(8+J*3)});if(this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||C0(this.primaryColor,{h:64}),this.fillType3=this.fillType3||C0(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||C0(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||C0(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||C0(this.primaryColor,{h:128}),this.fillType7=this.fillType7||C0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||C0(this.primaryColor,{l:-10}),this.pie5=this.pie5||C0(this.secondaryColor,{l:-10}),this.pie6=this.pie6||C0(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||C0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||C0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||C0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||C0(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||C0(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||C0(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||C0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||C0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||C0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||C0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||C0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||C0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||V7(this.quadrant1Fill)?W9(this.quadrant1Fill):R9(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?R9(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||C0(this.primaryColor,{h:-30}),this.git4=this.git4||C0(this.primaryColor,{h:-60}),this.git5=this.git5||C0(this.primaryColor,{h:-90}),this.git6=this.git6||C0(this.primaryColor,{h:60}),this.git7=this.git7||C0(this.primaryColor,{h:120}),this.darkMode)this.git0=W9(this.git0,25),this.git1=W9(this.git1,25),this.git2=W9(this.git2,25),this.git3=W9(this.git3,25),this.git4=W9(this.git4,25),this.git5=W9(this.git5,25),this.git6=W9(this.git6,25),this.git7=W9(this.git7,25);else this.git0=R9(this.git0,25),this.git1=R9(this.git1,25),this.git2=R9(this.git2,25),this.git3=R9(this.git3,25),this.git4=R9(this.git4,25),this.git5=R9(this.git5,25),this.git6=R9(this.git6,25),this.git7=R9(this.git7,25);this.gitInv0=this.gitInv0||J9(this.git0),this.gitInv1=this.gitInv1||J9(this.git1),this.gitInv2=this.gitInv2||J9(this.git2),this.gitInv3=this.gitInv3||J9(this.git3),this.gitInv4=this.gitInv4||J9(this.git4),this.gitInv5=this.gitInv5||J9(this.git5),this.gitInv6=this.gitInv6||J9(this.git6),this.gitInv7=this.gitInv7||J9(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||R2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||O2}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}const J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},p10=R((Z)=>{const J=new g10;return J.calculate(Z),J},"getThemeVariables"),c10=class{static{R(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=W9(this.primaryColor,16),this.tertiaryColor=C0(this.primaryColor,{h:-160}),this.primaryBorderColor=J9(this.background),this.secondaryBorderColor=f7(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=f7(this.tertiaryColor,this.darkMode),this.primaryTextColor=J9(this.primaryColor),this.secondaryTextColor=J9(this.secondaryColor),this.tertiaryTextColor=J9(this.tertiaryColor),this.lineColor=J9(this.background),this.textColor=J9(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=W9(J9("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=j6(255,255,255,0.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=R9("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=R9(this.sectionBkgColor,10),this.taskBorderColor=j6(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=j6(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=W9(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=W9(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=W9(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=C0(this.primaryColor,{h:64}),this.fillType3=C0(this.secondaryColor,{h:64}),this.fillType4=C0(this.primaryColor,{h:-64}),this.fillType5=C0(this.secondaryColor,{h:-64}),this.fillType6=C0(this.primaryColor,{h:128}),this.fillType7=C0(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||C0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||C0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||C0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||C0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||C0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||C0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||C0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||C0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||C0(this.primaryColor,{h:330});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||J9(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScalePeer"+Z]=this["cScalePeer"+Z]||W9(this["cScale"+Z],10);for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||C0(this.mainBkg,{h:30,s:-30,l:-(-10+Z*4)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||C0(this.mainBkg,{h:30,s:-30,l:-(-7+Z*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||C0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||C0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||C0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||C0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||C0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||C0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||V7(this.quadrant1Fill)?W9(this.quadrant1Fill):R9(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?R9(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=W9(this.secondaryColor,20),this.git1=W9(this.pie2||this.secondaryColor,20),this.git2=W9(this.pie3||this.tertiaryColor,20),this.git3=W9(this.pie4||C0(this.primaryColor,{h:-30}),20),this.git4=W9(this.pie5||C0(this.primaryColor,{h:-60}),20),this.git5=W9(this.pie6||C0(this.primaryColor,{h:-90}),10),this.git6=W9(this.pie7||C0(this.primaryColor,{h:60}),10),this.git7=W9(this.pie8||C0(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||J9(this.git0),this.gitInv1=this.gitInv1||J9(this.git1),this.gitInv2=this.gitInv2||J9(this.git2),this.gitInv3=this.gitInv3||J9(this.git3),this.gitInv4=this.gitInv4||J9(this.git4),this.gitInv5=this.gitInv5||J9(this.git5),this.gitInv6=this.gitInv6||J9(this.git6),this.gitInv7=this.gitInv7||J9(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||J9(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||J9(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||W9(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||W9(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}const J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},l10=R((Z)=>{const J=new c10;return J.calculate(Z),J},"getThemeVariables"),d10=class{static{R(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=C0(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=C0(this.primaryColor,{h:-160}),this.primaryBorderColor=f7(this.primaryColor,this.darkMode),this.secondaryBorderColor=f7(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=f7(this.tertiaryColor,this.darkMode),this.primaryTextColor=J9(this.primaryColor),this.secondaryTextColor=J9(this.secondaryColor),this.tertiaryTextColor=J9(this.tertiaryColor),this.lineColor=J9(this.background),this.textColor=J9(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=j6(102,102,255,0.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||C0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||C0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||C0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||C0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||C0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||C0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||C0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||C0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||C0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||R9(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||R9(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=R9(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||R9(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||C0(this["cScale"+Z],{h:180});for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||C0(this.mainBkg,{h:30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||C0(this.mainBkg,{h:30,l:-(7+Z*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||J9(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||J9(this.labelTextColor);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.labelTextColor}if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=W9(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=C0(this.primaryColor,{h:64}),this.fillType3=C0(this.secondaryColor,{h:64}),this.fillType4=C0(this.primaryColor,{h:-64}),this.fillType5=C0(this.secondaryColor,{h:-64}),this.fillType6=C0(this.primaryColor,{h:128}),this.fillType7=C0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||C0(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||C0(this.primaryColor,{l:-10}),this.pie5=this.pie5||C0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||C0(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||C0(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||C0(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||C0(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||C0(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||C0(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||C0(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||C0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||C0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||C0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||C0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||C0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||C0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||V7(this.quadrant1Fill)?W9(this.quadrant1Fill):R9(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||C0(this.primaryColor,{h:-30}),this.git4=this.git4||C0(this.primaryColor,{h:-60}),this.git5=this.git5||C0(this.primaryColor,{h:-90}),this.git6=this.git6||C0(this.primaryColor,{h:60}),this.git7=this.git7||C0(this.primaryColor,{h:120}),this.darkMode)this.git0=W9(this.git0,25),this.git1=W9(this.git1,25),this.git2=W9(this.git2,25),this.git3=W9(this.git3,25),this.git4=W9(this.git4,25),this.git5=W9(this.git5,25),this.git6=W9(this.git6,25),this.git7=W9(this.git7,25);else this.git0=R9(this.git0,25),this.git1=R9(this.git1,25),this.git2=R9(this.git2,25),this.git3=R9(this.git3,25),this.git4=R9(this.git4,25),this.git5=R9(this.git5,25),this.git6=R9(this.git6,25),this.git7=R9(this.git7,25);this.gitInv0=this.gitInv0||R9(J9(this.git0),25),this.gitInv1=this.gitInv1||J9(this.git1),this.gitInv2=this.gitInv2||J9(this.git2),this.gitInv3=this.gitInv3||J9(this.git3),this.gitInv4=this.gitInv4||J9(this.git4),this.gitInv5=this.gitInv5||J9(this.git5),this.gitInv6=this.gitInv6||J9(this.git6),this.gitInv7=this.gitInv7||J9(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||J9(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||J9(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||R2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||O2}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}const J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},mG=R((Z)=>{const J=new d10;return J.calculate(Z),J},"getThemeVariables"),i10=class{static{R(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=W9("#cde498",10),this.primaryBorderColor=f7(this.primaryColor,this.darkMode),this.secondaryBorderColor=f7(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=f7(this.tertiaryColor,this.darkMode),this.primaryTextColor=J9(this.primaryColor),this.secondaryTextColor=J9(this.secondaryColor),this.tertiaryTextColor=J9(this.primaryColor),this.lineColor=J9(this.background),this.textColor=J9(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=R9(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||C0(this.primaryColor,{h:30}),this.cScale4=this.cScale4||C0(this.primaryColor,{h:60}),this.cScale5=this.cScale5||C0(this.primaryColor,{h:90}),this.cScale6=this.cScale6||C0(this.primaryColor,{h:120}),this.cScale7=this.cScale7||C0(this.primaryColor,{h:150}),this.cScale8=this.cScale8||C0(this.primaryColor,{h:210}),this.cScale9=this.cScale9||C0(this.primaryColor,{h:270}),this.cScale10=this.cScale10||C0(this.primaryColor,{h:300}),this.cScale11=this.cScale11||C0(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||R9(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||R9(this.tertiaryColor,40);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScale"+Z]=R9(this["cScale"+Z],10),this["cScalePeer"+Z]=this["cScalePeer"+Z]||R9(this["cScale"+Z],25);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||C0(this["cScale"+Z],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||C0(this.mainBkg,{h:30,s:-30,l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||C0(this.mainBkg,{h:30,s:-30,l:-(8+Z*5)});if(this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=C0(this.primaryColor,{h:64}),this.fillType3=C0(this.secondaryColor,{h:64}),this.fillType4=C0(this.primaryColor,{h:-64}),this.fillType5=C0(this.secondaryColor,{h:-64}),this.fillType6=C0(this.primaryColor,{h:128}),this.fillType7=C0(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||C0(this.primaryColor,{l:-30}),this.pie5=this.pie5||C0(this.secondaryColor,{l:-30}),this.pie6=this.pie6||C0(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||C0(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||C0(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||C0(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||C0(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||C0(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||C0(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||C0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||C0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||C0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||C0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||C0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||C0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||V7(this.quadrant1Fill)?W9(this.quadrant1Fill):R9(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||C0(this.primaryColor,{h:-30}),this.git4=this.git4||C0(this.primaryColor,{h:-60}),this.git5=this.git5||C0(this.primaryColor,{h:-90}),this.git6=this.git6||C0(this.primaryColor,{h:60}),this.git7=this.git7||C0(this.primaryColor,{h:120}),this.darkMode)this.git0=W9(this.git0,25),this.git1=W9(this.git1,25),this.git2=W9(this.git2,25),this.git3=W9(this.git3,25),this.git4=W9(this.git4,25),this.git5=W9(this.git5,25),this.git6=W9(this.git6,25),this.git7=W9(this.git7,25);else this.git0=R9(this.git0,25),this.git1=R9(this.git1,25),this.git2=R9(this.git2,25),this.git3=R9(this.git3,25),this.git4=R9(this.git4,25),this.git5=R9(this.git5,25),this.git6=R9(this.git6,25),this.git7=R9(this.git7,25);this.gitInv0=this.gitInv0||J9(this.git0),this.gitInv1=this.gitInv1||J9(this.git1),this.gitInv2=this.gitInv2||J9(this.git2),this.gitInv3=this.gitInv3||J9(this.git3),this.gitInv4=this.gitInv4||J9(this.git4),this.gitInv5=this.gitInv5||J9(this.git5),this.gitInv6=this.gitInv6||J9(this.git6),this.gitInv7=this.gitInv7||J9(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||J9(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||J9(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||R2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||O2}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}const J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},s10=R((Z)=>{const J=new i10;return J.calculate(Z),J},"getThemeVariables"),r10=class{static{R(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=W9(this.contrast,55),this.background="#ffffff",this.tertiaryColor=C0(this.primaryColor,{h:-160}),this.primaryBorderColor=f7(this.primaryColor,this.darkMode),this.secondaryBorderColor=f7(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=f7(this.tertiaryColor,this.darkMode),this.primaryTextColor=J9(this.primaryColor),this.secondaryTextColor=J9(this.secondaryColor),this.tertiaryTextColor=J9(this.tertiaryColor),this.lineColor=J9(this.background),this.textColor=J9(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=W9(this.contrast,55),this.border2=this.contrast,this.actorBorder=W9(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleInv"+Z]=this["cScaleInv"+Z]||J9(this["cScale"+Z]);for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)if(this.darkMode)this["cScalePeer"+Z]=this["cScalePeer"+Z]||W9(this["cScale"+Z],10);else this["cScalePeer"+Z]=this["cScalePeer"+Z]||R9(this["cScale"+Z],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["cScaleLabel"+Z]=this["cScaleLabel"+Z]||this.scaleLabelColor;for(let Z=0;Z<5;Z++)this["surface"+Z]=this["surface"+Z]||C0(this.mainBkg,{l:-(5+Z*5)}),this["surfacePeer"+Z]=this["surfacePeer"+Z]||C0(this.mainBkg,{l:-(8+Z*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=W9(this.contrast,30),this.sectionBkgColor2=W9(this.contrast,30),this.taskBorderColor=R9(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=W9(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=R9(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=C0(this.primaryColor,{h:64}),this.fillType3=C0(this.secondaryColor,{h:64}),this.fillType4=C0(this.primaryColor,{h:-64}),this.fillType5=C0(this.secondaryColor,{h:-64}),this.fillType6=C0(this.primaryColor,{h:128}),this.fillType7=C0(this.secondaryColor,{h:128});for(let Z=0;Z<this.THEME_COLOR_LIMIT;Z++)this["pie"+Z]=this["cScale"+Z];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||C0(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||C0(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||C0(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||C0(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||C0(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||C0(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||V7(this.quadrant1Fill)?W9(this.quadrant1Fill):R9(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=R9(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||C0(this.primaryColor,{h:-30}),this.git4=this.pie5||C0(this.primaryColor,{h:-60}),this.git5=this.pie6||C0(this.primaryColor,{h:-90}),this.git6=this.pie7||C0(this.primaryColor,{h:60}),this.git7=this.pie8||C0(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||J9(this.git0),this.gitInv1=this.gitInv1||J9(this.git1),this.gitInv2=this.gitInv2||J9(this.git2),this.gitInv3=this.gitInv3||J9(this.git3),this.gitInv4=this.gitInv4||J9(this.git4),this.gitInv5=this.gitInv5||J9(this.git5),this.gitInv6=this.gitInv6||J9(this.git6),this.gitInv7=this.gitInv7||J9(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||R2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||O2}calculate(Z){if(typeof Z!=="object"){this.updateColors();return}const J=Object.keys(Z);J.forEach((Q)=>{this[Q]=Z[Q]}),this.updateColors(),J.forEach((Q)=>{this[Q]=Z[Q]})}},n10=R((Z)=>{const J=new r10;return J.calculate(Z),J},"getThemeVariables"),T4={base:{getThemeVariables:p10},dark:{getThemeVariables:l10},default:{getThemeVariables:mG},forest:{getThemeVariables:s10},neutral:{getThemeVariables:n10}},i5={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:0.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:50000,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},lh={...i5,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"SIMPLE"},themeCSS:void 0,themeVariables:T4.default.getThemeVariables(),sequence:{...i5.sequence,messageFont:R(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:R(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:R(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},gantt:{...i5.gantt,tickInterval:void 0,useWidth:void 0},c4:{...i5.c4,useWidth:void 0,personFont:R(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:R(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:R(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:R(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:R(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:R(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:R(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:R(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:R(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:R(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:R(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:R(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:R(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:R(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:R(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:R(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:R(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:R(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:R(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:R(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:R(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:R(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...i5.pie,useWidth:984},xyChart:{...i5.xyChart,useWidth:void 0},requirement:{...i5.requirement,useWidth:void 0},packet:{...i5.packet}},dh=R((Z,J="")=>Object.keys(Z).reduce((Q,K)=>{if(Array.isArray(Z[K]))return Q;else if(typeof Z[K]==="object"&&Z[K]!==null)return[...Q,J+K,...dh(Z[K],"")];return[...Q,J+K]},[]),"keyify"),a10=new Set(dh(lh,"")),B8=lh,yG=R((Z)=>{if(p.debug("sanitizeDirective called with",Z),typeof Z!=="object"||Z==null)return;if(Array.isArray(Z)){Z.forEach((J)=>yG(J));return}for(let J of Object.keys(Z)){if(p.debug("Checking key",J),J.startsWith("__")||J.includes("proto")||J.includes("constr")||!a10.has(J)||Z[J]==null){p.debug("sanitize deleting key: ",J),delete Z[J];continue}if(typeof Z[J]==="object"){p.debug("sanitizing object",J),yG(Z[J]);continue}const Q=["themeCSS","fontFamily","altFontFamily"];for(let K of Q)if(J.includes(K))p.debug("sanitizing css option",J),Z[J]=o10(Z[J])}if(Z.themeVariables)for(let J of Object.keys(Z.themeVariables)){const Q=Z.themeVariables[J];if(Q?.match&&!Q.match(/^[\d "#%(),.;A-Za-z]+$/))Z.themeVariables[J]=""}p.debug("After sanitization",Z)},"sanitizeDirective"),o10=R((Z)=>{let J=0,Q=0;for(let K of Z){if(J<Q)return"{ /* ERROR: Unbalanced CSS */ }";if(K==="{")J++;else if(K==="}")Q++}if(J!==Q)return"{ /* ERROR: Unbalanced CSS */ }";return Z},"sanitizeCss"),RU=Object.freeze(B8),n7=TZ({},RU),Lq=[],hG=TZ({},RU),A2=R((Z,J)=>{let Q=TZ({},Z),K={};for(let X of J)ah(X),K=TZ(K,X);if(Q=TZ(Q,K),K.theme&&K.theme in T4){const X=TZ({},ih),U=TZ(X.themeVariables||{},K.themeVariables);if(Q.theme&&Q.theme in T4)Q.themeVariables=T4[Q.theme].getThemeVariables(U)}return hG=Q,th(hG),hG},"updateCurrentConfig"),sh=R((Z)=>{if(n7=TZ({},RU),n7=TZ(n7,Z),Z.theme&&T4[Z.theme])n7.themeVariables=T4[Z.theme].getThemeVariables(Z.themeVariables);return A2(n7,Lq),n7},"setSiteConfig"),rh=R((Z)=>{ih=TZ({},Z)},"saveConfigFromInitialize"),nh=R((Z)=>{return n7=TZ(n7,Z),A2(n7,Lq),n7},"updateSiteConfig"),mN=R(()=>{return TZ({},n7)},"getSiteConfig"),gN=R((Z)=>{return th(Z),TZ(hG,Z),a8()},"setConfig"),a8=R(()=>{return TZ({},hG)},"getConfig"),ah=R((Z)=>{if(!Z)return;["secure",...n7.secure??[]].forEach((J)=>{if(Object.hasOwn(Z,J))p.debug(`Denied attempt to modify a secure key ${J}`,Z[J]),delete Z[J]}),Object.keys(Z).forEach((J)=>{if(J.startsWith("__"))delete Z[J]}),Object.keys(Z).forEach((J)=>{if(typeof Z[J]==="string"&&(Z[J].includes("<")||Z[J].includes(">")||Z[J].includes("url(data:")))delete Z[J];if(typeof Z[J]==="object")ah(Z[J])})},"sanitize"),oh=R((Z)=>{if(yG(Z),Z.fontFamily&&!Z.themeVariables?.fontFamily)Z.themeVariables={...Z.themeVariables,fontFamily:Z.fontFamily};Lq.push(Z),A2(n7,Lq)},"addDirective"),gG=R((Z=n7)=>{Lq=[],A2(Z,Lq)},"reset"),t10={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},xh={},e10=R((Z)=>{if(xh[Z])return;p.warn(t10[Z]),xh[Z]=!0},"issueWarning"),th=R((Z)=>{if(!Z)return;if(Z.lazyLoadedDiagrams||Z.loadExternalDiagramsAtStartup)e10("LAZY_LOAD_DEPRECATED")},"checkConfig"),OU=/<br\s*\/?>/gi,Zz0=R((Z)=>{if(!Z)return[""];return Jy(Z).replace(/\\n/g,"#br#").split("#br#")},"getRows"),Jz0=(()=>{let Z=!1;return()=>{if(!Z)eh(),Z=!0}})();R(eh,"setupDompurifyHooks");Zy=R((Z)=>{return Jz0(),Iq.default.sanitize(Z)},"removeScript"),hh=R((Z,J)=>{if(J.flowchart?.htmlLabels!==!1){const Q=J.securityLevel;if(Q==="antiscript"||Q==="strict")Z=Zy(Z);else if(Q!=="loose")Z=Jy(Z),Z=Z.replace(/</g,"&lt;").replace(/>/g,"&gt;"),Z=Z.replace(/=/g,"&equals;"),Z=Uz0(Z)}return Z},"sanitizeMore"),u8=R((Z,J)=>{if(!Z)return Z;if(J.dompurifyConfig)Z=Iq.default.sanitize(hh(Z,J),J.dompurifyConfig).toString();else Z=Iq.default.sanitize(hh(Z,J),{FORBID_TAGS:["style"]}).toString();return Z},"sanitizeText"),Qz0=R((Z,J)=>{if(typeof Z==="string")return u8(Z,J);return Z.flat().map((Q)=>u8(Q,J))},"sanitizeTextOrArray"),Kz0=R((Z)=>{return OU.test(Z)},"hasBreaks"),Xz0=R((Z)=>{return Z.split(OU)},"splitBreaks"),Uz0=R((Z)=>{return Z.replace(/#br#/g,"<br/>")},"placeholderToBreak"),Jy=R((Z)=>{return Z.replace(OU,"#br#")},"breakToPlaceholder"),Yz0=R((Z)=>{let J="";if(Z)J=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,J=J.replaceAll(/\(/g,"\\("),J=J.replaceAll(/\)/g,"\\)");return J},"getUrl"),b8=R((Z)=>Z===!1||["false","null","0"].includes(String(Z).trim().toLowerCase())?!1:!0,"evaluate"),qz0=R(function(...Z){const J=Z.filter((Q)=>{return!isNaN(Q)});return Math.max(...J)},"getMax"),zz0=R(function(...Z){const J=Z.filter((Q)=>{return!isNaN(Q)});return Math.min(...J)},"getMin"),s5=R(function(Z){const J=Z.split(/(,)/),Q=[];for(let K=0;K<J.length;K++){let X=J[K];if(X===","&&K>0&&K+1<J.length){const U=J[K-1],Y=J[K+1];if(Gz0(U,Y))X=U+","+Y,K++,Q.pop()}Q.push(Hz0(X))}return Q.join("")},"parseGenericTypes"),_N=R((Z,J)=>{return Math.max(0,Z.split(J).length-1)},"countOccurrence"),Gz0=R((Z,J)=>{const Q=_N(Z,"~"),K=_N(J,"~");return Q===1&&K===1},"shouldCombineSets"),Hz0=R((Z)=>{const J=_N(Z,"~");let Q=!1;if(J<=1)return Z;if(J%2!==0&&Z.startsWith("~"))Z=Z.substring(1),Q=!0;const K=[...Z];let X=K.indexOf("~"),U=K.lastIndexOf("~");while(X!==-1&&U!==-1&&X!==U)K[X]="<",K[U]=">",X=K.indexOf("~"),U=K.lastIndexOf("~");if(Q)K.unshift("~");return K.join("")},"processSet"),yh=R(()=>window.MathMLElement!==void 0,"isMathMLSupported"),bN=/\$\$(.*)\$\$/g,PJ=R((Z)=>(Z.match(bN)?.length??0)>0,"hasKatex"),Nq=R(async(Z,J)=>{Z=await r5(Z,J);const Q=document.createElement("div");Q.innerHTML=Z,Q.id="katex-temp",Q.style.visibility="hidden",Q.style.position="absolute",Q.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",Q);const X={width:Q.clientWidth,height:Q.clientHeight};return Q.remove(),X},"calculateMathMLDimensions"),r5=R(async(Z,J)=>{if(!PJ(Z))return Z;if(!(yh()||J.legacyMathML||J.forceLegacyMathML))return Z.replace(bN,"MathML is unsupported in this environment.");const{default:Q}=await Promise.resolve().then(() => (bh(),_h)),K=J.forceLegacyMathML||!yh()&&J.legacyMathML?"htmlAndMathml":"mathml";return Z.split(OU).map((X)=>PJ(X)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${X}</div>`:`<div>${X}</div>`).join("").replace(bN,(X,U)=>Q.renderToString(U,{throwOnError:!0,displayMode:!0,output:K}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),g0={getRows:Zz0,sanitizeText:u8,sanitizeTextOrArray:Qz0,hasBreaks:Kz0,splitBreaks:Xz0,lineBreakRegex:OU,removeScript:Zy,getUrl:Yz0,evaluate:b8,getMax:qz0,getMin:zz0},Wz0=R(function(Z,J){for(let Q of J)Z.attr(Q[0],Q[1])},"d3Attrs"),Fz0=R(function(Z,J,Q){let K=new Map;if(Q)K.set("width","100%"),K.set("style",`max-width: ${J}px;`);else K.set("height",Z),K.set("width",J);return K},"calculateSvgSizeAttrs"),R8=R(function(Z,J,Q,K){const X=Fz0(J,Q,K);Wz0(Z,X)},"configureSvgSize"),gK=R(function(Z,J,Q,K){const X=J.node().getBBox(),U=X.width,Y=X.height;p.info(`SVG bounds: ${U}x${Y}`,X);let q=0,z=0;p.info(`Graph bounds: ${q}x${z}`,Z),q=U+Q*2,z=Y+Q*2,p.info(`Calculated bounds: ${q}x${z}`),R8(J,z,q,K);const G=`${X.x-Q} ${X.y-Q} ${X.width+2*Q} ${X.height+2*Q}`;J.attr("viewBox",G)},"setupGraphViewbox"),F2={},Mz0=R((Z,J,Q)=>{let K="";if(Z in F2&&F2[Z])K=F2[Z](Q);else p.warn(`No theme found for ${Z}`);return` & {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
    fill: ${Q.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${Q.errorBkgColor};
  }
  & .error-text {
    fill: ${Q.errorTextColor};
    stroke: ${Q.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${Q.lineColor};
    stroke: ${Q.lineColor};
  }
  & .marker.cross {
    stroke: ${Q.lineColor};
  }

  & svg {
    font-family: ${Q.fontFamily};
    font-size: ${Q.fontSize};
  }
   & p {
    margin: 0
   }

  ${K}

  ${J}
`},"getStyles"),Bz0=R((Z,J)=>{if(J!==void 0)F2[Z]=J},"addStylesForDiagram"),Qy=Mz0,L2={};xN(L2,{clear:()=>O8,getAccDescription:()=>k8,getAccTitle:()=>f8,getDiagramTitle:()=>m8,setAccDescription:()=>v8,setAccTitle:()=>E8,setDiagramTitle:()=>o8});dN=R((Z)=>u8(Z,a8()),"sanitizeText"),O8=R(()=>{pN="",lN="",cN=""},"clear"),E8=R((Z)=>{pN=dN(Z).replace(/^\s+/g,"")},"setAccTitle"),f8=R(()=>pN,"getAccTitle"),v8=R((Z)=>{lN=dN(Z).replace(/\n\s+/g,"\n")},"setAccDescription"),k8=R(()=>lN,"getAccDescription"),o8=R((Z)=>{cN=dN(Z)},"setDiagramTitle"),m8=R(()=>cN,"getDiagramTitle"),uh=p,Rz0=B2,W0=a8,iN=gN,I2=RU,Oz0=R((Z)=>u8(Z,W0()),"sanitizeText"),sN=gK,Az0=R(()=>{return L2},"getCommonDb"),M2={},pG=R((Z,J,Q)=>{if(M2[Z])uh.warn(`Diagram with id ${Z} already registered. Overwriting.`);if(M2[Z]=J,Q)ph(Z,Q);Bz0(Z,J.styles),J.injectUtils?.(uh,Rz0,W0,Oz0,sN,Az0(),()=>{})},"registerDiagram"),D2=R((Z)=>{if(Z in M2)return M2[Z];throw new Lz0(Z)},"getDiagram"),Lz0=class extends Error{static{R(this,"DiagramNotFoundError")}constructor(Z){super(`Diagram ${Z} not found.`)}}});function cG(Z,J){if(Z===void 0||J===void 0)return{angle:0,deltaX:0,deltaY:0};Z=N2(Z),J=N2(J);const[Q,K]=[Z.x,Z.y],[X,U]=[J.x,J.y],Y=X-Q,q=U-K;return{angle:Math.atan(q/Y),deltaX:Y,deltaY:q}}var xQ,n5,N2,E2;var f4=_(()=>{X8();xQ=R(({flowchart:Z})=>{const J=Z?.subGraphTitleMargin?.top??0,Q=Z?.subGraphTitleMargin?.bottom??0,K=J+Q;return{subGraphTitleTopMargin:J,subGraphTitleBottomMargin:Q,subGraphTitleTotalMargin:K}},"getSubGraphTitleMargins"),n5={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};R(cG,"calculateDeltaAndAngle");N2=R((Z)=>{if(Array.isArray(Z))return{x:Z[0],y:Z[1]};return Z},"pointTransformer"),E2=R((Z)=>{return{x:R(function(J,Q,K){let X=0;if(Q===0&&Object.hasOwn(n5,Z.arrowTypeStart)){const{angle:U,deltaX:Y}=cG(K[0],K[1]);X=n5[Z.arrowTypeStart]*Math.cos(U)*(Y>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(n5,Z.arrowTypeEnd)){const{angle:U,deltaX:Y}=cG(K[K.length-1],K[K.length-2]);X=n5[Z.arrowTypeEnd]*Math.cos(U)*(Y>=0?1:-1)}return N2(J).x+X},"x"),y:R(function(J,Q,K){let X=0;if(Q===0&&Object.hasOwn(n5,Z.arrowTypeStart)){const{angle:U,deltaY:Y}=cG(K[0],K[1]);X=n5[Z.arrowTypeStart]*Math.abs(Math.sin(U))*(Y>=0?1:-1)}else if(Q===K.length-1&&Object.hasOwn(n5,Z.arrowTypeEnd)){const{angle:U,deltaY:Y}=cG(K[K.length-1],K[K.length-2]);X=n5[Z.arrowTypeEnd]*Math.abs(Math.sin(U))*(Y>=0?1:-1)}return N2(J).y+X},"y")}},"getLineFunctionsWithOffset")});var Uy=i7((Ky)=>{Object.defineProperty(Ky,"__esModule",{value:!0});Ky.BLANK_URL=Ky.relativeFirstCharacters=Ky.whitespaceEscapeCharsRegex=Ky.urlSchemeRegex=Ky.ctrlCharactersRegex=Ky.htmlCtrlEntityRegex=Ky.htmlEntitiesRegex=Ky.invalidProtocolRegex=void 0;Ky.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Ky.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Ky.htmlCtrlEntityRegex=/&(newline|tab);/gi;Ky.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Ky.urlSchemeRegex=/^.+(:|&colon;)/gim;Ky.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Ky.relativeFirstCharacters=[".","/"];Ky.BLANK_URL="about:blank"});var Eq=i7((qy)=>{function Pz0(Z){return H7.relativeFirstCharacters.indexOf(Z[0])>-1}function Vz0(Z){var J=Z.replace(H7.ctrlCharactersRegex,"");return J.replace(H7.htmlEntitiesRegex,function(Q,K){return String.fromCharCode(K)})}function Sz0(Z){return URL.canParse(Z)}function Yy(Z){try{return decodeURIComponent(Z)}catch(J){return Z}}function Tz0(Z){if(!Z)return H7.BLANK_URL;var J,Q=Yy(Z.trim());do Q=Vz0(Q).replace(H7.htmlCtrlEntityRegex,"").replace(H7.ctrlCharactersRegex,"").replace(H7.whitespaceEscapeCharsRegex,"").trim(),Q=Yy(Q),J=Q.match(H7.ctrlCharactersRegex)||Q.match(H7.htmlEntitiesRegex)||Q.match(H7.htmlCtrlEntityRegex)||Q.match(H7.whitespaceEscapeCharsRegex);while(J&&J.length>0);var K=Q;if(!K)return H7.BLANK_URL;if(Pz0(K))return K;var X=K.trimStart(),U=X.match(H7.urlSchemeRegex);if(!U)return K;var Y=U[0].toLowerCase().trim();if(H7.invalidProtocolRegex.test(Y))return H7.BLANK_URL;var q=X.replace(/\\/g,"/");if(Y==="mailto:"||Y.includes("://"))return q;if(Y==="http:"||Y==="https:"){if(!Sz0(q))return H7.BLANK_URL;var z=new URL(q);return z.protocol=z.protocol.toLowerCase(),z.hostname=z.hostname.toLowerCase(),z.toString()}return q}Object.defineProperty(qy,"__esModule",{value:!0});qy.sanitizeUrl=void 0;var H7=Uy();qy.sanitizeUrl=Tz0});function AU(Z,J){return Z==null||J==null?NaN:Z<J?-1:Z>J?1:Z>=J?0:NaN}function rN(Z,J){return Z==null||J==null?NaN:J<Z?-1:J>Z?1:J>=Z?0:NaN}function fz0(){return 0}function LU(Z){let J,Q,K;if(Z.length!==2)J=AU,Q=(q,z)=>AU(Z(q),z),K=(q,z)=>Z(q)-z;else J=Z===AU||Z===rN?Z:fz0,Q=Z,K=Z;function X(q,z,G=0,H=q.length){if(G<H){if(J(z,z)!==0)return H;do{const W=G+H>>>1;if(Q(q[W],z)<0)G=W+1;else H=W}while(G<H)}return G}function U(q,z,G=0,H=q.length){if(G<H){if(J(z,z)!==0)return H;do{const W=G+H>>>1;if(Q(q[W],z)<=0)G=W+1;else H=W}while(G<H)}return G}function Y(q,z,G=0,H=q.length){const W=X(q,z,G,H-1);return W>G&&K(q[W-1],z)>-K(q[W],z)?W-1:W}return{left:X,center:Y,right:U}}var nN=()=>{};function aN(Z){return Z===null?NaN:+Z}var Gy,Hy,vz0,kz0,oN;var Wy=_(()=>{nN();Gy=LU(AU),Hy=Gy.right,vz0=Gy.left,kz0=LU(aN).center,oN=Hy});function Fy({_intern:Z,_key:J},Q){const K=J(Q);return Z.has(K)?Z.get(K):Q}function $z0({_intern:Z,_key:J},Q){const K=J(Q);if(Z.has(K))return Z.get(K);return Z.set(K,Q),Q}function _z0({_intern:Z,_key:J},Q){const K=J(Q);if(Z.has(K))Q=Z.get(K),Z.delete(K);return Q}function bz0(Z){return Z!==null&&typeof Z==="object"?Z.valueOf():Z}var lG;var My=_(()=>{lG=class lG extends Map{constructor(Z,J=bz0){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:J}}),Z!=null)for(let[Q,K]of Z)this.set(Q,K)}get(Z){return super.get(Fy(this,Z))}has(Z){return super.has(Fy(this,Z))}set(Z,J){return super.set($z0(this,Z),J)}delete(Z){return super.delete(_z0(this,Z))}}});function w2(Z,J,Q){const K=(J-Z)/Math.max(0,Q),X=Math.floor(Math.log10(K)),U=K/Math.pow(10,X),Y=U>=xz0?10:U>=hz0?5:U>=yz0?2:1;let q,z,G;if(X<0){if(G=Math.pow(10,-X)/Y,q=Math.round(Z*G),z=Math.round(J*G),q/G<Z)++q;if(z/G>J)--z;G=-G}else{if(G=Math.pow(10,X)*Y,q=Math.round(Z/G),z=Math.round(J/G),q*G<Z)++q;if(z*G>J)--z}if(z<q&&0.5<=Q&&Q<2)return w2(Z,J,Q*2);return[q,z,G]}function dG(Z,J,Q){return J=+J,Z=+Z,Q=+Q,w2(Z,J,Q)[2]}function wq(Z,J,Q){J=+J,Z=+Z,Q=+Q;const K=J<Z,X=K?dG(J,Z,Q):dG(Z,J,Q);return(K?-1:1)*(X<0?1/-X:X)}function j2(Z,J,Q){if(J=+J,Z=+Z,Q=+Q,!(Q>0))return[];if(Z===J)return[Z];const K=J<Z,[X,U,Y]=K?w2(J,Z,Q):w2(Z,J,Q);if(!(U>=X))return[];const q=U-X+1,z=new Array(q);if(K)if(Y<0)for(let G=0;G<q;++G)z[G]=(U-G)/-Y;else for(let G=0;G<q;++G)z[G]=(U-G)*Y;else if(Y<0)for(let G=0;G<q;++G)z[G]=(X+G)/-Y;else for(let G=0;G<q;++G)z[G]=(X+G)*Y;return z}var xz0,hz0,yz0;var By=_(()=>{xz0=Math.sqrt(50),hz0=Math.sqrt(10),yz0=Math.sqrt(2)});function C2(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q<X||Q===void 0&&X>=X))Q=X}return Q}function P2(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q>X||Q===void 0&&X>=X))Q=X}return Q}function V2(Z,J,Q){Z=+Z,J=+J,Q=(X=arguments.length)<2?(J=Z,Z=0,1):X<3?1:+Q;var K=-1,X=Math.max(0,Math.ceil((J-Z)/Q))|0,U=new Array(X);while(++K<X)U[K]=Z+K*Q;return U}var a5=_(()=>{Wy();nN();By();My()});function tN(Z){return Z}function uz0(Z){return"translate("+Z+",0)"}function mz0(Z){return"translate(0,"+Z+")"}function gz0(Z){return(J)=>+Z(J)}function pz0(Z,J){if(J=Math.max(0,Z.bandwidth()-J*2)/2,Z.round())J=Math.round(J);return(Q)=>+Z(Q)+J}function cz0(){return!this.__axis}function Oy(Z,J){var Q=[],K=null,X=null,U=6,Y=6,q=3,z=typeof window!=="undefined"&&window.devicePixelRatio>1?0:0.5,G=Z===T2||Z===S2?-1:1,H=Z===S2||Z===eN?"x":"y",W=Z===T2||Z===ZE?uz0:mz0;function F(M){var B=K==null?J.ticks?J.ticks.apply(J,Q):J.domain():K,O=X==null?J.tickFormat?J.tickFormat.apply(J,Q):tN:X,A=Math.max(U,0)+q,L=J.range(),I=+L[0]+z,D=+L[L.length-1]+z,w=(J.bandwidth?pz0:gz0)(J.copy(),z),N=M.selection?M.selection():M,E=N.selectAll(".domain").data([null]),j=N.selectAll(".tick").data(B,J).order(),P=j.exit(),C=j.enter().append("g").attr("class","tick"),T=j.select("line"),V=j.select("text");if(E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(C),T=T.merge(C.append("line").attr("stroke","currentColor").attr(H+"2",G*U)),V=V.merge(C.append("text").attr("fill","currentColor").attr(H,G*A).attr("dy",Z===T2?"0em":Z===ZE?"0.71em":"0.32em")),M!==N)E=E.transition(M),j=j.transition(M),T=T.transition(M),V=V.transition(M),P=P.transition(M).attr("opacity",Ry).attr("transform",function(S){return isFinite(S=w(S))?W(S+z):this.getAttribute("transform")}),C.attr("opacity",Ry).attr("transform",function(S){var $=this.parentNode.__axis;return W(($&&isFinite($=$(S))?$:w(S))+z)});P.remove(),E.attr("d",Z===S2||Z===eN?Y?"M"+G*Y+","+I+"H"+z+"V"+D+"H"+G*Y:"M"+z+","+I+"V"+D:Y?"M"+I+","+G*Y+"V"+z+"H"+D+"V"+G*Y:"M"+I+","+z+"H"+D),j.attr("opacity",1).attr("transform",function(S){return W(w(S)+z)}),T.attr(H+"2",G*U),V.attr(H,G*A).text(O),N.filter(cz0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",Z===eN?"start":Z===S2?"end":"middle"),N.each(function(){this.__axis=w})}return F.scale=function(M){return arguments.length?(J=M,F):J},F.ticks=function(){return Q=Array.from(arguments),F},F.tickArguments=function(M){return arguments.length?(Q=M==null?[]:Array.from(M),F):Q.slice()},F.tickValues=function(M){return arguments.length?(K=M==null?null:Array.from(M),F):K&&K.slice()},F.tickFormat=function(M){return arguments.length?(X=M,F):X},F.tickSize=function(M){return arguments.length?(U=Y=+M,F):U},F.tickSizeInner=function(M){return arguments.length?(U=+M,F):U},F.tickSizeOuter=function(M){return arguments.length?(Y=+M,F):Y},F.tickPadding=function(M){return arguments.length?(q=+M,F):q},F.offset=function(M){return arguments.length?(z=+M,F):z},F}function JE(Z){return Oy(T2,Z)}function QE(Z){return Oy(ZE,Z)}var T2=1,eN=2,ZE=3,S2=4,Ry=0.000001;var Ay=()=>{};var Ly=_(()=>{Ay()});function Dy(){for(var Z=0,J=arguments.length,Q={},K;Z<J;++Z){if(!(K=arguments[Z]+"")||K in Q||/[\s.]/.test(K))throw new Error("illegal type: "+K);Q[K]=[]}return new f2(Q)}function f2(Z){this._=Z}function dz0(Z,J){return Z.trim().split(/^|\s+/).map(function(Q){var K="",X=Q.indexOf(".");if(X>=0)K=Q.slice(X+1),Q=Q.slice(0,X);if(Q&&!J.hasOwnProperty(Q))throw new Error("unknown type: "+Q);return{type:Q,name:K}})}function iz0(Z,J){for(var Q=0,K=Z.length,X;Q<K;++Q)if((X=Z[Q]).name===J)return X.value}function Iy(Z,J,Q){for(var K=0,X=Z.length;K<X;++K)if(Z[K].name===J){Z[K]=lz0,Z=Z.slice(0,K).concat(Z.slice(K+1));break}if(Q!=null)Z.push({name:J,value:Q});return Z}var lz0,KE;var Ny=_(()=>{lz0={value:()=>{}};f2.prototype=Dy.prototype={constructor:f2,on:function(Z,J){var Q=this._,K=dz0(Z+"",Q),X,U=-1,Y=K.length;if(arguments.length<2){while(++U<Y)if((X=(Z=K[U]).type)&&(X=iz0(Q[X],Z.name)))return X;return}if(J!=null&&typeof J!=="function")throw new Error("invalid callback: "+J);while(++U<Y)if(X=(Z=K[U]).type)Q[X]=Iy(Q[X],Z.name,J);else if(J==null)for(X in Q)Q[X]=Iy(Q[X],Z.name,null);return this},copy:function(){var Z={},J=this._;for(var Q in J)Z[Q]=J[Q].slice();return new f2(Z)},call:function(Z,J){if((X=arguments.length-2)>0)for(var Q=new Array(X),K=0,X,U;K<X;++K)Q[K]=arguments[K+2];if(!this._.hasOwnProperty(Z))throw new Error("unknown type: "+Z);for(U=this._[Z],K=0,X=U.length;K<X;++K)U[K].value.apply(J,Q)},apply:function(Z,J,Q){if(!this._.hasOwnProperty(Z))throw new Error("unknown type: "+Z);for(var K=this._[Z],X=0,U=K.length;X<U;++X)K[X].value.apply(J,Q)}};KE=Dy});var XE=_(()=>{Ny()});var v2="http://www.w3.org/1999/xhtml",UE;var YE=_(()=>{UE={svg:"http://www.w3.org/2000/svg",xhtml:v2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function v4(Z){var J=Z+="",Q=J.indexOf(":");if(Q>=0&&(J=Z.slice(0,Q))!=="xmlns")Z=Z.slice(Q+1);return UE.hasOwnProperty(J)?{space:UE[J],local:Z}:Z}var k2=_(()=>{YE()});function sz0(Z){return function(){var J=this.ownerDocument,Q=this.namespaceURI;return Q===v2&&J.documentElement.namespaceURI===v2?J.createElement(Z):J.createElementNS(Q,Z)}}function rz0(Z){return function(){return this.ownerDocument.createElementNS(Z.space,Z.local)}}function iG(Z){var J=v4(Z);return(J.local?rz0:sz0)(J)}var qE=_(()=>{k2();YE()});function nz0(){}function o5(Z){return Z==null?nz0:function(){return this.querySelector(Z)}}function zE(Z){if(typeof Z!=="function")Z=o5(Z);for(var J=this._groups,Q=J.length,K=new Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=new Array(Y),z,G,H=0;H<Y;++H)if((z=U[H])&&(G=Z.call(z,z.__data__,H,U))){if("__data__"in z)G.__data__=z.__data__;q[H]=G}return new bZ(K,this._parents)}var Ey=_(()=>{hQ()});function GE(Z){return Z==null?[]:Array.isArray(Z)?Z:Array.from(Z)}function az0(){return[]}function jq(Z){return Z==null?az0:function(){return this.querySelectorAll(Z)}}function oz0(Z){return function(){return GE(Z.apply(this,arguments))}}function HE(Z){if(typeof Z==="function")Z=oz0(Z);else Z=jq(Z);for(var J=this._groups,Q=J.length,K=[],X=[],U=0;U<Q;++U)for(var Y=J[U],q=Y.length,z,G=0;G<q;++G)if(z=Y[G])K.push(Z.call(z,z.__data__,G,Y)),X.push(z);return new bZ(K,X)}var wy=_(()=>{hQ()});function $2(Z){return function(J){return J.matches(Z)}}function Cq(Z){return function(){return this.matches(Z)}}function ez0(Z){return function(){return tz0.call(this.children,Z)}}function ZG0(){return this.firstElementChild}function WE(Z){return this.select(Z==null?ZG0:ez0(typeof Z==="function"?Z:$2(Z)))}var tz0;var jy=_(()=>{tz0=Array.prototype.find});function QG0(){return Array.from(this.children)}function KG0(Z){return function(){return JG0.call(this.children,Z)}}function FE(Z){return this.selectAll(Z==null?QG0:KG0(typeof Z==="function"?Z:$2(Z)))}var JG0;var Cy=_(()=>{JG0=Array.prototype.filter});function ME(Z){if(typeof Z!=="function")Z=Cq(Z);for(var J=this._groups,Q=J.length,K=new Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=[],z,G=0;G<Y;++G)if((z=U[G])&&Z.call(z,z.__data__,G,U))q.push(z);return new bZ(K,this._parents)}var Py=_(()=>{hQ()});function sG(Z){return new Array(Z.length)}function rG(Z,J){this.ownerDocument=Z.ownerDocument,this.namespaceURI=Z.namespaceURI,this._next=null,this._parent=Z,this.__data__=J}function BE(){return new bZ(this._enter||this._groups.map(sG),this._parents)}var RE=_(()=>{hQ();rG.prototype={constructor:rG,appendChild:function(Z){return this._parent.insertBefore(Z,this._next)},insertBefore:function(Z,J){return this._parent.insertBefore(Z,J)},querySelector:function(Z){return this._parent.querySelector(Z)},querySelectorAll:function(Z){return this._parent.querySelectorAll(Z)}}});function OE(Z){return function(){return Z}}function XG0(Z,J,Q,K,X,U){var Y=0,q,z=J.length,G=U.length;for(;Y<G;++Y)if(q=J[Y])q.__data__=U[Y],K[Y]=q;else Q[Y]=new rG(Z,U[Y]);for(;Y<z;++Y)if(q=J[Y])X[Y]=q}function UG0(Z,J,Q,K,X,U,Y){var q,z,G=new Map,H=J.length,W=U.length,F=new Array(H),M;for(q=0;q<H;++q)if(z=J[q])if(F[q]=M=Y.call(z,z.__data__,q,J)+"",G.has(M))X[q]=z;else G.set(M,z);for(q=0;q<W;++q)if(M=Y.call(Z,U[q],q,U)+"",z=G.get(M))K[q]=z,z.__data__=U[q],G.delete(M);else Q[q]=new rG(Z,U[q]);for(q=0;q<H;++q)if((z=J[q])&&G.get(F[q])===z)X[q]=z}function YG0(Z){return Z.__data__}function qG0(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}function AE(Z,J){if(!arguments.length)return Array.from(this,YG0);var Q=J?UG0:XG0,K=this._parents,X=this._groups;if(typeof Z!=="function")Z=OE(Z);for(var U=X.length,Y=new Array(U),q=new Array(U),z=new Array(U),G=0;G<U;++G){var H=K[G],W=X[G],F=W.length,M=qG0(Z.call(H,H&&H.__data__,G,K)),B=M.length,O=q[G]=new Array(B),A=Y[G]=new Array(B),L=z[G]=new Array(F);Q(H,W,O,A,L,M,J);for(var I=0,D=0,w,N;I<B;++I)if(w=O[I]){if(I>=D)D=I+1;while(!(N=A[D])&&++D<B);w._next=N||null}}return Y=new bZ(Y,K),Y._enter=q,Y._exit=z,Y}var Vy=_(()=>{hQ();RE()});function LE(){return new bZ(this._exit||this._groups.map(sG),this._parents)}var Sy=_(()=>{hQ()});function IE(Z,J,Q){var K=this.enter(),X=this,U=this.exit();if(typeof Z==="function"){if(K=Z(K),K)K=K.selection()}else K=K.append(Z+"");if(J!=null){if(X=J(X),X)X=X.selection()}if(Q==null)U.remove();else Q(U);return K&&X?K.merge(X).order():X}function DE(Z){var J=Z.selection?Z.selection():Z;for(var Q=this._groups,K=J._groups,X=Q.length,U=K.length,Y=Math.min(X,U),q=new Array(X),z=0;z<Y;++z)for(var G=Q[z],H=K[z],W=G.length,F=q[z]=new Array(W),M,B=0;B<W;++B)if(M=G[B]||H[B])F[B]=M;for(;z<X;++z)q[z]=Q[z];return new bZ(q,this._parents)}var Ty=_(()=>{hQ()});function NE(){for(var Z=this._groups,J=-1,Q=Z.length;++J<Q;)for(var K=Z[J],X=K.length-1,U=K[X],Y;--X>=0;)if(Y=K[X]){if(U&&Y.compareDocumentPosition(U)^4)U.parentNode.insertBefore(Y,U);U=Y}return this}function zG0(Z,J){return Z<J?-1:Z>J?1:Z>=J?0:NaN}function EE(Z){if(!Z)Z=zG0;function J(W,F){return W&&F?Z(W.__data__,F.__data__):!W-!F}for(var Q=this._groups,K=Q.length,X=new Array(K),U=0;U<K;++U){for(var Y=Q[U],q=Y.length,z=X[U]=new Array(q),G,H=0;H<q;++H)if(G=Y[H])z[H]=G;z.sort(J)}return new bZ(X,this._parents).order()}var fy=_(()=>{hQ()});function wE(){var Z=arguments[0];return arguments[0]=this,Z.apply(null,arguments),this}function jE(){return Array.from(this)}function CE(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],X=0,U=K.length;X<U;++X){var Y=K[X];if(Y)return Y}return null}function PE(){let Z=0;for(let J of this)++Z;return Z}function VE(){return!this.node()}function SE(Z){for(var J=this._groups,Q=0,K=J.length;Q<K;++Q)for(var X=J[Q],U=0,Y=X.length,q;U<Y;++U)if(q=X[U])Z.call(q,q.__data__,U,X);return this}function GG0(Z){return function(){this.removeAttribute(Z)}}function HG0(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function WG0(Z,J){return function(){this.setAttribute(Z,J)}}function FG0(Z,J){return function(){this.setAttributeNS(Z.space,Z.local,J)}}function MG0(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttribute(Z);else this.setAttribute(Z,Q)}}function BG0(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)this.removeAttributeNS(Z.space,Z.local);else this.setAttributeNS(Z.space,Z.local,Q)}}function TE(Z,J){var Q=v4(Z);if(arguments.length<2){var K=this.node();return Q.local?K.getAttributeNS(Q.space,Q.local):K.getAttribute(Q)}return this.each((J==null?Q.local?HG0:GG0:typeof J==="function"?Q.local?BG0:MG0:Q.local?FG0:WG0)(Q,J))}var vy=_(()=>{k2()});function nG(Z){return Z.ownerDocument&&Z.ownerDocument.defaultView||Z.document&&Z||Z.defaultView}function RG0(Z){return function(){this.style.removeProperty(Z)}}function OG0(Z,J,Q){return function(){this.style.setProperty(Z,J,Q)}}function AG0(Z,J,Q){return function(){var K=J.apply(this,arguments);if(K==null)this.style.removeProperty(Z);else this.style.setProperty(Z,K,Q)}}function t5(Z,J){return Z.style.getPropertyValue(J)||nG(Z).getComputedStyle(Z,null).getPropertyValue(J)}function fE(Z,J,Q){return arguments.length>1?this.each((J==null?RG0:typeof J==="function"?AG0:OG0)(Z,J,Q==null?"":Q)):t5(this.node(),Z)}var vE=()=>{};function LG0(Z){return function(){delete this[Z]}}function IG0(Z,J){return function(){this[Z]=J}}function DG0(Z,J){return function(){var Q=J.apply(this,arguments);if(Q==null)delete this[Z];else this[Z]=Q}}function kE(Z,J){return arguments.length>1?this.each((J==null?LG0:typeof J==="function"?DG0:IG0)(Z,J)):this.node()[Z]}function ky(Z){return Z.trim().split(/^|\s+/)}function $E(Z){return Z.classList||new $y(Z)}function $y(Z){this._node=Z,this._names=ky(Z.getAttribute("class")||"")}function _y(Z,J){var Q=$E(Z),K=-1,X=J.length;while(++K<X)Q.add(J[K])}function by(Z,J){var Q=$E(Z),K=-1,X=J.length;while(++K<X)Q.remove(J[K])}function NG0(Z){return function(){_y(this,Z)}}function EG0(Z){return function(){by(this,Z)}}function wG0(Z,J){return function(){(J.apply(this,arguments)?_y:by)(this,Z)}}function _E(Z,J){var Q=ky(Z+"");if(arguments.length<2){var K=$E(this.node()),X=-1,U=Q.length;while(++X<U)if(!K.contains(Q[X]))return!1;return!0}return this.each((typeof J==="function"?wG0:J?NG0:EG0)(Q,J))}var xy=_(()=>{$y.prototype={add:function(Z){var J=this._names.indexOf(Z);if(J<0)this._names.push(Z),this._node.setAttribute("class",this._names.join(" "))},remove:function(Z){var J=this._names.indexOf(Z);if(J>=0)this._names.splice(J,1),this._node.setAttribute("class",this._names.join(" "))},contains:function(Z){return this._names.indexOf(Z)>=0}}});function jG0(){this.textContent=""}function CG0(Z){return function(){this.textContent=Z}}function PG0(Z){return function(){var J=Z.apply(this,arguments);this.textContent=J==null?"":J}}function bE(Z){return arguments.length?this.each(Z==null?jG0:(typeof Z==="function"?PG0:CG0)(Z)):this.node().textContent}function VG0(){this.innerHTML=""}function SG0(Z){return function(){this.innerHTML=Z}}function TG0(Z){return function(){var J=Z.apply(this,arguments);this.innerHTML=J==null?"":J}}function xE(Z){return arguments.length?this.each(Z==null?VG0:(typeof Z==="function"?TG0:SG0)(Z)):this.node().innerHTML}function fG0(){if(this.nextSibling)this.parentNode.appendChild(this)}function hE(){return this.each(fG0)}function vG0(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yE(){return this.each(vG0)}function uE(Z){var J=typeof Z==="function"?Z:iG(Z);return this.select(function(){return this.appendChild(J.apply(this,arguments))})}var hy=_(()=>{qE()});function kG0(){return null}function mE(Z,J){var Q=typeof Z==="function"?Z:iG(Z),K=J==null?kG0:typeof J==="function"?J:o5(J);return this.select(function(){return this.insertBefore(Q.apply(this,arguments),K.apply(this,arguments)||null)})}var yy=_(()=>{qE()});function $G0(){var Z=this.parentNode;if(Z)Z.removeChild(this)}function gE(){return this.each($G0)}function _G0(){var Z=this.cloneNode(!1),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function bG0(){var Z=this.cloneNode(!0),J=this.parentNode;return J?J.insertBefore(Z,this.nextSibling):Z}function pE(Z){return this.select(Z?bG0:_G0)}function cE(Z){return arguments.length?this.property("__data__",Z):this.node().__data__}function xG0(Z){return function(J){Z.call(this,J,this.__data__)}}function hG0(Z){return Z.trim().split(/^|\s+/).map(function(J){var Q="",K=J.indexOf(".");if(K>=0)Q=J.slice(K+1),J=J.slice(0,K);return{type:J,name:Q}})}function yG0(Z){return function(){var J=this.__on;if(!J)return;for(var Q=0,K=-1,X=J.length,U;Q<X;++Q)if(U=J[Q],(!Z.type||U.type===Z.type)&&U.name===Z.name)this.removeEventListener(U.type,U.listener,U.options);else J[++K]=U;if(++K)J.length=K;else delete this.__on}}function uG0(Z,J,Q){return function(){var K=this.__on,X,U=xG0(J);if(K){for(var Y=0,q=K.length;Y<q;++Y)if((X=K[Y]).type===Z.type&&X.name===Z.name){this.removeEventListener(X.type,X.listener,X.options),this.addEventListener(X.type,X.listener=U,X.options=Q),X.value=J;return}}if(this.addEventListener(Z.type,U,Q),X={type:Z.type,name:Z.name,value:J,listener:U,options:Q},!K)this.__on=[X];else K.push(X)}}function lE(Z,J,Q){var K=hG0(Z+""),X,U=K.length,Y;if(arguments.length<2){var q=this.node().__on;if(q){for(var z=0,G=q.length,H;z<G;++z)for(X=0,H=q[z];X<U;++X)if((Y=K[X]).type===H.type&&Y.name===H.name)return H.value}return}q=J?uG0:yG0;for(X=0;X<U;++X)this.each(q(K[X],J,Q));return this}function uy(Z,J,Q){var K=nG(Z),X=K.CustomEvent;if(typeof X==="function")X=new X(J,Q);else if(X=K.document.createEvent("Event"),Q)X.initEvent(J,Q.bubbles,Q.cancelable),X.detail=Q.detail;else X.initEvent(J,!1,!1);Z.dispatchEvent(X)}function mG0(Z,J){return function(){return uy(this,Z,J)}}function gG0(Z,J){return function(){return uy(this,Z,J.apply(this,arguments))}}function dE(Z,J){return this.each((typeof J==="function"?gG0:mG0)(Z,J))}var my=()=>{};function*iE(){for(var Z=this._groups,J=0,Q=Z.length;J<Q;++J)for(var K=Z[J],X=0,U=K.length,Y;X<U;++X)if(Y=K[X])yield Y}function bZ(Z,J){this._groups=Z,this._parents=J}function gy(){return new bZ([[document.documentElement]],sE)}function pG0(){return this}var sE,pK;var hQ=_(()=>{Ey();wy();jy();Cy();Py();Vy();RE();Sy();Ty();fy();vy();vE();xy();hy();yy();my();sE=[null];bZ.prototype=gy.prototype={constructor:bZ,select:zE,selectAll:HE,selectChild:WE,selectChildren:FE,filter:ME,data:AE,enter:BE,exit:LE,join:IE,merge:DE,selection:pG0,order:NE,sort:EE,call:wE,nodes:jE,node:CE,size:PE,empty:VE,each:SE,attr:TE,style:fE,property:kE,classed:_E,text:bE,html:xE,raise:hE,lower:yE,append:uE,insert:mE,remove:gE,clone:pE,datum:cE,on:lE,dispatch:dE,[Symbol.iterator]:iE};pK=gy});function $0(Z){return typeof Z==="string"?new bZ([[document.querySelector(Z)]],[document.documentElement]):new bZ([[Z]],sE)}var py=_(()=>{hQ()});var yQ=_(()=>{k2();py();hQ();vE()});var cy=()=>{};function Pq(Z,J){var Q=Object.create(Z.prototype);for(var K in J)Q[K]=J[K];return Q}function e5(Z,J,Q){Z.prototype=J.prototype=Q,Q.constructor=Z}function ZX(){}function dy(){return this.rgb().formatHex()}function aG0(){return this.rgb().formatHex8()}function oG0(){return ty(this).formatHsl()}function iy(){return this.rgb().formatRgb()}function sy(Z){return new uJ(Z>>16&255,Z>>8&255,Z&255,1)}function _2(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;return new uJ(Z,J,Q,K)}function nE(Z){if(!(Z instanceof ZX))Z=mQ(Z);if(!Z)return new uJ;return Z=Z.rgb(),new uJ(Z.r,Z.g,Z.b,Z.opacity)}function Sq(Z,J,Q,K){return arguments.length===1?nE(Z):new uJ(Z,J,Q,K==null?1:K)}function uJ(Z,J,Q,K){this.r=+Z,this.g=+J,this.b=+Q,this.opacity=+K}function ry(){return`#${IU(this.r)}${IU(this.g)}${IU(this.b)}`}function tG0(){return`#${IU(this.r)}${IU(this.g)}${IU(this.b)}${IU((isNaN(this.opacity)?1:this.opacity)*255)}`}function ny(){const Z=h2(this.opacity);return`${Z===1?"rgb(":"rgba("}${DU(this.r)}, ${DU(this.g)}, ${DU(this.b)}${Z===1?")":`, ${Z})`}`}function h2(Z){return isNaN(Z)?1:Math.max(0,Math.min(1,Z))}function DU(Z){return Math.max(0,Math.min(255,Math.round(Z)||0))}function IU(Z){return Z=DU(Z),(Z<16?"0":"")+Z.toString(16)}function ay(Z,J,Q,K){if(K<=0)Z=J=Q=NaN;else if(Q<=0||Q>=1)Z=J=NaN;else if(J<=0)Z=NaN;return new uQ(Z,J,Q,K)}function ty(Z){if(Z instanceof uQ)return new uQ(Z.h,Z.s,Z.l,Z.opacity);if(!(Z instanceof ZX))Z=mQ(Z);if(!Z)return new uQ;if(Z instanceof uQ)return Z;Z=Z.rgb();var J=Z.r/255,Q=Z.g/255,K=Z.b/255,X=Math.min(J,Q,K),U=Math.max(J,Q,K),Y=NaN,q=U-X,z=(U+X)/2;if(q){if(J===U)Y=(Q-K)/q+(Q<K)*6;else if(Q===U)Y=(K-J)/q+2;else Y=(J-Q)/q+4;q/=z<0.5?U+X:2-U-X,Y*=60}else q=z>0&&z<1?0:Y;return new uQ(Y,q,z,Z.opacity)}function ey(Z,J,Q,K){return arguments.length===1?ty(Z):new uQ(Z,J,Q,K==null?1:K)}function uQ(Z,J,Q,K){this.h=+Z,this.s=+J,this.l=+Q,this.opacity=+K}function oy(Z){return Z=(Z||0)%360,Z<0?Z+360:Z}function b2(Z){return Math.max(0,Math.min(1,Z||0))}function rE(Z,J,Q){return(Z<60?J+(Q-J)*Z/60:Z<180?Q:Z<240?J+(Q-J)*(240-Z)/60:J)*255}function mQ(Z){var J,Q;return Z=(Z+"").trim().toLowerCase(),(J=cG0.exec(Z))?(Q=J[1].length,J=parseInt(J[1],16),Q===6?sy(J):Q===3?new uJ(J>>8&15|J>>4&240,J>>4&15|J&240,(J&15)<<4|J&15,1):Q===8?_2(J>>24&255,J>>16&255,J>>8&255,(J&255)/255):Q===4?_2(J>>12&15|J>>8&240,J>>8&15|J>>4&240,J>>4&15|J&240,((J&15)<<4|J&15)/255):null):(J=lG0.exec(Z))?new uJ(J[1],J[2],J[3],1):(J=dG0.exec(Z))?new uJ(J[1]*255/100,J[2]*255/100,J[3]*255/100,1):(J=iG0.exec(Z))?_2(J[1],J[2],J[3],J[4]):(J=sG0.exec(Z))?_2(J[1]*255/100,J[2]*255/100,J[3]*255/100,J[4]):(J=rG0.exec(Z))?ay(J[1],J[2]/100,J[3]/100,1):(J=nG0.exec(Z))?ay(J[1],J[2]/100,J[3]/100,J[4]):ly.hasOwnProperty(Z)?sy(ly[Z]):Z==="transparent"?new uJ(NaN,NaN,NaN,0):null}var aG=0.7,x2,Vq="\\s*([+-]?\\d+)\\s*",oG="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",k4="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cG0,lG0,dG0,iG0,sG0,rG0,nG0,ly;var aE=_(()=>{x2=1/aG,cG0=/^#([0-9a-f]{3,8})$/,lG0=new RegExp(`^rgb\\(${Vq},${Vq},${Vq}\\)\$`),dG0=new RegExp(`^rgb\\(${k4},${k4},${k4}\\)\$`),iG0=new RegExp(`^rgba\\(${Vq},${Vq},${Vq},${oG}\\)\$`),sG0=new RegExp(`^rgba\\(${k4},${k4},${k4},${oG}\\)\$`),rG0=new RegExp(`^hsl\\(${oG},${k4},${k4}\\)\$`),nG0=new RegExp(`^hsla\\(${oG},${k4},${k4},${oG}\\)\$`),ly={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e5(ZX,mQ,{copy(Z){return Object.assign(new this.constructor,this,Z)},displayable(){return this.rgb().displayable()},hex:dy,formatHex:dy,formatHex8:aG0,formatHsl:oG0,formatRgb:iy,toString:iy});e5(uJ,Sq,Pq(ZX,{brighter(Z){return Z=Z==null?x2:Math.pow(x2,Z),new uJ(this.r*Z,this.g*Z,this.b*Z,this.opacity)},darker(Z){return Z=Z==null?aG:Math.pow(aG,Z),new uJ(this.r*Z,this.g*Z,this.b*Z,this.opacity)},rgb(){return this},clamp(){return new uJ(DU(this.r),DU(this.g),DU(this.b),h2(this.opacity))},displayable(){return-0.5<=this.r&&this.r<255.5&&(-0.5<=this.g&&this.g<255.5)&&(-0.5<=this.b&&this.b<255.5)&&(0<=this.opacity&&this.opacity<=1)},hex:ry,formatHex:ry,formatHex8:tG0,formatRgb:ny,toString:ny}));e5(uQ,ey,Pq(ZX,{brighter(Z){return Z=Z==null?x2:Math.pow(x2,Z),new uQ(this.h,this.s,this.l*Z,this.opacity)},darker(Z){return Z=Z==null?aG:Math.pow(aG,Z),new uQ(this.h,this.s,this.l*Z,this.opacity)},rgb(){var Z=this.h%360+(this.h<0)*360,J=isNaN(Z)||isNaN(this.s)?0:this.s,Q=this.l,K=Q+(Q<0.5?Q:1-Q)*J,X=2*Q-K;return new uJ(rE(Z>=240?Z-240:Z+120,X,K),rE(Z,X,K),rE(Z<120?Z+240:Z-120,X,K),this.opacity)},clamp(){return new uQ(oy(this.h),b2(this.s),b2(this.l),h2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)},formatHsl(){const Z=h2(this.opacity);return`${Z===1?"hsl(":"hsla("}${oy(this.h)}, ${b2(this.s)*100}%, ${b2(this.l)*100}%${Z===1?")":`, ${Z})`}`}}))});var Zu,Ju;var Qu=_(()=>{Zu=Math.PI/180,Ju=180/Math.PI});function zu(Z){if(Z instanceof $4)return new $4(Z.l,Z.a,Z.b,Z.opacity);if(Z instanceof cK)return Gu(Z);if(!(Z instanceof uJ))Z=nE(Z);var J=Zw(Z.r),Q=Zw(Z.g),K=Zw(Z.b),X=oE((0.2225045*J+0.7168786*Q+0.0606169*K)/Xu),U,Y;if(J===Q&&Q===K)U=Y=X;else U=oE((0.4360747*J+0.3850649*Q+0.1430804*K)/Ku),Y=oE((0.0139322*J+0.0971045*Q+0.7141733*K)/Uu);return new $4(116*X-16,500*(U-X),200*(X-Y),Z.opacity)}function $4(Z,J,Q,K){this.l=+Z,this.a=+J,this.b=+Q,this.opacity=+K}function oE(Z){return Z>eG0?Math.pow(Z,0.3333333333333333):Z/qu+Yu}function tE(Z){return Z>Tq?Z*Z*Z:qu*(Z-Yu)}function eE(Z){return 255*(Z<=0.0031308?12.92*Z:1.055*Math.pow(Z,0.4166666666666667)-0.055)}function Zw(Z){return(Z/=255)<=0.04045?Z/12.92:Math.pow((Z+0.055)/1.055,2.4)}function ZH0(Z){if(Z instanceof cK)return new cK(Z.h,Z.c,Z.l,Z.opacity);if(!(Z instanceof $4))Z=zu(Z);if(Z.a===0&&Z.b===0)return new cK(NaN,0<Z.l&&Z.l<100?0:NaN,Z.l,Z.opacity);var J=Math.atan2(Z.b,Z.a)*Ju;return new cK(J<0?J+360:J,Math.sqrt(Z.a*Z.a+Z.b*Z.b),Z.l,Z.opacity)}function tG(Z,J,Q,K){return arguments.length===1?ZH0(Z):new cK(Z,J,Q,K==null?1:K)}function cK(Z,J,Q,K){this.h=+Z,this.c=+J,this.l=+Q,this.opacity=+K}function Gu(Z){if(isNaN(Z.h))return new $4(Z.l,0,0,Z.opacity);var J=Z.h*Zu;return new $4(Z.l,Math.cos(J)*Z.c,Math.sin(J)*Z.c,Z.opacity)}function Jw(Z,J,Q,K){return arguments.length===1?zu(Z):new $4(Z,J,Q,K==null?1:K)}var y2=18,Ku=0.96422,Xu=1,Uu=0.82521,Yu=0.13793103448275862,Tq=0.20689655172413793,qu,eG0;var Hu=_(()=>{aE();Qu();qu=3*Tq*Tq,eG0=Tq*Tq*Tq;e5($4,Jw,Pq(ZX,{brighter(Z){return new $4(this.l+y2*(Z==null?1:Z),this.a,this.b,this.opacity)},darker(Z){return new $4(this.l-y2*(Z==null?1:Z),this.a,this.b,this.opacity)},rgb(){var Z=(this.l+16)/116,J=isNaN(this.a)?Z:Z+this.a/500,Q=isNaN(this.b)?Z:Z-this.b/200;return J=Ku*tE(J),Z=Xu*tE(Z),Q=Uu*tE(Q),new uJ(eE(3.1338561*J-1.6168667*Z-0.4906146*Q),eE(-0.9787684*J+1.9161415*Z+0.033454*Q),eE(0.0719453*J-0.2289914*Z+1.4052427*Q),this.opacity)}}));e5(cK,tG,Pq(ZX,{brighter(Z){return new cK(this.h,this.c,this.l+y2*(Z==null?1:Z),this.opacity)},darker(Z){return new cK(this.h,this.c,this.l-y2*(Z==null?1:Z),this.opacity)},rgb(){return Gu(this).rgb()}}))});var fq=_(()=>{aE();Hu()});function Qw(Z,J,Q,K,X){var U=Z*Z,Y=U*Z;return((1-3*Z+3*U-Y)*J+(4-6*U+3*Y)*Q+(1+3*Z+3*U-3*Y)*K+Y*X)/6}function Kw(Z){var J=Z.length-1;return function(Q){var K=Q<=0?Q=0:Q>=1?(Q=1,J-1):Math.floor(Q*J),X=Z[K],U=Z[K+1],Y=K>0?Z[K-1]:2*X-U,q=K<J-1?Z[K+2]:2*U-X;return Qw((Q-K/J)*J,Y,X,U,q)}}function Xw(Z){var J=Z.length;return function(Q){var K=Math.floor(((Q%=1)<0?++Q:Q)*J),X=Z[(K+J-1)%J],U=Z[K%J],Y=Z[(K+1)%J],q=Z[(K+2)%J];return Qw((Q-K/J)*J,X,U,Y,q)}}var Wu=()=>{};var vq=(Z)=>()=>Z;function Fu(Z,J){return function(Q){return Z+Q*J}}function JH0(Z,J,Q){return Z=Math.pow(Z,Q),J=Math.pow(J,Q)-Z,Q=1/Q,function(K){return Math.pow(Z+K*J,Q)}}function Mu(Z,J){var Q=J-Z;return Q?Fu(Z,Q>180||Q<-180?Q-360*Math.round(Q/360):Q):vq(isNaN(Z)?J:Z)}function Bu(Z){return(Z=+Z)===1?lK:function(J,Q){return Q-J?JH0(J,Q,Z):vq(isNaN(J)?Q:J)}}function lK(Z,J){var Q=J-Z;return Q?Fu(Z,Q):vq(isNaN(Z)?J:Z)}var Uw=()=>{};function Ru(Z){return function(J){var Q=J.length,K=new Array(Q),X=new Array(Q),U=new Array(Q),Y,q;for(Y=0;Y<Q;++Y)q=Sq(J[Y]),K[Y]=q.r||0,X[Y]=q.g||0,U[Y]=q.b||0;return K=Z(K),X=Z(X),U=Z(U),q.opacity=1,function(z){return q.r=K(z),q.g=X(z),q.b=U(z),q+""}}}var NU,QH0,KH0;var Yw=_(()=>{fq();Wu();Uw();NU=function Z(J){var Q=Bu(J);function K(X,U){var Y=Q((X=Sq(X)).r,(U=Sq(U)).r),q=Q(X.g,U.g),z=Q(X.b,U.b),G=lK(X.opacity,U.opacity);return function(H){return X.r=Y(H),X.g=q(H),X.b=z(H),X.opacity=G(H),X+""}}return K.gamma=Z,K}(1),QH0=Ru(Kw),KH0=Ru(Xw)});function Ou(Z){return ArrayBuffer.isView(Z)&&!(Z instanceof DataView)}function qw(Z,J){if(!J)J=[];var Q=Z?Math.min(J.length,Z.length):0,K=J.slice(),X;return function(U){for(X=0;X<Q;++X)K[X]=Z[X]*(1-U)+J[X]*U;return K}}function Au(Z,J){var Q=J?J.length:0,K=Z?Math.min(Q,Z.length):0,X=new Array(K),U=new Array(Q),Y;for(Y=0;Y<K;++Y)X[Y]=JX(Z[Y],J[Y]);for(;Y<Q;++Y)U[Y]=J[Y];return function(q){for(Y=0;Y<K;++Y)U[Y]=X[Y](q);return U}}var Lu=_(()=>{u2()});function zw(Z,J){var Q=new Date;return Z=+Z,J=+J,function(K){return Q.setTime(Z*(1-K)+J*K),Q}}function VJ(Z,J){return Z=+Z,J=+J,function(Q){return Z*(1-Q)+J*Q}}function Gw(Z,J){var Q={},K={},X;if(Z===null||typeof Z!=="object")Z={};if(J===null||typeof J!=="object")J={};for(X in J)if(X in Z)Q[X]=JX(Z[X],J[X]);else K[X]=J[X];return function(U){for(X in Q)K[X]=Q[X](U);return K}}var Iu=_(()=>{u2()});function XH0(Z){return function(){return Z}}function UH0(Z){return function(J){return Z(J)+""}}function kq(Z,J){var Q=Ww.lastIndex=Hw.lastIndex=0,K,X,U,Y=-1,q=[],z=[];Z=Z+"",J=J+"";while((K=Ww.exec(Z))&&(X=Hw.exec(J))){if((U=X.index)>Q)if(U=J.slice(Q,U),q[Y])q[Y]+=U;else q[++Y]=U;if((K=K[0])===(X=X[0]))if(q[Y])q[Y]+=X;else q[++Y]=X;else q[++Y]=null,z.push({i:Y,x:VJ(K,X)});Q=Hw.lastIndex}if(Q<J.length)if(U=J.slice(Q),q[Y])q[Y]+=U;else q[++Y]=U;return q.length<2?z[0]?UH0(z[0].x):XH0(J):(J=z.length,function(G){for(var H=0,W;H<J;++H)q[(W=z[H]).i]=W.x(G);return q.join("")})}var Ww,Hw;var Fw=_(()=>{Ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hw=new RegExp(Ww.source,"g")});function JX(Z,J){var Q=typeof J,K;return J==null||Q==="boolean"?vq(J):(Q==="number"?VJ:Q==="string"?(K=mQ(J))?(J=K,NU):kq:J instanceof mQ?NU:J instanceof Date?zw:Ou(J)?qw:Array.isArray(J)?Au:typeof J.valueOf!=="function"&&typeof J.toString!=="function"||isNaN(J)?Gw:VJ)(Z,J)}var u2=_(()=>{fq();Yw();Lu();Iu();Fw()});function m2(Z,J){return Z=+Z,J=+J,function(Q){return Math.round(Z*(1-Q)+J*Q)}}function p2(Z,J,Q,K,X,U){var Y,q,z;if(Y=Math.sqrt(Z*Z+J*J))Z/=Y,J/=Y;if(z=Z*Q+J*K)Q-=Z*z,K-=J*z;if(q=Math.sqrt(Q*Q+K*K))Q/=q,K/=q,z/=q;if(Z*K<J*Q)Z=-Z,J=-J,z=-z,Y=-Y;return{translateX:X,translateY:U,rotate:Math.atan2(J,Z)*Du,skewX:Math.atan(z)*Du,scaleX:Y,scaleY:q}}var Du,g2;var Nu=_(()=>{Du=180/Math.PI,g2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function Eu(Z){const J=new(typeof DOMMatrix==="function"?DOMMatrix:WebKitCSSMatrix)(Z+"");return J.isIdentity?g2:p2(J.a,J.b,J.c,J.d,J.e,J.f)}function wu(Z){if(Z==null)return g2;if(!c2)c2=document.createElementNS("http://www.w3.org/2000/svg","g");if(c2.setAttribute("transform",Z),!(Z=c2.transform.baseVal.consolidate()))return g2;return Z=Z.matrix,p2(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)}var c2;var ju=_(()=>{Nu()});function Cu(Z,J,Q,K){function X(G){return G.length?G.pop()+" ":""}function U(G,H,W,F,M,B){if(G!==W||H!==F){var O=M.push("translate(",null,J,null,Q);B.push({i:O-4,x:VJ(G,W)},{i:O-2,x:VJ(H,F)})}else if(W||F)M.push("translate("+W+J+F+Q)}function Y(G,H,W,F){if(G!==H){if(G-H>180)H+=360;else if(H-G>180)G+=360;F.push({i:W.push(X(W)+"rotate(",null,K)-2,x:VJ(G,H)})}else if(H)W.push(X(W)+"rotate("+H+K)}function q(G,H,W,F){if(G!==H)F.push({i:W.push(X(W)+"skewX(",null,K)-2,x:VJ(G,H)});else if(H)W.push(X(W)+"skewX("+H+K)}function z(G,H,W,F,M,B){if(G!==W||H!==F){var O=M.push(X(M)+"scale(",null,",",null,")");B.push({i:O-4,x:VJ(G,W)},{i:O-2,x:VJ(H,F)})}else if(W!==1||F!==1)M.push(X(M)+"scale("+W+","+F+")")}return function(G,H){var W=[],F=[];return G=Z(G),H=Z(H),U(G.translateX,G.translateY,H.translateX,H.translateY,W,F),Y(G.rotate,H.rotate,W,F),q(G.skewX,H.skewX,W,F),z(G.scaleX,G.scaleY,H.scaleX,H.scaleY,W,F),G=H=null,function(M){var B=-1,O=F.length,A;while(++B<O)W[(A=F[B]).i]=A.x(M);return W.join("")}}}var Mw,Bw;var Pu=_(()=>{ju();Mw=Cu(Eu,"px, ","px)","deg)"),Bw=Cu(wu,", ",")",")")});function Vu(Z){return function(J,Q){var K=Z((J=tG(J)).h,(Q=tG(Q)).h),X=lK(J.c,Q.c),U=lK(J.l,Q.l),Y=lK(J.opacity,Q.opacity);return function(q){return J.h=K(q),J.c=X(q),J.l=U(q),J.opacity=Y(q),J+""}}}var Rw,YH0;var Su=_(()=>{fq();Uw();Rw=Vu(Mu),YH0=Vu(lK)});var $q=_(()=>{u2();Fw();Pu();Yw();Su()});function XH(){return EU||(vu(qH0),EU=QH.now()+i2)}function qH0(){EU=0}function KH(){this._call=this._time=this._next=null}function s2(Z,J,Q){var K=new KH;return K.restart(Z,J,Q),K}function ku(){XH(),++_q;var Z=l2,J;while(Z){if((J=EU-Z._time)>=0)Z._call.call(void 0,J);Z=Z._next}--_q}function Tu(){EU=(d2=QH.now())+i2,_q=ZH=0;try{ku()}finally{_q=0,GH0(),EU=0}}function zH0(){var Z=QH.now(),J=Z-d2;if(J>fu)i2-=J,d2=Z}function GH0(){var Z,J=l2,Q,K=1/0;while(J)if(J._call){if(K>J._time)K=J._time;Z=J,J=J._next}else Q=J._next,J._next=null,J=Z?Z._next=Q:l2=Q;JH=Z,Ow(K)}function Ow(Z){if(_q)return;if(ZH)ZH=clearTimeout(ZH);var J=Z-EU;if(J>24){if(Z<1/0)ZH=setTimeout(Tu,Z-QH.now()-i2);if(eG)eG=clearInterval(eG)}else{if(!eG)d2=QH.now(),eG=setInterval(zH0,fu);_q=1,vu(Tu)}}var _q=0,ZH=0,eG=0,fu=1000,l2=1000,JH=1000,d2=0,EU=0,i2=0,QH,vu;var Aw=_(()=>{QH=typeof performance==="object"&&performance.now?performance:Date,vu=typeof window==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Z){setTimeout(Z,17)};KH.prototype=s2.prototype={constructor:KH,restart:function(Z,J,Q){if(typeof Z!=="function")throw new TypeError("callback is not a function");if(Q=(Q==null?XH():+Q)+(J==null?0:+J),!this._next&&JH!==this){if(JH)JH._next=this;else l2=this;JH=this}this._call=Z,this._time=Q,Ow()},stop:function(){if(this._call)this._call=null,this._time=1/0,Ow()}}});function UH(Z,J,Q){var K=new KH;return J=J==null?0:+J,K.restart((X)=>{K.stop(),Z(X+J)},J,Q),K}var $u=_(()=>{Aw()});var r2=_(()=>{Aw();$u()});function qH(Z,J){var Q=WJ(Z,J);if(Q.state>xu)throw new Error("too late; already scheduled");return Q}function mJ(Z,J){var Q=WJ(Z,J);if(Q.state>n2)throw new Error("too late; already running");return Q}function WJ(Z,J){var Q=Z.__transition;if(!Q||!(Q=Q[J]))throw new Error("transition not found");return Q}function FH0(Z,J,Q){var K=Z.__transition,X;K[J]=Q,Q.timer=s2(U,0,Q.time);function U(G){if(Q.state=_u,Q.timer.restart(Y,Q.delay,Q.time),Q.delay<=G)Y(G-Q.delay)}function Y(G){var H,W,F,M;if(Q.state!==_u)return z();for(H in K){if(M=K[H],M.name!==Q.name)continue;if(M.state===n2)return UH(Y);if(M.state===bu)M.state=YH,M.timer.stop(),M.on.call("interrupt",Z,Z.__data__,M.index,M.group),delete K[H];else if(+H<J)M.state=YH,M.timer.stop(),M.on.call("cancel",Z,Z.__data__,M.index,M.group),delete K[H]}if(UH(function(){if(Q.state===n2)Q.state=bu,Q.timer.restart(q,Q.delay,Q.time),q(G)}),Q.state=a2,Q.on.call("start",Z,Z.__data__,Q.index,Q.group),Q.state!==a2)return;Q.state=n2,X=new Array(F=Q.tween.length);for(H=0,W=-1;H<F;++H)if(M=Q.tween[H].value.call(Z,Z.__data__,Q.index,Q.group))X[++W]=M;X.length=W+1}function q(G){var H=G<Q.duration?Q.ease.call(null,G/Q.duration):(Q.timer.restart(z),Q.state=o2,1),W=-1,F=X.length;while(++W<F)X[W].call(Z,H);if(Q.state===o2)Q.on.call("end",Z,Z.__data__,Q.index,Q.group),z()}function z(){Q.state=YH,Q.timer.stop(),delete K[J];for(var G in K)return;delete Z.__transition}}function dK(Z,J,Q,K,X,U){var Y=Z.__transition;if(!Y)Z.__transition={};else if(Q in Y)return;FH0(Z,Q,{name:J,index:K,group:X,on:HH0,tween:WH0,time:U.time,delay:U.delay,duration:U.duration,ease:U.ease,timer:null,state:xu})}var HH0,WH0,xu=0,_u=1,a2=2,n2=3,bu=4,o2=5,YH=6;var a7=_(()=>{XE();r2();HH0=KE("start","end","cancel","interrupt"),WH0=[]});function zH(Z,J){var Q=Z.__transition,K,X,U=!0,Y;if(!Q)return;J=J==null?null:J+"";for(Y in Q){if((K=Q[Y]).name!==J){U=!1;continue}X=K.state>a2&&K.state<o2,K.state=YH,K.timer.stop(),K.on.call(X?"interrupt":"cancel",Z,Z.__data__,K.index,K.group),delete Q[Y]}if(U)delete Z.__transition}var hu=_(()=>{a7()});function Lw(Z){return this.each(function(){zH(this,Z)})}var yu=_(()=>{hu()});function MH0(Z,J){var Q,K;return function(){var X=mJ(this,Z),U=X.tween;if(U!==Q){K=Q=U;for(var Y=0,q=K.length;Y<q;++Y)if(K[Y].name===J){K=K.slice(),K.splice(Y,1);break}}X.tween=K}}function BH0(Z,J,Q){var K,X;if(typeof Q!=="function")throw new Error;return function(){var U=mJ(this,Z),Y=U.tween;if(Y!==K){X=(K=Y).slice();for(var q={name:J,value:Q},z=0,G=X.length;z<G;++z)if(X[z].name===J){X[z]=q;break}if(z===G)X.push(q)}U.tween=X}}function bq(Z,J,Q){var K=Z._id;return Z.each(function(){var X=mJ(this,K);(X.value||(X.value={}))[J]=Q.apply(this,arguments)}),function(X){return WJ(X,K).value[J]}}function Iw(Z,J){var Q=this._id;if(Z+="",arguments.length<2){var K=WJ(this.node(),Q).tween;for(var X=0,U=K.length,Y;X<U;++X)if((Y=K[X]).name===Z)return Y.value;return null}return this.each((J==null?MH0:BH0)(Q,Z,J))}var GH=_(()=>{a7()});function HH(Z,J){var Q;return(typeof J==="number"?VJ:J instanceof mQ?NU:(Q=mQ(J))?(J=Q,NU):kq)(Z,J)}var Dw=_(()=>{fq();$q()});function RH0(Z){return function(){this.removeAttribute(Z)}}function OH0(Z){return function(){this.removeAttributeNS(Z.space,Z.local)}}function AH0(Z,J,Q){var K,X=Q+"",U;return function(){var Y=this.getAttribute(Z);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function LH0(Z,J,Q){var K,X=Q+"",U;return function(){var Y=this.getAttributeNS(Z.space,Z.local);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function IH0(Z,J,Q){var K,X,U;return function(){var Y,q=Q(this),z;if(q==null)return void this.removeAttribute(Z);return Y=this.getAttribute(Z),z=q+"",Y===z?null:Y===K&&z===X?U:(X=z,U=J(K=Y,q))}}function DH0(Z,J,Q){var K,X,U;return function(){var Y,q=Q(this),z;if(q==null)return void this.removeAttributeNS(Z.space,Z.local);return Y=this.getAttributeNS(Z.space,Z.local),z=q+"",Y===z?null:Y===K&&z===X?U:(X=z,U=J(K=Y,q))}}function Nw(Z,J){var Q=v4(Z),K=Q==="transform"?Bw:HH;return this.attrTween(Z,typeof J==="function"?(Q.local?DH0:IH0)(Q,K,bq(this,"attr."+Z,J)):J==null?(Q.local?OH0:RH0)(Q):(Q.local?LH0:AH0)(Q,K,J))}var uu=_(()=>{$q();yQ();GH();Dw()});function NH0(Z,J){return function(Q){this.setAttribute(Z,J.call(this,Q))}}function EH0(Z,J){return function(Q){this.setAttributeNS(Z.space,Z.local,J.call(this,Q))}}function wH0(Z,J){var Q,K;function X(){var U=J.apply(this,arguments);if(U!==K)Q=(K=U)&&EH0(Z,U);return Q}return X._value=J,X}function jH0(Z,J){var Q,K;function X(){var U=J.apply(this,arguments);if(U!==K)Q=(K=U)&&NH0(Z,U);return Q}return X._value=J,X}function Ew(Z,J){var Q="attr."+Z;if(arguments.length<2)return(Q=this.tween(Q))&&Q._value;if(J==null)return this.tween(Q,null);if(typeof J!=="function")throw new Error;var K=v4(Z);return this.tween(Q,(K.local?wH0:jH0)(K,J))}var mu=_(()=>{yQ()});function CH0(Z,J){return function(){qH(this,Z).delay=+J.apply(this,arguments)}}function PH0(Z,J){return J=+J,function(){qH(this,Z).delay=J}}function ww(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?CH0:PH0)(J,Z)):WJ(this.node(),J).delay}var gu=_(()=>{a7()});function VH0(Z,J){return function(){mJ(this,Z).duration=+J.apply(this,arguments)}}function SH0(Z,J){return J=+J,function(){mJ(this,Z).duration=J}}function jw(Z){var J=this._id;return arguments.length?this.each((typeof Z==="function"?VH0:SH0)(J,Z)):WJ(this.node(),J).duration}var pu=_(()=>{a7()});function TH0(Z,J){if(typeof J!=="function")throw new Error;return function(){mJ(this,Z).ease=J}}function Cw(Z){var J=this._id;return arguments.length?this.each(TH0(J,Z)):WJ(this.node(),J).ease}var cu=_(()=>{a7()});function fH0(Z,J){return function(){var Q=J.apply(this,arguments);if(typeof Q!=="function")throw new Error;mJ(this,Z).ease=Q}}function Pw(Z){if(typeof Z!=="function")throw new Error;return this.each(fH0(this._id,Z))}var lu=_(()=>{a7()});function Vw(Z){if(typeof Z!=="function")Z=Cq(Z);for(var J=this._groups,Q=J.length,K=new Array(Q),X=0;X<Q;++X)for(var U=J[X],Y=U.length,q=K[X]=[],z,G=0;G<Y;++G)if((z=U[G])&&Z.call(z,z.__data__,G,U))q.push(z);return new v7(K,this._parents,this._name,this._id)}var du=_(()=>{yQ();wU()});function Sw(Z){if(Z._id!==this._id)throw new Error;for(var J=this._groups,Q=Z._groups,K=J.length,X=Q.length,U=Math.min(K,X),Y=new Array(K),q=0;q<U;++q)for(var z=J[q],G=Q[q],H=z.length,W=Y[q]=new Array(H),F,M=0;M<H;++M)if(F=z[M]||G[M])W[M]=F;for(;q<K;++q)Y[q]=J[q];return new v7(Y,this._parents,this._name,this._id)}var iu=_(()=>{wU()});function vH0(Z){return(Z+"").trim().split(/^|\s+/).every(function(J){var Q=J.indexOf(".");if(Q>=0)J=J.slice(0,Q);return!J||J==="start"})}function kH0(Z,J,Q){var K,X,U=vH0(J)?qH:mJ;return function(){var Y=U(this,Z),q=Y.on;if(q!==K)(X=(K=q).copy()).on(J,Q);Y.on=X}}function Tw(Z,J){var Q=this._id;return arguments.length<2?WJ(this.node(),Q).on.on(Z):this.each(kH0(Q,Z,J))}var su=_(()=>{a7()});function $H0(Z){return function(){var J=this.parentNode;for(var Q in this.__transition)if(+Q!==Z)return;if(J)J.removeChild(this)}}function fw(){return this.on("end.remove",$H0(this._id))}function vw(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=o5(Z);for(var K=this._groups,X=K.length,U=new Array(X),Y=0;Y<X;++Y)for(var q=K[Y],z=q.length,G=U[Y]=new Array(z),H,W,F=0;F<z;++F)if((H=q[F])&&(W=Z.call(H,H.__data__,F,q))){if("__data__"in H)W.__data__=H.__data__;G[F]=W,dK(G[F],J,Q,F,G,WJ(H,Q))}return new v7(U,this._parents,J,Q)}var ru=_(()=>{yQ();wU();a7()});function kw(Z){var J=this._name,Q=this._id;if(typeof Z!=="function")Z=jq(Z);for(var K=this._groups,X=K.length,U=[],Y=[],q=0;q<X;++q)for(var z=K[q],G=z.length,H,W=0;W<G;++W)if(H=z[W]){for(var F=Z.call(H,H.__data__,W,z),M,B=WJ(H,Q),O=0,A=F.length;O<A;++O)if(M=F[O])dK(M,J,Q,O,F,B);U.push(F),Y.push(H)}return new v7(U,Y,J,Q)}var nu=_(()=>{yQ();wU();a7()});function $w(){return new _H0(this._groups,this._parents)}var _H0;var au=_(()=>{yQ();_H0=pK.prototype.constructor});function bH0(Z,J){var Q,K,X;return function(){var U=t5(this,Z),Y=(this.style.removeProperty(Z),t5(this,Z));return U===Y?null:U===Q&&Y===K?X:X=J(Q=U,K=Y)}}function ou(Z){return function(){this.style.removeProperty(Z)}}function xH0(Z,J,Q){var K,X=Q+"",U;return function(){var Y=t5(this,Z);return Y===X?null:Y===K?U:U=J(K=Y,Q)}}function hH0(Z,J,Q){var K,X,U;return function(){var Y=t5(this,Z),q=Q(this),z=q+"";if(q==null)z=q=(this.style.removeProperty(Z),t5(this,Z));return Y===z?null:Y===K&&z===X?U:(X=z,U=J(K=Y,q))}}function yH0(Z,J){var Q,K,X,U="style."+J,Y="end."+U,q;return function(){var z=mJ(this,Z),G=z.on,H=z.value[U]==null?q||(q=ou(J)):void 0;if(G!==Q||X!==H)(K=(Q=G).copy()).on(Y,X=H);z.on=K}}function _w(Z,J,Q){var K=(Z+="")==="transform"?Mw:HH;return J==null?this.styleTween(Z,bH0(Z,K)).on("end.style."+Z,ou(Z)):typeof J==="function"?this.styleTween(Z,hH0(Z,K,bq(this,"style."+Z,J))).each(yH0(this._id,Z)):this.styleTween(Z,xH0(Z,K,J),Q).on("end.style."+Z,null)}var tu=_(()=>{$q();yQ();a7();GH();Dw()});function uH0(Z,J,Q){return function(K){this.style.setProperty(Z,J.call(this,K),Q)}}function mH0(Z,J,Q){var K,X;function U(){var Y=J.apply(this,arguments);if(Y!==X)K=(X=Y)&&uH0(Z,Y,Q);return K}return U._value=J,U}function bw(Z,J,Q){var K="style."+(Z+="");if(arguments.length<2)return(K=this.tween(K))&&K._value;if(J==null)return this.tween(K,null);if(typeof J!=="function")throw new Error;return this.tween(K,mH0(Z,J,Q==null?"":Q))}function gH0(Z){return function(){this.textContent=Z}}function pH0(Z){return function(){var J=Z(this);this.textContent=J==null?"":J}}function xw(Z){return this.tween("text",typeof Z==="function"?pH0(bq(this,"text",Z)):gH0(Z==null?"":Z+""))}var eu=_(()=>{GH()});function cH0(Z){return function(J){this.textContent=Z.call(this,J)}}function lH0(Z){var J,Q;function K(){var X=Z.apply(this,arguments);if(X!==Q)J=(Q=X)&&cH0(X);return J}return K._value=Z,K}function hw(Z){var J="text";if(arguments.length<1)return(J=this.tween(J))&&J._value;if(Z==null)return this.tween(J,null);if(typeof Z!=="function")throw new Error;return this.tween(J,lH0(Z))}function yw(){var Z=this._name,J=this._id,Q=t2();for(var K=this._groups,X=K.length,U=0;U<X;++U)for(var Y=K[U],q=Y.length,z,G=0;G<q;++G)if(z=Y[G]){var H=WJ(z,J);dK(z,Z,Q,G,Y,{time:H.time+H.delay+H.duration,delay:0,duration:H.duration,ease:H.ease})}return new v7(K,this._parents,Z,Q)}var Zm=_(()=>{wU();a7()});function uw(){var Z,J,Q=this,K=Q._id,X=Q.size();return new Promise(function(U,Y){var q={value:Y},z={value:function(){if(--X===0)U()}};if(Q.each(function(){var G=mJ(this,K),H=G.on;if(H!==Z)J=(Z=H).copy(),J._.cancel.push(q),J._.interrupt.push(q),J._.end.push(z);G.on=J}),X===0)U()})}var Jm=_(()=>{a7()});function v7(Z,J,Q,K){this._groups=Z,this._parents=J,this._name=Q,this._id=K}function t2(){return++dH0}function Qm(Z){return pK().transition(Z)}var dH0=0,iK;var wU=_(()=>{yQ();uu();mu();gu();pu();cu();lu();du();iu();su();ru();nu();au();tu();eu();Zm();GH();Jm();iK=pK.prototype;v7.prototype=Qm.prototype={constructor:v7,select:vw,selectAll:kw,selectChild:iK.selectChild,selectChildren:iK.selectChildren,filter:Vw,merge:Sw,selection:$w,transition:yw,call:iK.call,nodes:iK.nodes,node:iK.node,size:iK.size,empty:iK.empty,each:iK.each,on:Tw,attr:Nw,attrTween:Ew,style:_w,styleTween:bw,text:xw,textTween:hw,remove:fw,tween:Iw,delay:ww,duration:jw,ease:Cw,easeVarying:Pw,end:uw,[Symbol.iterator]:iK[Symbol.iterator]}});function e2(Z){return((Z*=2)<=1?Z*Z*Z:(Z-=2)*Z*Z+2)/2}var mw=()=>{};function sH0(Z,J){var Q;while(!(Q=Z.__transition)||!(Q=Q[J]))if(!(Z=Z.parentNode))throw new Error(`transition ${J} not found`);return Q}function gw(Z){var J,Q;if(Z instanceof v7)J=Z._id,Z=Z._name;else J=t2(),(Q=iH0).time=XH(),Z=Z==null?null:Z+"";for(var K=this._groups,X=K.length,U=0;U<X;++U)for(var Y=K[U],q=Y.length,z,G=0;G<q;++G)if(z=Y[G])dK(z,Z,J,G,Y,Q||sH0(z,J));return new v7(K,this._parents,Z,J)}var iH0;var Km=_(()=>{wU();a7();mw();r2();iH0={time:null,delay:0,duration:250,ease:e2}});var Xm=_(()=>{yQ();yu();Km();pK.prototype.interrupt=Lw;pK.prototype.transition=gw});var ZB=_(()=>{Xm()});function Um(Z){return[+Z[0],+Z[1]]}function rH0(Z){return[Um(Z[0]),Um(Z[1])]}function pw(Z){return{type:Z}}var $Z9,_Z9,bZ9;var Ym=_(()=>{ZB();$Z9={name:"x",handles:["w","e"].map(pw),input:function(Z,J){return Z==null?null:[[+Z[0],J[0][1]],[+Z[1],J[1][1]]]},output:function(Z){return Z&&[Z[0][0],Z[1][0]]}},_Z9={name:"y",handles:["n","s"].map(pw),input:function(Z,J){return Z==null?null:[[J[0][0],+Z[0]],[J[1][0],+Z[1]]]},output:function(Z){return Z&&[Z[0][1],Z[1][1]]}},bZ9={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(pw),input:function(Z){return Z==null?null:rH0(Z)},output:function(Z){return Z}}});var qm=_(()=>{Ym()});function zm(Z){this._+=Z[0];for(let J=1,Q=Z.length;J<Q;++J)this._+=arguments[J]+Z[J]}function aH0(Z){let J=Math.floor(Z);if(!(J>=0))throw new Error(`invalid digits: ${Z}`);if(J>15)return zm;const Q=10**J;return function(K){this._+=K[0];for(let X=1,U=K.length;X<U;++X)this._+=Math.round(arguments[X]*Q)/Q+K[X]}}function Gm(){return new xq}class xq{constructor(Z){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Z==null?zm:aH0(Z)}moveTo(Z,J){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}`}closePath(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._append`Z`}lineTo(Z,J){this._append`L${this._x1=+Z},${this._y1=+J}`}quadraticCurveTo(Z,J,Q,K){this._append`Q${+Z},${+J},${this._x1=+Q},${this._y1=+K}`}bezierCurveTo(Z,J,Q,K,X,U){this._append`C${+Z},${+J},${+Q},${+K},${this._x1=+X},${this._y1=+U}`}arcTo(Z,J,Q,K,X){if(Z=+Z,J=+J,Q=+Q,K=+K,X=+X,X<0)throw new Error(`negative radius: ${X}`);let U=this._x1,Y=this._y1,q=Q-Z,z=K-J,G=U-Z,H=Y-J,W=G*G+H*H;if(this._x1===null)this._append`M${this._x1=Z},${this._y1=J}`;else if(!(W>0.000001));else if(!(Math.abs(H*q-z*G)>0.000001)||!X)this._append`L${this._x1=Z},${this._y1=J}`;else{let F=Q-U,M=K-Y,B=q*q+z*z,O=F*F+M*M,A=Math.sqrt(B),L=Math.sqrt(W),I=X*Math.tan((cw-Math.acos((B+W-O)/(2*A*L)))/2),D=I/L,w=I/A;if(Math.abs(D-1)>0.000001)this._append`L${Z+D*G},${J+D*H}`;this._append`A${X},${X},0,0,${+(H*F>G*M)},${this._x1=Z+w*q},${this._y1=J+w*z}`}}arc(Z,J,Q,K,X,U){if(Z=+Z,J=+J,Q=+Q,U=!!U,Q<0)throw new Error(`negative radius: ${Q}`);let Y=Q*Math.cos(K),q=Q*Math.sin(K),z=Z+Y,G=J+q,H=1^U,W=U?K-X:X-K;if(this._x1===null)this._append`M${z},${G}`;else if(Math.abs(this._x1-z)>0.000001||Math.abs(this._y1-G)>0.000001)this._append`L${z},${G}`;if(!Q)return;if(W<0)W=W%lw+lw;if(W>nH0)this._append`A${Q},${Q},0,1,${H},${Z-Y},${J-q}A${Q},${Q},0,1,${H},${this._x1=z},${this._y1=G}`;else if(W>0.000001)this._append`A${Q},${Q},0,${+(W>=cw)},${H},${this._x1=Z+Q*Math.cos(X)},${this._y1=J+Q*Math.sin(X)}`}rect(Z,J,Q,K){this._append`M${this._x0=this._x1=+Z},${this._y0=this._y1=+J}h${Q=+Q}v${+K}h${-Q}Z`}toString(){return this._}}var cw,lw,nH0;var Hm=_(()=>{cw=Math.PI,lw=2*cw,nH0=lw-0.000001;Gm.prototype=xq.prototype});var dw=_(()=>{Hm()});var Wm=()=>{};var Fm=()=>{};var Mm=()=>{};var Bm=()=>{};var Rm=()=>{};var Om=()=>{};var Am=()=>{};function jU(Z,J){if((Q=(Z=J?Z.toExponential(J-1):Z.toExponential()).indexOf("e"))<0)return null;var Q,K=Z.slice(0,Q);return[K.length>1?K[0]+K.slice(2):K,+Z.slice(Q+1)]}function iw(Z){return Math.abs(Z=Math.round(Z))>=1000000000000000000000?Z.toLocaleString("en").replace(/,/g,""):Z.toString(10)}function gQ(Z){return Z=jU(Math.abs(Z)),Z?Z[1]:NaN}var WH=()=>{};function sw(Z,J){return function(Q,K){var X=Q.length,U=[],Y=0,q=Z[0],z=0;while(X>0&&q>0){if(z+q+1>K)q=Math.max(1,K-z);if(U.push(Q.substring(X-=q,X+q)),(z+=q+1)>K)break;q=Z[Y=(Y+1)%Z.length]}return U.reverse().join(J)}}function rw(Z){return function(J){return J.replace(/[0-9]/g,function(Q){return Z[+Q]})}}function JB(Z){this.fill=Z.fill===void 0?" ":Z.fill+"",this.align=Z.align===void 0?">":Z.align+"",this.sign=Z.sign===void 0?"-":Z.sign+"",this.symbol=Z.symbol===void 0?"":Z.symbol+"",this.zero=!!Z.zero,this.width=Z.width===void 0?void 0:+Z.width,this.comma=!!Z.comma,this.precision=Z.precision===void 0?void 0:+Z.precision,this.trim=!!Z.trim,this.type=Z.type===void 0?"":Z.type+""}function QX(Z){if(!(J=oH0.exec(Z)))throw new Error("invalid format: "+Z);var J;return new JB({fill:J[1],align:J[2],sign:J[3],symbol:J[4],zero:J[5],width:J[6],comma:J[7],precision:J[8]&&J[8].slice(1),trim:J[9],type:J[10]})}var oH0;var nw=_(()=>{oH0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;QX.prototype=JB.prototype;JB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function aw(Z){Z:for(var J=Z.length,Q=1,K=-1,X;Q<J;++Q)switch(Z[Q]){case".":K=X=Q;break;case"0":if(K===0)K=Q;X=Q;break;default:if(!+Z[Q])break Z;if(K>0)K=0;break}return K>0?Z.slice(0,K)+Z.slice(X+1):Z}function tw(Z,J){var Q=jU(Z,J);if(!Q)return Z+"";var K=Q[0],X=Q[1],U=X-(ow=Math.max(-8,Math.min(8,Math.floor(X/3)))*3)+1,Y=K.length;return U===Y?K:U>Y?K+new Array(U-Y+1).join("0"):U>0?K.slice(0,U)+"."+K.slice(U):"0."+new Array(1-U).join("0")+jU(Z,Math.max(0,J+U-1))[0]}var ow;var ew=()=>{};function QB(Z,J){var Q=jU(Z,J);if(!Q)return Z+"";var K=Q[0],X=Q[1];return X<0?"0."+new Array(-X).join("0")+K:K.length>X+1?K.slice(0,X+1)+"."+K.slice(X+1):K+new Array(X-K.length+2).join("0")}var Lm=()=>{};var Zj;var Im=_(()=>{ew();Lm();Zj={"%":(Z,J)=>(Z*100).toFixed(J),b:(Z)=>Math.round(Z).toString(2),c:(Z)=>Z+"",d:iw,e:(Z,J)=>Z.toExponential(J),f:(Z,J)=>Z.toFixed(J),g:(Z,J)=>Z.toPrecision(J),o:(Z)=>Math.round(Z).toString(8),p:(Z,J)=>QB(Z*100,J),r:QB,s:tw,X:(Z)=>Math.round(Z).toString(16).toUpperCase(),x:(Z)=>Math.round(Z).toString(16)}});function KB(Z){return Z}function Jj(Z){var J=Z.grouping===void 0||Z.thousands===void 0?KB:sw(Dm.call(Z.grouping,Number),Z.thousands+""),Q=Z.currency===void 0?"":Z.currency[0]+"",K=Z.currency===void 0?"":Z.currency[1]+"",X=Z.decimal===void 0?".":Z.decimal+"",U=Z.numerals===void 0?KB:rw(Dm.call(Z.numerals,String)),Y=Z.percent===void 0?"%":Z.percent+"",q=Z.minus===void 0?"\u2212":Z.minus+"",z=Z.nan===void 0?"NaN":Z.nan+"";function G(W){W=QX(W);var{fill:F,align:M,sign:B,symbol:O,zero:A,width:L,comma:I,precision:D,trim:w,type:N}=W;if(N==="n")I=!0,N="g";else if(!Zj[N])D===void 0&&(D=12),w=!0,N="g";if(A||F==="0"&&M==="=")A=!0,F="0",M="=";var E=O==="$"?Q:O==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=O==="$"?K:/[%p]/.test(N)?Y:"",P=Zj[N],C=/[defgprs%]/.test(N);D=D===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function T(V){var S=E,$=j,f,h,v;if(N==="c")$=P(V)+$,V="";else{V=+V;var b=V<0||1/V<0;if(V=isNaN(V)?z:P(Math.abs(V),D),w)V=aw(V);if(b&&+V===0&&B!=="+")b=!1;if(S=(b?B==="("?B:q:B==="-"||B==="("?"":B)+S,$=(N==="s"?Nm[8+ow/3]:"")+$+(b&&B==="("?")":""),C){f=-1,h=V.length;while(++f<h)if(v=V.charCodeAt(f),48>v||v>57){$=(v===46?X+V.slice(f+1):V.slice(f))+$,V=V.slice(0,f);break}}}if(I&&!A)V=J(V,1/0);var y=S.length+V.length+$.length,k=y<L?new Array(L-y+1).join(F):"";if(I&&A)V=J(k+V,k.length?L-$.length:1/0),k="";switch(M){case"<":V=S+V+$+k;break;case"=":V=S+k+V+$;break;case"^":V=k.slice(0,y=k.length>>1)+S+V+$+k.slice(y);break;default:V=k+S+V+$;break}return U(V)}return T.toString=function(){return W+""},T}function H(W,F){var M=G((W=QX(W),W.type="f",W)),B=Math.max(-8,Math.min(8,Math.floor(gQ(F)/3)))*3,O=Math.pow(10,-B),A=Nm[8+B/3];return function(L){return M(O*L)+A}}return{format:G,formatPrefix:H}}var Dm,Nm;var Em=_(()=>{WH();nw();Im();ew();Dm=Array.prototype.map,Nm=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"]});function Qj(Z){return XB=Jj(Z),UB=XB.format,YB=XB.formatPrefix,XB}var XB,UB,YB;var wm=_(()=>{Em();Qj({thousands:",",grouping:[3],currency:["$",""]})});function qB(Z){return Math.max(0,-gQ(Math.abs(Z)))}var jm=_(()=>{WH()});function zB(Z,J){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gQ(J)/3)))*3-gQ(Math.abs(Z)))}var Cm=_(()=>{WH()});function GB(Z,J){return Z=Math.abs(Z),J=Math.abs(J)-Z,Math.max(0,gQ(J)-gQ(Z))+1}var Pm=_(()=>{WH()});var Kj=_(()=>{wm();nw();jm();Cm();Pm()});var Vm=()=>{};var Sm=()=>{};var Tm=()=>{};var fm=()=>{};function KX(Z,J){switch(arguments.length){case 0:break;case 1:this.range(Z);break;default:this.range(J).domain(Z);break}return this}function sK(){var Z=new lG,J=[],Q=[],K=Xj;function X(U){let Y=Z.get(U);if(Y===void 0){if(K!==Xj)return K;Z.set(U,Y=J.push(U)-1)}return Q[Y%Q.length]}return X.domain=function(U){if(!arguments.length)return J.slice();J=[],Z=new lG;for(let Y of U){if(Z.has(Y))continue;Z.set(Y,J.push(Y)-1)}return X},X.range=function(U){return arguments.length?(Q=Array.from(U),X):Q.slice()},X.unknown=function(U){return arguments.length?(K=U,X):K},X.copy=function(){return sK(J,Q).unknown(K)},KX.apply(X,arguments),X}var Xj;var Uj=_(()=>{a5();Xj=Symbol("implicit")});function hq(){var Z=sK().unknown(void 0),J=Z.domain,Q=Z.range,K=0,X=1,U,Y,q=!1,z=0,G=0,H=0.5;delete Z.unknown;function W(){var F=J().length,M=X<K,B=M?X:K,O=M?K:X;if(U=(O-B)/Math.max(1,F-z+G*2),q)U=Math.floor(U);if(B+=(O-B-U*(F-z))*H,Y=U*(1-z),q)B=Math.round(B),Y=Math.round(Y);var A=V2(F).map(function(L){return B+U*L});return Q(M?A.reverse():A)}return Z.domain=function(F){return arguments.length?(J(F),W()):J()},Z.range=function(F){return arguments.length?([K,X]=F,K=+K,X=+X,W()):[K,X]},Z.rangeRound=function(F){return[K,X]=F,K=+K,X=+X,q=!0,W()},Z.bandwidth=function(){return Y},Z.step=function(){return U},Z.round=function(F){return arguments.length?(q=!!F,W()):q},Z.padding=function(F){return arguments.length?(z=Math.min(1,G=+F),W()):z},Z.paddingInner=function(F){return arguments.length?(z=Math.min(1,F),W()):z},Z.paddingOuter=function(F){return arguments.length?(G=+F,W()):G},Z.align=function(F){return arguments.length?(H=Math.max(0,Math.min(1,F)),W()):H},Z.copy=function(){return hq(J(),[K,X]).round(q).paddingInner(z).paddingOuter(G).align(H)},KX.apply(W(),arguments)}var vm=_(()=>{a5();Uj()});function Yj(Z){return function(){return Z}}function qj(Z){return+Z}function yq(Z){return Z}function zj(Z,J){return(J-=Z=+Z)?function(Q){return(Q-Z)/J}:Yj(isNaN(J)?NaN:0.5)}function tH0(Z,J){var Q;if(Z>J)Q=Z,Z=J,J=Q;return function(K){return Math.max(Z,Math.min(J,K))}}function eH0(Z,J,Q){var K=Z[0],X=Z[1],U=J[0],Y=J[1];if(X<K)K=zj(X,K),U=Q(Y,U);else K=zj(K,X),U=Q(U,Y);return function(q){return U(K(q))}}function ZW0(Z,J,Q){var K=Math.min(Z.length,J.length)-1,X=new Array(K),U=new Array(K),Y=-1;if(Z[K]<Z[0])Z=Z.slice().reverse(),J=J.slice().reverse();while(++Y<K)X[Y]=zj(Z[Y],Z[Y+1]),U[Y]=Q(J[Y],J[Y+1]);return function(q){var z=oN(Z,q,1,K)-1;return U[z](X[z](q))}}function HB(Z,J){return J.domain(Z.domain()).range(Z.range()).interpolate(Z.interpolate()).clamp(Z.clamp()).unknown(Z.unknown())}function JW0(){var Z=km,J=km,Q=JX,K,X,U,Y=yq,q,z,G;function H(){var F=Math.min(Z.length,J.length);if(Y!==yq)Y=tH0(Z[0],Z[F-1]);return q=F>2?ZW0:eH0,z=G=null,W}function W(F){return F==null||isNaN(F=+F)?U:(z||(z=q(Z.map(K),J,Q)))(K(Y(F)))}return W.invert=function(F){return Y(X((G||(G=q(J,Z.map(K),VJ)))(F)))},W.domain=function(F){return arguments.length?(Z=Array.from(F,qj),H()):Z.slice()},W.range=function(F){return arguments.length?(J=Array.from(F),H()):J.slice()},W.rangeRound=function(F){return J=Array.from(F),Q=m2,H()},W.clamp=function(F){return arguments.length?(Y=F?!0:yq,H()):Y!==yq},W.interpolate=function(F){return arguments.length?(Q=F,H()):Q},W.unknown=function(F){return arguments.length?(U=F,W):U},function(F,M){return K=F,X=M,H()}}function FH(){return JW0()(yq,yq)}var km;var Gj=_(()=>{a5();$q();km=[0,1]});function Hj(Z,J,Q,K){var X=wq(Z,J,Q),U;switch(K=QX(K==null?",f":K),K.type){case"s":{var Y=Math.max(Math.abs(Z),Math.abs(J));if(K.precision==null&&!isNaN(U=zB(X,Y)))K.precision=U;return YB(K,Y)}case"":case"e":case"g":case"p":case"r":{if(K.precision==null&&!isNaN(U=GB(X,Math.max(Math.abs(Z),Math.abs(J)))))K.precision=U-(K.type==="e");break}case"f":case"%":{if(K.precision==null&&!isNaN(U=qB(X)))K.precision=U-(K.type==="%")*2;break}}return UB(K)}var $m=_(()=>{a5();Kj()});function QW0(Z){var J=Z.domain;return Z.ticks=function(Q){var K=J();return j2(K[0],K[K.length-1],Q==null?10:Q)},Z.tickFormat=function(Q,K){var X=J();return Hj(X[0],X[X.length-1],Q==null?10:Q,K)},Z.nice=function(Q){if(Q==null)Q=10;var K=J(),X=0,U=K.length-1,Y=K[X],q=K[U],z,G,H=10;if(q<Y)G=Y,Y=q,q=G,G=X,X=U,U=G;while(H-- >0){if(G=dG(Y,q,Q),G===z)return K[X]=Y,K[U]=q,J(K);else if(G>0)Y=Math.floor(Y/G)*G,q=Math.ceil(q/G)*G;else if(G<0)Y=Math.ceil(Y*G)/G,q=Math.floor(q*G)/G;else break;z=G}return Z},Z}function pQ(){var Z=FH();return Z.copy=function(){return HB(Z,pQ())},KX.apply(Z,arguments),QW0(Z)}var _m=_(()=>{a5();Gj();$m()});function Wj(Z,J){Z=Z.slice();var Q=0,K=Z.length-1,X=Z[Q],U=Z[K],Y;if(U<X)Y=Q,Q=K,K=Y,Y=X,X=U,U=Y;return Z[Q]=J.floor(X),Z[K]=J.ceil(U),Z}function t8(Z,J,Q,K){function X(U){return Z(U=arguments.length===0?new Date:new Date(+U)),U}if(X.floor=(U)=>{return Z(U=new Date(+U)),U},X.ceil=(U)=>{return Z(U=new Date(U-1)),J(U,1),Z(U),U},X.round=(U)=>{const Y=X(U),q=X.ceil(U);return U-Y<q-U?Y:q},X.offset=(U,Y)=>{return J(U=new Date(+U),Y==null?1:Math.floor(Y)),U},X.range=(U,Y,q)=>{const z=[];if(U=X.ceil(U),q=q==null?1:Math.floor(q),!(U<Y)||!(q>0))return z;let G;do z.push(G=new Date(+U)),J(U,q),Z(U);while(G<U&&U<Y);return z},X.filter=(U)=>{return t8((Y)=>{if(Y>=Y)while(Z(Y),!U(Y))Y.setTime(Y-1)},(Y,q)=>{if(Y>=Y)if(q<0)while(++q<=0)while(J(Y,-1),!U(Y));else while(--q>=0)while(J(Y,1),!U(Y));})},Q)X.count=(U,Y)=>{return Fj.setTime(+U),Mj.setTime(+Y),Z(Fj),Z(Mj),Math.floor(Q(Fj,Mj))},X.every=(U)=>{return U=Math.floor(U),!isFinite(U)||!(U>0)?null:!(U>1)?X:X.filter(K?(Y)=>K(Y)%U===0:(Y)=>X.count(0,Y)%U===0)};return X}var Fj,Mj;var rK=_(()=>{Fj=new Date,Mj=new Date});var _4,bm;var Bj=_(()=>{rK();_4=t8(()=>{},(Z,J)=>{Z.setTime(+Z+J)},(Z,J)=>{return J-Z});_4.every=(Z)=>{if(Z=Math.floor(Z),!isFinite(Z)||!(Z>0))return null;if(!(Z>1))return _4;return t8((J)=>{J.setTime(Math.floor(J/Z)*Z)},(J,Q)=>{J.setTime(+J+Q*Z)},(J,Q)=>{return(Q-J)/Z})};bm=_4.range});var KQ=1000,W7=60000,b4=3600000,XX=86400000,MH=604800000,Rj=2592000000,WB=31536000000;var T6,xm;var Oj=_(()=>{rK();T6=t8((Z)=>{Z.setTime(Z-Z.getMilliseconds())},(Z,J)=>{Z.setTime(+Z+J*KQ)},(Z,J)=>{return(J-Z)/KQ},(Z)=>{return Z.getUTCSeconds()}),xm=T6.range});var nK,KW0,FB,XW0;var Aj=_(()=>{rK();nK=t8((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*KQ)},(Z,J)=>{Z.setTime(+Z+J*W7)},(Z,J)=>{return(J-Z)/W7},(Z)=>{return Z.getMinutes()}),KW0=nK.range,FB=t8((Z)=>{Z.setUTCSeconds(0,0)},(Z,J)=>{Z.setTime(+Z+J*W7)},(Z,J)=>{return(J-Z)/W7},(Z)=>{return Z.getUTCMinutes()}),XW0=FB.range});var aK,UW0,MB,YW0;var Lj=_(()=>{rK();aK=t8((Z)=>{Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*KQ-Z.getMinutes()*W7)},(Z,J)=>{Z.setTime(+Z+J*b4)},(Z,J)=>{return(J-Z)/b4},(Z)=>{return Z.getHours()}),UW0=aK.range,MB=t8((Z)=>{Z.setUTCMinutes(0,0,0)},(Z,J)=>{Z.setTime(+Z+J*b4)},(Z,J)=>{return(J-Z)/b4},(Z)=>{return Z.getUTCHours()}),YW0=MB.range});var XQ,qW0,BH,zW0,BB,GW0;var Ij=_(()=>{rK();XQ=t8((Z)=>Z.setHours(0,0,0,0),(Z,J)=>Z.setDate(Z.getDate()+J),(Z,J)=>(J-Z-(J.getTimezoneOffset()-Z.getTimezoneOffset())*W7)/XX,(Z)=>Z.getDate()-1),qW0=XQ.range,BH=t8((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/XX},(Z)=>{return Z.getUTCDate()-1}),zW0=BH.range,BB=t8((Z)=>{Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCDate(Z.getUTCDate()+J)},(Z,J)=>{return(J-Z)/XX},(Z)=>{return Math.floor(Z/XX)}),GW0=BB.range});function CU(Z){return t8((J)=>{J.setDate(J.getDate()-(J.getDay()+7-Z)%7),J.setHours(0,0,0,0)},(J,Q)=>{J.setDate(J.getDate()+Q*7)},(J,Q)=>{return(Q-J-(Q.getTimezoneOffset()-J.getTimezoneOffset())*W7)/MH})}function PU(Z){return t8((J)=>{J.setUTCDate(J.getUTCDate()-(J.getUTCDay()+7-Z)%7),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCDate(J.getUTCDate()+Q*7)},(J,Q)=>{return(Q-J)/MH})}var cQ,UX,RB,OB,x4,AB,LB,hm,HW0,WW0,FW0,MW0,BW0,RW0,VU,uq,ym,um,YX,mm,gm,pm,OW0,AW0,LW0,IW0,DW0,NW0;var Dj=_(()=>{rK();cQ=CU(0),UX=CU(1),RB=CU(2),OB=CU(3),x4=CU(4),AB=CU(5),LB=CU(6),hm=cQ.range,HW0=UX.range,WW0=RB.range,FW0=OB.range,MW0=x4.range,BW0=AB.range,RW0=LB.range,VU=PU(0),uq=PU(1),ym=PU(2),um=PU(3),YX=PU(4),mm=PU(5),gm=PU(6),pm=VU.range,OW0=uq.range,AW0=ym.range,LW0=um.range,IW0=YX.range,DW0=mm.range,NW0=gm.range});var oK,EW0,IB,wW0;var Nj=_(()=>{rK();oK=t8((Z)=>{Z.setDate(1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setMonth(Z.getMonth()+J)},(Z,J)=>{return J.getMonth()-Z.getMonth()+(J.getFullYear()-Z.getFullYear())*12},(Z)=>{return Z.getMonth()}),EW0=oK.range,IB=t8((Z)=>{Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCMonth(Z.getUTCMonth()+J)},(Z,J)=>{return J.getUTCMonth()-Z.getUTCMonth()+(J.getUTCFullYear()-Z.getUTCFullYear())*12},(Z)=>{return Z.getUTCMonth()}),wW0=IB.range});var f6,jW0,lQ,CW0;var Ej=_(()=>{rK();f6=t8((Z)=>{Z.setMonth(0,1),Z.setHours(0,0,0,0)},(Z,J)=>{Z.setFullYear(Z.getFullYear()+J)},(Z,J)=>{return J.getFullYear()-Z.getFullYear()},(Z)=>{return Z.getFullYear()});f6.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:t8((J)=>{J.setFullYear(Math.floor(J.getFullYear()/Z)*Z),J.setMonth(0,1),J.setHours(0,0,0,0)},(J,Q)=>{J.setFullYear(J.getFullYear()+Q*Z)})};jW0=f6.range,lQ=t8((Z)=>{Z.setUTCMonth(0,1),Z.setUTCHours(0,0,0,0)},(Z,J)=>{Z.setUTCFullYear(Z.getUTCFullYear()+J)},(Z,J)=>{return J.getUTCFullYear()-Z.getUTCFullYear()},(Z)=>{return Z.getUTCFullYear()});lQ.every=(Z)=>{return!isFinite(Z=Math.floor(Z))||!(Z>0)?null:t8((J)=>{J.setUTCFullYear(Math.floor(J.getUTCFullYear()/Z)*Z),J.setUTCMonth(0,1),J.setUTCHours(0,0,0,0)},(J,Q)=>{J.setUTCFullYear(J.getUTCFullYear()+Q*Z)})};CW0=lQ.range});function cm(Z,J,Q,K,X,U){const Y=[[T6,1,KQ],[T6,5,5*KQ],[T6,15,15*KQ],[T6,30,30*KQ],[U,1,W7],[U,5,5*W7],[U,15,15*W7],[U,30,30*W7],[X,1,b4],[X,3,3*b4],[X,6,6*b4],[X,12,12*b4],[K,1,XX],[K,2,2*XX],[Q,1,MH],[J,1,Rj],[J,3,3*Rj],[Z,1,WB]];function q(G,H,W){const F=H<G;if(F)[G,H]=[H,G];const M=W&&typeof W.range==="function"?W:z(G,H,W),B=M?M.range(G,+H+1):[];return F?B.reverse():B}function z(G,H,W){const F=Math.abs(H-G)/W,M=LU(([,,A])=>A).right(Y,F);if(M===Y.length)return Z.every(wq(G/WB,H/WB,W));if(M===0)return _4.every(Math.max(wq(G,H,W),1));const[B,O]=Y[F/Y[M-1][2]<Y[M][2]/F?M-1:M];return B.every(O)}return[q,z]}var PW0,VW0,wj,jj;var lm=_(()=>{a5();Bj();Oj();Aj();Lj();Ij();Dj();Nj();Ej();[PW0,VW0]=cm(lQ,IB,VU,BB,MB,FB),[wj,jj]=cm(f6,oK,cQ,XQ,aK,nK)});var DB=_(()=>{Bj();Oj();Aj();Lj();Ij();Dj();Nj();Ej();lm()});function Cj(Z){if(0<=Z.y&&Z.y<100){var J=new Date(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L);return J.setFullYear(Z.y),J}return new Date(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L)}function Pj(Z){if(0<=Z.y&&Z.y<100){var J=new Date(Date.UTC(-1,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L));return J.setUTCFullYear(Z.y),J}return new Date(Date.UTC(Z.y,Z.m,Z.d,Z.H,Z.M,Z.S,Z.L))}function RH(Z,J,Q){return{y:Z,m:J,d:Q,H:0,M:0,S:0,L:0}}function w8(Z,J,Q){var K=Z<0?"-":"",X=(K?-Z:Z)+"",U=X.length;return K+(U<Q?new Array(Q-U+1).join(J)+X:X)}function fW0(Z){return Z.replace(TW0,"\\$&")}function OH(Z){return new RegExp("^(?:"+Z.map(fW0).join("|")+")","i")}function AH(Z){return new Map(Z.map((J,Q)=>[J.toLowerCase(),Q]))}function vW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+1));return K?(Z.w=+K[0],Q+K[0].length):-1}function kW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+1));return K?(Z.u=+K[0],Q+K[0].length):-1}function $W0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.U=+K[0],Q+K[0].length):-1}function _W0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.V=+K[0],Q+K[0].length):-1}function bW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.W=+K[0],Q+K[0].length):-1}function im(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+4));return K?(Z.y=+K[0],Q+K[0].length):-1}function sm(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.y=+K[0]+(+K[0]>68?1900:2000),Q+K[0].length):-1}function xW0(Z,J,Q){var K=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(J.slice(Q,Q+6));return K?(Z.Z=K[1]?0:-(K[2]+(K[3]||"00")),Q+K[0].length):-1}function hW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+1));return K?(Z.q=K[0]*3-3,Q+K[0].length):-1}function yW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.m=K[0]-1,Q+K[0].length):-1}function rm(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.d=+K[0],Q+K[0].length):-1}function uW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+3));return K?(Z.m=0,Z.d=+K[0],Q+K[0].length):-1}function nm(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.H=+K[0],Q+K[0].length):-1}function mW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.M=+K[0],Q+K[0].length):-1}function gW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+2));return K?(Z.S=+K[0],Q+K[0].length):-1}function pW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+3));return K?(Z.L=+K[0],Q+K[0].length):-1}function cW0(Z,J,Q){var K=SJ.exec(J.slice(Q,Q+6));return K?(Z.L=Math.floor(K[0]/1000),Q+K[0].length):-1}function lW0(Z,J,Q){var K=SW0.exec(J.slice(Q,Q+1));return K?Q+K[0].length:-1}function dW0(Z,J,Q){var K=SJ.exec(J.slice(Q));return K?(Z.Q=+K[0],Q+K[0].length):-1}function iW0(Z,J,Q){var K=SJ.exec(J.slice(Q));return K?(Z.s=+K[0],Q+K[0].length):-1}function am(Z,J){return w8(Z.getDate(),J,2)}function sW0(Z,J){return w8(Z.getHours(),J,2)}function rW0(Z,J){return w8(Z.getHours()%12||12,J,2)}function nW0(Z,J){return w8(1+XQ.count(f6(Z),Z),J,3)}function Jg(Z,J){return w8(Z.getMilliseconds(),J,3)}function aW0(Z,J){return Jg(Z,J)+"000"}function oW0(Z,J){return w8(Z.getMonth()+1,J,2)}function tW0(Z,J){return w8(Z.getMinutes(),J,2)}function eW0(Z,J){return w8(Z.getSeconds(),J,2)}function ZF0(Z){var J=Z.getDay();return J===0?7:J}function JF0(Z,J){return w8(cQ.count(f6(Z)-1,Z),J,2)}function Qg(Z){var J=Z.getDay();return J>=4||J===0?x4(Z):x4.ceil(Z)}function QF0(Z,J){return Z=Qg(Z),w8(x4.count(f6(Z),Z)+(f6(Z).getDay()===4),J,2)}function KF0(Z){return Z.getDay()}function XF0(Z,J){return w8(UX.count(f6(Z)-1,Z),J,2)}function UF0(Z,J){return w8(Z.getFullYear()%100,J,2)}function YF0(Z,J){return Z=Qg(Z),w8(Z.getFullYear()%100,J,2)}function qF0(Z,J){return w8(Z.getFullYear()%1e4,J,4)}function zF0(Z,J){var Q=Z.getDay();return Z=Q>=4||Q===0?x4(Z):x4.ceil(Z),w8(Z.getFullYear()%1e4,J,4)}function GF0(Z){var J=Z.getTimezoneOffset();return(J>0?"-":(J*=-1,"+"))+w8(J/60|0,"0",2)+w8(J%60,"0",2)}function om(Z,J){return w8(Z.getUTCDate(),J,2)}function HF0(Z,J){return w8(Z.getUTCHours(),J,2)}function WF0(Z,J){return w8(Z.getUTCHours()%12||12,J,2)}function FF0(Z,J){return w8(1+BH.count(lQ(Z),Z),J,3)}function Kg(Z,J){return w8(Z.getUTCMilliseconds(),J,3)}function MF0(Z,J){return Kg(Z,J)+"000"}function BF0(Z,J){return w8(Z.getUTCMonth()+1,J,2)}function RF0(Z,J){return w8(Z.getUTCMinutes(),J,2)}function OF0(Z,J){return w8(Z.getUTCSeconds(),J,2)}function AF0(Z){var J=Z.getUTCDay();return J===0?7:J}function LF0(Z,J){return w8(VU.count(lQ(Z)-1,Z),J,2)}function Xg(Z){var J=Z.getUTCDay();return J>=4||J===0?YX(Z):YX.ceil(Z)}function IF0(Z,J){return Z=Xg(Z),w8(YX.count(lQ(Z),Z)+(lQ(Z).getUTCDay()===4),J,2)}function DF0(Z){return Z.getUTCDay()}function NF0(Z,J){return w8(uq.count(lQ(Z)-1,Z),J,2)}function EF0(Z,J){return w8(Z.getUTCFullYear()%100,J,2)}function wF0(Z,J){return Z=Xg(Z),w8(Z.getUTCFullYear()%100,J,2)}function jF0(Z,J){return w8(Z.getUTCFullYear()%1e4,J,4)}function CF0(Z,J){var Q=Z.getUTCDay();return Z=Q>=4||Q===0?YX(Z):YX.ceil(Z),w8(Z.getUTCFullYear()%1e4,J,4)}function PF0(){return"+0000"}function tm(){return"%"}function em(Z){return+Z}function Zg(Z){return Math.floor(+Z/1000)}function Vj(Z){var{dateTime:J,date:Q,time:K,periods:X,days:U,shortDays:Y,months:q,shortMonths:z}=Z,G=OH(X),H=AH(X),W=OH(U),F=AH(U),M=OH(Y),B=AH(Y),O=OH(q),A=AH(q),L=OH(z),I=AH(z),D={a:b,A:y,b:k,B:g,c:null,d:am,e:am,f:aW0,g:YF0,G:zF0,H:sW0,I:rW0,j:nW0,L:Jg,m:oW0,M:tW0,p:u,q:i,Q:em,s:Zg,S:eW0,u:ZF0,U:JF0,V:QF0,w:KF0,W:XF0,x:null,X:null,y:UF0,Y:qF0,Z:GF0,"%":tm},w={a:e,A:J0,b:z0,B:t,c:null,d:om,e:om,f:MF0,g:wF0,G:CF0,H:HF0,I:WF0,j:FF0,L:Kg,m:BF0,M:RF0,p:B0,q:X0,Q:em,s:Zg,S:OF0,u:AF0,U:LF0,V:IF0,w:DF0,W:NF0,x:null,X:null,y:EF0,Y:jF0,Z:PF0,"%":tm},N={a:T,A:V,b:S,B:$,c:f,d:rm,e:rm,f:cW0,g:sm,G:im,H:nm,I:nm,j:uW0,L:pW0,m:yW0,M:mW0,p:C,q:hW0,Q:dW0,s:iW0,S:gW0,u:kW0,U:$W0,V:_W0,w:vW0,W:bW0,x:h,X:v,y:sm,Y:im,Z:xW0,"%":lW0};D.x=E(Q,D),D.X=E(K,D),D.c=E(J,D),w.x=E(Q,w),w.X=E(K,w),w.c=E(J,w);function E(d,o){return function(a){var Q0=[],K0=-1,A0=0,r=d.length,v0,Y0,k0;if(!(a instanceof Date))a=new Date(+a);while(++K0<r)if(d.charCodeAt(K0)===37){if(Q0.push(d.slice(A0,K0)),(Y0=dm[v0=d.charAt(++K0)])!=null)v0=d.charAt(++K0);else Y0=v0==="e"?" ":"0";if(k0=o[v0])v0=k0(a,Y0);Q0.push(v0),A0=K0+1}return Q0.push(d.slice(A0,K0)),Q0.join("")}}function j(d,o){return function(a){var Q0=RH(1900,void 0,1),K0=P(Q0,d,a+="",0),A0,r;if(K0!=a.length)return null;if("Q"in Q0)return new Date(Q0.Q);if("s"in Q0)return new Date(Q0.s*1000+("L"in Q0?Q0.L:0));if(o&&!("Z"in Q0))Q0.Z=0;if("p"in Q0)Q0.H=Q0.H%12+Q0.p*12;if(Q0.m===void 0)Q0.m="q"in Q0?Q0.q:0;if("V"in Q0){if(Q0.V<1||Q0.V>53)return null;if(!("w"in Q0))Q0.w=1;if("Z"in Q0)A0=Pj(RH(Q0.y,0,1)),r=A0.getUTCDay(),A0=r>4||r===0?uq.ceil(A0):uq(A0),A0=BH.offset(A0,(Q0.V-1)*7),Q0.y=A0.getUTCFullYear(),Q0.m=A0.getUTCMonth(),Q0.d=A0.getUTCDate()+(Q0.w+6)%7;else A0=Cj(RH(Q0.y,0,1)),r=A0.getDay(),A0=r>4||r===0?UX.ceil(A0):UX(A0),A0=XQ.offset(A0,(Q0.V-1)*7),Q0.y=A0.getFullYear(),Q0.m=A0.getMonth(),Q0.d=A0.getDate()+(Q0.w+6)%7}else if("W"in Q0||"U"in Q0){if(!("w"in Q0))Q0.w="u"in Q0?Q0.u%7:("W"in Q0)?1:0;r="Z"in Q0?Pj(RH(Q0.y,0,1)).getUTCDay():Cj(RH(Q0.y,0,1)).getDay(),Q0.m=0,Q0.d="W"in Q0?(Q0.w+6)%7+Q0.W*7-(r+5)%7:Q0.w+Q0.U*7-(r+6)%7}if("Z"in Q0)return Q0.H+=Q0.Z/100|0,Q0.M+=Q0.Z%100,Pj(Q0);return Cj(Q0)}}function P(d,o,a,Q0){var K0=0,A0=o.length,r=a.length,v0,Y0;while(K0<A0){if(Q0>=r)return-1;if(v0=o.charCodeAt(K0++),v0===37){if(v0=o.charAt(K0++),Y0=N[v0 in dm?o.charAt(K0++):v0],!Y0||(Q0=Y0(d,a,Q0))<0)return-1}else if(v0!=a.charCodeAt(Q0++))return-1}return Q0}function C(d,o,a){var Q0=G.exec(o.slice(a));return Q0?(d.p=H.get(Q0[0].toLowerCase()),a+Q0[0].length):-1}function T(d,o,a){var Q0=M.exec(o.slice(a));return Q0?(d.w=B.get(Q0[0].toLowerCase()),a+Q0[0].length):-1}function V(d,o,a){var Q0=W.exec(o.slice(a));return Q0?(d.w=F.get(Q0[0].toLowerCase()),a+Q0[0].length):-1}function S(d,o,a){var Q0=L.exec(o.slice(a));return Q0?(d.m=I.get(Q0[0].toLowerCase()),a+Q0[0].length):-1}function $(d,o,a){var Q0=O.exec(o.slice(a));return Q0?(d.m=A.get(Q0[0].toLowerCase()),a+Q0[0].length):-1}function f(d,o,a){return P(d,J,o,a)}function h(d,o,a){return P(d,Q,o,a)}function v(d,o,a){return P(d,K,o,a)}function b(d){return Y[d.getDay()]}function y(d){return U[d.getDay()]}function k(d){return z[d.getMonth()]}function g(d){return q[d.getMonth()]}function u(d){return X[+(d.getHours()>=12)]}function i(d){return 1+~~(d.getMonth()/3)}function e(d){return Y[d.getUTCDay()]}function J0(d){return U[d.getUTCDay()]}function z0(d){return z[d.getUTCMonth()]}function t(d){return q[d.getUTCMonth()]}function B0(d){return X[+(d.getUTCHours()>=12)]}function X0(d){return 1+~~(d.getUTCMonth()/3)}return{format:function(d){var o=E(d+="",D);return o.toString=function(){return d},o},parse:function(d){var o=j(d+="",!1);return o.toString=function(){return d},o},utcFormat:function(d){var o=E(d+="",w);return o.toString=function(){return d},o},utcParse:function(d){var o=j(d+="",!0);return o.toString=function(){return d},o}}}var dm,SJ,SW0,TW0;var Ug=_(()=>{DB();dm={"-":"",_:" ","0":"0"},SJ=/^\s*\d+/,SW0=/^%/,TW0=/[\\^$*+?|[\]().{}]/g});function Sj(Z){return mq=Vj(Z),SU=mq.format,Yg=mq.parse,qg=mq.utcFormat,zg=mq.utcParse,mq}var mq,SU,Yg,qg,zg;var Gg=_(()=>{Ug();Sj({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})});var Tj=_(()=>{Gg()});function VF0(Z){return new Date(Z)}function SF0(Z){return Z instanceof Date?+Z:+new Date(+Z)}function Hg(Z,J,Q,K,X,U,Y,q,z,G){var H=FH(),W=H.invert,F=H.domain,M=G(".%L"),B=G(":%S"),O=G("%I:%M"),A=G("%I %p"),L=G("%a %d"),I=G("%b %d"),D=G("%B"),w=G("%Y");function N(E){return(z(E)<E?M:q(E)<E?B:Y(E)<E?O:U(E)<E?A:K(E)<E?X(E)<E?L:I:Q(E)<E?D:w)(E)}return H.invert=function(E){return new Date(W(E))},H.domain=function(E){return arguments.length?F(Array.from(E,SF0)):F().map(VF0)},H.ticks=function(E){var j=F();return Z(j[0],j[j.length-1],E==null?10:E)},H.tickFormat=function(E,j){return j==null?N:G(j)},H.nice=function(E){var j=F();if(!E||typeof E.range!=="function")E=J(j[0],j[j.length-1],E==null?10:E);return E?F(Wj(j,E)):H},H.copy=function(){return HB(H,Hg(Z,J,Q,K,X,U,Y,q,z,G))},H}function NB(){return KX.apply(Hg(wj,jj,f6,oK,cQ,XQ,aK,nK,T6,SU).domain([new Date(2000,0,1),new Date(2000,0,2)]),arguments)}var Wg=_(()=>{DB();Tj();Gj()});var Fg=_(()=>{vm();_m();Uj();Wg()});function fj(Z){var J=Z.length/6|0,Q=new Array(J),K=0;while(K<J)Q[K]="#"+Z.slice(K*6,++K*6);return Q}var vj;var Mg=_(()=>{vj=fj("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});var Bg=_(()=>{Mg()});function HZ(Z){return function J(){return Z}}function Og(Z){return Z>1?0:Z<-1?gq:Math.acos(Z)}function $j(Z){return Z>=1?LH:Z<=-1?-LH:Math.asin(Z)}var kj,gJ,qX,Rg,EB,dQ,TU,TJ=0.000000000001,gq,LH,pq;var wB=_(()=>{kj=Math.abs,gJ=Math.atan2,qX=Math.cos,Rg=Math.max,EB=Math.min,dQ=Math.sin,TU=Math.sqrt,gq=Math.PI,LH=gq/2,pq=2*gq});function jB(Z){let J=3;return Z.digits=function(Q){if(!arguments.length)return J;if(Q==null)J=null;else{const K=Math.floor(Q);if(!(K>=0))throw new RangeError(`invalid digits: ${Q}`);J=K}return Z},()=>new xq(J)}var _j=_(()=>{dw()});function TF0(Z){return Z.innerRadius}function fF0(Z){return Z.outerRadius}function vF0(Z){return Z.startAngle}function kF0(Z){return Z.endAngle}function $F0(Z){return Z&&Z.padAngle}function _F0(Z,J,Q,K,X,U,Y,q){var z=Q-Z,G=K-J,H=Y-X,W=q-U,F=W*z-H*G;if(F*F<TJ)return;return F=(H*(J-U)-W*(Z-X))/F,[Z+F*z,J+F*G]}function CB(Z,J,Q,K,X,U,Y){var q=Z-Q,z=J-K,G=(Y?U:-U)/TU(q*q+z*z),H=G*z,W=-G*q,F=Z+H,M=J+W,B=Q+H,O=K+W,A=(F+B)/2,L=(M+O)/2,I=B-F,D=O-M,w=I*I+D*D,N=X-U,E=F*O-B*M,j=(D<0?-1:1)*TU(Rg(0,N*N*w-E*E)),P=(E*D-I*j)/w,C=(-E*I-D*j)/w,T=(E*D+I*j)/w,V=(-E*I+D*j)/w,S=P-A,$=C-L,f=T-A,h=V-L;if(S*S+$*$>f*f+h*h)P=T,C=V;return{cx:P,cy:C,x01:-H,y01:-W,x11:P*(X/N-1),y11:C*(X/N-1)}}function iQ(){var Z=TF0,J=fF0,Q=HZ(0),K=null,X=vF0,U=kF0,Y=$F0,q=null,z=jB(G);function G(){var H,W,F=+Z.apply(this,arguments),M=+J.apply(this,arguments),B=X.apply(this,arguments)-LH,O=U.apply(this,arguments)-LH,A=kj(O-B),L=O>B;if(!q)q=H=z();if(M<F)W=M,M=F,F=W;if(!(M>TJ))q.moveTo(0,0);else if(A>pq-TJ){if(q.moveTo(M*qX(B),M*dQ(B)),q.arc(0,0,M,B,O,!L),F>TJ)q.moveTo(F*qX(O),F*dQ(O)),q.arc(0,0,F,O,B,L)}else{var I=B,D=O,w=B,N=O,E=A,j=A,P=Y.apply(this,arguments)/2,C=P>TJ&&(K?+K.apply(this,arguments):TU(F*F+M*M)),T=EB(kj(M-F)/2,+Q.apply(this,arguments)),V=T,S=T,$,f;if(C>TJ){var h=$j(C/F*dQ(P)),v=$j(C/M*dQ(P));if((E-=h*2)>TJ)h*=L?1:-1,w+=h,N-=h;else E=0,w=N=(B+O)/2;if((j-=v*2)>TJ)v*=L?1:-1,I+=v,D-=v;else j=0,I=D=(B+O)/2}var b=M*qX(I),y=M*dQ(I),k=F*qX(N),g=F*dQ(N);if(T>TJ){var u=M*qX(D),i=M*dQ(D),e=F*qX(w),J0=F*dQ(w),z0;if(A<gq)if(z0=_F0(b,y,e,J0,u,i,k,g)){var t=b-z0[0],B0=y-z0[1],X0=u-z0[0],d=i-z0[1],o=1/dQ(Og((t*X0+B0*d)/(TU(t*t+B0*B0)*TU(X0*X0+d*d)))/2),a=TU(z0[0]*z0[0]+z0[1]*z0[1]);V=EB(T,(F-a)/(o-1)),S=EB(T,(M-a)/(o+1))}else V=S=0}if(!(j>TJ))q.moveTo(b,y);else if(S>TJ)if($=CB(e,J0,b,y,M,S,L),f=CB(u,i,k,g,M,S,L),q.moveTo($.cx+$.x01,$.cy+$.y01),S<T)q.arc($.cx,$.cy,S,gJ($.y01,$.x01),gJ(f.y01,f.x01),!L);else q.arc($.cx,$.cy,S,gJ($.y01,$.x01),gJ($.y11,$.x11),!L),q.arc(0,0,M,gJ($.cy+$.y11,$.cx+$.x11),gJ(f.cy+f.y11,f.cx+f.x11),!L),q.arc(f.cx,f.cy,S,gJ(f.y11,f.x11),gJ(f.y01,f.x01),!L);else q.moveTo(b,y),q.arc(0,0,M,I,D,!L);if(!(F>TJ)||!(E>TJ))q.lineTo(k,g);else if(V>TJ)if($=CB(k,g,u,i,F,-V,L),f=CB(b,y,e,J0,F,-V,L),q.lineTo($.cx+$.x01,$.cy+$.y01),V<T)q.arc($.cx,$.cy,V,gJ($.y01,$.x01),gJ(f.y01,f.x01),!L);else q.arc($.cx,$.cy,V,gJ($.y01,$.x01),gJ($.y11,$.x11),!L),q.arc(0,0,F,gJ($.cy+$.y11,$.cx+$.x11),gJ(f.cy+f.y11,f.cx+f.x11),L),q.arc(f.cx,f.cy,V,gJ(f.y11,f.x11),gJ(f.y01,f.x01),!L);else q.arc(0,0,F,N,w,L)}if(q.closePath(),H)return q=null,H+""||null}return G.centroid=function(){var H=(+Z.apply(this,arguments)+ +J.apply(this,arguments))/2,W=(+X.apply(this,arguments)+ +U.apply(this,arguments))/2-gq/2;return[qX(W)*H,dQ(W)*H]},G.innerRadius=function(H){return arguments.length?(Z=typeof H==="function"?H:HZ(+H),G):Z},G.outerRadius=function(H){return arguments.length?(J=typeof H==="function"?H:HZ(+H),G):J},G.cornerRadius=function(H){return arguments.length?(Q=typeof H==="function"?H:HZ(+H),G):Q},G.padRadius=function(H){return arguments.length?(K=H==null?null:typeof H==="function"?H:HZ(+H),G):K},G.startAngle=function(H){return arguments.length?(X=typeof H==="function"?H:HZ(+H),G):X},G.endAngle=function(H){return arguments.length?(U=typeof H==="function"?H:HZ(+H),G):U},G.padAngle=function(H){return arguments.length?(Y=typeof H==="function"?H:HZ(+H),G):Y},G.context=function(H){return arguments.length?(q=H==null?null:H,G):q},G}var Ag=_(()=>{wB();_j()});function IH(Z){return typeof Z==="object"&&"length"in Z?Z:Array.from(Z)}var _69;var bj=_(()=>{_69=Array.prototype.slice});function Lg(Z){this._context=Z}function tK(Z){return new Lg(Z)}var xj=_(()=>{Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:this._context.lineTo(Z,J);break}}}});function Ig(Z){return Z[0]}function Dg(Z){return Z[1]}function pJ(Z,J){var Q=HZ(!0),K=null,X=tK,U=null,Y=jB(q);Z=typeof Z==="function"?Z:Z===void 0?Ig:HZ(Z),J=typeof J==="function"?J:J===void 0?Dg:HZ(J);function q(z){var G,H=(z=IH(z)).length,W,F=!1,M;if(K==null)U=X(M=Y());for(G=0;G<=H;++G){if(!(G<H&&Q(W=z[G],G,z))===F)if(F=!F)U.lineStart();else U.lineEnd();if(F)U.point(+Z(W,G,z),+J(W,G,z))}if(M)return U=null,M+""||null}return q.x=function(z){return arguments.length?(Z=typeof z==="function"?z:HZ(+z),q):Z},q.y=function(z){return arguments.length?(J=typeof z==="function"?z:HZ(+z),q):J},q.defined=function(z){return arguments.length?(Q=typeof z==="function"?z:HZ(!!z),q):Q},q.curve=function(z){return arguments.length?(X=z,K!=null&&(U=X(K)),q):X},q.context=function(z){return arguments.length?(z==null?K=U=null:U=X(K=z),q):K},q}var Ng=_(()=>{bj();xj();_j()});function hj(Z,J){return J<Z?-1:J>Z?1:J>=Z?0:NaN}function yj(Z){return Z}function PB(){var Z=yj,J=hj,Q=null,K=HZ(0),X=HZ(pq),U=HZ(0);function Y(q){var z,G=(q=IH(q)).length,H,W,F=0,M=new Array(G),B=new Array(G),O=+K.apply(this,arguments),A=Math.min(pq,Math.max(-pq,X.apply(this,arguments)-O)),L,I=Math.min(Math.abs(A)/G,U.apply(this,arguments)),D=I*(A<0?-1:1),w;for(z=0;z<G;++z)if((w=B[M[z]=z]=+Z(q[z],z,q))>0)F+=w;if(J!=null)M.sort(function(N,E){return J(B[N],B[E])});else if(Q!=null)M.sort(function(N,E){return Q(q[N],q[E])});for(z=0,W=F?(A-G*D)/F:0;z<G;++z,O=L)H=M[z],w=B[H],L=O+(w>0?w*W:0)+D,B[H]={data:q[H],index:z,value:w,startAngle:O,endAngle:L,padAngle:I};return B}return Y.value=function(q){return arguments.length?(Z=typeof q==="function"?q:HZ(+q),Y):Z},Y.sortValues=function(q){return arguments.length?(J=q,Q=null,Y):J},Y.sort=function(q){return arguments.length?(Q=q,J=null,Y):Q},Y.startAngle=function(q){return arguments.length?(K=typeof q==="function"?q:HZ(+q),Y):K},Y.endAngle=function(q){return arguments.length?(X=typeof q==="function"?q:HZ(+q),Y):X},Y.padAngle=function(q){return arguments.length?(U=typeof q==="function"?q:HZ(+q),Y):U},Y}var Eg=_(()=>{bj();wB()});function mj(Z){return new uj(Z,!0)}function gj(Z){return new uj(Z,!1)}class uj{constructor(Z,J){this._context=Z,this._x=J}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line}point(Z,J){switch(Z=+Z,J=+J,this._point){case 0:{if(this._point=1,this._line)this._context.lineTo(Z,J);else this._context.moveTo(Z,J);break}case 1:this._point=2;default:{if(this._x)this._context.bezierCurveTo(this._x0=(this._x0+Z)/2,this._y0,this._x0,J,Z,J);else this._context.bezierCurveTo(this._x0,this._y0=(this._y0+J)/2,Z,this._y0,Z,J);break}}this._x0=Z,this._y0=J}}var wg=()=>{};function v6(){}function cq(Z,J,Q){Z._context.bezierCurveTo((2*Z._x0+Z._x1)/3,(2*Z._y0+Z._y1)/3,(Z._x0+2*Z._x1)/3,(Z._y0+2*Z._y1)/3,(Z._x0+4*Z._x1+J)/6,(Z._y0+4*Z._y1+Q)/6)}function DH(Z){this._context=Z}function o7(Z){return new DH(Z)}var NH=_(()=>{DH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cq(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cq(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function jg(Z){this._context=Z}function VB(Z){return new jg(Z)}var Cg=_(()=>{NH();jg.prototype={areaStart:v6,areaEnd:v6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x2=Z,this._y2=J;break;case 1:this._point=2,this._x3=Z,this._y3=J;break;case 2:this._point=3,this._x4=Z,this._y4=J,this._context.moveTo((this._x0+4*this._x1+Z)/6,(this._y0+4*this._y1+J)/6);break;default:cq(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function Pg(Z){this._context=Z}function SB(Z){return new Pg(Z)}var Vg=_(()=>{NH();Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var Q=(this._x0+4*this._x1+Z)/6,K=(this._y0+4*this._y1+J)/6;this._line?this._context.lineTo(Q,K):this._context.moveTo(Q,K);break;case 3:this._point=4;default:cq(this,Z,J);break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J}}});function Sg(Z,J){this._basis=new DH(Z),this._beta=J}var pj;var Tg=_(()=>{NH();Sg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length-1;if(Q>0){var K=Z[0],X=J[0],U=Z[Q]-K,Y=J[Q]-X,q=-1,z;while(++q<=Q)z=q/Q,this._basis.point(this._beta*Z[q]+(1-this._beta)*(K+z*U),this._beta*J[q]+(1-this._beta)*(X+z*Y))}this._x=this._y=null,this._basis.lineEnd()},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}};pj=function Z(J){function Q(K){return J===1?new DH(K):new Sg(K,J)}return Q.beta=function(K){return Z(+K)},Q}(0.85)});function lq(Z,J,Q){Z._context.bezierCurveTo(Z._x1+Z._k*(Z._x2-Z._x0),Z._y1+Z._k*(Z._y2-Z._y0),Z._x2+Z._k*(Z._x1-J),Z._y2+Z._k*(Z._y1-Q),Z._x2,Z._y2)}function TB(Z,J){this._context=Z,this._k=(1-J)/6}var cj;var EH=_(()=>{TB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lq(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2,this._x1=Z,this._y1=J;break;case 2:this._point=3;default:lq(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};cj=function Z(J){function Q(K){return new TB(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function fB(Z,J){this._context=Z,this._k=(1-J)/6}var lj;var dj=_(()=>{EH();fB.prototype={areaStart:v6,areaEnd:v6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:lq(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};lj=function Z(J){function Q(K){return new fB(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function vB(Z,J){this._context=Z,this._k=(1-J)/6}var ij;var sj=_(()=>{EH();vB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lq(this,Z,J);break}this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};ij=function Z(J){function Q(K){return new vB(K,J)}return Q.tension=function(K){return Z(+K)},Q}(0)});function wH(Z,J,Q){var{_x1:K,_y1:X,_x2:U,_y2:Y}=Z;if(Z._l01_a>TJ){var q=2*Z._l01_2a+3*Z._l01_a*Z._l12_a+Z._l12_2a,z=3*Z._l01_a*(Z._l01_a+Z._l12_a);K=(K*q-Z._x0*Z._l12_2a+Z._x2*Z._l01_2a)/z,X=(X*q-Z._y0*Z._l12_2a+Z._y2*Z._l01_2a)/z}if(Z._l23_a>TJ){var G=2*Z._l23_2a+3*Z._l23_a*Z._l12_a+Z._l12_2a,H=3*Z._l23_a*(Z._l23_a+Z._l12_a);U=(U*G+Z._x1*Z._l23_2a-J*Z._l12_2a)/H,Y=(Y*G+Z._y1*Z._l23_2a-Q*Z._l12_2a)/H}Z._context.bezierCurveTo(K,X,U,Y,Z._x2,Z._y2)}function fg(Z,J){this._context=Z,this._alpha=J}var rj;var kB=_(()=>{wB();EH();fg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3;default:wH(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};rj=function Z(J){function Q(K){return J?new fg(K,J):new TB(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function vg(Z,J){this._context=Z,this._alpha=J}var nj;var kg=_(()=>{dj();kB();vg.prototype={areaStart:v6,areaEnd:v6,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=Z,this._y3=J;break;case 1:this._point=2,this._context.moveTo(this._x4=Z,this._y4=J);break;case 2:this._point=3,this._x5=Z,this._y5=J;break;default:wH(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};nj=function Z(J){function Q(K){return J?new vg(K,J):new fB(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function $g(Z,J){this._context=Z,this._alpha=J}var aj;var _g=_(()=>{sj();kB();$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===3)this._context.closePath();this._line=1-this._line},point:function(Z,J){if(Z=+Z,J=+J,this._point){var Q=this._x2-Z,K=this._y2-J;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Q*Q+K*K,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wH(this,Z,J);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=Z,this._y0=this._y1,this._y1=this._y2,this._y2=J}};aj=function Z(J){function Q(K){return J?new $g(K,J):new vB(K,0)}return Q.alpha=function(K){return Z(+K)},Q}(0.5)});function bg(Z){this._context=Z}function $B(Z){return new bg(Z)}var xg=_(()=>{bg.prototype={areaStart:v6,areaEnd:v6,lineStart:function(){this._point=0},lineEnd:function(){if(this._point)this._context.closePath()},point:function(Z,J){if(Z=+Z,J=+J,this._point)this._context.lineTo(Z,J);else this._point=1,this._context.moveTo(Z,J)}}});function hg(Z){return Z<0?-1:1}function yg(Z,J,Q){var K=Z._x1-Z._x0,X=J-Z._x1,U=(Z._y1-Z._y0)/(K||X<0&&-0),Y=(Q-Z._y1)/(X||K<0&&-0),q=(U*X+Y*K)/(K+X);return(hg(U)+hg(Y))*Math.min(Math.abs(U),Math.abs(Y),0.5*Math.abs(q))||0}function ug(Z,J){var Q=Z._x1-Z._x0;return Q?(3*(Z._y1-Z._y0)/Q-J)/2:J}function oj(Z,J,Q){var{_x0:K,_y0:X,_x1:U,_y1:Y}=Z,q=(U-K)/3;Z._context.bezierCurveTo(K+q,X+q*J,U-q,Y-q*Q,U,Y)}function _B(Z){this._context=Z}function mg(Z){this._context=new gg(Z)}function gg(Z){this._context=Z}function tj(Z){return new _B(Z)}function ej(Z){return new mg(Z)}var pg=_(()=>{_B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:oj(this,this._t0,ug(this,this._t0));break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(Z,J){var Q=NaN;if(Z=+Z,J=+J,Z===this._x1&&J===this._y1)return;switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;break;case 2:this._point=3,oj(this,ug(this,Q=yg(this,Z,J)),Q);break;default:oj(this,this._t0,Q=yg(this,Z,J));break}this._x0=this._x1,this._x1=Z,this._y0=this._y1,this._y1=J,this._t0=Q}};(mg.prototype=Object.create(_B.prototype)).point=function(Z,J){_B.prototype.point.call(this,J,Z)};gg.prototype={moveTo:function(Z,J){this._context.moveTo(J,Z)},closePath:function(){this._context.closePath()},lineTo:function(Z,J){this._context.lineTo(J,Z)},bezierCurveTo:function(Z,J,Q,K,X,U){this._context.bezierCurveTo(J,Z,K,Q,U,X)}}});function lg(Z){this._context=Z}function cg(Z){var J,Q=Z.length-1,K,X=new Array(Q),U=new Array(Q),Y=new Array(Q);X[0]=0,U[0]=2,Y[0]=Z[0]+2*Z[1];for(J=1;J<Q-1;++J)X[J]=1,U[J]=4,Y[J]=4*Z[J]+2*Z[J+1];X[Q-1]=2,U[Q-1]=7,Y[Q-1]=8*Z[Q-1]+Z[Q];for(J=1;J<Q;++J)K=X[J]/U[J-1],U[J]-=K,Y[J]-=K*Y[J-1];X[Q-1]=Y[Q-1]/U[Q-1];for(J=Q-2;J>=0;--J)X[J]=(Y[J]-X[J+1])/U[J];U[Q-1]=(Z[Q]+X[Q-1])/2;for(J=0;J<Q-1;++J)U[J]=2*Z[J+1]-X[J+1];return[X,U]}function bB(Z){return new lg(Z)}var dg=_(()=>{lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Z=this._x,J=this._y,Q=Z.length;if(Q)if(this._line?this._context.lineTo(Z[0],J[0]):this._context.moveTo(Z[0],J[0]),Q===2)this._context.lineTo(Z[1],J[1]);else{var K=cg(Z),X=cg(J);for(var U=0,Y=1;Y<Q;++U,++Y)this._context.bezierCurveTo(K[0][U],X[0][U],K[1][U],X[1][U],Z[Y],J[Y])}if(this._line||this._line!==0&&Q===1)this._context.closePath();this._line=1-this._line,this._x=this._y=null},point:function(Z,J){this._x.push(+Z),this._y.push(+J)}}});function xB(Z,J){this._context=Z,this._t=J}function ZC(Z){return new xB(Z,0)}function JC(Z){return new xB(Z,1)}function hB(Z){return new xB(Z,0.5)}var ig=_(()=>{xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){if(0<this._t&&this._t<1&&this._point===2)this._context.lineTo(this._x,this._y);if(this._line||this._line!==0&&this._point===1)this._context.closePath();if(this._line>=0)this._t=1-this._t,this._line=1-this._line},point:function(Z,J){switch(Z=+Z,J=+J,this._point){case 0:this._point=1,this._line?this._context.lineTo(Z,J):this._context.moveTo(Z,J);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,J),this._context.lineTo(Z,J);else{var Q=this._x*(1-this._t)+Z*this._t;this._context.lineTo(Q,this._y),this._context.lineTo(Q,J)}break}}this._x=Z,this._y=J}}});var sg=_(()=>{Ag();Ng();Eg();Cg();Vg();NH();wg();Tg();dj();sj();EH();kg();_g();kB();xg();xj();pg();dg();ig()});function zX(Z,J,Q){this.k=Z,this.x=J,this.y=Q}function KC(Z){while(!Z.__zoom)if(!(Z=Z.parentNode))return QC;return Z.__zoom}var QC;var XC=_(()=>{zX.prototype={constructor:zX,scale:function(Z){return Z===1?this:new zX(this.k*Z,this.x,this.y)},translate:function(Z,J){return Z===0&J===0?this:new zX(this.k,this.x+this.k*Z,this.y+this.k*J)},apply:function(Z){return[Z[0]*this.k+this.x,Z[1]*this.k+this.y]},applyX:function(Z){return Z*this.k+this.x},applyY:function(Z){return Z*this.k+this.y},invert:function(Z){return[(Z[0]-this.x)/this.k,(Z[1]-this.y)/this.k]},invertX:function(Z){return(Z-this.x)/this.k},invertY:function(Z){return(Z-this.y)/this.k},rescaleX:function(Z){return Z.copy().domain(Z.range().map(this.invertX,this).map(Z.invert,Z))},rescaleY:function(Z){return Z.copy().domain(Z.range().map(this.invertY,this).map(Z.invert,Z))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};QC=new zX(1,0,0);KC.prototype=zX.prototype});var rg=_(()=>{ZB();XC()});var ng=_(()=>{rg();XC()});var i9=_(()=>{a5();Ly();qm();Wm();fq();Fm();Mm();XE();cy();Bm();mw();Rm();Am();Kj();Vm();Sm();$q();dw();Tm();Om();fm();Fg();Bg();yQ();sg();DB();Tj();r2();ZB();ng()});var bF0,yB;var UC=_(()=>{bF0=typeof global=="object"&&global&&global.Object===Object&&global,yB=bF0});var xF0,hF0,xZ;var UQ=_(()=>{UC();xF0=typeof self=="object"&&self&&self.Object===Object&&self,hF0=yB||xF0||Function("return this")(),xZ=hF0});var yF0,fJ;var fU=_(()=>{UQ();yF0=xZ.Symbol,fJ=yF0});function gF0(Z){var J=uF0.call(Z,jH),Q=Z[jH];try{Z[jH]=void 0;var K=!0}catch(U){}var X=mF0.call(Z);if(K)if(J)Z[jH]=Q;else delete Z[jH];return X}var ag,uF0,mF0,jH,og;var tg=_(()=>{fU();ag=Object.prototype,uF0=ag.hasOwnProperty,mF0=ag.toString,jH=fJ?fJ.toStringTag:void 0,og=gF0});function lF0(Z){return cF0.call(Z)}var pF0,cF0,eg;var Zp=_(()=>{pF0=Object.prototype,cF0=pF0.toString,eg=lF0});function sF0(Z){if(Z==null)return Z===void 0?iF0:dF0;return Jp&&Jp in Object(Z)?og(Z):eg(Z)}var dF0="[object Null]",iF0="[object Undefined]",Jp,cJ;var eK=_(()=>{fU();tg();Zp();Jp=fJ?fJ.toStringTag:void 0,cJ=sF0});function rF0(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}var e8;var k6=_(()=>{e8=rF0});function eF0(Z){if(!e8(Z))return!1;var J=cJ(Z);return J==aF0||J==oF0||J==nF0||J==tF0}var nF0="[object AsyncFunction]",aF0="[object Function]",oF0="[object GeneratorFunction]",tF0="[object Proxy]",KJ;var CH=_(()=>{eK();k6();KJ=eF0});var ZM0,uB;var Qp=_(()=>{UQ();ZM0=xZ["__core-js_shared__"],uB=ZM0});function JM0(Z){return!!Kp&&Kp in Z}var Kp,Xp;var Up=_(()=>{Qp();Kp=function(){var Z=/[^.]+$/.exec(uB&&uB.keys&&uB.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),Xp=JM0});function XM0(Z){if(Z!=null){try{return KM0.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}var QM0,KM0,Z5;var YC=_(()=>{QM0=Function.prototype,KM0=QM0.toString,Z5=XM0});function FM0(Z){if(!e8(Z)||Xp(Z))return!1;var J=KJ(Z)?WM0:YM0;return J.test(Z5(Z))}var UM0,YM0,qM0,zM0,GM0,HM0,WM0,Yp;var qp=_(()=>{CH();Up();k6();YC();UM0=/[\\^$.*+?()[\]{}|]/g,YM0=/^\[object .+?Constructor\]$/,qM0=Function.prototype,zM0=Object.prototype,GM0=qM0.toString,HM0=zM0.hasOwnProperty,WM0=RegExp("^"+GM0.call(HM0).replace(UM0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yp=FM0});function MM0(Z,J){return Z==null?void 0:Z[J]}var zp;var Gp=_(()=>{zp=MM0});function BM0(Z,J){var Q=zp(Z,J);return Yp(Q)?Q:void 0}var t7;var GX=_(()=>{qp();Gp();t7=BM0});var RM0,J5;var PH=_(()=>{GX();RM0=t7(Object,"create"),J5=RM0});function OM0(){this.__data__=J5?J5(null):{},this.size=0}var Hp;var Wp=_(()=>{PH();Hp=OM0});function AM0(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}var Fp;var Mp=_(()=>{Fp=AM0});function NM0(Z){var J=this.__data__;if(J5){var Q=J[Z];return Q===LM0?void 0:Q}return DM0.call(J,Z)?J[Z]:void 0}var LM0="__lodash_hash_undefined__",IM0,DM0,Bp;var Rp=_(()=>{PH();IM0=Object.prototype,DM0=IM0.hasOwnProperty,Bp=NM0});function jM0(Z){var J=this.__data__;return J5?J[Z]!==void 0:wM0.call(J,Z)}var EM0,wM0,Op;var Ap=_(()=>{PH();EM0=Object.prototype,wM0=EM0.hasOwnProperty,Op=jM0});function PM0(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=J5&&J===void 0?CM0:J,this}var CM0="__lodash_hash_undefined__",Lp;var Ip=_(()=>{PH();Lp=PM0});function dq(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var qC;var Dp=_(()=>{Wp();Mp();Rp();Ap();Ip();dq.prototype.clear=Hp;dq.prototype.delete=Fp;dq.prototype.get=Bp;dq.prototype.has=Op;dq.prototype.set=Lp;qC=dq});function VM0(){this.__data__=[],this.size=0}var Np;var Ep=_(()=>{Np=VM0});function SM0(Z,J){return Z===J||Z!==Z&&J!==J}var YQ;var vU=_(()=>{YQ=SM0});function TM0(Z,J){var Q=Z.length;while(Q--)if(YQ(Z[Q][0],J))return Q;return-1}var HX;var VH=_(()=>{vU();HX=TM0});function kM0(Z){var J=this.__data__,Q=HX(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else vM0.call(J,Q,1);return--this.size,!0}var fM0,vM0,wp;var jp=_(()=>{VH();fM0=Array.prototype,vM0=fM0.splice,wp=kM0});function $M0(Z){var J=this.__data__,Q=HX(J,Z);return Q<0?void 0:J[Q][1]}var Cp;var Pp=_(()=>{VH();Cp=$M0});function _M0(Z){return HX(this.__data__,Z)>-1}var Vp;var Sp=_(()=>{VH();Vp=_M0});function bM0(Z,J){var Q=this.__data__,K=HX(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}var Tp;var fp=_(()=>{VH();Tp=bM0});function iq(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var WX;var SH=_(()=>{Ep();jp();Pp();Sp();fp();iq.prototype.clear=Np;iq.prototype.delete=wp;iq.prototype.get=Cp;iq.prototype.has=Vp;iq.prototype.set=Tp;WX=iq});var xM0,FX;var mB=_(()=>{GX();UQ();xM0=t7(xZ,"Map"),FX=xM0});function hM0(){this.size=0,this.__data__={hash:new qC,map:new(FX||WX),string:new qC}}var vp;var kp=_(()=>{Dp();SH();mB();vp=hM0});function yM0(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}var $p;var _p=_(()=>{$p=yM0});function uM0(Z,J){var Q=Z.__data__;return $p(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}var MX;var TH=_(()=>{_p();MX=uM0});function mM0(Z){var J=MX(this,Z).delete(Z);return this.size-=J?1:0,J}var bp;var xp=_(()=>{TH();bp=mM0});function gM0(Z){return MX(this,Z).get(Z)}var hp;var yp=_(()=>{TH();hp=gM0});function pM0(Z){return MX(this,Z).has(Z)}var up;var mp=_(()=>{TH();up=pM0});function cM0(Z,J){var Q=MX(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}var gp;var pp=_(()=>{TH();gp=cM0});function sq(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}var kU;var gB=_(()=>{kp();xp();yp();mp();pp();sq.prototype.clear=vp;sq.prototype.delete=bp;sq.prototype.get=hp;sq.prototype.has=up;sq.prototype.set=gp;kU=sq});function zC(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw new TypeError(lM0);var Q=function(){var K=arguments,X=J?J.apply(this,K):K[0],U=Q.cache;if(U.has(X))return U.get(X);var Y=Z.apply(this,K);return Q.cache=U.set(X,Y)||U,Y};return Q.cache=new(zC.Cache||kU),Q}var lM0="Expected a function",rq;var GC=_(()=>{gB();zC.Cache=kU;rq=zC});function dM0(){this.__data__=new WX,this.size=0}var cp;var lp=_(()=>{SH();cp=dM0});function iM0(Z){var J=this.__data__,Q=J.delete(Z);return this.size=J.size,Q}var dp;var ip=_(()=>{dp=iM0});function sM0(Z){return this.__data__.get(Z)}var sp;var rp=_(()=>{sp=sM0});function rM0(Z){return this.__data__.has(Z)}var np;var ap=_(()=>{np=rM0});function aM0(Z,J){var Q=this.__data__;if(Q instanceof WX){var K=Q.__data__;if(!FX||K.length<nM0-1)return K.push([Z,J]),this.size=++Q.size,this;Q=this.__data__=new kU(K)}return Q.set(Z,J),this.size=Q.size,this}var nM0=200,op;var tp=_(()=>{SH();mB();gB();op=aM0});function nq(Z){var J=this.__data__=new WX(Z);this.size=J.size}var h4;var fH=_(()=>{SH();lp();ip();rp();ap();tp();nq.prototype.clear=cp;nq.prototype.delete=dp;nq.prototype.get=sp;nq.prototype.has=np;nq.prototype.set=op;h4=nq});var oM0,aq;var HC=_(()=>{GX();oM0=function(){try{var Z=t7(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),aq=oM0});function tM0(Z,J,Q){if(J=="__proto__"&&aq)aq(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}var y4;var oq=_(()=>{HC();y4=tM0});function eM0(Z,J,Q){if(Q!==void 0&&!YQ(Z[J],Q)||Q===void 0&&!(J in Z))y4(Z,J,Q)}var vH;var WC=_(()=>{oq();vU();vH=eM0});function Z20(Z){return function(J,Q,K){var X=-1,U=Object(J),Y=K(J),q=Y.length;while(q--){var z=Y[Z?q:++X];if(Q(U[z],z,U)===!1)break}return J}}var ep;var Zc=_(()=>{ep=Z20});var J20,tq;var pB=_(()=>{Zc();J20=ep(),tq=J20});var lB={};q8(lB,{default:()=>kH});function K20(Z,J){if(J)return Z.slice();var Q=Z.length,K=Kc?Kc(Q):new Z.constructor(Q);return Z.copy(K),K}var Xc,Jc,Q20,Qc,Kc,kH;var FC=_(()=>{UQ();Xc=typeof lB=="object"&&lB&&!lB.nodeType&&lB,Jc=Xc&&typeof cB=="object"&&cB&&!cB.nodeType&&cB,Q20=Jc&&Jc.exports===Xc,Qc=Q20?xZ.Buffer:void 0,Kc=Qc?Qc.allocUnsafe:void 0,kH=K20});var X20,eq;var MC=_(()=>{UQ();X20=xZ.Uint8Array,eq=X20});function U20(Z){var J=new Z.constructor(Z.byteLength);return new eq(J).set(new eq(Z)),J}var Z1;var dB=_(()=>{MC();Z1=U20});function Y20(Z,J){var Q=J?Z1(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.length)}var iB;var BC=_(()=>{dB();iB=Y20});function q20(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}var sB;var RC=_(()=>{sB=q20});var Uc,z20,Yc;var qc=_(()=>{k6();Uc=Object.create,z20=function(){function Z(){}return function(J){if(!e8(J))return{};if(Uc)return Uc(J);Z.prototype=J;var Q=new Z;return Z.prototype=void 0,Q}}(),Yc=z20});function G20(Z,J){return function(Q){return Z(J(Q))}}var rB;var OC=_(()=>{rB=G20});var H20,J1;var nB=_(()=>{OC();H20=rB(Object.getPrototypeOf,Object),J1=H20});function F20(Z){var J=Z&&Z.constructor,Q=typeof J=="function"&&J.prototype||W20;return Z===Q}var W20,u4;var Q1=_(()=>{W20=Object.prototype,u4=F20});function M20(Z){return typeof Z.constructor=="function"&&!u4(Z)?Yc(J1(Z)):{}}var aB;var AC=_(()=>{qc();nB();Q1();aB=M20});function B20(Z){return Z!=null&&typeof Z=="object"}var fZ;var qQ=_(()=>{fZ=B20});function O20(Z){return fZ(Z)&&cJ(Z)==R20}var R20="[object Arguments]",LC;var zc=_(()=>{eK();qQ();LC=O20});var Gc,A20,L20,I20,sQ;var K1=_(()=>{zc();qQ();Gc=Object.prototype,A20=Gc.hasOwnProperty,L20=Gc.propertyIsEnumerable,I20=LC(function(){return arguments}())?LC:function(Z){return fZ(Z)&&A20.call(Z,"callee")&&!L20.call(Z,"callee")},sQ=I20});var D20,G9;var IZ=_(()=>{D20=Array.isArray,G9=D20});function E20(Z){return typeof Z=="number"&&Z>-1&&Z%1==0&&Z<=N20}var N20=9007199254740991,X1;var oB=_(()=>{X1=E20});function w20(Z){return Z!=null&&X1(Z.length)&&!KJ(Z)}var hZ;var zQ=_(()=>{CH();oB();hZ=w20});function j20(Z){return fZ(Z)&&hZ(Z)}var $U;var tB=_(()=>{zQ();qQ();$U=j20});function C20(){return!1}var Hc;var Wc=_(()=>{Hc=C20});var ZR={};q8(ZR,{default:()=>GQ});var Bc,Fc,P20,Mc,V20,S20,GQ;var U1=_(()=>{UQ();Wc();Bc=typeof ZR=="object"&&ZR&&!ZR.nodeType&&ZR,Fc=Bc&&typeof eB=="object"&&eB&&!eB.nodeType&&eB,P20=Fc&&Fc.exports===Bc,Mc=P20?xZ.Buffer:void 0,V20=Mc?Mc.isBuffer:void 0,S20=V20||Hc,GQ=S20});function _20(Z){if(!fZ(Z)||cJ(Z)!=T20)return!1;var J=J1(Z);if(J===null)return!0;var Q=k20.call(J,"constructor")&&J.constructor;return typeof Q=="function"&&Q instanceof Q&&Rc.call(Q)==$20}var T20="[object Object]",f20,v20,Rc,k20,$20,Oc;var Ac=_(()=>{eK();nB();qQ();f20=Function.prototype,v20=Object.prototype,Rc=f20.toString,k20=v20.hasOwnProperty,$20=Rc.call(Object),Oc=_20});function UB0(Z){return fZ(Z)&&X1(Z.length)&&!!WZ[cJ(Z)]}var b20="[object Arguments]",x20="[object Array]",h20="[object Boolean]",y20="[object Date]",u20="[object Error]",m20="[object Function]",g20="[object Map]",p20="[object Number]",c20="[object Object]",l20="[object RegExp]",d20="[object Set]",i20="[object String]",s20="[object WeakMap]",r20="[object ArrayBuffer]",n20="[object DataView]",a20="[object Float32Array]",o20="[object Float64Array]",t20="[object Int8Array]",e20="[object Int16Array]",ZB0="[object Int32Array]",JB0="[object Uint8Array]",QB0="[object Uint8ClampedArray]",KB0="[object Uint16Array]",XB0="[object Uint32Array]",WZ,Lc;var Ic=_(()=>{eK();oB();qQ();WZ={};WZ[a20]=WZ[o20]=WZ[t20]=WZ[e20]=WZ[ZB0]=WZ[JB0]=WZ[QB0]=WZ[KB0]=WZ[XB0]=!0;WZ[b20]=WZ[x20]=WZ[r20]=WZ[h20]=WZ[n20]=WZ[y20]=WZ[u20]=WZ[m20]=WZ[g20]=WZ[p20]=WZ[c20]=WZ[l20]=WZ[d20]=WZ[i20]=WZ[s20]=!1;Lc=UB0});function YB0(Z){return function(J){return Z(J)}}var HQ;var _U=_(()=>{HQ=YB0});var QR={};q8(QR,{default:()=>$6});var Dc,$H,qB0,IC,zB0,$6;var _H=_(()=>{UC();Dc=typeof QR=="object"&&QR&&!QR.nodeType&&QR,$H=Dc&&typeof JR=="object"&&JR&&!JR.nodeType&&JR,qB0=$H&&$H.exports===Dc,IC=qB0&&yB.process,zB0=function(){try{var Z=$H&&$H.require&&$H.require("util").types;if(Z)return Z;return IC&&IC.binding&&IC.binding("util")}catch(J){}}(),$6=zB0});var Nc,GB0,BX;var bH=_(()=>{Ic();_U();_H();Nc=$6&&$6.isTypedArray,GB0=Nc?HQ(Nc):Lc,BX=GB0});function HB0(Z,J){if(J==="constructor"&&typeof Z[J]==="function")return;if(J=="__proto__")return;return Z[J]}var xH;var DC=_(()=>{xH=HB0});function MB0(Z,J,Q){var K=Z[J];if(!(FB0.call(Z,J)&&YQ(K,Q))||Q===void 0&&!(J in Z))y4(Z,J,Q)}var WB0,FB0,m4;var Y1=_(()=>{oq();vU();WB0=Object.prototype,FB0=WB0.hasOwnProperty,m4=MB0});function BB0(Z,J,Q,K){var X=!Q;Q||(Q={});var U=-1,Y=J.length;while(++U<Y){var q=J[U],z=K?K(Q[q],Z[q],q,Q,Z):void 0;if(z===void 0)z=Z[q];if(X)y4(Q,q,z);else m4(Q,q,z)}return Q}var WQ;var bU=_(()=>{Y1();oq();WQ=BB0});function RB0(Z,J){var Q=-1,K=Array(Z);while(++Q<Z)K[Q]=J(Q);return K}var Ec;var wc=_(()=>{Ec=RB0});function LB0(Z,J){var Q=typeof Z;return J=J==null?OB0:J,!!J&&(Q=="number"||Q!="symbol"&&AB0.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}var OB0=9007199254740991,AB0,RX;var hH=_(()=>{AB0=/^(?:0|[1-9]\d*)$/,RX=LB0});function NB0(Z,J){var Q=G9(Z),K=!Q&&sQ(Z),X=!Q&&!K&&GQ(Z),U=!Q&&!K&&!X&&BX(Z),Y=Q||K||X||U,q=Y?Ec(Z.length,String):[],z=q.length;for(var G in Z)if((J||DB0.call(Z,G))&&!(Y&&(G=="length"||X&&(G=="offset"||G=="parent")||U&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||RX(G,z))))q.push(G);return q}var IB0,DB0,KR;var NC=_(()=>{wc();K1();IZ();U1();hH();bH();IB0=Object.prototype,DB0=IB0.hasOwnProperty,KR=NB0});function EB0(Z){var J=[];if(Z!=null)for(var Q in Object(Z))J.push(Q);return J}var jc;var Cc=_(()=>{jc=EB0});function CB0(Z){if(!e8(Z))return jc(Z);var J=u4(Z),Q=[];for(var K in Z)if(!(K=="constructor"&&(J||!jB0.call(Z,K))))Q.push(K);return Q}var wB0,jB0,Pc;var Vc=_(()=>{k6();Q1();Cc();wB0=Object.prototype,jB0=wB0.hasOwnProperty,Pc=CB0});function PB0(Z){return hZ(Z)?KR(Z,!0):Pc(Z)}var e7;var OX=_(()=>{NC();Vc();zQ();e7=PB0});function VB0(Z){return WQ(Z,e7(Z))}var Sc;var Tc=_(()=>{bU();OX();Sc=VB0});function SB0(Z,J,Q,K,X,U,Y){var q=xH(Z,Q),z=xH(J,Q),G=Y.get(z);if(G){vH(Z,Q,G);return}var H=U?U(q,z,Q+"",Z,J,Y):void 0,W=H===void 0;if(W){var F=G9(z),M=!F&&GQ(z),B=!F&&!M&&BX(z);if(H=z,F||M||B)if(G9(q))H=q;else if($U(q))H=sB(q);else if(M)W=!1,H=kH(z,!0);else if(B)W=!1,H=iB(z,!0);else H=[];else if(Oc(z)||sQ(z)){if(H=q,sQ(q))H=Sc(q);else if(!e8(q)||KJ(q))H=aB(z)}else W=!1}if(W)Y.set(z,H),X(H,z,K,U,Y),Y.delete(z);vH(Z,Q,H)}var fc;var vc=_(()=>{WC();FC();BC();RC();AC();K1();IZ();tB();U1();CH();k6();Ac();bH();DC();Tc();fc=SB0});function kc(Z,J,Q,K,X){if(Z===J)return;tq(J,function(U,Y){if(X||(X=new h4),e8(U))fc(Z,J,Y,Q,kc,K,X);else{var q=K?K(xH(Z,Y),U,Y+"",Z,J,X):void 0;if(q===void 0)q=U;vH(Z,Y,q)}},e7)}var $c;var _c=_(()=>{fH();WC();pB();vc();k6();OX();DC();$c=kc});function TB0(Z){return Z}var vJ;var Q5=_(()=>{vJ=TB0});function fB0(Z,J,Q){switch(Q.length){case 0:return Z.call(J);case 1:return Z.call(J,Q[0]);case 2:return Z.call(J,Q[0],Q[1]);case 3:return Z.call(J,Q[0],Q[1],Q[2])}return Z.apply(J,Q)}var bc;var xc=_(()=>{bc=fB0});function vB0(Z,J,Q){return J=hc(J===void 0?Z.length-1:J,0),function(){var K=arguments,X=-1,U=hc(K.length-J,0),Y=Array(U);while(++X<U)Y[X]=K[J+X];X=-1;var q=Array(J+1);while(++X<J)q[X]=K[X];return q[J]=Q(Y),bc(Z,this,q)}}var hc,XR;var EC=_(()=>{xc();hc=Math.max,XR=vB0});function kB0(Z){return function(){return Z}}var Z6;var wC=_(()=>{Z6=kB0});var $B0,yc;var uc=_(()=>{wC();HC();Q5();$B0=!aq?vJ:function(Z,J){return aq(Z,"toString",{configurable:!0,enumerable:!1,value:Z6(J),writable:!0})},yc=$B0});function hB0(Z){var J=0,Q=0;return function(){var K=xB0(),X=bB0-(K-Q);if(Q=K,X>0){if(++J>=_B0)return arguments[0]}else J=0;return Z.apply(void 0,arguments)}}var _B0=800,bB0=16,xB0,mc;var gc=_(()=>{xB0=Date.now,mc=hB0});var yB0,UR;var jC=_(()=>{uc();gc();yB0=mc(yc),UR=yB0});function uB0(Z,J){return UR(XR(Z,J,vJ),Z+"")}var g4;var q1=_(()=>{Q5();EC();jC();g4=uB0});function mB0(Z,J,Q){if(!e8(Q))return!1;var K=typeof J;if(K=="number"?hZ(Q)&&RX(J,Q.length):K=="string"&&(J in Q))return YQ(Q[J],Z);return!1}var _6;var xU=_(()=>{vU();zQ();hH();k6();_6=mB0});function gB0(Z){return g4(function(J,Q){var K=-1,X=Q.length,U=X>1?Q[X-1]:void 0,Y=X>2?Q[2]:void 0;if(U=Z.length>3&&typeof U=="function"?(X--,U):void 0,Y&&_6(Q[0],Q[1],Y))U=X<3?void 0:U,X=1;J=Object(J);while(++K<X){var q=Q[K];if(q)Z(J,q,K,U)}return J})}var YR;var CC=_(()=>{q1();xU();YR=gB0});var pB0,AX;var PC=_(()=>{_c();CC();pB0=YR(function(Z,J,Q){$c(Z,J,Q)}),AX=pB0});function hU(Z,J){if(!Z)return J;const Q=`curve${Z.charAt(0).toUpperCase()+Z.slice(1)}`;return cB0[Q]??J}function sc(Z,J){const Q=Z.trim();if(!Q)return;if(J.securityLevel!=="loose")return lc.sanitizeUrl(Q);return Q}function SC(Z,J){if(!Z||!J)return 0;return Math.sqrt(Math.pow(J.x-Z.x,2)+Math.pow(J.y-Z.y,2))}function rc(Z){let J,Q=0;Z.forEach((X)=>{Q+=SC(X,J),J=X});const K=Q/2;return TC(Z,K)}function nc(Z){if(Z.length===1)return Z[0];return rc(Z)}function ac(Z,J,Q){const K=structuredClone(Q);if(p.info("our points",K),J!=="start_left"&&J!=="start_right")K.reverse();const X=25+Z,U=TC(K,X),Y=10+Z*0.5,q=Math.atan2(K[0].y-U.y,K[0].x-U.x),z={x:0,y:0};if(J==="start_left")z.x=Math.sin(q+Math.PI)*Y+(K[0].x+U.x)/2,z.y=-Math.cos(q+Math.PI)*Y+(K[0].y+U.y)/2;else if(J==="end_right")z.x=Math.sin(q-Math.PI)*Y+(K[0].x+U.x)/2-5,z.y=-Math.cos(q-Math.PI)*Y+(K[0].y+U.y)/2-5;else if(J==="end_left")z.x=Math.sin(q)*Y+(K[0].x+U.x)/2-5,z.y=-Math.cos(q)*Y+(K[0].y+U.y)/2-5;else z.x=Math.sin(q)*Y+(K[0].x+U.x)/2,z.y=-Math.cos(q)*Y+(K[0].y+U.y)/2;return z}function yU(Z){let J="",Q="";for(let K of Z)if(K!==void 0)if(K.startsWith("color:")||K.startsWith("text-align:"))Q=Q+K+";";else J=J+K+";";return{style:J,labelStyle:Q}}function oc(Z){let J="";const Q="0123456789abcdef",K=Q.length;for(let X=0;X<Z;X++)J+=Q.charAt(Math.floor(Math.random()*K));return J}function yH(Z,J){return $C(Z,J).height}function FQ(Z,J){return $C(Z,J).width}function zR(Z){return"str"in Z}function J6(Z,J){return AX({},Z,J)}var lc,VC="\u200B",cB0,lB0,dB0,dc,ic,iB0,sB0,pc,TC,rB0,cc=0,fC,vC,nB0,aB0,kC,oB0,$C,tB0,qR,eB0,ZR0,p4,B9,tc,rQ,GR;var FZ=_(()=>{X8();lc=z7(Eq(),1);i9();GC();PC();cB0={curveBasis:o7,curveBasisClosed:VB,curveBasisOpen:SB,curveBumpX:mj,curveBumpY:gj,curveBundle:pj,curveCardinalClosed:lj,curveCardinalOpen:ij,curveCardinal:cj,curveCatmullRomClosed:nj,curveCatmullRomOpen:aj,curveCatmullRom:rj,curveLinear:tK,curveLinearClosed:$B,curveMonotoneX:tj,curveMonotoneY:ej,curveNatural:bB,curveStep:hB,curveStepAfter:JC,curveStepBefore:ZC},lB0=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,dB0=R(function(Z,J){const Q=dc(Z,/(?:init\b)|(?:initialize\b)/);let K={};if(Array.isArray(Q)){const Y=Q.map((q)=>q.args);yG(Y),K=TZ(K,[...Y])}else K=Q.args;if(!K)return;let X=uG(Z,J);const U="config";if(K[U]!==void 0){if(X==="flowchart-v2")X="flowchart";K[X]=K[U],delete K[U]}return K},"detectInit"),dc=R(function(Z,J=null){try{const Q=new RegExp(`[%]{2}(?![{]${lB0.source})(?=[}][%]{2}).*
`,"ig");Z=Z.trim().replace(Q,"").replace(/'/gm,'"'),p.debug(`Detecting diagram directive${J!==null?" type:"+J:""} based on the text:${Z}`);let K;const X=[];while((K=Dq.exec(Z))!==null){if(K.index===Dq.lastIndex)Dq.lastIndex++;if(K&&!J||J&&K[1]?.match(J)||J&&K[2]?.match(J)){const U=K[1]?K[1]:K[2],Y=K[3]?K[3].trim():K[4]?JSON.parse(K[4].trim()):null;X.push({type:U,args:Y})}}if(X.length===0)return{type:Z,args:null};return X.length===1?X[0]:X}catch(Q){return p.error(`ERROR: ${Q.message} - Unable to parse directive type: '${J}' based on the text: '${Z}'`),{type:void 0,args:null}}},"detectDirective"),ic=R(function(Z){return Z.replace(Dq,"")},"removeDirectives"),iB0=R(function(Z,J){for(let[Q,K]of J.entries())if(K.match(Z))return Q;return-1},"isSubstringInArray");R(hU,"interpolateToCurve");R(sc,"formatUrl");sB0=R((Z,...J)=>{const Q=Z.split("."),K=Q.length-1,X=Q[K];let U=window;for(let Y=0;Y<K;Y++)if(U=U[Q[Y]],!U){p.error(`Function name: ${Z} not found in window`);return}U[X](...J)},"runFunc");R(SC,"distance");R(rc,"traverseEdge");R(nc,"calcLabelPosition");pc=R((Z,J=2)=>{const Q=Math.pow(10,J);return Math.round(Z*Q)/Q},"roundNumber"),TC=R((Z,J)=>{let Q=void 0,K=J;for(let X of Z){if(Q){const U=SC(X,Q);if(U<K)K-=U;else{const Y=K/U;if(Y<=0)return Q;if(Y>=1)return{x:X.x,y:X.y};if(Y>0&&Y<1)return{x:pc((1-Y)*Q.x+Y*X.x,5),y:pc((1-Y)*Q.y+Y*X.y,5)}}}Q=X}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),rB0=R((Z,J,Q)=>{if(p.info(`our points ${JSON.stringify(J)}`),J[0]!==Q)J=J.reverse();const X=TC(J,25),U=Z?10:5,Y=Math.atan2(J[0].y-X.y,J[0].x-X.x),q={x:0,y:0};return q.x=Math.sin(Y)*U+(J[0].x+X.x)/2,q.y=-Math.cos(Y)*U+(J[0].y+X.y)/2,q},"calcCardinalityPosition");R(ac,"calcTerminalLabelPosition");R(yU,"getStylesFromArray");fC=R(()=>{return cc++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cc},"generateId");R(oc,"makeRandomHex");vC=R((Z)=>{return oc(Z.length)},"random"),nB0=R(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),aB0=R(function(Z,J){const Q=J.text.replace(g0.lineBreakRegex," "),[,K]=p4(J.fontSize),X=Z.append("text");if(X.attr("x",J.x),X.attr("y",J.y),X.style("text-anchor",J.anchor),X.style("font-family",J.fontFamily),X.style("font-size",K),X.style("font-weight",J.fontWeight),X.attr("fill",J.fill),J.class!==void 0)X.attr("class",J.class);const U=X.append("tspan");return U.attr("x",J.x+J.textMargin*2),U.attr("fill",J.fill),U.text(Q),X},"drawSimpleText"),kC=rq((Z,J,Q)=>{if(!Z)return Z;if(Q=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},Q),g0.lineBreakRegex.test(Z))return Z;const K=Z.split(" ").filter(Boolean),X=[];let U="";return K.forEach((Y,q)=>{const z=FQ(`${Y} `,Q),G=FQ(U,Q);if(z>J){const{hyphenatedStrings:F,remainingWord:M}=oB0(Y,J,"-",Q);X.push(U,...F),U=M}else if(G+z>=J)X.push(U),U=Y;else U=[U,Y].filter(Boolean).join(" ");if(q+1===K.length)X.push(U)}),X.filter((Y)=>Y!=="").join(Q.joinWith)},(Z,J,Q)=>`${Z}${J}${Q.fontSize}${Q.fontWeight}${Q.fontFamily}${Q.joinWith}`),oB0=rq((Z,J,Q="-",K)=>{K=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},K);const X=[...Z],U=[];let Y="";return X.forEach((q,z)=>{const G=`${Y}${q}`;if(FQ(G,K)>=J){const W=z+1,F=X.length===W,M=`${G}${Q}`;U.push(F?G:M),Y=""}else Y=G}),{hyphenatedStrings:U,remainingWord:Y}},(Z,J,Q="-",K)=>`${Z}${J}${Q}${K.fontSize}${K.fontWeight}${K.fontFamily}`);R(yH,"calculateTextHeight");R(FQ,"calculateTextWidth");$C=rq((Z,J)=>{const{fontSize:Q=12,fontFamily:K="Arial",fontWeight:X=400}=J;if(!Z)return{width:0,height:0};const[,U]=p4(Q),Y=["sans-serif",K],q=Z.split(g0.lineBreakRegex),z=[],G=$0("body");if(!G.remove)return{width:0,height:0,lineHeight:0};const H=G.append("svg");for(let F of Y){let M=0;const B={width:0,height:0,lineHeight:0};for(let O of q){const A=nB0();A.text=O||VC;const L=aB0(H,A).style("font-size",U).style("font-weight",X).style("font-family",F),I=(L._groups||L)[0][0].getBBox();if(I.width===0&&I.height===0)throw new Error("svg element not in render tree");B.width=Math.round(Math.max(B.width,I.width)),M=Math.round(I.height),B.height+=M,B.lineHeight=Math.round(Math.max(B.lineHeight,M))}z.push(B)}H.remove();const W=isNaN(z[1].height)||isNaN(z[1].width)||isNaN(z[1].lineHeight)||z[0].height>z[1].height&&z[0].width>z[1].width&&z[0].lineHeight>z[1].lineHeight?0:1;return z[W]},(Z,J)=>`${Z}${J.fontSize}${J.fontWeight}${J.fontFamily}`),tB0=class{constructor(Z=!1,J){this.count=0,this.count=J?J.length:0,this.next=Z?()=>this.count++:()=>Date.now()}static{R(this,"InitIDGenerator")}},eB0=R(function(Z){return qR=qR||document.createElement("div"),Z=escape(Z).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),qR.innerHTML=Z,unescape(qR.textContent)},"entityDecode");R(zR,"isDetailedError");ZR0=R((Z,J,Q,K)=>{if(!K)return;const X=Z.node()?.getBBox();if(!X)return;Z.append("text").text(K).attr("x",X.x+X.width/2).attr("y",-Q).attr("class",J)},"insertTitle"),p4=R((Z)=>{if(typeof Z==="number")return[Z,Z+"px"];const J=parseInt(Z??"",10);if(Number.isNaN(J))return[void 0,void 0];else if(Z===String(J))return[J,Z+"px"];else return[J,Z]},"parseFontSize");R(J6,"cleanAndMerge");B9={assignWithDepth:TZ,wrapLabel:kC,calculateTextHeight:yH,calculateTextWidth:FQ,calculateTextDimensions:$C,cleanAndMerge:J6,detectInit:dB0,detectDirective:dc,isSubstringInArray:iB0,interpolateToCurve:hU,calcLabelPosition:nc,calcCardinalityPosition:rB0,calcTerminalLabelPosition:ac,formatUrl:sc,getStylesFromArray:yU,generateId:fC,random:vC,runFunc:sB0,entityDecode:eB0,insertTitle:ZR0,parseFontSize:p4,InitIDGenerator:tB0},tc=R(function(Z){let J=Z;return J=J.replace(/style.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/classDef.*:\S*#.*;/g,function(Q){return Q.substring(0,Q.length-1)}),J=J.replace(/#\w+;/g,function(Q){const K=Q.substring(1,Q.length-1);if(/^\+?\d+$/.test(K))return"\uFB02\xB0\xB0"+K+"\xB6\xDF";else return"\uFB02\xB0"+K+"\xB6\xDF"}),J},"encodeEntities"),rQ=R(function(Z){return Z.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),GR=R((Z,J,{counter:Q=0,prefix:K,suffix:X})=>{return`${K?`${K}_`:""}${Z}_${J}_${Q}${X?`_${X}`:""}`},"getEdgeId")});function bC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function Xl(Z){mU=Z}function b6(Z,J){if(J){if(Ul.test(Z))return Z.replace(JR0,ec)}else if(Yl.test(Z))return Z.replace(QR0,ec);return Z}function UR0(Z){return Z.replace(XR0,(J,Q)=>{if(Q=Q.toLowerCase(),Q==="colon")return":";if(Q.charAt(0)==="#")return Q.charAt(1)==="x"?String.fromCharCode(parseInt(Q.substring(2),16)):String.fromCharCode(+Q.substring(1));return""})}function i8(Z,J){let Q=typeof Z==="string"?Z:Z.source;J=J||"";const K={replace:(X,U)=>{let Y=typeof U==="string"?U:U.source;return Y=Y.replace(YR0,"$1"),Q=Q.replace(X,Y),K},getRegex:()=>{return new RegExp(Q,J)}};return K}function Zl(Z){try{Z=encodeURI(Z).replace(/%25/g,"%")}catch{return null}return Z}function Jl(Z,J){const Q=Z.replace(/\|/g,(U,Y,q)=>{let z=!1,G=Y;while(--G>=0&&q[G]==="\\")z=!z;if(z)return"|";else return" |"}),K=Q.split(/ \|/);let X=0;if(!K[0].trim())K.shift();if(K.length>0&&!K[K.length-1].trim())K.pop();if(J)if(K.length>J)K.splice(J);else while(K.length<J)K.push("");for(;X<K.length;X++)K[X]=K[X].trim().replace(/\\\|/g,"|");return K}function uH(Z,J,Q){const K=Z.length;if(K===0)return"";let X=0;while(X<K){const U=Z.charAt(K-X-1);if(U===J&&!Q)X++;else if(U!==J&&Q)X++;else break}return Z.slice(0,K-X)}function qR0(Z,J){if(Z.indexOf(J[1])===-1)return-1;let Q=0;for(let K=0;K<Z.length;K++)if(Z[K]==="\\")K++;else if(Z[K]===J[0])Q++;else if(Z[K]===J[1]){if(Q--,Q<0)return K}return-1}function Ql(Z,J,Q,K){const X=J.href,U=J.title?b6(J.title):null,Y=Z[1].replace(/\\([\[\]])/g,"$1");if(Z[0].charAt(0)!=="!"){K.state.inLink=!0;const q={type:"link",raw:Q,href:X,title:U,text:Y,tokens:K.inlineTokens(Y)};return K.state.inLink=!1,q}return{type:"image",raw:Q,href:X,title:U,text:b6(Y)}}function zR0(Z,J){const Q=Z.match(/^(\s+)(?:```)/);if(Q===null)return J;const K=Q[1];return J.split("\n").map((X)=>{const U=X.match(/^\s+/);if(U===null)return X;const[Y]=U;if(Y.length>=K.length)return X.slice(K.length);return X}).join("\n")}function $8(Z,J){return uU.parse(Z,J)}class cH{options;rules;lexer;constructor(Z){this.options=Z||mU}space(Z){const J=this.rules.block.newline.exec(Z);if(J&&J[0].length>0)return{type:"space",raw:J[0]}}code(Z){const J=this.rules.block.code.exec(Z);if(J){const Q=J[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:J[0],codeBlockStyle:"indented",text:!this.options.pedantic?uH(Q,"\n"):Q}}}fences(Z){const J=this.rules.block.fences.exec(Z);if(J){const Q=J[0],K=zR0(Q,J[3]||"");return{type:"code",raw:Q,lang:J[2]?J[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):J[2],text:K}}}heading(Z){const J=this.rules.block.heading.exec(Z);if(J){let Q=J[2].trim();if(/#$/.test(Q)){const K=uH(Q,"#");if(this.options.pedantic)Q=K.trim();else if(!K||/ $/.test(K))Q=K.trim()}return{type:"heading",raw:J[0],depth:J[1].length,text:Q,tokens:this.lexer.inline(Q)}}}hr(Z){const J=this.rules.block.hr.exec(Z);if(J)return{type:"hr",raw:uH(J[0],"\n")}}blockquote(Z){const J=this.rules.block.blockquote.exec(Z);if(J){let Q=uH(J[0],"\n").split("\n"),K="",X="";const U=[];while(Q.length>0){let Y=!1;const q=[];let z;for(z=0;z<Q.length;z++)if(/^ {0,3}>/.test(Q[z]))q.push(Q[z]),Y=!0;else if(!Y)q.push(Q[z]);else break;Q=Q.slice(z);const G=q.join("\n"),H=G.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");K=K?`${K}\n${G}`:G,X=X?`${X}\n${H}`:H;const W=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(H,U,!0),this.lexer.state.top=W,Q.length===0)break;const F=U[U.length-1];if(F?.type==="code")break;else if(F?.type==="blockquote"){const M=F,B=M.raw+"\n"+Q.join("\n"),O=this.blockquote(B);U[U.length-1]=O,K=K.substring(0,K.length-M.raw.length)+O.raw,X=X.substring(0,X.length-M.text.length)+O.text;break}else if(F?.type==="list"){const M=F,B=M.raw+"\n"+Q.join("\n"),O=this.list(B);U[U.length-1]=O,K=K.substring(0,K.length-F.raw.length)+O.raw,X=X.substring(0,X.length-M.raw.length)+O.raw,Q=B.substring(U[U.length-1].raw.length).split("\n");continue}}return{type:"blockquote",raw:K,tokens:U,text:X}}}list(Z){let J=this.rules.block.list.exec(Z);if(J){let Q=J[1].trim();const K=Q.length>1,X={type:"list",raw:"",ordered:K,start:K?+Q.slice(0,-1):"",loose:!1,items:[]};if(Q=K?`\\d{1,9}\\${Q.slice(-1)}`:`\\${Q}`,this.options.pedantic)Q=K?Q:"[*+-]";const U=new RegExp(`^( {0,3}${Q})((?:[\t ][^\\n]*)?(?:\\n|\$))`);let Y=!1;while(Z){let q=!1,z="",G="";if(!(J=U.exec(Z)))break;if(this.rules.block.hr.test(Z))break;z=J[0],Z=Z.substring(z.length);let H=J[2].split("\n",1)[0].replace(/^\t+/,(A)=>" ".repeat(3*A.length)),W=Z.split("\n",1)[0],F=!H.trim(),M=0;if(this.options.pedantic)M=2,G=H.trimStart();else if(F)M=J[1].length+1;else M=J[2].search(/[^ ]/),M=M>4?1:M,G=H.slice(M),M+=J[1].length;if(F&&/^ *$/.test(W))z+=W+"\n",Z=Z.substring(W.length+1),q=!0;if(!q){const A=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|\$))`),L=new RegExp(`^ {0,${Math.min(3,M-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|\$)`),I=new RegExp(`^ {0,${Math.min(3,M-1)}}(?:\`\`\`|~~~)`),D=new RegExp(`^ {0,${Math.min(3,M-1)}}#`);while(Z){const w=Z.split("\n",1)[0];if(W=w,this.options.pedantic)W=W.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ");if(I.test(W))break;if(D.test(W))break;if(A.test(W))break;if(L.test(Z))break;if(W.search(/[^ ]/)>=M||!W.trim())G+="\n"+W.slice(M);else{if(F)break;if(H.search(/[^ ]/)>=4)break;if(I.test(H))break;if(D.test(H))break;if(L.test(H))break;G+="\n"+W}if(!F&&!W.trim())F=!0;z+=w+"\n",Z=Z.substring(w.length+1),H=W.slice(M)}}if(!X.loose){if(Y)X.loose=!0;else if(/\n *\n *$/.test(z))Y=!0}let B=null,O;if(this.options.gfm){if(B=/^\[[ xX]\] /.exec(G),B)O=B[0]!=="[ ] ",G=G.replace(/^\[[ xX]\] +/,"")}X.items.push({type:"list_item",raw:z,task:!!B,checked:O,loose:!1,text:G,tokens:[]}),X.raw+=z}X.items[X.items.length-1].raw=X.items[X.items.length-1].raw.trimEnd(),X.items[X.items.length-1].text=X.items[X.items.length-1].text.trimEnd(),X.raw=X.raw.trimEnd();for(let q=0;q<X.items.length;q++)if(this.lexer.state.top=!1,X.items[q].tokens=this.lexer.blockTokens(X.items[q].text,[]),!X.loose){const z=X.items[q].tokens.filter((H)=>H.type==="space"),G=z.length>0&&z.some((H)=>/\n.*\n/.test(H.raw));X.loose=G}if(X.loose)for(let q=0;q<X.items.length;q++)X.items[q].loose=!0;return X}}html(Z){const J=this.rules.block.html.exec(Z);if(J)return{type:"html",block:!0,raw:J[0],pre:J[1]==="pre"||J[1]==="script"||J[1]==="style",text:J[0]}}def(Z){const J=this.rules.block.def.exec(Z);if(J){const Q=J[1].toLowerCase().replace(/\s+/g," "),K=J[2]?J[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",X=J[3]?J[3].substring(1,J[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):J[3];return{type:"def",tag:Q,raw:J[0],href:K,title:X}}}table(Z){const J=this.rules.block.table.exec(Z);if(!J)return;if(!/[:|]/.test(J[2]))return;const Q=Jl(J[1]),K=J[2].replace(/^\||\| *$/g,"").split("|"),X=J[3]&&J[3].trim()?J[3].replace(/\n[ \t]*$/,"").split("\n"):[],U={type:"table",raw:J[0],header:[],align:[],rows:[]};if(Q.length!==K.length)return;for(let Y of K)if(/^ *-+: *$/.test(Y))U.align.push("right");else if(/^ *:-+: *$/.test(Y))U.align.push("center");else if(/^ *:-+ *$/.test(Y))U.align.push("left");else U.align.push(null);for(let Y=0;Y<Q.length;Y++)U.header.push({text:Q[Y],tokens:this.lexer.inline(Q[Y]),header:!0,align:U.align[Y]});for(let Y of X)U.rows.push(Jl(Y,U.header.length).map((q,z)=>{return{text:q,tokens:this.lexer.inline(q),header:!1,align:U.align[z]}}));return U}lheading(Z){const J=this.rules.block.lheading.exec(Z);if(J)return{type:"heading",raw:J[0],depth:J[2].charAt(0)==="="?1:2,text:J[1],tokens:this.lexer.inline(J[1])}}paragraph(Z){const J=this.rules.block.paragraph.exec(Z);if(J){const Q=J[1].charAt(J[1].length-1)==="\n"?J[1].slice(0,-1):J[1];return{type:"paragraph",raw:J[0],text:Q,tokens:this.lexer.inline(Q)}}}text(Z){const J=this.rules.block.text.exec(Z);if(J)return{type:"text",raw:J[0],text:J[0],tokens:this.lexer.inline(J[0])}}escape(Z){const J=this.rules.inline.escape.exec(Z);if(J)return{type:"escape",raw:J[0],text:b6(J[1])}}tag(Z){const J=this.rules.inline.tag.exec(Z);if(J){if(!this.lexer.state.inLink&&/^<a /i.test(J[0]))this.lexer.state.inLink=!0;else if(this.lexer.state.inLink&&/^<\/a>/i.test(J[0]))this.lexer.state.inLink=!1;if(!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(J[0]))this.lexer.state.inRawBlock=!0;else if(this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(J[0]))this.lexer.state.inRawBlock=!1;return{type:"html",raw:J[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:J[0]}}}link(Z){const J=this.rules.inline.link.exec(Z);if(J){const Q=J[2].trim();if(!this.options.pedantic&&/^</.test(Q)){if(!/>$/.test(Q))return;const U=uH(Q.slice(0,-1),"\\");if((Q.length-U.length)%2===0)return}else{const U=qR0(J[2],"()");if(U>-1){const q=(J[0].indexOf("!")===0?5:4)+J[1].length+U;J[2]=J[2].substring(0,U),J[0]=J[0].substring(0,q).trim(),J[3]=""}}let K=J[2],X="";if(this.options.pedantic){const U=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(K);if(U)K=U[1],X=U[3]}else X=J[3]?J[3].slice(1,-1):"";if(K=K.trim(),/^</.test(K))if(this.options.pedantic&&!/>$/.test(Q))K=K.slice(1);else K=K.slice(1,-1);return Ql(J,{href:K?K.replace(this.rules.inline.anyPunctuation,"$1"):K,title:X?X.replace(this.rules.inline.anyPunctuation,"$1"):X},J[0],this.lexer)}}reflink(Z,J){let Q;if((Q=this.rules.inline.reflink.exec(Z))||(Q=this.rules.inline.nolink.exec(Z))){const K=(Q[2]||Q[1]).replace(/\s+/g," "),X=J[K.toLowerCase()];if(!X){const U=Q[0].charAt(0);return{type:"text",raw:U,text:U}}return Ql(Q,X,Q[0],this.lexer)}}emStrong(Z,J,Q=""){let K=this.rules.inline.emStrongLDelim.exec(Z);if(!K)return;if(K[3]&&Q.match(/[\p{L}\p{N}]/u))return;if(!(K[1]||K[2])||!Q||this.rules.inline.punctuation.exec(Q)){const U=[...K[0]].length-1;let Y,q,z=U,G=0;const H=K[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;H.lastIndex=0,J=J.slice(-1*Z.length+U);while((K=H.exec(J))!=null){if(Y=K[1]||K[2]||K[3]||K[4]||K[5]||K[6],!Y)continue;if(q=[...Y].length,K[3]||K[4]){z+=q;continue}else if(K[5]||K[6]){if(U%3&&!((U+q)%3)){G+=q;continue}}if(z-=q,z>0)continue;q=Math.min(q,q+z+G);const W=[...K[0]][0].length,F=Z.slice(0,U+K.index+W+q);if(Math.min(U,q)%2){const B=F.slice(1,-1);return{type:"em",raw:F,text:B,tokens:this.lexer.inlineTokens(B)}}const M=F.slice(2,-2);return{type:"strong",raw:F,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(Z){const J=this.rules.inline.code.exec(Z);if(J){let Q=J[2].replace(/\n/g," ");const K=/[^ ]/.test(Q),X=/^ /.test(Q)&&/ $/.test(Q);if(K&&X)Q=Q.substring(1,Q.length-1);return Q=b6(Q,!0),{type:"codespan",raw:J[0],text:Q}}}br(Z){const J=this.rules.inline.br.exec(Z);if(J)return{type:"br",raw:J[0]}}del(Z){const J=this.rules.inline.del.exec(Z);if(J)return{type:"del",raw:J[0],text:J[2],tokens:this.lexer.inlineTokens(J[2])}}autolink(Z){const J=this.rules.inline.autolink.exec(Z);if(J){let Q,K;if(J[2]==="@")Q=b6(J[1]),K="mailto:"+Q;else Q=b6(J[1]),K=Q;return{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}url(Z){let J;if(J=this.rules.inline.url.exec(Z)){let Q,K;if(J[2]==="@")Q=b6(J[0]),K="mailto:"+Q;else{let X;do X=J[0],J[0]=this.rules.inline._backpedal.exec(J[0])?.[0]??"";while(X!==J[0]);if(Q=b6(J[0]),J[1]==="www.")K="http://"+J[0];else K=J[0]}return{type:"link",raw:J[0],text:Q,href:K,tokens:[{type:"text",raw:Q,text:Q}]}}}inlineText(Z){const J=this.rules.inline.text.exec(Z);if(J){let Q;if(this.lexer.state.inRawBlock)Q=J[0];else Q=b6(J[0]);return{type:"text",raw:J[0],text:Q}}}}class c4{tokens;options;state;tokenizer;inlineQueue;constructor(Z){this.tokens=[],this.tokens.links=Object.create(null),this.options=Z||mU,this.options.tokenizer=this.options.tokenizer||new cH,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const J={block:HR.normal,inline:mH.normal};if(this.options.pedantic)J.block=HR.pedantic,J.inline=mH.pedantic;else if(this.options.gfm)if(J.block=HR.gfm,this.options.breaks)J.inline=mH.breaks;else J.inline=mH.gfm;this.tokenizer.rules=J}static get rules(){return{block:HR,inline:mH}}static lex(Z,J){return new c4(J).lex(Z)}static lexInline(Z,J){return new c4(J).inlineTokens(Z)}lex(Z){Z=Z.replace(/\r\n|\r/g,"\n"),this.blockTokens(Z,this.tokens);for(let J=0;J<this.inlineQueue.length;J++){const Q=this.inlineQueue[J];this.inlineTokens(Q.src,Q.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Z,J=[],Q=!1){if(this.options.pedantic)Z=Z.replace(/\t/g,"    ").replace(/^ +$/gm,"");else Z=Z.replace(/^( *)(\t+)/gm,(Y,q,z)=>{return q+"    ".repeat(z.length)});let K,X,U;while(Z){if(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((Y)=>{if(K=Y.call({lexer:this},Z,J))return Z=Z.substring(K.raw.length),J.push(K),!0;return!1}))continue;if(K=this.tokenizer.space(Z)){if(Z=Z.substring(K.raw.length),K.raw.length===1&&J.length>0)J[J.length-1].raw+="\n";else J.push(K);continue}if(K=this.tokenizer.code(Z)){if(Z=Z.substring(K.raw.length),X=J[J.length-1],X&&(X.type==="paragraph"||X.type==="text"))X.raw+="\n"+K.raw,X.text+="\n"+K.text,this.inlineQueue[this.inlineQueue.length-1].src=X.text;else J.push(K);continue}if(K=this.tokenizer.fences(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.heading(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.hr(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.blockquote(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.list(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.html(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.def(Z)){if(Z=Z.substring(K.raw.length),X=J[J.length-1],X&&(X.type==="paragraph"||X.type==="text"))X.raw+="\n"+K.raw,X.text+="\n"+K.raw,this.inlineQueue[this.inlineQueue.length-1].src=X.text;else if(!this.tokens.links[K.tag])this.tokens.links[K.tag]={href:K.href,title:K.title};continue}if(K=this.tokenizer.table(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(K=this.tokenizer.lheading(Z)){Z=Z.substring(K.raw.length),J.push(K);continue}if(U=Z,this.options.extensions&&this.options.extensions.startBlock){let Y=1/0;const q=Z.slice(1);let z;if(this.options.extensions.startBlock.forEach((G)=>{if(z=G.call({lexer:this},q),typeof z==="number"&&z>=0)Y=Math.min(Y,z)}),Y<1/0&&Y>=0)U=Z.substring(0,Y+1)}if(this.state.top&&(K=this.tokenizer.paragraph(U))){if(X=J[J.length-1],Q&&X?.type==="paragraph")X.raw+="\n"+K.raw,X.text+="\n"+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text;else J.push(K);Q=U.length!==Z.length,Z=Z.substring(K.raw.length);continue}if(K=this.tokenizer.text(Z)){if(Z=Z.substring(K.raw.length),X=J[J.length-1],X&&X.type==="text")X.raw+="\n"+K.raw,X.text+="\n"+K.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=X.text;else J.push(K);continue}if(Z){const Y="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(Y);break}else throw new Error(Y)}}return this.state.top=!0,J}inline(Z,J=[]){return this.inlineQueue.push({src:Z,tokens:J}),J}inlineTokens(Z,J=[]){let Q,K,X,U=Z,Y,q,z;if(this.tokens.links){const G=Object.keys(this.tokens.links);if(G.length>0){while((Y=this.tokenizer.rules.inline.reflinkSearch.exec(U))!=null)if(G.includes(Y[0].slice(Y[0].lastIndexOf("[")+1,-1)))U=U.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+U.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}}while((Y=this.tokenizer.rules.inline.blockSkip.exec(U))!=null)U=U.slice(0,Y.index)+"["+"a".repeat(Y[0].length-2)+"]"+U.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while((Y=this.tokenizer.rules.inline.anyPunctuation.exec(U))!=null)U=U.slice(0,Y.index)+"++"+U.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);while(Z){if(!q)z="";if(q=!1,this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((G)=>{if(Q=G.call({lexer:this},Z,J))return Z=Z.substring(Q.raw.length),J.push(Q),!0;return!1}))continue;if(Q=this.tokenizer.escape(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.tag(Z)){if(Z=Z.substring(Q.raw.length),K=J[J.length-1],K&&Q.type==="text"&&K.type==="text")K.raw+=Q.raw,K.text+=Q.text;else J.push(Q);continue}if(Q=this.tokenizer.link(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.reflink(Z,this.tokens.links)){if(Z=Z.substring(Q.raw.length),K=J[J.length-1],K&&Q.type==="text"&&K.type==="text")K.raw+=Q.raw,K.text+=Q.text;else J.push(Q);continue}if(Q=this.tokenizer.emStrong(Z,U,z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.codespan(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.br(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.del(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(Q=this.tokenizer.autolink(Z)){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(!this.state.inLink&&(Q=this.tokenizer.url(Z))){Z=Z.substring(Q.raw.length),J.push(Q);continue}if(X=Z,this.options.extensions&&this.options.extensions.startInline){let G=1/0;const H=Z.slice(1);let W;if(this.options.extensions.startInline.forEach((F)=>{if(W=F.call({lexer:this},H),typeof W==="number"&&W>=0)G=Math.min(G,W)}),G<1/0&&G>=0)X=Z.substring(0,G+1)}if(Q=this.tokenizer.inlineText(X)){if(Z=Z.substring(Q.raw.length),Q.raw.slice(-1)!=="_")z=Q.raw.slice(-1);if(q=!0,K=J[J.length-1],K&&K.type==="text")K.raw+=Q.raw,K.text+=Q.text;else J.push(Q);continue}if(Z){const G="Infinite loop on byte: "+Z.charCodeAt(0);if(this.options.silent){console.error(G);break}else throw new Error(G)}}return J}}class lH{options;parser;constructor(Z){this.options=Z||mU}space(Z){return""}code({text:Z,lang:J,escaped:Q}){const K=(J||"").match(/^\S*/)?.[0],X=Z.replace(/\n$/,"")+"\n";if(!K)return"<pre><code>"+(Q?X:b6(X,!0))+"</code></pre>\n";return'<pre><code class="language-'+b6(K)+'">'+(Q?X:b6(X,!0))+"</code></pre>\n"}blockquote({tokens:Z}){return`<blockquote>\n${this.parser.parse(Z)}</blockquote>\n`}html({text:Z}){return Z}heading({tokens:Z,depth:J}){return`<h${J}>${this.parser.parseInline(Z)}</h${J}>\n`}hr(Z){return"<hr>\n"}list(Z){const{ordered:J,start:Q}=Z;let K="";for(let Y=0;Y<Z.items.length;Y++){const q=Z.items[Y];K+=this.listitem(q)}const X=J?"ol":"ul",U=J&&Q!==1?' start="'+Q+'"':"";return"<"+X+U+">\n"+K+"</"+X+">\n"}listitem(Z){let J="";if(Z.task){const Q=this.checkbox({checked:!!Z.checked});if(Z.loose)if(Z.tokens.length>0&&Z.tokens[0].type==="paragraph"){if(Z.tokens[0].text=Q+" "+Z.tokens[0].text,Z.tokens[0].tokens&&Z.tokens[0].tokens.length>0&&Z.tokens[0].tokens[0].type==="text")Z.tokens[0].tokens[0].text=Q+" "+Z.tokens[0].tokens[0].text}else Z.tokens.unshift({type:"text",raw:Q+" ",text:Q+" "});else J+=Q+" "}return J+=this.parser.parse(Z.tokens,!!Z.loose),`<li>${J}</li>\n`}checkbox({checked:Z}){return"<input "+(Z?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Z}){return`<p>${this.parser.parseInline(Z)}</p>\n`}table(Z){let J="",Q="";for(let X=0;X<Z.header.length;X++)Q+=this.tablecell(Z.header[X]);J+=this.tablerow({text:Q});let K="";for(let X=0;X<Z.rows.length;X++){const U=Z.rows[X];Q="";for(let Y=0;Y<U.length;Y++)Q+=this.tablecell(U[Y]);K+=this.tablerow({text:Q})}if(K)K=`<tbody>${K}</tbody>`;return"<table>\n<thead>\n"+J+"</thead>\n"+K+"</table>\n"}tablerow({text:Z}){return`<tr>\n${Z}</tr>\n`}tablecell(Z){const J=this.parser.parseInline(Z.tokens),Q=Z.header?"th":"td";return(Z.align?`<${Q} align="${Z.align}">`:`<${Q}>`)+J+`</${Q}>\n`}strong({tokens:Z}){return`<strong>${this.parser.parseInline(Z)}</strong>`}em({tokens:Z}){return`<em>${this.parser.parseInline(Z)}</em>`}codespan({text:Z}){return`<code>${Z}</code>`}br(Z){return"<br>"}del({tokens:Z}){return`<del>${this.parser.parseInline(Z)}</del>`}link({href:Z,title:J,tokens:Q}){const K=this.parser.parseInline(Q),X=Zl(Z);if(X===null)return K;Z=X;let U='<a href="'+Z+'"';if(J)U+=' title="'+J+'"';return U+=">"+K+"</a>",U}image({href:Z,title:J,text:Q}){const K=Zl(Z);if(K===null)return Q;Z=K;let X=`<img src="${Z}" alt="${Q}"`;if(J)X+=` title="${J}"`;return X+=">",X}text(Z){return"tokens"in Z&&Z.tokens?this.parser.parseInline(Z.tokens):Z.text}}class MR{strong({text:Z}){return Z}em({text:Z}){return Z}codespan({text:Z}){return Z}del({text:Z}){return Z}html({text:Z}){return Z}text({text:Z}){return Z}link({text:Z}){return""+Z}image({text:Z}){return""+Z}br(){return""}}class l4{options;renderer;textRenderer;constructor(Z){this.options=Z||mU,this.options.renderer=this.options.renderer||new lH,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new MR}static parse(Z,J){return new l4(J).parse(Z)}static parseInline(Z,J){return new l4(J).parseInline(Z)}parse(Z,J=!0){let Q="";for(let K=0;K<Z.length;K++){const X=Z[K];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]){const Y=X,q=this.options.extensions.renderers[Y.type].call({parser:this},Y);if(q!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Y.type)){Q+=q||"";continue}}const U=X;switch(U.type){case"space":{Q+=this.renderer.space(U);continue}case"hr":{Q+=this.renderer.hr(U);continue}case"heading":{Q+=this.renderer.heading(U);continue}case"code":{Q+=this.renderer.code(U);continue}case"table":{Q+=this.renderer.table(U);continue}case"blockquote":{Q+=this.renderer.blockquote(U);continue}case"list":{Q+=this.renderer.list(U);continue}case"html":{Q+=this.renderer.html(U);continue}case"paragraph":{Q+=this.renderer.paragraph(U);continue}case"text":{let Y=U,q=this.renderer.text(Y);while(K+1<Z.length&&Z[K+1].type==="text")Y=Z[++K],q+="\n"+this.renderer.text(Y);if(J)Q+=this.renderer.paragraph({type:"paragraph",raw:q,text:q,tokens:[{type:"text",raw:q,text:q}]});else Q+=q;continue}default:{const Y='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return Q}parseInline(Z,J){J=J||this.renderer;let Q="";for(let K=0;K<Z.length;K++){const X=Z[K];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]){const Y=this.options.extensions.renderers[X.type].call({parser:this},X);if(Y!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(X.type)){Q+=Y||"";continue}}const U=X;switch(U.type){case"escape":{Q+=J.text(U);break}case"html":{Q+=J.html(U);break}case"link":{Q+=J.link(U);break}case"image":{Q+=J.image(U);break}case"strong":{Q+=J.strong(U);break}case"em":{Q+=J.em(U);break}case"codespan":{Q+=J.codespan(U);break}case"br":{Q+=J.br(U);break}case"del":{Q+=J.del(U);break}case"text":{Q+=J.text(U);break}default:{const Y='Token with "'+U.type+'" type was not found.';if(this.options.silent)return console.error(Y),"";else throw new Error(Y)}}}return Q}}class Bl{defaults=bC();options=this.setOptions;parse=this.#Z(c4.lex,l4.parse);parseInline=this.#Z(c4.lexInline,l4.parseInline);Parser=l4;Renderer=lH;TextRenderer=MR;Lexer=c4;Tokenizer=cH;Hooks=pH;constructor(...Z){this.use(...Z)}walkTokens(Z,J){let Q=[];for(let K of Z)switch(Q=Q.concat(J.call(this,K)),K.type){case"table":{const X=K;for(let U of X.header)Q=Q.concat(this.walkTokens(U.tokens,J));for(let U of X.rows)for(let Y of U)Q=Q.concat(this.walkTokens(Y.tokens,J));break}case"list":{const X=K;Q=Q.concat(this.walkTokens(X.items,J));break}default:{const X=K;if(this.defaults.extensions?.childTokens?.[X.type])this.defaults.extensions.childTokens[X.type].forEach((U)=>{const Y=X[U].flat(1/0);Q=Q.concat(this.walkTokens(Y,J))});else if(X.tokens)Q=Q.concat(this.walkTokens(X.tokens,J))}}return Q}use(...Z){const J=this.defaults.extensions||{renderers:{},childTokens:{}};return Z.forEach((Q)=>{const K={...Q};if(K.async=this.defaults.async||K.async||!1,Q.extensions)Q.extensions.forEach((X)=>{if(!X.name)throw new Error("extension name required");if("renderer"in X){const U=J.renderers[X.name];if(U)J.renderers[X.name]=function(...Y){let q=X.renderer.apply(this,Y);if(q===!1)q=U.apply(this,Y);return q};else J.renderers[X.name]=X.renderer}if("tokenizer"in X){if(!X.level||X.level!=="block"&&X.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const U=J[X.level];if(U)U.unshift(X.tokenizer);else J[X.level]=[X.tokenizer];if(X.start){if(X.level==="block")if(J.startBlock)J.startBlock.push(X.start);else J.startBlock=[X.start];else if(X.level==="inline")if(J.startInline)J.startInline.push(X.start);else J.startInline=[X.start]}}if("childTokens"in X&&X.childTokens)J.childTokens[X.name]=X.childTokens}),K.extensions=J;if(Q.renderer){const X=this.defaults.renderer||new lH(this.defaults);for(let U in Q.renderer){if(!(U in X))throw new Error(`renderer '${U}' does not exist`);if(["options","parser"].includes(U))continue;const Y=U;let q=Q.renderer[Y];if(!Q.useNewRenderer)q=this.#J(q,Y,X);const z=X[Y];X[Y]=(...G)=>{let H=q.apply(X,G);if(H===!1)H=z.apply(X,G);return H||""}}K.renderer=X}if(Q.tokenizer){const X=this.defaults.tokenizer||new cH(this.defaults);for(let U in Q.tokenizer){if(!(U in X))throw new Error(`tokenizer '${U}' does not exist`);if(["options","rules","lexer"].includes(U))continue;const Y=U,q=Q.tokenizer[Y],z=X[Y];X[Y]=(...G)=>{let H=q.apply(X,G);if(H===!1)H=z.apply(X,G);return H}}K.tokenizer=X}if(Q.hooks){const X=this.defaults.hooks||new pH;for(let U in Q.hooks){if(!(U in X))throw new Error(`hook '${U}' does not exist`);if(U==="options")continue;const Y=U,q=Q.hooks[Y],z=X[Y];if(pH.passThroughHooks.has(U))X[Y]=(G)=>{if(this.defaults.async)return Promise.resolve(q.call(X,G)).then((W)=>{return z.call(X,W)});const H=q.call(X,G);return z.call(X,H)};else X[Y]=(...G)=>{let H=q.apply(X,G);if(H===!1)H=z.apply(X,G);return H}}K.hooks=X}if(Q.walkTokens){const X=this.defaults.walkTokens,U=Q.walkTokens;K.walkTokens=function(Y){let q=[];if(q.push(U.call(this,Y)),X)q=q.concat(X.call(this,Y));return q}}this.defaults={...this.defaults,...K}}),this}#J(Z,J,Q){switch(J){case"heading":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,Q.parser.parseInline(K.tokens),K.depth,UR0(Q.parser.parseInline(K.tokens,Q.parser.textRenderer)))};case"code":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.text,K.lang,!!K.escaped)};case"table":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);let X="",U="";for(let q=0;q<K.header.length;q++)U+=this.tablecell({text:K.header[q].text,tokens:K.header[q].tokens,header:!0,align:K.align[q]});X+=this.tablerow({text:U});let Y="";for(let q=0;q<K.rows.length;q++){const z=K.rows[q];U="";for(let G=0;G<z.length;G++)U+=this.tablecell({text:z[G].text,tokens:z[G].tokens,header:!1,align:K.align[G]});Y+=this.tablerow({text:U})}return Z.call(this,X,Y)};case"blockquote":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);const X=this.parser.parse(K.tokens);return Z.call(this,X)};case"list":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);const{ordered:X,start:U,loose:Y}=K;let q="";for(let z=0;z<K.items.length;z++){const G=K.items[z],H=G.checked,W=G.task;let F="";if(G.task){const M=this.checkbox({checked:!!H});if(Y)if(G.tokens.length>0&&G.tokens[0].type==="paragraph"){if(G.tokens[0].text=M+" "+G.tokens[0].text,G.tokens[0].tokens&&G.tokens[0].tokens.length>0&&G.tokens[0].tokens[0].type==="text")G.tokens[0].tokens[0].text=M+" "+G.tokens[0].tokens[0].text}else G.tokens.unshift({type:"text",text:M+" "});else F+=M+" "}F+=this.parser.parse(G.tokens,Y),q+=this.listitem({type:"list_item",raw:F,text:F,task:W,checked:!!H,loose:Y,tokens:G.tokens})}return Z.call(this,q,X,U)};case"html":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.text,K.block)};case"paragraph":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,this.parser.parseInline(K.tokens))};case"escape":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.text)};case"link":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.href,K.title,this.parser.parseInline(K.tokens))};case"image":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.href,K.title,K.text)};case"strong":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,this.parser.parseInline(K.tokens))};case"em":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,this.parser.parseInline(K.tokens))};case"codespan":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.text)};case"del":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,this.parser.parseInline(K.tokens))};case"text":return function(K){if(!K.type||K.type!==J)return Z.apply(this,arguments);return Z.call(this,K.text)}}return Z}setOptions(Z){return this.defaults={...this.defaults,...Z},this}lexer(Z,J){return c4.lex(Z,J??this.defaults)}parser(Z,J){return l4.parse(Z,J??this.defaults)}#Z(Z,J){return(Q,K)=>{const X={...K},U={...this.defaults,...X};if(this.defaults.async===!0&&X.async===!1){if(!U.silent)console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored.");U.async=!0}const Y=this.#Q(!!U.silent,!!U.async);if(typeof Q==="undefined"||Q===null)return Y(new Error("marked(): input parameter is undefined or null"));if(typeof Q!=="string")return Y(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Q)+", string expected"));if(U.hooks)U.hooks.options=U;if(U.async)return Promise.resolve(U.hooks?U.hooks.preprocess(Q):Q).then((q)=>Z(q,U)).then((q)=>U.hooks?U.hooks.processAllTokens(q):q).then((q)=>U.walkTokens?Promise.all(this.walkTokens(q,U.walkTokens)).then(()=>q):q).then((q)=>J(q,U)).then((q)=>U.hooks?U.hooks.postprocess(q):q).catch(Y);try{if(U.hooks)Q=U.hooks.preprocess(Q);let q=Z(Q,U);if(U.hooks)q=U.hooks.processAllTokens(q);if(U.walkTokens)this.walkTokens(q,U.walkTokens);let z=J(q,U);if(U.hooks)z=U.hooks.postprocess(z);return z}catch(q){return Y(q)}}}#Q(Z,J){return(Q)=>{if(Q.message+="\nPlease report this to https://github.com/markedjs/marked.",Z){const K="<p>An error occurred:</p><pre>"+b6(Q.message+"",!0)+"</pre>";if(J)return Promise.resolve(K);return K}if(J)return Promise.reject(Q);throw Q}}}var mU,Ul,JR0,Yl,QR0,KR0,ec=(Z)=>KR0[Z],XR0,YR0,gH,GR0,HR0,WR0,dH,FR0,ql,zl,xC,MR0,hC,BR0,RR0,FR="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yC,OR0,Gl,AR0,uC,Kl,LR0,IR0,Hl,DR0,Wl,NR0,iH="\\p{P}\\p{S}",ER0,wR0,jR0,CR0,PR0,VR0,SR0,TR0,fR0,WR,vR0,Fl,Ml,kR0,mC,$R0,_C,_R0,HR,mH,pH,uU,fY9,vY9,kY9,$Y9,_Y9,bY9,xY9;var Rl=_(()=>{mU=bC(),Ul=/[&<>"']/,JR0=new RegExp(Ul.source,"g"),Yl=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,QR0=new RegExp(Yl.source,"g"),KR0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XR0=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,YR0=/(^|[^\[])\^/g,gH={exec:()=>null};GR0=/^(?: *(?:\n|$))+/,HR0=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,WR0=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,dH=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,FR0=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ql=/(?:[*+-]|\d{1,9}[.)])/,zl=i8(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ql).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),xC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,MR0=/^[^\n]+/,hC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,BR0=i8(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",hC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),RR0=i8(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ql).getRegex(),yC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,OR0=i8("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",yC).replace("tag",FR).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Gl=i8(xC).replace("hr",dH).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FR).getRegex(),AR0=i8(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Gl).getRegex(),uC={blockquote:AR0,code:HR0,def:BR0,fences:WR0,heading:FR0,hr:dH,html:OR0,lheading:zl,list:RR0,newline:GR0,paragraph:Gl,table:gH,text:MR0},Kl=i8("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",dH).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FR).getRegex(),LR0={...uC,table:Kl,paragraph:i8(xC).replace("hr",dH).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Kl).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",FR).getRegex()},IR0={...uC,html:i8('^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|\'[^\']*\'|\\s[^\'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))').replace("comment",yC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gH,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:i8(xC).replace("hr",dH).replace("heading"," *#{1,6} *[^\n]").replace("lheading",zl).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Hl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,DR0=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Wl=/^( {2,}|\\)\n(?!\s*$)/,NR0=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ER0=i8(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,iH).getRegex(),wR0=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,jR0=i8(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,iH).getRegex(),CR0=i8("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,iH).getRegex(),PR0=i8("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,iH).getRegex(),VR0=i8(/\\([punct])/,"gu").replace(/punct/g,iH).getRegex(),SR0=i8(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),TR0=i8(yC).replace("(?:-->|$)","-->").getRegex(),fR0=i8("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",TR0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),WR=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vR0=i8(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",WR).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fl=i8(/^!?\[(label)\]\[(ref)\]/).replace("label",WR).replace("ref",hC).getRegex(),Ml=i8(/^!?\[(ref)\](?:\[\])?/).replace("ref",hC).getRegex(),kR0=i8("reflink|nolink(?!\\()","g").replace("reflink",Fl).replace("nolink",Ml).getRegex(),mC={_backpedal:gH,anyPunctuation:VR0,autolink:SR0,blockSkip:wR0,br:Wl,code:DR0,del:gH,emStrongLDelim:jR0,emStrongRDelimAst:CR0,emStrongRDelimUnd:PR0,escape:Hl,link:vR0,nolink:Ml,punctuation:ER0,reflink:Fl,reflinkSearch:kR0,tag:fR0,text:NR0,url:gH},$R0={...mC,link:i8(/^!?\[(label)\]\((.*?)\)/).replace("label",WR).getRegex(),reflink:i8(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",WR).getRegex()},_C={...mC,escape:i8(Hl).replace("])","~|])").getRegex(),url:i8(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},_R0={..._C,br:i8(Wl).replace("{2,}","*").getRegex(),text:i8(_C.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},HR={normal:uC,gfm:LR0,pedantic:IR0},mH={normal:mC,gfm:_C,breaks:_R0,pedantic:$R0};pH=class pH{options;constructor(Z){this.options=Z||mU}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Z){return Z}postprocess(Z){return Z}processAllTokens(Z){return Z}};uU=new Bl;$8.options=$8.setOptions=function(Z){return uU.setOptions(Z),$8.defaults=uU.defaults,Xl($8.defaults),$8};$8.getDefaults=bC;$8.defaults=mU;$8.use=function(...Z){return uU.use(...Z),$8.defaults=uU.defaults,Xl($8.defaults),$8};$8.walkTokens=function(Z,J){return uU.walkTokens(Z,J)};$8.parseInline=uU.parseInline;$8.Parser=l4;$8.parser=l4.parse;$8.Renderer=lH;$8.TextRenderer=MR;$8.Lexer=c4;$8.lexer=c4.lex;$8.Tokenizer=cH;$8.Hooks=pH;$8.parse=$8;fY9=$8.options,vY9=$8.setOptions,kY9=$8.use,$Y9=$8.walkTokens,_Y9=$8.parseInline,bY9=l4.parse,xY9=c4.lex});function BR(Z){var J=[];for(var Q=1;Q<arguments.length;Q++)J[Q-1]=arguments[Q];var K=Array.from(typeof Z==="string"?[Z]:Z);K[K.length-1]=K[K.length-1].replace(/\r?\n([\t ]*)$/,"");var X=K.reduce(function(q,z){var G=z.match(/\n([\t ]+|(?!\s).)/g);if(G)return q.concat(G.map(function(H){var W,F;return(F=(W=H.match(/[\t ]/g))===null||W===void 0?void 0:W.length)!==null&&F!==void 0?F:0}));return q},[]);if(X.length){var U=new RegExp("\n[\t ]{"+Math.min.apply(Math,X)+"}","g");K=K.map(function(q){return q.replace(U,"\n")})}K[0]=K[0].replace(/^\r?\n/,"");var Y=K[0];return J.forEach(function(q,z){var G=Y.match(/(?:^|\n)( *)$/),H=G?G[1]:"",W=q;if(typeof q==="string"&&q.includes("\n"))W=String(q).split("\n").map(function(F,M){return M===0?F:""+H+F}).join("\n");Y+=W+K[z+1]}),Y}var gC=()=>{};function Ol(Z,{markdownAutoWrap:J}){const K=Z.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"),X=BR(K);if(J===!1)return X.replace(/ /g,"&nbsp;");return X}function Al(Z,J={}){const Q=Ol(Z,J),K=$8.lexer(Q),X=[[]];let U=0;function Y(q,z="normal"){if(q.type==="text")q.text.split("\n").forEach((H,W)=>{if(W!==0)U++,X.push([]);H.split(" ").forEach((F)=>{if(F)X[U].push({content:F,type:z})})});else if(q.type==="strong"||q.type==="em")q.tokens.forEach((G)=>{Y(G,q.type)});else if(q.type==="html")X[U].push({content:q.text,type:"normal"})}return R(Y,"processNode"),K.forEach((q)=>{if(q.type==="paragraph")q.tokens?.forEach((z)=>{Y(z)});else if(q.type==="html")X[U].push({content:q.text,type:"normal"})}),X}function Ll(Z,{markdownAutoWrap:J}={}){const Q=$8.lexer(Z);function K(X){if(X.type==="text"){if(J===!1)return X.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;");return X.text.replace(/\n */g,"<br/>")}else if(X.type==="strong")return`<strong>${X.tokens?.map(K).join("")}</strong>`;else if(X.type==="em")return`<em>${X.tokens?.map(K).join("")}</em>`;else if(X.type==="paragraph")return`<p>${X.tokens?.map(K).join("")}</p>`;else if(X.type==="space")return"";else if(X.type==="html")return`${X.text}`;return`Unsupported markdown: ${X.type}`}return R(K,"output"),Q.map(K).join("")}function Il(Z){if(Intl.Segmenter)return[...new Intl.Segmenter().segment(Z)].map((J)=>J.segment);return[...Z]}function Dl(Z,J){const Q=Il(J.content);return cC(Z,[],Q,J.type)}function cC(Z,J,Q,K){if(Q.length===0)return[{content:J.join(""),type:K},{content:"",type:K}];const[X,...U]=Q,Y=[...J,X];if(Z([{content:Y.join(""),type:K}]))return cC(Z,Y,U,K);if(J.length===0&&X)J.push(X),Q.shift();return[{content:J.join(""),type:K},{content:Q.join(""),type:K}]}function Nl(Z,J){if(Z.some(({content:Q})=>Q.includes("\n")))throw new Error("splitLineToFitWidth does not support newlines in the line");return RR(Z,J)}function RR(Z,J,Q=[],K=[]){if(Z.length===0){if(K.length>0)Q.push(K);return Q.length>0?Q:[]}let X="";if(Z[0].content===" ")X=" ",Z.shift();const U=Z.shift()??{content:" ",type:"normal"},Y=[...K];if(X!=="")Y.push({content:X,type:"normal"});if(Y.push(U),J(Y))return RR(Z,J,Q,Y);if(K.length>0)Q.push(K),Z.unshift(U);else if(U.content){const[q,z]=Dl(J,U);if(Q.push([q]),z.content)Z.unshift(z)}return RR(Z,J,Q)}function pC(Z,J){if(J)Z.attr("style",J)}async function El(Z,J,Q,K,X=!1){const U=Z.append("foreignObject"),Y=U.append("xhtml:div");let q=J.label;if(J.label&&PJ(J.label))q=await r5(J.label.replace(g0.lineBreakRegex,"\n"),W0());const z=J.isNode?"nodeLabel":"edgeLabel",G=Y.append("span");if(G.html(q),pC(G,J.labelStyle),G.attr("class",`${z} ${K}`),pC(Y,J.labelStyle),Y.style("display","table-cell"),Y.style("white-space","nowrap"),Y.style("line-height","1.5"),Y.style("max-width",Q+"px"),Y.style("text-align","center"),Y.attr("xmlns","http://www.w3.org/1999/xhtml"),X)Y.attr("class","labelBkg");let H=Y.node().getBoundingClientRect();if(H.width===Q)Y.style("display","table"),Y.style("white-space","break-spaces"),Y.style("width",Q+"px"),H=Y.node().getBoundingClientRect();return U.node()}function OR(Z,J,Q){return Z.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",J*Q-0.1+"em").attr("dy",Q+"em")}function wl(Z,J,Q){const K=Z.append("text"),X=OR(K,1,J);AR(X,Q);const U=X.node().getComputedTextLength();return K.remove(),U}function lC(Z,J,Q){const K=Z.append("text"),X=OR(K,1,J);AR(X,[{content:Q,type:"normal"}]);const U=X.node()?.getBoundingClientRect();if(U)K.remove();return U}function jl(Z,J,Q,K=!1){const U=J.append("g"),Y=U.insert("rect").attr("class","background").attr("style","stroke: none"),q=U.append("text").attr("y","-10.1");let z=0;for(let G of Q){const H=R((F)=>wl(U,1.1,F)<=Z,"checkWidth"),W=H(G)?[G]:Nl(G,H);for(let F of W){const M=OR(q,z,1.1);AR(M,F),z++}}if(K){const G=q.node().getBBox();return Y.attr("x",-2).attr("y",-2).attr("width",G.width+4).attr("height",G.height+4),U.node()}else return q.node()}function AR(Z,J){Z.text(""),J.forEach((Q,K)=>{const X=Z.append("tspan").attr("font-style",Q.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",Q.type==="strong"?"bold":"normal");if(K===0)X.text(Q.content);else X.text(" "+Q.content)})}function LR(Z){return Z.replace(/fa[bklrs]?:fa-[\w-]+/g,(J)=>`<i class='${J.replace(":"," ")}'></i>`)}var MQ;var x6=_(()=>{FZ();X8();i9();Rl();gC();R(Ol,"preprocessMarkdown");R(Al,"markdownToLines");R(Ll,"markdownToHTML");R(Il,"splitTextToChars");R(Dl,"splitWordToFitWidth");R(cC,"splitWordToFitWidthRecursion");R(Nl,"splitLineToFitWidth");R(RR,"splitLineToFitWidthRecursion");R(pC,"applyStyle");R(El,"addHtmlSpan");R(OR,"createTspan");R(wl,"computeWidthOfText");R(lC,"computeDimensionOfText");R(jl,"createFormattedText");R(AR,"updateTextContentAndStyles");R(LR,"replaceIconSubstring");MQ=R(async(Z,J="",{style:Q="",isTitle:K=!1,classes:X="",useHtmlLabels:U=!0,isNode:Y=!0,width:q=200,addSvgBackground:z=!1}={},G)=>{if(p.info("XYZ createText",J,Q,K,X,U,Y,"addSvgBackground: ",z),U){const H=Ll(J,G),W=LR(rQ(H)),F=J.replace(/\\\\/g,"\\"),M={isNode:Y,label:PJ(J)?F:W,labelStyle:Q.replace("fill:","color:")};return await El(Z,M,q,X,z)}else{const H=J.replace(/<br\s*\/?>/g,"<br/>"),W=Al(H.replace("<br>","<br/>"),G),F=jl(q,Z,W,J?z:!1);if(Y){if(/stroke:/.exec(Q))Q=Q.replace("stroke:","lineColor:");const M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$0(F).attr("style",M)}else{const M=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");$0(F).select("rect").attr("style",M.replace(/background:/g,"fill:"));const B=Q.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");$0(F).select("text").attr("style",B)}return F}},"createText")});function dC(Z,J,Q){if(Z&&Z.length){const[K,X]=J,U=Math.PI/180*Q,Y=Math.cos(U),q=Math.sin(U);for(let z of Z){const[G,H]=z;z[0]=(G-K)*Y-(H-X)*q+K,z[1]=(G-K)*q+(H-X)*Y+X}}}function bR0(Z,J){return Z[0]===J[0]&&Z[1]===J[1]}function xR0(Z,J,Q,K=1){const X=Q,U=Math.max(J,0.1),Y=Z[0]&&Z[0][0]&&typeof Z[0][0]=="number"?[Z]:Z,q=[0,0];if(X)for(let G of Y)dC(G,q,X);const z=function(G,H,W){const F=[];for(let I of G){const D=[...I];bR0(D[0],D[D.length-1])||D.push([D[0][0],D[0][1]]),D.length>2&&F.push(D)}const M=[];H=Math.max(H,0.1);const B=[];for(let I of F)for(let D=0;D<I.length-1;D++){const w=I[D],N=I[D+1];if(w[1]!==N[1]){const E=Math.min(w[1],N[1]);B.push({ymin:E,ymax:Math.max(w[1],N[1]),x:E===w[1]?w[0]:N[0],islope:(N[0]-w[0])/(N[1]-w[1])})}}if(B.sort((I,D)=>I.ymin<D.ymin?-1:I.ymin>D.ymin?1:I.x<D.x?-1:I.x>D.x?1:I.ymax===D.ymax?0:(I.ymax-D.ymax)/Math.abs(I.ymax-D.ymax)),!B.length)return M;let O=[],A=B[0].ymin,L=0;for(;O.length||B.length;){if(B.length){let I=-1;for(let D=0;D<B.length&&!(B[D].ymin>A);D++)I=D;B.splice(0,I+1).forEach((D)=>{O.push({s:A,edge:D})})}if(O=O.filter((I)=>!(I.edge.ymax<=A)),O.sort((I,D)=>I.edge.x===D.edge.x?0:(I.edge.x-D.edge.x)/Math.abs(I.edge.x-D.edge.x)),(W!==1||L%H==0)&&O.length>1)for(let I=0;I<O.length;I+=2){const D=I+1;if(D>=O.length)break;const w=O[I].edge,N=O[D].edge;M.push([[Math.round(w.x),A],[Math.round(N.x),A]])}A+=W,O.forEach((I)=>{I.edge.x=I.edge.x+W*I.edge.islope}),L++}return M}(Y,U,K);if(X){for(let G of Y)dC(G,q,-X);(function(G,H,W){const F=[];G.forEach((M)=>F.push(...M)),dC(F,H,W)})(z,q,-X)}return z}function aH(Z,J){var Q;const K=J.hachureAngle+90;let X=J.hachureGap;X<0&&(X=4*J.strokeWidth),X=Math.round(Math.max(X,0.1));let U=1;return J.roughness>=1&&(((Q=J.randomizer)===null||Q===void 0?void 0:Q.next())||Math.random())>0.7&&(U=X),xR0(Z,X,K,U||1)}function SR(Z){const J=Z[0],Q=Z[1];return Math.sqrt(Math.pow(J[0]-Q[0],2)+Math.pow(J[1]-Q[1],2))}function sC(Z,J){return Z.type===J}function eC(Z){const J=[],Q=function(Y){const q=new Array;for(;Y!=="";)if(Y.match(/^([ \t\r\n,]+)/))Y=Y.substr(RegExp.$1.length);else if(Y.match(/^([aAcChHlLmMqQsStTvVzZ])/))q[q.length]={type:hR0,text:RegExp.$1},Y=Y.substr(RegExp.$1.length);else{if(!Y.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];q[q.length]={type:iC,text:`${parseFloat(RegExp.$1)}`},Y=Y.substr(RegExp.$1.length)}return q[q.length]={type:Cl,text:""},q}(Z);let K="BOD",X=0,U=Q[X];for(;!sC(U,Cl);){let Y=0;const q=[];if(K==="BOD"){if(U.text!=="M"&&U.text!=="m")return eC("M0,0"+Z);X++,Y=IR[U.text],K=U.text}else sC(U,iC)?Y=IR[K]:(X++,Y=IR[U.text],K=U.text);if(!(X+Y<Q.length))throw new Error("Path data ended short");for(let z=X;z<X+Y;z++){const G=Q[z];if(!sC(G,iC))throw new Error("Param not a number: "+K+","+G.text);q[q.length]=+G.text}if(typeof IR[K]!="number")throw new Error("Bad segment: "+K);{const z={key:K,data:q};J.push(z),X+=Y,U=Q[X],K==="M"&&(K="L"),K==="m"&&(K="l")}}return J}function ul(Z){let J=0,Q=0,K=0,X=0;const U=[];for(let{key:Y,data:q}of Z)switch(Y){case"M":U.push({key:"M",data:[...q]}),[J,Q]=q,[K,X]=q;break;case"m":J+=q[0],Q+=q[1],U.push({key:"M",data:[J,Q]}),K=J,X=Q;break;case"L":U.push({key:"L",data:[...q]}),[J,Q]=q;break;case"l":J+=q[0],Q+=q[1],U.push({key:"L",data:[J,Q]});break;case"C":U.push({key:"C",data:[...q]}),J=q[4],Q=q[5];break;case"c":{const z=q.map((G,H)=>H%2?G+Q:G+J);U.push({key:"C",data:z}),J=z[4],Q=z[5];break}case"Q":U.push({key:"Q",data:[...q]}),J=q[2],Q=q[3];break;case"q":{const z=q.map((G,H)=>H%2?G+Q:G+J);U.push({key:"Q",data:z}),J=z[2],Q=z[3];break}case"A":U.push({key:"A",data:[...q]}),J=q[5],Q=q[6];break;case"a":J+=q[5],Q+=q[6],U.push({key:"A",data:[q[0],q[1],q[2],q[3],q[4],J,Q]});break;case"H":U.push({key:"H",data:[...q]}),J=q[0];break;case"h":J+=q[0],U.push({key:"H",data:[J]});break;case"V":U.push({key:"V",data:[...q]}),Q=q[0];break;case"v":Q+=q[0],U.push({key:"V",data:[Q]});break;case"S":U.push({key:"S",data:[...q]}),J=q[2],Q=q[3];break;case"s":{const z=q.map((G,H)=>H%2?G+Q:G+J);U.push({key:"S",data:z}),J=z[2],Q=z[3];break}case"T":U.push({key:"T",data:[...q]}),J=q[0],Q=q[1];break;case"t":J+=q[0],Q+=q[1],U.push({key:"T",data:[J,Q]});break;case"Z":case"z":U.push({key:"Z",data:[]}),J=K,Q=X}return U}function ml(Z){const J=[];let Q="",K=0,X=0,U=0,Y=0,q=0,z=0;for(let{key:G,data:H}of Z){switch(G){case"M":J.push({key:"M",data:[...H]}),[K,X]=H,[U,Y]=H;break;case"C":J.push({key:"C",data:[...H]}),K=H[4],X=H[5],q=H[2],z=H[3];break;case"L":J.push({key:"L",data:[...H]}),[K,X]=H;break;case"H":K=H[0],J.push({key:"L",data:[K,X]});break;case"V":X=H[0],J.push({key:"L",data:[K,X]});break;case"S":{let W=0,F=0;Q==="C"||Q==="S"?(W=K+(K-q),F=X+(X-z)):(W=K,F=X),J.push({key:"C",data:[W,F,...H]}),q=H[0],z=H[1],K=H[2],X=H[3];break}case"T":{const[W,F]=H;let M=0,B=0;Q==="Q"||Q==="T"?(M=K+(K-q),B=X+(X-z)):(M=K,B=X);const O=K+2*(M-K)/3,A=X+2*(B-X)/3,L=W+2*(M-W)/3,I=F+2*(B-F)/3;J.push({key:"C",data:[O,A,L,I,W,F]}),q=M,z=B,K=W,X=F;break}case"Q":{const[W,F,M,B]=H,O=K+2*(W-K)/3,A=X+2*(F-X)/3,L=M+2*(W-M)/3,I=B+2*(F-B)/3;J.push({key:"C",data:[O,A,L,I,M,B]}),q=W,z=F,K=M,X=B;break}case"A":{const W=Math.abs(H[0]),F=Math.abs(H[1]),M=H[2],B=H[3],O=H[4],A=H[5],L=H[6];if(W===0||F===0)J.push({key:"C",data:[K,X,A,L,A,L]}),K=A,X=L;else if(K!==A||X!==L)gl(K,X,A,L,W,F,M,B,O).forEach(function(I){J.push({key:"C",data:I})}),K=A,X=L;break}case"Z":J.push({key:"Z",data:[]}),K=U,X=Y}Q=G}return J}function sH(Z,J,Q){return[Z*Math.cos(Q)-J*Math.sin(Q),Z*Math.sin(Q)+J*Math.cos(Q)]}function gl(Z,J,Q,K,X,U,Y,q,z,G){const H=(W=Y,Math.PI*W/180);var W;let F=[],M=0,B=0,O=0,A=0;if(G)[M,B,O,A]=G;else{[Z,J]=sH(Z,J,-H),[Q,K]=sH(Q,K,-H);const $=(Z-Q)/2,f=(J-K)/2;let h=$*$/(X*X)+f*f/(U*U);h>1&&(h=Math.sqrt(h),X*=h,U*=h);const v=X*X,b=U*U,y=v*b-v*f*f-b*$*$,k=v*f*f+b*$*$,g=(q===z?-1:1)*Math.sqrt(Math.abs(y/k));O=g*X*f/U+(Z+Q)/2,A=g*-U*$/X+(J+K)/2,M=Math.asin(parseFloat(((J-A)/U).toFixed(9))),B=Math.asin(parseFloat(((K-A)/U).toFixed(9))),Z<O&&(M=Math.PI-M),Q<O&&(B=Math.PI-B),M<0&&(M=2*Math.PI+M),B<0&&(B=2*Math.PI+B),z&&M>B&&(M-=2*Math.PI),!z&&B>M&&(B-=2*Math.PI)}let L=B-M;if(Math.abs(L)>120*Math.PI/180){const $=B,f=Q,h=K;B=z&&B>M?M+120*Math.PI/180*1:M+120*Math.PI/180*-1,F=gl(Q=O+X*Math.cos(B),K=A+U*Math.sin(B),f,h,X,U,Y,0,z,[B,$,O,A])}L=B-M;const I=Math.cos(M),D=Math.sin(M),w=Math.cos(B),N=Math.sin(B),E=Math.tan(L/4),j=1.3333333333333333*X*E,P=1.3333333333333333*U*E,C=[Z,J],T=[Z+j*D,J-P*I],V=[Q+j*N,K-P*w],S=[Q,K];if(T[0]=2*C[0]-T[0],T[1]=2*C[1]-T[1],G)return[T,V,S].concat(F);{F=[T,V,S].concat(F);const $=[];for(let f=0;f<F.length;f+=3){const h=sH(F[f][0],F[f][1],H),v=sH(F[f+1][0],F[f+1][1],H),b=sH(F[f+2][0],F[f+2][1],H);$.push([h[0],h[1],v[0],v[1],b[0],b[1]])}return $}}function pl(Z,J,Q,K,X){return{type:"path",ops:LX(Z,J,Q,K,X)}}function ER(Z,J,Q){const K=(Z||[]).length;if(K>2){const X=[];for(let U=0;U<K-1;U++)X.push(...LX(Z[U][0],Z[U][1],Z[U+1][0],Z[U+1][1],Q));return J&&X.push(...LX(Z[K-1][0],Z[K-1][1],Z[0][0],Z[0][1],Q)),{type:"path",ops:X}}return K===2?pl(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q):{type:"path",ops:[]}}function uR0(Z,J,Q,K,X){return function(U,Y){return ER(U,!0,Y)}([[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]],X)}function Pl(Z,J){if(Z.length){const Q=typeof Z[0][0]=="number"?[Z]:Z,K=DR(Q[0],1*(1+0.2*J.roughness),J),X=J.disableMultiStroke?[]:DR(Q[0],1.5*(1+0.22*J.roughness),Tl(J));for(let U=1;U<Q.length;U++){const Y=Q[U];if(Y.length){const q=DR(Y,1*(1+0.2*J.roughness),J),z=J.disableMultiStroke?[]:DR(Y,1.5*(1+0.22*J.roughness),Tl(J));for(let G of q)G.op!=="move"&&K.push(G);for(let G of z)G.op!=="move"&&X.push(G)}}return{type:"path",ops:K.concat(X)}}return{type:"path",ops:[]}}function cl(Z,J,Q){const K=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Z/2,2)+Math.pow(J/2,2))/2)),X=Math.ceil(Math.max(Q.curveStepCount,Q.curveStepCount/Math.sqrt(200)*K)),U=2*Math.PI/X;let Y=Math.abs(Z/2),q=Math.abs(J/2);const z=1-Q.curveFitting;return Y+=_9(Y*z,Q),q+=_9(q*z,Q),{increment:U,rx:Y,ry:q}}function aC(Z,J,Q,K){const[X,U]=fl(K.increment,Z,J,K.rx,K.ry,1,K.increment*jR(0.1,jR(0.4,1,Q),Q),Q);let Y=CR(X,null,Q);if(!Q.disableMultiStroke&&Q.roughness!==0){const[q]=fl(K.increment,Z,J,K.rx,K.ry,1.5,0,Q),z=CR(q,null,Q);Y=Y.concat(z)}return{estimatedPoints:U,opset:{type:"path",ops:Y}}}function Vl(Z,J,Q,K,X,U,Y,q,z){const G=Z,H=J;let W=Math.abs(Q/2),F=Math.abs(K/2);W+=_9(0.01*W,z),F+=_9(0.01*F,z);let M=X,B=U;for(;M<0;)M+=2*Math.PI,B+=2*Math.PI;B-M>2*Math.PI&&(M=0,B=2*Math.PI);const O=2*Math.PI/z.curveStepCount,A=Math.min(O/2,(B-M)/2),L=vl(A,G,H,W,F,M,B,1,z);if(!z.disableMultiStroke){const I=vl(A,G,H,W,F,M,B,1.5,z);L.push(...I)}return Y&&(q?L.push(...LX(G,H,G+W*Math.cos(M),H+F*Math.sin(M),z),...LX(G,H,G+W*Math.cos(B),H+F*Math.sin(B),z)):L.push({op:"lineTo",data:[G,H]},{op:"lineTo",data:[G+W*Math.cos(M),H+F*Math.sin(M)]})),{type:"path",ops:L}}function Sl(Z,J){const Q=ml(ul(eC(Z))),K=[];let X=[0,0],U=[0,0];for(let{key:Y,data:q}of Q)switch(Y){case"M":U=[q[0],q[1]],X=[q[0],q[1]];break;case"L":K.push(...LX(U[0],U[1],q[0],q[1],J)),U=[q[0],q[1]];break;case"C":{const[z,G,H,W,F,M]=q;K.push(...mR0(z,G,H,W,F,M,U,J)),U=[F,M];break}case"Z":K.push(...LX(U[0],U[1],X[0],X[1],J)),U=[X[0],X[1]]}return{type:"path",ops:K}}function rC(Z,J){const Q=[];for(let K of Z)if(K.length){const X=J.maxRandomnessOffset||0,U=K.length;if(U>2){Q.push({op:"move",data:[K[0][0]+_9(X,J),K[0][1]+_9(X,J)]});for(let Y=1;Y<U;Y++)Q.push({op:"lineTo",data:[K[Y][0]+_9(X,J),K[Y][1]+_9(X,J)]})}}return{type:"fillPath",ops:Q}}function z1(Z,J){return function(Q,K){let X=Q.fillStyle||"hachure";if(!Q6[X])switch(X){case"zigzag":Q6[X]||(Q6[X]=new $l(K));break;case"cross-hatch":Q6[X]||(Q6[X]=new _l(K));break;case"dots":Q6[X]||(Q6[X]=new bl(K));break;case"dashed":Q6[X]||(Q6[X]=new xl(K));break;case"zigzag-line":Q6[X]||(Q6[X]=new hl(K));break;default:X="hachure",Q6[X]||(Q6[X]=new VR(K))}return Q6[X]}(J,yR0).fillPolygons(Z,J)}function Tl(Z){const J=Object.assign({},Z);return J.randomizer=void 0,Z.seed&&(J.seed=Z.seed+1),J}function ll(Z){return Z.randomizer||(Z.randomizer=new yl(Z.seed||0)),Z.randomizer.next()}function jR(Z,J,Q,K=1){return Q.roughness*K*(ll(Q)*(J-Z)+Z)}function _9(Z,J,Q=1){return jR(-Z,Z,J,Q)}function LX(Z,J,Q,K,X,U=!1){const Y=U?X.disableMultiStrokeFill:X.disableMultiStroke,q=oC(Z,J,Q,K,X,!0,!1);if(Y)return q;const z=oC(Z,J,Q,K,X,!0,!0);return q.concat(z)}function oC(Z,J,Q,K,X,U,Y){const q=Math.pow(Z-Q,2)+Math.pow(J-K,2),z=Math.sqrt(q);let G=1;G=z<200?1:z>500?0.4:-0.0016668*z+1.233334;let H=X.maxRandomnessOffset||0;H*H*100>q&&(H=z/10);const W=H/2,F=0.2+0.2*ll(X);let M=X.bowing*X.maxRandomnessOffset*(K-J)/200,B=X.bowing*X.maxRandomnessOffset*(Z-Q)/200;M=_9(M,X,G),B=_9(B,X,G);const O=[],A=()=>_9(W,X,G),L=()=>_9(H,X,G),I=X.preserveVertices;return U&&(Y?O.push({op:"move",data:[Z+(I?0:A()),J+(I?0:A())]}):O.push({op:"move",data:[Z+(I?0:_9(H,X,G)),J+(I?0:_9(H,X,G))]})),Y?O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+A(),B+J+(K-J)*F+A(),M+Z+2*(Q-Z)*F+A(),B+J+2*(K-J)*F+A(),Q+(I?0:A()),K+(I?0:A())]}):O.push({op:"bcurveTo",data:[M+Z+(Q-Z)*F+L(),B+J+(K-J)*F+L(),M+Z+2*(Q-Z)*F+L(),B+J+2*(K-J)*F+L(),Q+(I?0:L()),K+(I?0:L())]}),O}function DR(Z,J,Q){if(!Z.length)return[];const K=[];K.push([Z[0][0]+_9(J,Q),Z[0][1]+_9(J,Q)]),K.push([Z[0][0]+_9(J,Q),Z[0][1]+_9(J,Q)]);for(let X=1;X<Z.length;X++)K.push([Z[X][0]+_9(J,Q),Z[X][1]+_9(J,Q)]),X===Z.length-1&&K.push([Z[X][0]+_9(J,Q),Z[X][1]+_9(J,Q)]);return CR(K,null,Q)}function CR(Z,J,Q){const K=Z.length,X=[];if(K>3){const U=[],Y=1-Q.curveTightness;X.push({op:"move",data:[Z[1][0],Z[1][1]]});for(let q=1;q+2<K;q++){const z=Z[q];U[0]=[z[0],z[1]],U[1]=[z[0]+(Y*Z[q+1][0]-Y*Z[q-1][0])/6,z[1]+(Y*Z[q+1][1]-Y*Z[q-1][1])/6],U[2]=[Z[q+1][0]+(Y*Z[q][0]-Y*Z[q+2][0])/6,Z[q+1][1]+(Y*Z[q][1]-Y*Z[q+2][1])/6],U[3]=[Z[q+1][0],Z[q+1][1]],X.push({op:"bcurveTo",data:[U[1][0],U[1][1],U[2][0],U[2][1],U[3][0],U[3][1]]})}if(J&&J.length===2){const q=Q.maxRandomnessOffset;X.push({op:"lineTo",data:[J[0]+_9(q,Q),J[1]+_9(q,Q)]})}}else K===3?(X.push({op:"move",data:[Z[1][0],Z[1][1]]}),X.push({op:"bcurveTo",data:[Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[2][0],Z[2][1]]})):K===2&&X.push(...oC(Z[0][0],Z[0][1],Z[1][0],Z[1][1],Q,!0,!0));return X}function fl(Z,J,Q,K,X,U,Y,q){const z=[],G=[];if(q.roughness===0){Z/=4,G.push([J+K*Math.cos(-Z),Q+X*Math.sin(-Z)]);for(let H=0;H<=2*Math.PI;H+=Z){const W=[J+K*Math.cos(H),Q+X*Math.sin(H)];z.push(W),G.push(W)}G.push([J+K*Math.cos(0),Q+X*Math.sin(0)]),G.push([J+K*Math.cos(Z),Q+X*Math.sin(Z)])}else{const H=_9(0.5,q)-Math.PI/2;G.push([_9(U,q)+J+0.9*K*Math.cos(H-Z),_9(U,q)+Q+0.9*X*Math.sin(H-Z)]);const W=2*Math.PI+H-0.01;for(let F=H;F<W;F+=Z){const M=[_9(U,q)+J+K*Math.cos(F),_9(U,q)+Q+X*Math.sin(F)];z.push(M),G.push(M)}G.push([_9(U,q)+J+K*Math.cos(H+2*Math.PI+0.5*Y),_9(U,q)+Q+X*Math.sin(H+2*Math.PI+0.5*Y)]),G.push([_9(U,q)+J+0.98*K*Math.cos(H+Y),_9(U,q)+Q+0.98*X*Math.sin(H+Y)]),G.push([_9(U,q)+J+0.9*K*Math.cos(H+0.5*Y),_9(U,q)+Q+0.9*X*Math.sin(H+0.5*Y)])}return[G,z]}function vl(Z,J,Q,K,X,U,Y,q,z){const G=U+_9(0.1,z),H=[];H.push([_9(q,z)+J+0.9*K*Math.cos(G-Z),_9(q,z)+Q+0.9*X*Math.sin(G-Z)]);for(let W=G;W<=Y;W+=Z)H.push([_9(q,z)+J+K*Math.cos(W),_9(q,z)+Q+X*Math.sin(W)]);return H.push([J+K*Math.cos(Y),Q+X*Math.sin(Y)]),H.push([J+K*Math.cos(Y),Q+X*Math.sin(Y)]),CR(H,null,z)}function mR0(Z,J,Q,K,X,U,Y,q){const z=[],G=[q.maxRandomnessOffset||1,(q.maxRandomnessOffset||1)+0.3];let H=[0,0];const W=q.disableMultiStroke?1:2,F=q.preserveVertices;for(let M=0;M<W;M++)M===0?z.push({op:"move",data:[Y[0],Y[1]]}):z.push({op:"move",data:[Y[0]+(F?0:_9(G[0],q)),Y[1]+(F?0:_9(G[0],q))]}),H=F?[X,U]:[X+_9(G[M],q),U+_9(G[M],q)],z.push({op:"bcurveTo",data:[Z+_9(G[M],q),J+_9(G[M],q),Q+_9(G[M],q),K+_9(G[M],q),H[0],H[1]]});return z}function rH(Z){return[...Z]}function kl(Z,J=0){const Q=Z.length;if(Q<3)throw new Error("A curve must have at least three points.");const K=[];if(Q===3)K.push(rH(Z[0]),rH(Z[1]),rH(Z[2]),rH(Z[2]));else{const X=[];X.push(Z[0],Z[0]);for(let q=1;q<Z.length;q++)X.push(Z[q]),q===Z.length-1&&X.push(Z[q]);const U=[],Y=1-J;K.push(rH(X[0]));for(let q=1;q+2<X.length;q++){const z=X[q];U[0]=[z[0],z[1]],U[1]=[z[0]+(Y*X[q+1][0]-Y*X[q-1][0])/6,z[1]+(Y*X[q+1][1]-Y*X[q-1][1])/6],U[2]=[X[q+1][0]+(Y*X[q][0]-Y*X[q+2][0])/6,X[q+1][1]+(Y*X[q][1]-Y*X[q+2][1])/6],U[3]=[X[q+1][0],X[q+1][1]],K.push(U[1],U[2],U[3])}}return K}function wR(Z,J){return Math.pow(Z[0]-J[0],2)+Math.pow(Z[1]-J[1],2)}function gR0(Z,J,Q){const K=wR(J,Q);if(K===0)return wR(Z,J);let X=((Z[0]-J[0])*(Q[0]-J[0])+(Z[1]-J[1])*(Q[1]-J[1]))/K;return X=Math.max(0,Math.min(1,X)),wR(Z,gU(J,Q,X))}function gU(Z,J,Q){return[Z[0]+(J[0]-Z[0])*Q,Z[1]+(J[1]-Z[1])*Q]}function tC(Z,J,Q,K){const X=K||[];if(function(q,z){const G=q[z+0],H=q[z+1],W=q[z+2],F=q[z+3];let M=3*H[0]-2*G[0]-F[0];M*=M;let B=3*H[1]-2*G[1]-F[1];B*=B;let O=3*W[0]-2*F[0]-G[0];O*=O;let A=3*W[1]-2*F[1]-G[1];return A*=A,M<O&&(M=O),B<A&&(B=A),M+B}(Z,J)<Q){const q=Z[J+0];if(X.length)(U=X[X.length-1],Y=q,Math.sqrt(wR(U,Y)))>1&&X.push(q);else X.push(q);X.push(Z[J+3])}else{const z=Z[J+0],G=Z[J+1],H=Z[J+2],W=Z[J+3],F=gU(z,G,0.5),M=gU(G,H,0.5),B=gU(H,W,0.5),O=gU(F,M,0.5),A=gU(M,B,0.5),L=gU(O,A,0.5);tC([z,F,O,L],0,Q,X),tC([L,A,B,W],0,Q,X)}var U,Y;return X}function pR0(Z,J){return PR(Z,0,Z.length,J)}function PR(Z,J,Q,K,X){const U=X||[],Y=Z[J],q=Z[Q-1];let z=0,G=1;for(let H=J+1;H<Q-1;++H){const W=gR0(Z[H],Y,q);W>z&&(z=W,G=H)}return Math.sqrt(z)>K?(PR(Z,J,G+1,K,U),PR(Z,G,Q,K,U)):(U.length||U.push(Y),U.push(q)),U}function nC(Z,J=0.15,Q){const K=[],X=(Z.length-1)/3;for(let U=0;U<X;U++)tC(Z,3*U,J,K);return Q&&Q>0?PR(K,0,K.length,Q):K}class VR{constructor(Z){this.helper=Z}fillPolygons(Z,J){return this._fillPolygons(Z,J)}_fillPolygons(Z,J){const Q=aH(Z,J);return{type:"fillSketch",ops:this.renderLines(Q,J)}}renderLines(Z,J){const Q=[];for(let K of Z)Q.push(...this.helper.doubleLineOps(K[0][0],K[0][1],K[1][0],K[1][1],J));return Q}}class bl{constructor(Z){this.helper=Z}fillPolygons(Z,J){const Q=aH(Z,J=Object.assign({},J,{hachureAngle:0}));return this.dotsOnLines(Q,J)}dotsOnLines(Z,J){const Q=[];let K=J.hachureGap;K<0&&(K=4*J.strokeWidth),K=Math.max(K,0.1);let X=J.fillWeight;X<0&&(X=J.strokeWidth/2);const U=K/4;for(let Y of Z){const q=SR(Y),z=q/K,G=Math.ceil(z)-1,H=q-G*K,W=(Y[0][0]+Y[1][0])/2-K/4,F=Math.min(Y[0][1],Y[1][1]);for(let M=0;M<G;M++){const B=F+H+M*K,O=W-U+2*Math.random()*U,A=B-U+2*Math.random()*U,L=this.helper.ellipse(O,A,X,X,J);Q.push(...L.ops)}}return{type:"fillSketch",ops:Q}}}class xl{constructor(Z){this.helper=Z}fillPolygons(Z,J){const Q=aH(Z,J);return{type:"fillSketch",ops:this.dashedLine(Q,J)}}dashedLine(Z,J){const Q=J.dashOffset<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashOffset,K=J.dashGap<0?J.hachureGap<0?4*J.strokeWidth:J.hachureGap:J.dashGap,X=[];return Z.forEach((U)=>{const Y=SR(U),q=Math.floor(Y/(Q+K)),z=(Y+K-q*(Q+K))/2;let G=U[0],H=U[1];G[0]>H[0]&&(G=U[1],H=U[0]);const W=Math.atan((H[1]-G[1])/(H[0]-G[0]));for(let F=0;F<q;F++){const M=F*(Q+K),B=M+Q,O=[G[0]+M*Math.cos(W)+z*Math.cos(W),G[1]+M*Math.sin(W)+z*Math.sin(W)],A=[G[0]+B*Math.cos(W)+z*Math.cos(W),G[1]+B*Math.sin(W)+z*Math.sin(W)];X.push(...this.helper.doubleLineOps(O[0],O[1],A[0],A[1],J))}}),X}}class hl{constructor(Z){this.helper=Z}fillPolygons(Z,J){const Q=J.hachureGap<0?4*J.strokeWidth:J.hachureGap,K=J.zigzagOffset<0?Q:J.zigzagOffset,X=aH(Z,J=Object.assign({},J,{hachureGap:Q+K}));return{type:"fillSketch",ops:this.zigzagLines(X,K,J)}}zigzagLines(Z,J,Q){const K=[];return Z.forEach((X)=>{const U=SR(X),Y=Math.round(U/(2*J));let q=X[0],z=X[1];q[0]>z[0]&&(q=X[1],z=X[0]);const G=Math.atan((z[1]-q[1])/(z[0]-q[0]));for(let H=0;H<Y;H++){const W=2*H*J,F=2*(H+1)*J,M=Math.sqrt(2*Math.pow(J,2)),B=[q[0]+W*Math.cos(G),q[1]+W*Math.sin(G)],O=[q[0]+F*Math.cos(G),q[1]+F*Math.sin(G)],A=[B[0]+M*Math.cos(G+Math.PI/4),B[1]+M*Math.sin(G+Math.PI/4)];K.push(...this.helper.doubleLineOps(B[0],B[1],A[0],A[1],Q),...this.helper.doubleLineOps(A[0],A[1],O[0],O[1],Q))}}),K}}class yl{constructor(Z){this.seed=Z}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}class nH{constructor(Z){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:0.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:0.8},this.config=Z||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2147483648)}_o(Z){return Z?Object.assign({},this.defaultOptions,Z):this.defaultOptions}_d(Z,J,Q){return{shape:Z,sets:J||[],options:Q||this.defaultOptions}}line(Z,J,Q,K,X){const U=this._o(X);return this._d("line",[pl(Z,J,Q,K,U)],U)}rectangle(Z,J,Q,K,X){const U=this._o(X),Y=[],q=uR0(Z,J,Q,K,U);if(U.fill){const z=[[Z,J],[Z+Q,J],[Z+Q,J+K],[Z,J+K]];U.fillStyle==="solid"?Y.push(rC([z],U)):Y.push(z1([z],U))}return U.stroke!==h6&&Y.push(q),this._d("rectangle",Y,U)}ellipse(Z,J,Q,K,X){const U=this._o(X),Y=[],q=cl(Q,K,U),z=aC(Z,J,U,q);if(U.fill)if(U.fillStyle==="solid"){const G=aC(Z,J,U,q).opset;G.type="fillPath",Y.push(G)}else Y.push(z1([z.estimatedPoints],U));return U.stroke!==h6&&Y.push(z.opset),this._d("ellipse",Y,U)}circle(Z,J,Q,K){const X=this.ellipse(Z,J,Q,Q,K);return X.shape="circle",X}linearPath(Z,J){const Q=this._o(J);return this._d("linearPath",[ER(Z,!1,Q)],Q)}arc(Z,J,Q,K,X,U,Y=!1,q){const z=this._o(q),G=[],H=Vl(Z,J,Q,K,X,U,Y,!0,z);if(Y&&z.fill)if(z.fillStyle==="solid"){const W=Object.assign({},z);W.disableMultiStroke=!0;const F=Vl(Z,J,Q,K,X,U,!0,!1,W);F.type="fillPath",G.push(F)}else G.push(function(W,F,M,B,O,A,L){const I=W,D=F;let w=Math.abs(M/2),N=Math.abs(B/2);w+=_9(0.01*w,L),N+=_9(0.01*N,L);let E=O,j=A;for(;E<0;)E+=2*Math.PI,j+=2*Math.PI;j-E>2*Math.PI&&(E=0,j=2*Math.PI);const P=(j-E)/L.curveStepCount,C=[];for(let T=E;T<=j;T+=P)C.push([I+w*Math.cos(T),D+N*Math.sin(T)]);return C.push([I+w*Math.cos(j),D+N*Math.sin(j)]),C.push([I,D]),z1([C],L)}(Z,J,Q,K,X,U,z));return z.stroke!==h6&&G.push(H),this._d("arc",G,z)}curve(Z,J){const Q=this._o(J),K=[],X=Pl(Z,Q);if(Q.fill&&Q.fill!==h6)if(Q.fillStyle==="solid"){const U=Pl(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(U.ops)})}else{const U=[],Y=Z;if(Y.length){const q=typeof Y[0][0]=="number"?[Y]:Y;for(let z of q)z.length<3?U.push(...z):z.length===3?U.push(...nC(kl([z[0],z[0],z[1],z[2]]),10,(1+Q.roughness)/2)):U.push(...nC(kl(z),10,(1+Q.roughness)/2))}U.length&&K.push(z1([U],Q))}return Q.stroke!==h6&&K.push(X),this._d("curve",K,Q)}polygon(Z,J){const Q=this._o(J),K=[],X=ER(Z,!0,Q);return Q.fill&&(Q.fillStyle==="solid"?K.push(rC([Z],Q)):K.push(z1([Z],Q))),Q.stroke!==h6&&K.push(X),this._d("polygon",K,Q)}path(Z,J){const Q=this._o(J),K=[];if(!Z)return this._d("path",K,Q);Z=(Z||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const X=Q.fill&&Q.fill!=="transparent"&&Q.fill!==h6,U=Q.stroke!==h6,Y=!!(Q.simplification&&Q.simplification<1),q=function(G,H,W){const F=ml(ul(eC(G))),M=[];let B=[],O=[0,0],A=[];const L=()=>{A.length>=4&&B.push(...nC(A,H)),A=[]},I=()=>{L(),B.length&&(M.push(B),B=[])};for(let{key:w,data:N}of F)switch(w){case"M":I(),O=[N[0],N[1]],B.push(O);break;case"L":L(),B.push([N[0],N[1]]);break;case"C":if(!A.length){const E=B.length?B[B.length-1]:O;A.push([E[0],E[1]])}A.push([N[0],N[1]]),A.push([N[2],N[3]]),A.push([N[4],N[5]]);break;case"Z":L(),B.push([O[0],O[1]])}if(I(),!W)return M;const D=[];for(let w of M){const N=pR0(w,W);N.length&&D.push(N)}return D}(Z,1,Y?4-4*(Q.simplification||1):(1+Q.roughness)/2),z=Sl(Z,Q);if(X)if(Q.fillStyle==="solid")if(q.length===1){const G=Sl(Z,Object.assign(Object.assign({},Q),{disableMultiStroke:!0,roughness:Q.roughness?Q.roughness+Q.fillShapeRoughnessGain:0}));K.push({type:"fillPath",ops:this._mergedShape(G.ops)})}else K.push(rC(q,Q));else K.push(z1(q,Q));return U&&(Y?q.forEach((G)=>{K.push(ER(G,!1,Q))}):K.push(z)),this._d("path",K,Q)}opsToPath(Z,J){let Q="";for(let K of Z.ops){const X=typeof J=="number"&&J>=0?K.data.map((U)=>+U.toFixed(J)):K.data;switch(K.op){case"move":Q+=`M${X[0]} ${X[1]} `;break;case"bcurveTo":Q+=`C${X[0]} ${X[1]}, ${X[2]} ${X[3]}, ${X[4]} ${X[5]} `;break;case"lineTo":Q+=`L${X[0]} ${X[1]} `}}return Q.trim()}toPaths(Z){const J=Z.sets||[],Q=Z.options||this.defaultOptions,K=[];for(let X of J){let U=null;switch(X.type){case"path":U={d:this.opsToPath(X),stroke:Q.stroke,strokeWidth:Q.strokeWidth,fill:h6};break;case"fillPath":U={d:this.opsToPath(X),stroke:h6,strokeWidth:0,fill:Q.fill||h6};break;case"fillSketch":U=this.fillSketch(X,Q)}U&&K.push(U)}return K}fillSketch(Z,J){let Q=J.fillWeight;return Q<0&&(Q=J.strokeWidth/2),{d:this.opsToPath(Z),stroke:J.fill||h6,strokeWidth:Q,fill:h6}}_mergedShape(Z){return Z.filter((J,Q)=>Q===0||J.op!=="move")}}class dl{constructor(Z,J){this.canvas=Z,this.ctx=this.canvas.getContext("2d"),this.gen=new nH(J)}draw(Z){const J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.ctx,X=Z.options.fixedDecimalPlaceDigits;for(let U of J)switch(U.type){case"path":K.save(),K.strokeStyle=Q.stroke==="none"?"transparent":Q.stroke,K.lineWidth=Q.strokeWidth,Q.strokeLineDash&&K.setLineDash(Q.strokeLineDash),Q.strokeLineDashOffset&&(K.lineDashOffset=Q.strokeLineDashOffset),this._drawToContext(K,U,X),K.restore();break;case"fillPath":{K.save(),K.fillStyle=Q.fill||"";const Y=Z.shape==="curve"||Z.shape==="polygon"||Z.shape==="path"?"evenodd":"nonzero";this._drawToContext(K,U,X,Y),K.restore();break}case"fillSketch":this.fillSketch(K,U,Q)}}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2),Z.save(),Q.fillLineDash&&Z.setLineDash(Q.fillLineDash),Q.fillLineDashOffset&&(Z.lineDashOffset=Q.fillLineDashOffset),Z.strokeStyle=Q.fill||"",Z.lineWidth=K,this._drawToContext(Z,J,Q.fixedDecimalPlaceDigits),Z.restore()}_drawToContext(Z,J,Q,K="nonzero"){Z.beginPath();for(let X of J.ops){const U=typeof Q=="number"&&Q>=0?X.data.map((Y)=>+Y.toFixed(Q)):X.data;switch(X.op){case"move":Z.moveTo(U[0],U[1]);break;case"bcurveTo":Z.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5]);break;case"lineTo":Z.lineTo(U[0],U[1])}}J.type==="fillPath"?Z.fill(K):Z.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(Z,J,Q,K,X){const U=this.gen.line(Z,J,Q,K,X);return this.draw(U),U}rectangle(Z,J,Q,K,X){const U=this.gen.rectangle(Z,J,Q,K,X);return this.draw(U),U}ellipse(Z,J,Q,K,X){const U=this.gen.ellipse(Z,J,Q,K,X);return this.draw(U),U}circle(Z,J,Q,K){const X=this.gen.circle(Z,J,Q,K);return this.draw(X),X}linearPath(Z,J){const Q=this.gen.linearPath(Z,J);return this.draw(Q),Q}polygon(Z,J){const Q=this.gen.polygon(Z,J);return this.draw(Q),Q}arc(Z,J,Q,K,X,U,Y=!1,q){const z=this.gen.arc(Z,J,Q,K,X,U,Y,q);return this.draw(z),z}curve(Z,J){const Q=this.gen.curve(Z,J);return this.draw(Q),Q}path(Z,J){const Q=this.gen.path(Z,J);return this.draw(Q),Q}}class il{constructor(Z,J){this.svg=Z,this.gen=new nH(J)}draw(Z){const J=Z.sets||[],Q=Z.options||this.getDefaultOptions(),K=this.svg.ownerDocument||window.document,X=K.createElementNS(NR,"g"),U=Z.options.fixedDecimalPlaceDigits;for(let Y of J){let q=null;switch(Y.type){case"path":q=K.createElementNS(NR,"path"),q.setAttribute("d",this.opsToPath(Y,U)),q.setAttribute("stroke",Q.stroke),q.setAttribute("stroke-width",Q.strokeWidth+""),q.setAttribute("fill","none"),Q.strokeLineDash&&q.setAttribute("stroke-dasharray",Q.strokeLineDash.join(" ").trim()),Q.strokeLineDashOffset&&q.setAttribute("stroke-dashoffset",`${Q.strokeLineDashOffset}`);break;case"fillPath":q=K.createElementNS(NR,"path"),q.setAttribute("d",this.opsToPath(Y,U)),q.setAttribute("stroke","none"),q.setAttribute("stroke-width","0"),q.setAttribute("fill",Q.fill||""),Z.shape!=="curve"&&Z.shape!=="polygon"||q.setAttribute("fill-rule","evenodd");break;case"fillSketch":q=this.fillSketch(K,Y,Q)}q&&X.appendChild(q)}return X}fillSketch(Z,J,Q){let K=Q.fillWeight;K<0&&(K=Q.strokeWidth/2);const X=Z.createElementNS(NR,"path");return X.setAttribute("d",this.opsToPath(J,Q.fixedDecimalPlaceDigits)),X.setAttribute("stroke",Q.fill||""),X.setAttribute("stroke-width",K+""),X.setAttribute("fill","none"),Q.fillLineDash&&X.setAttribute("stroke-dasharray",Q.fillLineDash.join(" ").trim()),Q.fillLineDashOffset&&X.setAttribute("stroke-dashoffset",`${Q.fillLineDashOffset}`),X}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(Z,J){return this.gen.opsToPath(Z,J)}line(Z,J,Q,K,X){const U=this.gen.line(Z,J,Q,K,X);return this.draw(U)}rectangle(Z,J,Q,K,X){const U=this.gen.rectangle(Z,J,Q,K,X);return this.draw(U)}ellipse(Z,J,Q,K,X){const U=this.gen.ellipse(Z,J,Q,K,X);return this.draw(U)}circle(Z,J,Q,K){const X=this.gen.circle(Z,J,Q,K);return this.draw(X)}linearPath(Z,J){const Q=this.gen.linearPath(Z,J);return this.draw(Q)}polygon(Z,J){const Q=this.gen.polygon(Z,J);return this.draw(Q)}arc(Z,J,Q,K,X,U,Y=!1,q){const z=this.gen.arc(Z,J,Q,K,X,U,Y,q);return this.draw(z)}curve(Z,J){const Q=this.gen.curve(Z,J);return this.draw(Q)}path(Z,J){const Q=this.gen.path(Z,J);return this.draw(Q)}}var $l,_l,Q6,hR0=0,iC=1,Cl=2,IR,yR0,h6="none",NR="http://www.w3.org/2000/svg",d9;var yZ=_(()=>{$l=class $l extends VR{fillPolygons(Z,J){let Q=J.hachureGap;Q<0&&(Q=4*J.strokeWidth),Q=Math.max(Q,0.1);const K=aH(Z,Object.assign({},J,{hachureGap:Q})),X=Math.PI/180*J.hachureAngle,U=[],Y=0.5*Q*Math.cos(X),q=0.5*Q*Math.sin(X);for(let[z,G]of K)SR([z,G])&&U.push([[z[0]-Y,z[1]+q],[...G]],[[z[0]+Y,z[1]-q],[...G]]);return{type:"fillSketch",ops:this.renderLines(U,J)}}};_l=class _l extends VR{fillPolygons(Z,J){const Q=this._fillPolygons(Z,J),K=Object.assign({},J,{hachureAngle:J.hachureAngle+90}),X=this._fillPolygons(Z,K);return Q.ops=Q.ops.concat(X.ops),Q}};Q6={};IR={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},yR0={randOffset:function(Z,J){return _9(Z,J)},randOffsetWithRange:function(Z,J,Q){return jR(Z,J,Q)},ellipse:function(Z,J,Q,K,X){const U=cl(Q,K,X);return aC(Z,J,X,U).opset},doubleLineOps:function(Z,J,Q,K,X){return LX(Z,J,Q,K,X,!0)}};d9={canvas:(Z,J)=>new dl(Z,J),svg:(Z,J)=>new il(Z,J),generator:(Z)=>new nH(Z),newSeed:()=>nH.newSeed()}});function tl(Z,J){if(J)Z.attr("style",J)}async function el(Z){const J=$0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Q=J.append("xhtml:div");let K=Z.label;if(Z.label&&PJ(Z.label))K=await r5(Z.label.replace(g0.lineBreakRegex,"\n"),W0());const X=Z.isNode?"nodeLabel":"edgeLabel";return Q.html('<span class="'+X+'" '+(Z.labelStyle?'style="'+Z.labelStyle+'"':"")+">"+K+"</span>"),tl(Q,Z.labelStyle),Q.style("display","inline-block"),Q.style("padding-right","1px"),Q.style("white-space","nowrap"),Q.attr("xmlns","http://www.w3.org/1999/xhtml"),J.node()}function tH(Z,J){if(W0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}function Ud(Z){const J=[],Q=[];for(let K=1;K<Z.length-1;K++){const X=Z[K-1],U=Z[K],Y=Z[K+1];if(X.x===U.x&&U.y===Y.y&&Math.abs(U.x-Y.x)>5&&Math.abs(U.y-X.y)>5)J.push(U),Q.push(K);else if(X.y===U.y&&U.x===Y.x&&Math.abs(U.x-X.x)>5&&Math.abs(U.y-Y.y)>5)J.push(U),Q.push(K)}return{cornerPoints:J,cornerPointPositions:Q}}function Yd(Z,J){return Z.intersect(J)}function qd(Z,J,Q,K){var{x:X,y:U}=Z,Y=X-K.x,q=U-K.y,z=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/z);if(K.x<X)G=-G;var H=Math.abs(J*Q*q/z);if(K.y<U)H=-H;return{x:X+G,y:U+H}}function Gd(Z,J,Q){return zd(Z,J,J,Q)}function Hd(Z,J,Q,K){var X,U,Y,q,z,G,H,W,F,M,B,O,A,L,I;if(X=J.y-Z.y,Y=Z.x-J.x,z=J.x*Z.y-Z.x*J.y,F=X*Q.x+Y*Q.y+z,M=X*K.x+Y*K.y+z,F!==0&&M!==0&&ZP(F,M))return;if(U=K.y-Q.y,q=Q.x-K.x,G=K.x*Q.y-Q.x*K.y,H=U*Z.x+q*Z.y+G,W=U*J.x+q*J.y+G,H!==0&&W!==0&&ZP(H,W))return;if(B=X*q-U*Y,B===0)return;return O=Math.abs(B/2),A=Y*G-q*z,L=A<0?(A-O)/B:(A+O)/B,A=U*z-X*G,I=A<0?(A-O)/B:(A+O)/B,{x:L,y:I}}function ZP(Z,J){return Z*J>0}function Wd(Z,J,Q){let{x:K,y:X}=Z,U=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(H){Y=Math.min(Y,H.x),q=Math.min(q,H.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);let z=K-Z.width/2-Y,G=X-Z.height/2-q;for(let H=0;H<J.length;H++){let W=J[H],F=J[H<J.length-1?H+1:0],M=RO0(Z,Q,{x:z+W.x,y:G+W.y},{x:z+F.x,y:G+F.y});if(M)U.push(M)}if(!U.length)return Z;if(U.length>1)U.sort(function(H,W){let F=H.x-Q.x,M=H.y-Q.y,B=Math.sqrt(F*F+M*M),O=W.x-Q.x,A=W.y-Q.y,L=Math.sqrt(O*O+A*A);return B<L?-1:B===L?0:1});return U[0]}function K5(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(X){return X.x+","+X.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}var cR0,ZW,lR0,pU,JW,eH,Zd,dR0,F7,dJ,Jd,iR0,sR0,rR0,nR0,aR0,Qd,fR,Kd,oR0,tR0,sl,TR,lJ,Xd,oH,vR,kR,eR0,ZO0,rl,nl,JO0,$R,QO0,KO0,XO0,UO0,YO0,qO0,zO0,GO0,HO0,WO0,FO0,_R,iJ,uZ,y6,MO0,zd,BO0,RO0,OO0,sZ,JP,AO0,LO0,IO0,DO0,NO0,al,EO0,wO0,jO0,CO0,PO0,VO0,SO0,TO0,fO0,vO0,kO0,$O0,_O0,bO0,xO0,hO0,yO0,uO0,mO0,gO0,pO0,cO0,lO0,dO0,iO0,sO0,ol,G1,bR,Fd,Md,QP;var cU=_(()=>{f4();x6();FZ();X8();i9();yZ();i9();i9();yZ();i9();yZ();yZ();yZ();yZ();yZ();yZ();yZ();i9();yZ();yZ();yZ();yZ();yZ();yZ();yZ();yZ();yZ();yZ();yZ();yZ();cR0=R((Z,J)=>{var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2,z,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;z=U===0?0:q*X/U,G=q}else{if(X<0)Y=-Y;z=Y,G=X===0?0:Y*U/X}return{x:Q+z,y:K+G}},"intersectRect"),ZW=cR0;R(tl,"applyStyle");R(el,"addHtmlLabel");lR0=R(async(Z,J,Q,K)=>{let X=Z||"";if(typeof X==="object")X=X[0];if(b8(W0().flowchart.htmlLabels)){X=X.replace(/\\n|\n/g,"<br />"),p.info("vertexText"+X);const U={isNode:K,label:rQ(X).replace(/fa[blrs]?:fa-[\w-]+/g,(q)=>`<i class='${q.replace(":"," ")}'></i>`),labelStyle:J?J.replace("fill:","color:"):J};return await el(U)}else{const U=document.createElementNS("http://www.w3.org/2000/svg","text");U.setAttribute("style",J.replace("color:","fill:"));let Y=[];if(typeof X==="string")Y=X.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(X))Y=X;else Y=[];for(let q of Y){const z=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(z.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),z.setAttribute("dy","1em"),z.setAttribute("x","0"),Q)z.setAttribute("class","title-row");else z.setAttribute("class","row");z.textContent=q.trim(),U.appendChild(z)}return U}},"createLabel"),pU=lR0,JW=R((Z,J,Q,K,X)=>["M",Z+X,J,"H",Z+Q-X,"A",X,X,0,0,1,Z+Q,J+X,"V",J+K-X,"A",X,X,0,0,1,Z+Q-X,J+K,"H",Z+X,"A",X,X,0,0,1,Z,J+K-X,"V",J+X,"A",X,X,0,0,1,Z+X,J,"Z"].join(" "),"createRoundedRectPathD"),eH=R((Z)=>{const{handDrawnSeed:J}=W0();return{fill:Z,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:0.7,stroke:Z,seed:J}},"solidStateFill"),Zd=R((Z)=>{const J=dR0([...Z.cssCompiledStyles||[],...Z.cssStyles||[]]);return{stylesMap:J,stylesArray:[...J]}},"compileStyles"),dR0=R((Z)=>{const J=new Map;return Z.forEach((Q)=>{const[K,X]=Q.split(":");J.set(K.trim(),X?.trim())}),J},"styles2Map"),F7=R((Z)=>{const{stylesArray:J}=Zd(Z),Q=[],K=[],X=[],U=[];return J.forEach((Y)=>{const q=Y[0];if(q==="color"||q==="font-size"||q==="font-family"||q==="font-weight"||q==="font-style"||q==="text-decoration"||q==="text-align"||q==="text-transform"||q==="line-height"||q==="letter-spacing"||q==="word-spacing"||q==="text-shadow"||q==="text-overflow"||q==="white-space"||q==="word-wrap"||q==="word-break"||q==="overflow-wrap"||q==="hyphens")Q.push(Y.join(":")+" !important");else{if(K.push(Y.join(":")+" !important"),q.includes("stroke"))X.push(Y.join(":")+" !important");if(q==="fill")U.push(Y.join(":")+" !important")}}),{labelStyles:Q.join(";"),nodeStyles:K.join(";"),stylesArray:J,borderStyles:X,backgroundStyles:U}},"styles2String"),dJ=R((Z,J)=>{const{themeVariables:Q,handDrawnSeed:K}=W0(),{nodeBorder:X,mainBkg:U}=Q,{stylesMap:Y}=Zd(Z);return Object.assign({roughness:0.7,fill:Y.get("fill")||U,fillStyle:"hachure",fillWeight:4,stroke:Y.get("stroke")||X,seed:K,strokeWidth:1.3},J)},"userNodeOverrides"),Jd=R(async(Z,J)=>{p.info("Creating subgraph rect for ",J.id,J);const Q=W0(),{themeVariables:K,handDrawnSeed:X}=Q,{clusterBkg:U,clusterBorder:Y}=K,{labelStyles:q,nodeStyles:z,borderStyles:G,backgroundStyles:H}=F7(J),W=Z.insert("g").attr("class","cluster "+J.cssClasses).attr("id",J.id).attr("data-look",J.look),F=b8(Q.flowchart.htmlLabels),M=W.insert("g").attr("class","cluster-label "),B=await MQ(M,J.label,{style:J.labelStyle,useHtmlLabels:F,isNode:!0});let O=B.getBBox();if(b8(Q.flowchart.htmlLabels)){const j=B.children[0],P=$0(B);O=j.getBoundingClientRect(),P.attr("width",O.width),P.attr("height",O.height)}const A=J.width<=O.width+J.padding?O.width+J.padding:J.width;if(J.width<=O.width+J.padding)J.diff=(A-J.width)/2-J.padding;else J.diff=-J.padding;const L=J.height,I=J.x-A/2,D=J.y-L/2;p.trace("Data ",J,JSON.stringify(J));let w;if(J.look==="handDrawn"){const j=d9.svg(W),P=dJ(J,{roughness:0.7,fill:U,stroke:Y,fillWeight:3,seed:X}),C=j.path(JW(I,D,A,L,0),P);w=W.insert(()=>{return p.debug("Rough node insert CXC",C),C},":first-child"),w.select("path:nth-child(2)").attr("style",G.join(";")),w.select("path").attr("style",H.join(";").replace("fill","stroke"))}else w=W.insert("rect",":first-child"),w.attr("style",z).attr("rx",J.rx).attr("ry",J.ry).attr("x",I).attr("y",D).attr("width",A).attr("height",L);const{subGraphTitleTopMargin:N}=xQ(Q);if(M.attr("transform",`translate(${J.x-O.width/2}, ${J.y-J.height/2+N})`),q){const j=M.select("span");if(j)j.attr("style",q)}const E=w.node().getBBox();return J.offsetX=0,J.width=E.width,J.height=E.height,J.offsetY=O.height-J.padding/2,J.intersect=function(j){return ZW(J,j)},{cluster:W,labelBBox:O}},"rect"),iR0=R((Z,J)=>{const Q=Z.insert("g").attr("class","note-cluster").attr("id",J.id),K=Q.insert("rect",":first-child"),X=0*J.padding,U=X/2;K.attr("rx",J.rx).attr("ry",J.ry).attr("x",J.x-J.width/2-U).attr("y",J.y-J.height/2-U).attr("width",J.width+X).attr("height",J.height+X).attr("fill","none");const Y=K.node().getBBox();return J.width=Y.width,J.height=Y.height,J.intersect=function(q){return ZW(J,q)},{cluster:Q,labelBBox:{width:0,height:0}}},"noteGroup"),sR0=R(async(Z,J)=>{const Q=W0(),{themeVariables:K,handDrawnSeed:X}=Q,{altBackground:U,compositeBackground:Y,compositeTitleBackground:q,nodeBorder:z}=K,G=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-id",J.id).attr("data-look",J.look),H=G.insert("g",":first-child"),W=G.insert("g").attr("class","cluster-label");let F=G.append("rect");const M=W.node().appendChild(await pU(J.label,J.labelStyle,void 0,!0));let B=M.getBBox();if(b8(Q.flowchart.htmlLabels)){const C=M.children[0],T=$0(M);B=C.getBoundingClientRect(),T.attr("width",B.width),T.attr("height",B.height)}const O=0*J.padding,A=O/2,L=(J.width<=B.width+J.padding?B.width+J.padding:J.width)+O;if(J.width<=B.width+J.padding)J.diff=(L-J.width)/2-J.padding;else J.diff=-J.padding;const I=J.height+O,D=J.height+O-B.height-6,w=J.x-L/2,N=J.y-I/2;J.width=L;const E=J.y-J.height/2-A+B.height+2;let j;if(J.look==="handDrawn"){const C=J.cssClasses.includes("statediagram-cluster-alt"),T=d9.svg(G),V=J.rx||J.ry?T.path(JW(w,N,L,I,10),{roughness:0.7,fill:q,fillStyle:"solid",stroke:z,seed:X}):T.rectangle(w,N,L,I,{seed:X});j=G.insert(()=>V,":first-child");const S=T.rectangle(w,E,L,D,{fill:C?U:Y,fillStyle:C?"hachure":"solid",stroke:z,seed:X});j=G.insert(()=>V,":first-child"),F=G.insert(()=>S)}else{j=H.insert("rect",":first-child");const C="outer";j.attr("class",C).attr("x",w).attr("y",N).attr("width",L).attr("height",I).attr("data-look",J.look),F.attr("class","inner").attr("x",w).attr("y",E).attr("width",L).attr("height",D)}W.attr("transform",`translate(${J.x-B.width/2}, ${N+1-(b8(Q.flowchart.htmlLabels)?0:3)})`);const P=j.node().getBBox();return J.height=P.height,J.offsetX=0,J.offsetY=B.height-J.padding/2,J.labelBBox=B,J.intersect=function(C){return ZW(J,C)},{cluster:G,labelBBox:B}},"roundedWithTitle"),rR0=R((Z,J)=>{const Q=W0(),{themeVariables:K,handDrawnSeed:X}=Q,{nodeBorder:U}=K,Y=Z.insert("g").attr("class",J.cssClasses).attr("id",J.id).attr("data-look",J.look),q=Y.insert("g",":first-child"),z=0*J.padding,G=J.width+z;J.diff=-J.padding;const H=J.height+z,W=J.x-G/2,F=J.y-H/2;J.width=G;let M;if(J.look==="handDrawn"){const A=d9.svg(Y).rectangle(W,F,G,H,{fill:"lightgrey",roughness:0.5,strokeLineDash:[5],stroke:U,seed:X});M=Y.insert(()=>A,":first-child")}else{M=q.insert("rect",":first-child");const O="divider";M.attr("class",O).attr("x",W).attr("y",F).attr("width",G).attr("height",H).attr("data-look",J.look)}const B=M.node().getBBox();return J.height=B.height,J.offsetX=0,J.offsetY=0,J.intersect=function(O){return ZW(J,O)},{cluster:Y,labelBBox:{}}},"divider"),nR0=Jd,aR0={rect:Jd,squareRect:nR0,roundedWithTitle:sR0,noteGroup:iR0,divider:rR0},Qd=new Map,fR=R(async(Z,J)=>{const Q=J.shape||"rect",K=await aR0[Q](Z,J);return Qd.set(J.id,K),K},"insertCluster"),Kd=R(()=>{Qd=new Map},"clear"),oR0=R((Z,J,Q,K,X)=>{if(J.arrowTypeStart)sl(Z,"start",J.arrowTypeStart,Q,K,X);if(J.arrowTypeEnd)sl(Z,"end",J.arrowTypeEnd,Q,K,X)},"addEdgeMarkers"),tR0={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},sl=R((Z,J,Q,K,X,U)=>{const Y=tR0[Q];if(!Y){p.warn(`Unknown arrow type: ${Q}`);return}const q=J==="start"?"Start":"End";Z.attr(`marker-${J}`,`url(${K}#${X}_${U}-${Y}${q})`)},"addEdgeMarker"),TR=new Map,lJ=new Map,Xd=R(()=>{TR.clear(),lJ.clear()},"clear"),oH=R((Z)=>{return Z?Z.reduce((Q,K)=>Q+";"+K,""):""},"getLabelStyles"),vR=R(async(Z,J)=>{let Q=b8(W0().flowchart.htmlLabels);const K=await MQ(Z,J.label,{style:oH(J.labelStyle),useHtmlLabels:Q,addSvgBackground:!0,isNode:!1});p.info("abc82",J,J.labelType);const X=Z.insert("g").attr("class","edgeLabel"),U=X.insert("g").attr("class","label");U.node().appendChild(K);let Y=K.getBBox();if(Q){const z=K.children[0],G=$0(K);Y=z.getBoundingClientRect(),G.attr("width",Y.width),G.attr("height",Y.height)}U.attr("transform","translate("+-Y.width/2+", "+-Y.height/2+")"),TR.set(J.id,X),J.width=Y.width,J.height=Y.height;let q;if(J.startLabelLeft){const z=await pU(J.startLabelLeft,oH(J.labelStyle)),G=Z.insert("g").attr("class","edgeTerminals"),H=G.insert("g").attr("class","inner");q=H.node().appendChild(z);const W=z.getBBox();if(H.attr("transform","translate("+-W.width/2+", "+-W.height/2+")"),!lJ.get(J.id))lJ.set(J.id,{});lJ.get(J.id).startLeft=G,tH(q,J.startLabelLeft)}if(J.startLabelRight){const z=await pU(J.startLabelRight,oH(J.labelStyle)),G=Z.insert("g").attr("class","edgeTerminals"),H=G.insert("g").attr("class","inner");q=G.node().appendChild(z),H.node().appendChild(z);const W=z.getBBox();if(H.attr("transform","translate("+-W.width/2+", "+-W.height/2+")"),!lJ.get(J.id))lJ.set(J.id,{});lJ.get(J.id).startRight=G,tH(q,J.startLabelRight)}if(J.endLabelLeft){const z=await pU(J.endLabelLeft,oH(J.labelStyle)),G=Z.insert("g").attr("class","edgeTerminals"),H=G.insert("g").attr("class","inner");q=H.node().appendChild(z);const W=z.getBBox();if(H.attr("transform","translate("+-W.width/2+", "+-W.height/2+")"),G.node().appendChild(z),!lJ.get(J.id))lJ.set(J.id,{});lJ.get(J.id).endLeft=G,tH(q,J.endLabelLeft)}if(J.endLabelRight){const z=await pU(J.endLabelRight,oH(J.labelStyle)),G=Z.insert("g").attr("class","edgeTerminals"),H=G.insert("g").attr("class","inner");q=H.node().appendChild(z);const W=z.getBBox();if(H.attr("transform","translate("+-W.width/2+", "+-W.height/2+")"),G.node().appendChild(z),!lJ.get(J.id))lJ.set(J.id,{});lJ.get(J.id).endRight=G,tH(q,J.endLabelRight)}return K},"insertEdgeLabel");R(tH,"setTerminalWidth");kR=R((Z,J)=>{p.debug("Moving label abc88 ",Z.id,Z.label,TR.get(Z.id),J);let Q=J.updatedPath?J.updatedPath:J.originalPath;const K=W0(),{subGraphTitleTotalMargin:X}=xQ(K);if(Z.label){const U=TR.get(Z.id);let{x:Y,y:q}=Z;if(Q){const z=B9.calcLabelPosition(Q);if(p.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",z.x,",",z.y,") abc88"),J.updatedPath)Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q+X/2})`)}if(Z.startLabelLeft){const U=lJ.get(Z.id).startLeft;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){const U=lJ.get(Z.id).startRight;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){const U=lJ.get(Z.id).endLeft;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){const U=lJ.get(Z.id).endRight;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),eR0=R((Z,J)=>{const{x:Q,y:K}=Z,X=Math.abs(J.x-Q),U=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;return X>=Y||U>=q},"outsideNode"),ZO0=R((Z,J,Q)=>{p.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);const{x:K,y:X}=Z,U=Math.abs(K-Q.x),Y=Z.width/2;let q=Q.x<J.x?Y-U:Y+U;const z=Z.height/2,G=Math.abs(J.y-Q.y),H=Math.abs(J.x-Q.x);if(Math.abs(X-J.y)*Y>Math.abs(K-J.x)*z){let W=Q.y<J.y?J.y-z-X:X-z-J.y;q=H*W/G;const F={x:Q.x<J.x?Q.x+q:Q.x-H+q,y:Q.y<J.y?Q.y+G-W:Q.y-G+W};if(q===0)F.x=J.x,F.y=J.y;if(H===0)F.x=J.x;if(G===0)F.y=J.y;return p.debug(`abc89 top/bottom calc, Q ${G}, q ${W}, R ${H}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let W=G*q/H,F=Q.x<J.x?Q.x+H-q:Q.x-H+q,M=Q.y<J.y?Q.y+W:Q.y-W;if(p.debug(`sides calc abc89, Q ${G}, q ${W}, R ${H}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(H===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),rl=R((Z,J)=>{p.warn("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],X=!1;return Z.forEach((U)=>{if(p.info("abc88 checking point",U,J),!eR0(J,U)&&!X){const Y=ZO0(J,K,U);p.debug("abc88 inside",U,K,Y),p.debug("abc88 intersection",Y,J);let q=!1;if(Q.forEach((z)=>{q=q||z.x===Y.x&&z.y===Y.y}),!Q.some((z)=>z.x===Y.x&&z.y===Y.y))Q.push(Y);else p.warn("abc88 no intersect",Y,Q);X=!0}else if(p.warn("abc88 outside",U,K),K=U,!X)Q.push(U)}),p.debug("returning points",Q),Q},"cutPathAtIntersect");R(Ud,"extractCornerPoints");nl=R(function(Z,J,Q){const K=J.x-Z.x,X=J.y-Z.y,U=Math.sqrt(K*K+X*X),Y=Q/U;return{x:J.x-Y*K,y:J.y-Y*X}},"findAdjacentPoint"),JO0=R(function(Z){const{cornerPointPositions:J}=Ud(Z),Q=[];for(let K=0;K<Z.length;K++)if(J.includes(K)){const X=Z[K-1],U=Z[K+1],Y=Z[K],q=nl(X,Y,5),z=nl(U,Y,5),G=z.x-q.x,H=z.y-q.y;Q.push(q);const W=Math.sqrt(2)*2;let F={x:Y.x,y:Y.y};if(Math.abs(U.x-X.x)>10&&Math.abs(U.y-X.y)>=10){p.debug("Corner point fixing",Math.abs(U.x-X.x),Math.abs(U.y-X.y));const M=5;if(Y.x===q.x)F={x:G<0?q.x-M+W:q.x+M-W,y:H<0?q.y-W:q.y+W};else F={x:G<0?q.x-W:q.x+W,y:H<0?q.y-M+W:q.y+M-W}}else p.debug("Corner point skipping fixing",Math.abs(U.x-X.x),Math.abs(U.y-X.y));Q.push(F,z)}else Q.push(Z[K]);return Q},"fixCorners"),$R=R(function(Z,J,Q,K,X,U,Y){const{handDrawnSeed:q}=W0();let z=J.points,G=!1;const H=X;var W=U;if(W.intersect&&H.intersect)z=z.slice(1,J.points.length-1),z.unshift(H.intersect(z[0])),p.debug("Last point APA12",J.start,"-->",J.end,z[z.length-1],W,W.intersect(z[z.length-1])),z.push(W.intersect(z[z.length-1]));if(J.toCluster)p.info("to cluster abc88",Q.get(J.toCluster)),z=rl(J.points,Q.get(J.toCluster).node),G=!0;if(J.fromCluster)p.debug("from cluster abc88",Q.get(J.fromCluster),JSON.stringify(z,null,2)),z=rl(z.reverse(),Q.get(J.fromCluster).node).reverse(),G=!0;let F=z.filter((P)=>!Number.isNaN(P.y));F=JO0(F);let M=F[F.length-1];if(F.length>1){M=F[F.length-1];const P=F[F.length-2],C=(M.x-P.x)/2,T=(M.y-P.y)/2,V={x:P.x+C,y:P.y+T};F.splice(-1,0,V)}let B=o7;if(J.curve)B=J.curve;const{x:O,y:A}=E2(J),L=pJ().x(O).y(A).curve(B);let I;switch(J.thickness){case"normal":I="edge-thickness-normal";break;case"thick":I="edge-thickness-thick";break;case"invisible":I="edge-thickness-invisible";break;default:I="edge-thickness-normal"}switch(J.pattern){case"solid":I+=" edge-pattern-solid";break;case"dotted":I+=" edge-pattern-dotted";break;case"dashed":I+=" edge-pattern-dashed";break;default:I+=" edge-pattern-solid"}let D,w=L(F);const N=Array.isArray(J.style)?J.style:[J.style];if(J.look==="handDrawn"){const P=d9.svg(Z);Object.assign([],F);const C=P.path(w,{roughness:0.3,seed:q});I+=" transition",D=$0(C).select("path").attr("id",J.id).attr("class"," "+I+(J.classes?" "+J.classes:"")).attr("style",N?N.reduce((V,S)=>V+";"+S,""):"");let T=D.attr("d");D.attr("d",T),Z.node().appendChild(D.node())}else D=Z.append("path").attr("d",w).attr("id",J.id).attr("class"," "+I+(J.classes?" "+J.classes:"")).attr("style",N?N.reduce((P,C)=>P+";"+C,""):"");let E="";if(W0().flowchart.arrowMarkerAbsolute||W0().state.arrowMarkerAbsolute)E=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,E=E.replace(/\(/g,"\\(").replace(/\)/g,"\\)");p.info("arrowTypeStart",J.arrowTypeStart),p.info("arrowTypeEnd",J.arrowTypeEnd),oR0(D,J,E,Y,K);let j={};if(G)j.updatedPath=z;return j.originalPath=J.points,j},"insertEdge"),QO0=R((Z,J,Q,K)=>{J.forEach((X)=>{FO0[X](Z,Q,K)})},"insertMarkers"),KO0=R((Z,J,Q)=>{p.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),XO0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),UO0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),YO0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),qO0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),zO0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),GO0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),HO0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),WO0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),FO0={extension:KO0,composition:XO0,aggregation:UO0,dependency:YO0,lollipop:qO0,point:zO0,circle:GO0,cross:HO0,barb:WO0},_R=QO0,iJ=R(async(Z,J,Q)=>{let K;const X=J.useHtmlLabels||b8(W0().flowchart.htmlLabels);if(!Q)K="node default";else K=Q;const U=Z.insert("g").attr("class",K).attr("id",J.domId||J.id),Y=U.insert("g").attr("class","label").attr("style",J.labelStyle);let q;if(J.label===void 0)q="";else q=typeof J.label==="string"?J.label:J.label[0];let z;z=await MQ(Y,u8(rQ(q),W0()),{useHtmlLabels:X,width:J.width||W0().flowchart.wrappingWidth,cssClasses:"markdown-node-label",style:J.labelStyle});let G=z.getBBox();const H=J.padding/2;if(b8(W0().flowchart.htmlLabels)){const W=z.children[0],F=$0(z),M=W.getElementsByTagName("img");if(M){const B=q.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...M].map((O)=>new Promise((A)=>{function L(){if(O.style.display="flex",O.style.flexDirection="column",B){const I=W0().fontSize?W0().fontSize:window.getComputedStyle(document.body).fontSize,w=parseInt(I,10)*5+"px";O.style.minWidth=w,O.style.maxWidth=w}else O.style.width="100%";A(O)}R(L,"setupImage"),setTimeout(()=>{if(O.complete)L()}),O.addEventListener("error",L),O.addEventListener("load",L)})))}G=W.getBoundingClientRect(),F.attr("width",G.width),F.attr("height",G.height)}if(X)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");else Y.attr("transform","translate(0, "+-G.height/2+")");if(J.centerLabel)Y.attr("transform","translate("+-G.width/2+", "+-G.height/2+")");return Y.insert("rect",":first-child"),{shapeSvg:U,bbox:G,halfPadding:H,label:Y}},"labelHelper"),uZ=R((Z,J)=>{const Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds"),y6=R((Z,J)=>(Z.look==="handDrawn"?"rough-node":"node")+" "+Z.cssClasses+" "+(J||""),"getNodeClasses");R(Yd,"intersectNode");MO0=Yd;R(qd,"intersectEllipse");zd=qd;R(Gd,"intersectCircle");BO0=Gd;R(Hd,"intersectLine");R(ZP,"sameSign");RO0=Hd;R(Wd,"intersectPolygon");OO0=Wd,sZ={node:MO0,circle:BO0,ellipse:zd,polygon:OO0,rect:ZW},JP=R(async(Z,J,Q)=>{const{labelStyles:K,nodeStyles:X}=F7(J);J.labelStyle=K;const{shapeSvg:U,bbox:Y}=await iJ(Z,J,y6(J)),q=Math.max(Y.width+Q.labelPaddingX*2,J?.width||0),z=Math.max(Y.height+Q.labelPaddingY*2,J?.height||0),G=-q/2,H=-z/2;let W,{rx:F,ry:M}=J;const{cssStyles:B}=J;if(Q?.rx&&Q.ry)F=Q.rx,M=Q.ry;if(J.look==="handDrawn"){const O=d9.svg(U),A=dJ(J,{}),L=F||M?O.path(JW(G,H,q,z,F||0),A):O.rectangle(G,H,q,z,A);W=U.insert(()=>L,":first-child"),W.attr("class","basic label-container").attr("style",B)}else W=U.insert("rect",":first-child"),W.attr("class","basic label-container").attr("style",X).attr("rx",F).attr("data-id","abc").attr("data-et","node").attr("ry",M).attr("x",G).attr("y",H).attr("width",q).attr("height",z);return uZ(J,W),J.intersect=function(O){return sZ.rect(J,O)},U},"drawRect"),AO0=R(async(Z,J)=>{return JP(Z,J,{rx:5,ry:5,classes:"flowchart-node"})},"state"),LO0=R(async(Z,J)=>{const Q={rx:5,ry:5,classes:"",labelPaddingX:(J?.padding||0)*1,labelPaddingY:(J?.padding||0)*1};return JP(Z,J,Q)},"roundedRect"),IO0=R(async(Z,J)=>{const Q={rx:0,ry:0,classes:"",labelPaddingX:(J?.padding||0)*2,labelPaddingY:(J?.padding||0)*1};return JP(Z,J,Q)},"squareRect"),DO0=R((Z,J)=>{const{themeVariables:Q}=W0(),{lineColor:K}=Q,X=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id);let U;if(J.look==="handDrawn"){const q=d9.svg(X).circle(0,0,14,eH(K));U=X.insert(()=>q)}else U=X.insert("circle",":first-child");return U.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),uZ(J,U),J.intersect=function(Y){return sZ.circle(J,7,Y)},X},"stateStart"),NO0=R((Z,J)=>{const{themeVariables:Q}=W0(),{lineColor:K}=Q,X=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id);let U,Y;if(J.look==="handDrawn"){const q=d9.svg(X),z=q.circle(0,0,14,{...eH(K),roughness:0.5}),G=q.circle(0,0,5,{...eH(K),fillStyle:"solid"});U=X.insert(()=>z),Y=X.insert(()=>G)}else Y=X.insert("circle",":first-child"),U=X.insert("circle",":first-child"),U.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Y.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10);return uZ(J,U),J.intersect=function(q){return sZ.circle(J,7,q)},X},"stateEnd"),al=R((Z,J,Q)=>{const{themeVariables:K}=W0(),{lineColor:X}=K,U=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id);let Y=70,q=10;if(Q==="LR")Y=10,q=70;const z=-1*Y/2,G=-1*q/2;let H;if(J.look==="handDrawn"){const O=d9.svg(U).rectangle(z,G,Y,q,eH(X));H=U.insert(()=>O)}else H=U.append("rect").attr("x",z).attr("y",G).attr("width",Y).attr("height",q).attr("class","fork-join");uZ(J,H);let W=0,F=0,M=10;if(J.height)W=J.height;if(J.width)F=J.width;if(J.padding)M=J.padding;return J.height=W+M/2,J.width=F+M/2,J.intersect=function(B){return sZ.rect(J,B)},U},"forkJoin"),EO0=R((Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{themeVariables:X}=W0(),{lineColor:U}=X,Y=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),q=28,z=[{x:0,y:q/2},{x:q/2,y:0},{x:0,y:-q/2},{x:-q/2,y:0}];let G;if(J.look==="handDrawn"){const H=d9.svg(Y),W=z.map(function(M){return[M.x,M.y]}),F=H.polygon(W,eH(U));G=Y.insert(()=>F)}else G=Y.insert("polygon",":first-child").attr("points",z.map(function(H){return H.x+","+H.y}).join(" "));return G.attr("class","state-start").attr("r",7).attr("width",28).attr("height",28).attr("style",K),J.width=28,J.height=28,J.intersect=function(H){return sZ.circle(J,14,H)},Y},"choice"),wO0=R(async(Z,J)=>{const{themeVariables:Q,handDrawnSeed:K}=W0(),{noteBorderColor:X,noteBkgColor:U}=Q;if(!J.useHtmlLabels)J.centerLabel=!0;const{shapeSvg:q,bbox:z}=await iJ(Z,J,"node "+J.cssClasses);p.info("Classes = ",J.cssClasses);const{cssStyles:G}=J;let H;const W=z.width+J.padding,F=z.height+J.padding,M=-W/2,B=-F/2;if(J.look==="handDrawn"){const A=d9.svg(q).rectangle(M,B,W,F,{roughness:0.7,fill:U,fillWeight:3,seed:K,stroke:X});H=q.insert(()=>A,":first-child"),H.attr("class","basic label-container").attr("style",G)}else H=q.insert("rect",":first-child"),H.attr("rx",J.rx).attr("ry",J.ry).attr("x",M).attr("y",B).attr("width",W).attr("height",F);return uZ(J,H),J.intersect=function(O){return sZ.rect(J,O)},q},"note"),jO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.height+J.padding,q=U.width+Y/4+J.padding;let z;const{cssStyles:G}=J;if(J.look==="handDrawn"){const H=d9.svg(X),W=dJ(J,{}),F=JW(-q/2,-Y/2,q,Y,Y/2),M=H.path(F,W);z=X.insert(()=>M,":first-child"),z.attr("class","basic label-container").attr("style",G)}else z=X.insert("rect",":first-child"),z.attr("class","basic label-container").attr("style",K).attr("rx",Y/2).attr("ry",Y/2).attr("x",-q/2).attr("y",-Y/2).attr("width",q).attr("height",Y);return uZ(J,z),J.intersect=function(H){return sZ.rect(J,H)},X},"stadium"),CO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;let X;if(!J.cssClasses)X="node default";else X="node "+J.cssClasses;const U=Z.insert("g").attr("class",X).attr("id",J.domId||J.id),Y=U.insert("g"),q=U.insert("g").attr("class","label").attr("style",K),z=J.description,G=J.label,H=q.node().appendChild(await pU(G,J.labelStyle,!0,!0));let W={width:0,height:0};if(b8(W0()?.flowchart?.htmlLabels)){const P=H.children[0],C=$0(H);W=P.getBoundingClientRect(),C.attr("width",W.width),C.attr("height",W.height)}p.info("Text 2",z);const F=z||[],M=H.getBBox(),B=q.node().appendChild(await pU(F.join?F.join("<br/>"):F,J.labelStyle,!0,!0)),O=B.children[0],A=$0(B);W=O.getBoundingClientRect(),A.attr("width",W.width),A.attr("height",W.height);const L=(J.padding||0)/2;$0(B).attr("transform","translate( "+(W.width>M.width?0:(M.width-W.width)/2)+", "+(M.height+L+5)+")"),$0(H).attr("transform","translate( "+(W.width<M.width?0:-(M.width-W.width)/2)+", 0)"),W=q.node().getBBox(),q.attr("transform","translate("+-W.width/2+", "+(-W.height/2-L+3)+")");const I=W.width+(J.padding||0),D=W.height+(J.padding||0),w=-W.width/2-L,N=-W.height/2-L;let E,j;if(J.look==="handDrawn"){const P=d9.svg(U),C=dJ(J,{}),T=P.path(JW(w,N,I,D,J.rx||0),C),V=P.line(-W.width/2-L,-W.height/2-L+M.height+L,W.width/2+L,-W.height/2-L+M.height+L,C);j=U.insert(()=>{return p.debug("Rough node insert CXC",T),V},":first-child"),E=U.insert(()=>{return p.debug("Rough node insert CXC",T),T},":first-child")}else E=Y.insert("rect",":first-child"),j=Y.insert("line"),E.attr("class","outer title-state").attr("style",K).attr("x",-W.width/2-L).attr("y",-W.height/2-L).attr("width",W.width+(J.padding||0)).attr("height",W.height+(J.padding||0)),j.attr("class","divider").attr("x1",-W.width/2-L).attr("x2",W.width/2+L).attr("y1",-W.height/2-L+M.height+L).attr("y2",-W.height/2-L+M.height+L);return uZ(J,E),J.intersect=function(P){return sZ.rect(J,P)},U},"rectWithTitle");R(K5,"insertPolygonShape");PO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=(J?.padding||0)/2,q=U.width+J.padding,z=U.height+J.padding,G=-U.width/2-Y,H=-U.height/2-Y,W=[{x:0,y:0},{x:q,y:0},{x:q,y:-z},{x:0,y:-z},{x:0,y:0},{x:-8,y:0},{x:q+8,y:0},{x:q+8,y:-z},{x:-8,y:-z},{x:-8,y:0}];if(J.look==="handDrawn"){const F=d9.svg(X),M=dJ(J,{}),B=F.rectangle(G-8,H,q+16,z,M),O=F.line(G,H,G,H+z,M),A=F.line(G+q,H,G+q,H+z,M);X.insert(()=>O,":first-child"),X.insert(()=>A,":first-child");const L=X.insert(()=>B,":first-child"),{cssStyles:I}=J;L.attr("class","basic label-container").attr("style",I),uZ(J,L)}else{const F=K5(X,q,z,W);if(K)F.attr("style",K);uZ(J,F)}return J.intersect=function(F){return sZ.polygon(J,W,F)},X},"subroutine"),VO0=R((Z,J,Q,K,X,U)=>{return[`M${Z},${J+U}`,`a${X},${U} 0,0,0 ${Q},0`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createCylinderPathD"),SO0=R((Z,J,Q,K,X,U)=>{return[`M${Z},${J+U}`,`M${Z+Q},${J+U}`,`a${X},${U} 0,0,0 ${-Q},0`,`l0,${K}`,`a${X},${U} 0,0,0 ${Q},0`,`l0,${-K}`].join(" ")},"createOuterCylinderPathD"),TO0=R((Z,J,Q,K,X,U)=>{return[`M${Z-Q/2},${-K/2}`,`a${X},${U} 0,0,0 ${Q},0`].join(" ")},"createInnerCylinderPathD"),fO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=Y/2,z=q/(2.5+Y/50),G=U.height+z+J.padding;let H;const{cssStyles:W}=J;if(J.look==="handDrawn"){const F=d9.svg(X),M=SO0(0,0,Y,G,q,z),B=TO0(0,z,Y,G,q,z),O=F.path(M,dJ(J,{})),A=F.path(B,dJ(J,{fill:"none"}));if(H=X.insert(()=>A,":first-child"),H=X.insert(()=>O,":first-child"),H.attr("class","basic label-container"),W)H.attr("style",W)}else{const F=VO0(0,0,Y,G,q,z);H=X.insert("path",":first-child").attr("d",F).attr("class","basic label-container").attr("style",W).attr("style",K)}return H.attr("label-offset-y",z),H.attr("transform",`translate(${-Y/2}, ${-(G/2+z)})`),uZ(J,H),J.intersect=function(F){const M=sZ.rect(J,F),B=M.x-(J.x??0);if(q!=0&&(Math.abs(B)<(J.width??0)/2||Math.abs(B)==(J.width??0)/2&&Math.abs(M.y-(J.y??0))>(J.height??0)/2-z)){let O=z*z*(1-B*B/(q*q));if(O>0)O=Math.sqrt(O);if(O=z-O,F.y-(J.y??0)>0)O=-O;M.y+=O}return M},X},"cylinder"),vO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U,halfPadding:Y}=await iJ(Z,J,y6(J)),q=U.width/2+Y;let z;const{cssStyles:G}=J;if(J.look==="handDrawn"){const H=d9.svg(X),W=dJ(J,{}),F=H.circle(0,0,q*2,W);z=X.insert(()=>F,":first-child"),z.attr("class","basic label-container").attr("style",G)}else z=X.insert("circle",":first-child").attr("class","basic label-container").attr("style",K).attr("r",q).attr("cx",0).attr("cy",0);return uZ(J,z),J.intersect=function(H){return p.info("Circle intersect",J,q,H),sZ.circle(J,q,H)},X},"circle"),kO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U,halfPadding:Y}=await iJ(Z,J,y6(J)),q=5,z=U.width/2+Y+q,G=U.width/2+Y;let H;const{cssStyles:W}=J;if(J.look==="handDrawn"){const F=d9.svg(X),M=dJ(J,{roughness:0.2,strokeWidth:2.5}),B=dJ(J,{roughness:0.2,strokeWidth:1.5}),O=F.circle(0,0,z*2,M),A=F.circle(0,0,G*2,B);H=X.insert("g",":first-child"),H.attr("class",J.cssClasses).attr("style",W),H.node()?.appendChild(O),H.node()?.appendChild(A)}else{H=X.insert("g",":first-child");const F=H.insert("circle",":first-child"),M=H.insert("circle");H.attr("class","basic label-container").attr("style",K),F.attr("class","outer-circle").attr("style",K).attr("r",z).attr("cx",0).attr("cy",0),M.attr("class","inner-circle").attr("style",K).attr("r",G).attr("cx",0).attr("cy",0)}return uZ(J,H),J.intersect=function(F){return p.info("DoubleCircle intersect",J,z,F),sZ.circle(J,z,F)},X},"doublecircle"),$O0=R((Z,J,Q,K)=>{return[`M${Z-K/2},${J}`,`L${Z+Q},${J}`,`L${Z+Q},${J-K}`,`L${Z-K/2},${J-K}`,`L${Z},${J-K/2}`,"Z"].join(" ")},"createPolygonPathD"),_O0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=[{x:-q/2,y:0},{x:Y,y:0},{x:Y,y:-q},{x:-q/2,y:-q},{x:0,y:-q/2}];let G;const{cssStyles:H}=J;if(J.look==="handDrawn"){const W=d9.svg(X),F=dJ(J,{}),M=$O0(0,0,Y,q),B=W.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),H)G.attr("style",H)}else G=K5(X,Y,q,z);if(K)G.attr("style",K);return J.width=Y+q,J.height=q,uZ(J,G),J.intersect=function(W){return sZ.polygon(J,z,W)},X},"rect_left_inv_arrow"),bO0=R((Z,J,Q)=>{return[`M${Z+Q/2},${J}`,`L${Z+Q},${J-Q/2}`,`L${Z+Q/2},${J-Q}`,`L${Z},${J-Q/2}`,"Z"].join(" ")},"createDecisionBoxPathD"),xO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=Y+q,G=[{x:z/2,y:0},{x:z,y:-z/2},{x:z/2,y:-z},{x:0,y:-z/2}];let H;const{cssStyles:W}=J;if(J.look==="handDrawn"){const F=d9.svg(X),M=dJ(J,{}),B=bO0(0,0,z),O=F.path(B,M);if(H=X.insert(()=>O,":first-child").attr("transform",`translate(${-z/2}, ${z/2})`),W)H.attr("style",W)}else H=K5(X,z,z,G);if(K)H.attr("style",K);return uZ(J,H),J.intersect=function(F){return p.debug("APA12 Intersect called SPLIT\npoint:",F,"\nnode:\n",J,"\nres:",sZ.polygon(J,G,F)),sZ.polygon(J,G,F)},X},"question"),hO0=R((Z,J,Q,K,X)=>{return[`M${Z+X},${J}`,`L${Z+Q-X},${J}`,`L${Z+Q},${J-K/2}`,`L${Z+Q-X},${J-K}`,`L${Z+X},${J-K}`,`L${Z},${J-K/2}`,"Z"].join(" ")},"createHexagonPathD"),yO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=4,q=U.height+J.padding,z=q/Y,G=U.width+2*z+J.padding,H=[{x:z,y:0},{x:G-z,y:0},{x:G,y:-q/2},{x:G-z,y:-q},{x:z,y:-q},{x:0,y:-q/2}];let W;const{cssStyles:F}=J;if(J.look==="handDrawn"){const M=d9.svg(X),B=dJ(J,{}),O=hO0(0,0,G,q,z),A=M.path(O,B);if(W=X.insert(()=>A,":first-child").attr("transform",`translate(${-G/2}, ${q/2})`),F)W.attr("style",F)}else W=K5(X,G,q,H);if(K)W.attr("style",K);return J.width=G,J.height=q,uZ(J,W),J.intersect=function(M){return sZ.polygon(J,H,M)},X},"hexagon"),uO0=R((Z,J,Q,K)=>{return[`M${Z-2*K/6},${J}`,`L${Z+Q-K/6},${J}`,`L${Z+Q+2*K/6},${J-K}`,`L${Z+K/6},${J-K}`,"Z"].join(" ")},"createLeanRightPathD"),mO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=[{x:-2*q/6,y:0},{x:Y-q/6,y:0},{x:Y+2*q/6,y:-q},{x:q/6,y:-q}];let G;const{cssStyles:H}=J;if(J.look==="handDrawn"){const W=d9.svg(X),F=dJ(J,{}),M=uO0(0,0,Y,q),B=W.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),H)G.attr("style",H)}else G=K5(X,Y,q,z);if(K)G.attr("style",K);return J.width=Y,J.height=q,uZ(J,G),J.intersect=function(W){return sZ.polygon(J,z,W)},X},"lean_right"),gO0=R((Z,J,Q,K)=>{return[`M${Z+2*K/6},${J}`,`L${Z+Q+K/6},${J}`,`L${Z+Q-2*K/6},${J-K}`,`L${Z-K/6},${J-K}`,"Z"].join(" ")},"createLeanLeftPathD"),pO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=[{x:2*q/6,y:0},{x:Y+q/6,y:0},{x:Y-2*q/6,y:-q},{x:-q/6,y:-q}];let G;const{cssStyles:H}=J;if(J.look==="handDrawn"){const W=d9.svg(X),F=dJ(J,{}),M=gO0(0,0,Y,q),B=W.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),H)G.attr("style",H)}else G=K5(X,Y,q,z);if(K)G.attr("style",K);return J.width=Y,J.height=q,uZ(J,G),J.intersect=function(W){return sZ.polygon(J,z,W)},X},"lean_left"),cO0=R((Z,J,Q,K)=>{return[`M${Z-2*K/6},${J}`,`L${Z+Q+2*K/6},${J}`,`L${Z+Q-K/6},${J-K}`,`L${Z+K/6},${J-K}`,"Z"].join(" ")},"createTrapezoidPathD"),lO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=[{x:-2*q/6,y:0},{x:Y+2*q/6,y:0},{x:Y-q/6,y:-q},{x:q/6,y:-q}];let G;const{cssStyles:H}=J;if(J.look==="handDrawn"){const W=d9.svg(X),F=dJ(J,{}),M=cO0(0,0,Y,q),B=W.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),H)G.attr("style",H)}else G=K5(X,Y,q,z);if(K)G.attr("style",K);return J.width=Y,J.height=q,uZ(J,G),J.intersect=function(W){return sZ.polygon(J,z,W)},X},"trapezoid"),dO0=R((Z,J,Q,K)=>{return[`M${Z+K/6},${J}`,`L${Z+Q-K/6},${J}`,`L${Z+Q+2*K/6},${J-K}`,`L${Z-2*K/6},${J-K}`,"Z"].join(" ")},"createInvertedTrapezoidPathD"),iO0=R(async(Z,J)=>{const{labelStyles:Q,nodeStyles:K}=F7(J);J.labelStyle=Q;const{shapeSvg:X,bbox:U}=await iJ(Z,J,y6(J)),Y=U.width+J.padding,q=U.height+J.padding,z=[{x:q/6,y:0},{x:Y-q/6,y:0},{x:Y+2*q/6,y:-q},{x:-2*q/6,y:-q}];let G;const{cssStyles:H}=J;if(J.look==="handDrawn"){const W=d9.svg(X),F=dJ(J,{}),M=dO0(0,0,Y,q),B=W.path(M,F);if(G=X.insert(()=>B,":first-child").attr("transform",`translate(${-Y/2}, ${q/2})`),H)G.attr("style",H)}else G=K5(X,Y,q,z);if(K)G.attr("style",K);return J.width=Y,J.height=q,uZ(J,G),J.intersect=function(W){return sZ.polygon(J,z,W)},X},"inv_trapezoid"),sO0=R(async(Z,J)=>{const{shapeSvg:Q}=await iJ(Z,J,"label"),K=Q.insert("rect",":first-child");return K.attr("width",0.1).attr("height",0.1),Q.attr("class","label edgeLabel"),uZ(J,K),J.intersect=function(Y){return sZ.rect(J,Y)},Q},"labelRect"),ol={state:AO0,stateStart:DO0,stateEnd:NO0,fork:al,join:al,choice:EO0,note:wO0,roundedRect:LO0,rectWithTitle:CO0,squareRect:IO0,stadium:jO0,subroutine:PO0,cylinder:fO0,circle:vO0,doublecircle:kO0,odd:_O0,diamond:xO0,hexagon:yO0,lean_right:mO0,lean_left:pO0,trapezoid:lO0,inv_trapezoid:iO0,labelRect:sO0},G1=new Map,bR=R(async(Z,J,Q)=>{let K,X;if(J.shape==="rect")if(J.rx&&J.ry)J.shape="roundedRect";else J.shape="squareRect";if(J.link){let U;if(W0().securityLevel==="sandbox")U="_top";else if(J.linkTarget)U=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",U),X=await ol[J.shape](K,J,Q)}else X=await ol[J.shape](Z,J,Q),K=X;if(J.tooltip)X.attr("title",J.tooltip);if(G1.set(J.id,K),J.haveCallback)G1.get(J.id).attr("class",G1.get(J.id).attr("class")+" clickable");return K},"insertNode"),Fd=R((Z,J)=>{G1.set(J.id,Z)},"setNodeElem"),Md=R(()=>{G1.clear()},"clear"),QP=R((Z)=>{const J=G1.get(Z.id);p.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");const Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode")});function nO0(Z){return typeof Z=="symbol"||fZ(Z)&&cJ(Z)==rO0}var rO0="[object Symbol]",u6;var lU=_(()=>{eK();qQ();u6=nO0});function aO0(Z,J){var Q=-1,K=Z==null?0:Z.length,X=Array(K);while(++Q<K)X[Q]=J(Z[Q],Q,Z);return X}var K6;var dU=_(()=>{K6=aO0});function Od(Z){if(typeof Z=="string")return Z;if(G9(Z))return K6(Z,Od)+"";if(u6(Z))return Rd?Rd.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-oO0?"-0":J}var oO0=1/0,Bd,Rd,Ad;var Ld=_(()=>{fU();dU();IZ();lU();Bd=fJ?fJ.prototype:void 0,Rd=Bd?Bd.toString:void 0,Ad=Od});function eO0(Z){var J=Z.length;while(J--&&tO0.test(Z.charAt(J)));return J}var tO0,Id;var Dd=_(()=>{tO0=/\s/,Id=eO0});function JA0(Z){return Z?Z.slice(0,Id(Z)+1).replace(ZA0,""):Z}var ZA0,Nd;var Ed=_(()=>{Dd();ZA0=/^\s+/,Nd=JA0});function YA0(Z){if(typeof Z=="number")return Z;if(u6(Z))return wd;if(e8(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=e8(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=Nd(Z);var Q=KA0.test(Z);return Q||XA0.test(Z)?UA0(Z.slice(2),Q?2:8):QA0.test(Z)?wd:+Z}var wd=NaN,QA0,KA0,XA0,UA0,jd;var Cd=_(()=>{Ed();k6();lU();QA0=/^[-+]0x[0-9a-f]+$/i,KA0=/^0b[01]+$/i,XA0=/^0o[0-7]+$/i,UA0=parseInt,jd=YA0});function zA0(Z){if(!Z)return Z===0?Z:0;if(Z=jd(Z),Z===Pd||Z===-Pd){var J=Z<0?-1:1;return J*qA0}return Z===Z?Z:0}var Pd=1/0,qA0=179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,H1;var KP=_(()=>{Cd();H1=zA0});function GA0(Z){var J=H1(Z),Q=J%1;return J===J?Q?J-Q:J:0}var d4;var W1=_(()=>{KP();d4=GA0});var HA0,xR;var Vd=_(()=>{GX();UQ();HA0=t7(xZ,"WeakMap"),xR=HA0});function WA0(){}var vZ;var XP=_(()=>{vZ=WA0});function FA0(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z)===!1)break;return Z}var hR;var UP=_(()=>{hR=FA0});function MA0(Z,J,Q,K){var X=Z.length,U=Q+(K?1:-1);while(K?U--:++U<X)if(J(Z[U],U,Z))return U;return-1}var yR;var YP=_(()=>{yR=MA0});function BA0(Z){return Z!==Z}var Sd;var Td=_(()=>{Sd=BA0});function RA0(Z,J,Q){var K=Q-1,X=Z.length;while(++K<X)if(Z[K]===J)return K;return-1}var fd;var vd=_(()=>{fd=RA0});function OA0(Z,J,Q){return J===J?fd(Z,J,Q):yR(Z,Sd,Q)}var F1;var uR=_(()=>{YP();Td();vd();F1=OA0});function AA0(Z,J){var Q=Z==null?0:Z.length;return!!Q&&F1(Z,J,0)>-1}var mR;var qP=_(()=>{uR();mR=AA0});var LA0,kd;var $d=_(()=>{OC();LA0=rB(Object.keys,Object),kd=LA0});function NA0(Z){if(!u4(Z))return kd(Z);var J=[];for(var Q in Object(Z))if(DA0.call(Z,Q)&&Q!="constructor")J.push(Q);return J}var IA0,DA0,M1;var gR=_(()=>{Q1();$d();IA0=Object.prototype,DA0=IA0.hasOwnProperty,M1=NA0});function EA0(Z){return hZ(Z)?KR(Z):M1(Z)}var A8;var i4=_(()=>{NC();gR();zQ();A8=EA0});var wA0,jA0,CA0,sJ;var _d=_(()=>{Y1();bU();CC();zQ();Q1();i4();wA0=Object.prototype,jA0=wA0.hasOwnProperty,CA0=YR(function(Z,J){if(u4(J)||hZ(J)){WQ(J,A8(J),Z);return}for(var Q in J)if(jA0.call(J,Q))m4(Z,Q,J[Q])}),sJ=CA0});function SA0(Z,J){if(G9(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||u6(Z))return!0;return VA0.test(Z)||!PA0.test(Z)||J!=null&&Z in Object(J)}var PA0,VA0,B1;var pR=_(()=>{IZ();lU();PA0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VA0=/^\w*$/,B1=SA0});function fA0(Z){var J=rq(Z,function(K){if(Q.size===TA0)Q.clear();return K}),Q=J.cache;return J}var TA0=500,bd;var xd=_(()=>{GC();bd=fA0});var vA0,kA0,$A0,hd;var yd=_(()=>{xd();vA0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kA0=/\\(\\)?/g,$A0=bd(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(vA0,function(Q,K,X,U){J.push(X?U.replace(kA0,"$1"):K||Q)}),J}),hd=$A0});function _A0(Z){return Z==null?"":Ad(Z)}var cR;var zP=_(()=>{Ld();cR=_A0});function bA0(Z,J){if(G9(Z))return Z;return B1(Z,J)?[Z]:hd(cR(Z))}var IX;var QW=_(()=>{IZ();pR();yd();zP();IX=bA0});function hA0(Z){if(typeof Z=="string"||u6(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-xA0?"-0":J}var xA0=1/0,s4;var R1=_(()=>{lU();s4=hA0});function yA0(Z,J){J=IX(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[s4(J[Q++])];return Q&&Q==K?Z:void 0}var DX;var KW=_(()=>{QW();R1();DX=yA0});function uA0(Z,J,Q){var K=Z==null?void 0:DX(Z,J);return K===void 0?Q:K}var ud;var md=_(()=>{KW();ud=uA0});function mA0(Z,J){var Q=-1,K=J.length,X=Z.length;while(++Q<K)Z[X+Q]=J[Q];return Z}var O1;var lR=_(()=>{O1=mA0});function gA0(Z){return G9(Z)||sQ(Z)||!!(gd&&Z&&Z[gd])}var gd,pd;var cd=_(()=>{fU();K1();IZ();gd=fJ?fJ.isConcatSpreadable:void 0,pd=gA0});function ld(Z,J,Q,K,X){var U=-1,Y=Z.length;Q||(Q=pd),X||(X=[]);while(++U<Y){var q=Z[U];if(J>0&&Q(q))if(J>1)ld(q,J-1,Q,K,X);else O1(X,q);else if(!K)X[X.length]=q}return X}var r4;var A1=_(()=>{lR();cd();r4=ld});function pA0(Z){var J=Z==null?0:Z.length;return J?r4(Z,1):[]}var j8;var dR=_(()=>{A1();j8=pA0});function cA0(Z){return UR(XR(Z,void 0,j8),Z+"")}var dd;var id=_(()=>{dR();EC();jC();dd=cA0});function lA0(Z,J,Q){var K=-1,X=Z.length;if(J<0)J=-J>X?0:X+J;if(Q=Q>X?X:Q,Q<0)Q+=X;X=J>Q?0:Q-J>>>0,J>>>=0;var U=Array(X);while(++K<X)U[K]=Z[K+J];return U}var iR;var GP=_(()=>{iR=lA0});function eA0(Z){return tA0.test(Z)}var dA0="\\ud800-\\udfff",iA0="\\u0300-\\u036f",sA0="\\ufe20-\\ufe2f",rA0="\\u20d0-\\u20ff",nA0,aA0="\\ufe0e\\ufe0f",oA0="\\u200d",tA0,sd;var rd=_(()=>{nA0=iA0+sA0+rA0,tA0=RegExp("["+oA0+dA0+nA0+aA0+"]"),sd=eA0});function ZL0(Z,J,Q,K){var X=-1,U=Z==null?0:Z.length;if(K&&U)Q=Z[++X];while(++X<U)Q=J(Q,Z[X],X,Z);return Q}var nd;var ad=_(()=>{nd=ZL0});function JL0(Z,J){return Z&&WQ(J,A8(J),Z)}var od;var td=_(()=>{bU();i4();od=JL0});function QL0(Z,J){return Z&&WQ(J,e7(J),Z)}var ed;var Zi=_(()=>{bU();OX();ed=QL0});function KL0(Z,J){var Q=-1,K=Z==null?0:Z.length,X=0,U=[];while(++Q<K){var Y=Z[Q];if(J(Y,Q,Z))U[X++]=Y}return U}var L1;var sR=_(()=>{L1=KL0});function XL0(){return[]}var rR;var HP=_(()=>{rR=XL0});var UL0,YL0,Ji,qL0,I1;var nR=_(()=>{sR();HP();UL0=Object.prototype,YL0=UL0.propertyIsEnumerable,Ji=Object.getOwnPropertySymbols,qL0=!Ji?rR:function(Z){if(Z==null)return[];return Z=Object(Z),L1(Ji(Z),function(J){return YL0.call(Z,J)})},I1=qL0});function zL0(Z,J){return WQ(Z,I1(Z),J)}var Qi;var Ki=_(()=>{bU();nR();Qi=zL0});var GL0,HL0,aR;var WP=_(()=>{lR();nB();nR();HP();GL0=Object.getOwnPropertySymbols,HL0=!GL0?rR:function(Z){var J=[];while(Z)O1(J,I1(Z)),Z=J1(Z);return J},aR=HL0});function WL0(Z,J){return WQ(Z,aR(Z),J)}var Xi;var Ui=_(()=>{bU();WP();Xi=WL0});function FL0(Z,J,Q){var K=J(Z);return G9(Z)?K:O1(K,Q(Z))}var oR;var FP=_(()=>{lR();IZ();oR=FL0});function ML0(Z){return oR(Z,A8,I1)}var XW;var MP=_(()=>{FP();nR();i4();XW=ML0});function BL0(Z){return oR(Z,e7,aR)}var tR;var BP=_(()=>{FP();WP();OX();tR=BL0});var RL0,eR;var Yi=_(()=>{GX();UQ();RL0=t7(xZ,"DataView"),eR=RL0});var OL0,ZO;var qi=_(()=>{GX();UQ();OL0=t7(xZ,"Promise"),ZO=OL0});var AL0,NX;var RP=_(()=>{GX();UQ();AL0=t7(xZ,"Set"),NX=AL0});var zi="[object Map]",LL0="[object Object]",Gi="[object Promise]",Hi="[object Set]",Wi="[object WeakMap]",Fi="[object DataView]",IL0,DL0,NL0,EL0,wL0,iU,m6;var sU=_(()=>{Yi();mB();qi();RP();Vd();eK();YC();IL0=Z5(eR),DL0=Z5(FX),NL0=Z5(ZO),EL0=Z5(NX),wL0=Z5(xR),iU=cJ;if(eR&&iU(new eR(new ArrayBuffer(1)))!=Fi||FX&&iU(new FX)!=zi||ZO&&iU(ZO.resolve())!=Gi||NX&&iU(new NX)!=Hi||xR&&iU(new xR)!=Wi)iU=function(Z){var J=cJ(Z),Q=J==LL0?Z.constructor:void 0,K=Q?Z5(Q):"";if(K)switch(K){case IL0:return Fi;case DL0:return zi;case NL0:return Gi;case EL0:return Hi;case wL0:return Wi}return J};m6=iU});function PL0(Z){var J=Z.length,Q=new Z.constructor(J);if(J&&typeof Z[0]=="string"&&CL0.call(Z,"index"))Q.index=Z.index,Q.input=Z.input;return Q}var jL0,CL0,Mi;var Bi=_(()=>{jL0=Object.prototype,CL0=jL0.hasOwnProperty,Mi=PL0});function VL0(Z,J){var Q=J?Z1(Z.buffer):Z.buffer;return new Z.constructor(Q,Z.byteOffset,Z.byteLength)}var Ri;var Oi=_(()=>{dB();Ri=VL0});function TL0(Z){var J=new Z.constructor(Z.source,SL0.exec(Z));return J.lastIndex=Z.lastIndex,J}var SL0,Ai;var Li=_(()=>{SL0=/\w*$/,Ai=TL0});function fL0(Z){return Di?Object(Di.call(Z)):{}}var Ii,Di,Ni;var Ei=_(()=>{fU();Ii=fJ?fJ.prototype:void 0,Di=Ii?Ii.valueOf:void 0,Ni=fL0});function aL0(Z,J,Q){var K=Z.constructor;switch(J){case uL0:return Z1(Z);case vL0:case kL0:return new K(+Z);case mL0:return Ri(Z,Q);case gL0:case pL0:case cL0:case lL0:case dL0:case iL0:case sL0:case rL0:case nL0:return iB(Z,Q);case $L0:return new K;case _L0:case hL0:return new K(Z);case bL0:return Ai(Z);case xL0:return new K;case yL0:return Ni(Z)}}var vL0="[object Boolean]",kL0="[object Date]",$L0="[object Map]",_L0="[object Number]",bL0="[object RegExp]",xL0="[object Set]",hL0="[object String]",yL0="[object Symbol]",uL0="[object ArrayBuffer]",mL0="[object DataView]",gL0="[object Float32Array]",pL0="[object Float64Array]",cL0="[object Int8Array]",lL0="[object Int16Array]",dL0="[object Int32Array]",iL0="[object Uint8Array]",sL0="[object Uint8ClampedArray]",rL0="[object Uint16Array]",nL0="[object Uint32Array]",wi;var ji=_(()=>{dB();Oi();Li();Ei();BC();wi=aL0});function tL0(Z){return fZ(Z)&&m6(Z)==oL0}var oL0="[object Map]",Ci;var Pi=_(()=>{sU();qQ();Ci=tL0});var Vi,eL0,Si;var Ti=_(()=>{Pi();_U();_H();Vi=$6&&$6.isMap,eL0=Vi?HQ(Vi):Ci,Si=eL0});function JI0(Z){return fZ(Z)&&m6(Z)==ZI0}var ZI0="[object Set]",fi;var ki=_(()=>{sU();qQ();fi=JI0});var $i,QI0,_i;var bi=_(()=>{ki();_U();_H();$i=$6&&$6.isSet,QI0=$i?HQ($i):fi,_i=QI0});function JO(Z,J,Q,K,X,U){var Y,q=J&KI0,z=J&XI0,G=J&UI0;if(Q)Y=X?Q(Z,K,X,U):Q(Z);if(Y!==void 0)return Y;if(!e8(Z))return Z;var H=G9(Z);if(H){if(Y=Mi(Z),!q)return sB(Z,Y)}else{var W=m6(Z),F=W==hi||W==HI0;if(GQ(Z))return kH(Z,q);if(W==yi||W==xi||F&&!X){if(Y=z||F?{}:aB(Z),!q)return z?Xi(Z,ed(Y,Z)):Qi(Z,od(Y,Z))}else{if(!XZ[W])return X?Z:{};Y=wi(Z,W,q)}}U||(U=new h4);var M=U.get(Z);if(M)return M;if(U.set(Z,Y),_i(Z))Z.forEach(function(A){Y.add(JO(A,J,Q,A,Z,U))});else if(Si(Z))Z.forEach(function(A,L){Y.set(L,JO(A,J,Q,L,Z,U))});var B=G?z?tR:XW:z?e7:A8,O=H?void 0:B(Z);return hR(O||Z,function(A,L){if(O)L=A,A=Z[L];m4(Y,L,JO(A,J,Q,L,Z,U))}),Y}var KI0=1,XI0=2,UI0=4,xi="[object Arguments]",YI0="[object Array]",qI0="[object Boolean]",zI0="[object Date]",GI0="[object Error]",hi="[object Function]",HI0="[object GeneratorFunction]",WI0="[object Map]",FI0="[object Number]",yi="[object Object]",MI0="[object RegExp]",BI0="[object Set]",RI0="[object String]",OI0="[object Symbol]",AI0="[object WeakMap]",LI0="[object ArrayBuffer]",II0="[object DataView]",DI0="[object Float32Array]",NI0="[object Float64Array]",EI0="[object Int8Array]",wI0="[object Int16Array]",jI0="[object Int32Array]",CI0="[object Uint8Array]",PI0="[object Uint8ClampedArray]",VI0="[object Uint16Array]",SI0="[object Uint32Array]",XZ,QO;var OP=_(()=>{fH();UP();Y1();td();Zi();FC();RC();Ki();Ui();MP();BP();sU();Bi();ji();AC();IZ();U1();Ti();k6();bi();i4();OX();XZ={};XZ[xi]=XZ[YI0]=XZ[LI0]=XZ[II0]=XZ[qI0]=XZ[zI0]=XZ[DI0]=XZ[NI0]=XZ[EI0]=XZ[wI0]=XZ[jI0]=XZ[WI0]=XZ[FI0]=XZ[yi]=XZ[MI0]=XZ[BI0]=XZ[RI0]=XZ[OI0]=XZ[CI0]=XZ[PI0]=XZ[VI0]=XZ[SI0]=!0;XZ[GI0]=XZ[hi]=XZ[AI0]=!1;QO=JO});function fI0(Z){return QO(Z,TI0)}var TI0=4,x8;var AP=_(()=>{OP();x8=fI0});function $I0(Z){return QO(Z,vI0|kI0)}var vI0=1,kI0=4,LP;var ui=_(()=>{OP();LP=$I0});function _I0(Z){var J=-1,Q=Z==null?0:Z.length,K=0,X=[];while(++J<Q){var U=Z[J];if(U)X[K++]=U}return X}var n4;var mi=_(()=>{n4=_I0});function xI0(Z){return this.__data__.set(Z,bI0),this}var bI0="__lodash_hash_undefined__",gi;var pi=_(()=>{gi=xI0});function hI0(Z){return this.__data__.has(Z)}var ci;var li=_(()=>{ci=hI0});function KO(Z){var J=-1,Q=Z==null?0:Z.length;this.__data__=new kU;while(++J<Q)this.add(Z[J])}var D1;var XO=_(()=>{gB();pi();li();KO.prototype.add=KO.prototype.push=gi;KO.prototype.has=ci;D1=KO});function yI0(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(J(Z[Q],Q,Z))return!0;return!1}var UO;var IP=_(()=>{UO=yI0});function uI0(Z,J){return Z.has(J)}var N1;var YO=_(()=>{N1=uI0});function pI0(Z,J,Q,K,X,U){var Y=Q&mI0,q=Z.length,z=J.length;if(q!=z&&!(Y&&z>q))return!1;var G=U.get(Z),H=U.get(J);if(G&&H)return G==J&&H==Z;var W=-1,F=!0,M=Q&gI0?new D1:void 0;U.set(Z,J),U.set(J,Z);while(++W<q){var B=Z[W],O=J[W];if(K)var A=Y?K(O,B,W,J,Z,U):K(B,O,W,Z,J,U);if(A!==void 0){if(A)continue;F=!1;break}if(M){if(!UO(J,function(L,I){if(!N1(M,I)&&(B===L||X(B,L,Q,K,U)))return M.push(I)})){F=!1;break}}else if(!(B===O||X(B,O,Q,K,U))){F=!1;break}}return U.delete(Z),U.delete(J),F}var mI0=1,gI0=2,qO;var DP=_(()=>{XO();IP();YO();qO=pI0});function cI0(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K,X){Q[++J]=[X,K]}),Q}var di;var ii=_(()=>{di=cI0});function lI0(Z){var J=-1,Q=Array(Z.size);return Z.forEach(function(K){Q[++J]=K}),Q}var E1;var zO=_(()=>{E1=lI0});function X30(Z,J,Q,K,X,U,Y){switch(Q){case K30:if(Z.byteLength!=J.byteLength||Z.byteOffset!=J.byteOffset)return!1;Z=Z.buffer,J=J.buffer;case Q30:if(Z.byteLength!=J.byteLength||!U(new eq(Z),new eq(J)))return!1;return!0;case sI0:case rI0:case oI0:return YQ(+Z,+J);case nI0:return Z.name==J.name&&Z.message==J.message;case tI0:case Z30:return Z==J+"";case aI0:var q=di;case eI0:var z=K&dI0;if(q||(q=E1),Z.size!=J.size&&!z)return!1;var G=Y.get(Z);if(G)return G==J;K|=iI0,Y.set(Z,J);var H=qO(q(Z),q(J),K,X,U,Y);return Y.delete(Z),H;case J30:if(NP)return NP.call(Z)==NP.call(J)}return!1}var dI0=1,iI0=2,sI0="[object Boolean]",rI0="[object Date]",nI0="[object Error]",aI0="[object Map]",oI0="[object Number]",tI0="[object RegExp]",eI0="[object Set]",Z30="[object String]",J30="[object Symbol]",Q30="[object ArrayBuffer]",K30="[object DataView]",si,NP,ri;var ni=_(()=>{fU();MC();vU();DP();ii();zO();si=fJ?fJ.prototype:void 0,NP=si?si.valueOf:void 0,ri=X30});function z30(Z,J,Q,K,X,U){var Y=Q&U30,q=XW(Z),z=q.length,G=XW(J),H=G.length;if(z!=H&&!Y)return!1;var W=z;while(W--){var F=q[W];if(!(Y?F in J:q30.call(J,F)))return!1}var M=U.get(Z),B=U.get(J);if(M&&B)return M==J&&B==Z;var O=!0;U.set(Z,J),U.set(J,Z);var A=Y;while(++W<z){F=q[W];var L=Z[F],I=J[F];if(K)var D=Y?K(I,L,F,J,Z,U):K(L,I,F,Z,J,U);if(!(D===void 0?L===I||X(L,I,Q,K,U):D)){O=!1;break}A||(A=F=="constructor")}if(O&&!A){var w=Z.constructor,N=J.constructor;if(w!=N&&(("constructor"in Z)&&("constructor"in J))&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N))O=!1}return U.delete(Z),U.delete(J),O}var U30=1,Y30,q30,ai;var oi=_(()=>{MP();Y30=Object.prototype,q30=Y30.hasOwnProperty,ai=z30});function W30(Z,J,Q,K,X,U){var Y=G9(Z),q=G9(J),z=Y?ei:m6(Z),G=q?ei:m6(J);z=z==ti?GO:z,G=G==ti?GO:G;var H=z==GO,W=G==GO,F=z==G;if(F&&GQ(Z)){if(!GQ(J))return!1;Y=!0,H=!1}if(F&&!H)return U||(U=new h4),Y||BX(Z)?qO(Z,J,Q,K,X,U):ri(Z,J,z,Q,K,X,U);if(!(Q&G30)){var M=H&&Zs.call(Z,"__wrapped__"),B=W&&Zs.call(J,"__wrapped__");if(M||B){var O=M?Z.value():Z,A=B?J.value():J;return U||(U=new h4),X(O,A,Q,K,U)}}if(!F)return!1;return U||(U=new h4),ai(Z,J,Q,K,X,U)}var G30=1,ti="[object Arguments]",ei="[object Array]",GO="[object Object]",H30,Zs,Js;var Qs=_(()=>{fH();DP();ni();oi();sU();IZ();U1();bH();H30=Object.prototype,Zs=H30.hasOwnProperty,Js=W30});function Ks(Z,J,Q,K,X){if(Z===J)return!0;if(Z==null||J==null||!fZ(Z)&&!fZ(J))return Z!==Z&&J!==J;return Js(Z,J,Q,K,Ks,X)}var HO;var EP=_(()=>{Qs();qQ();HO=Ks});function B30(Z,J,Q,K){var X=Q.length,U=X,Y=!K;if(Z==null)return!U;Z=Object(Z);while(X--){var q=Q[X];if(Y&&q[2]?q[1]!==Z[q[0]]:!(q[0]in Z))return!1}while(++X<U){q=Q[X];var z=q[0],G=Z[z],H=q[1];if(Y&&q[2]){if(G===void 0&&!(z in Z))return!1}else{var W=new h4;if(K)var F=K(G,H,z,Z,J,W);if(!(F===void 0?HO(H,G,F30|M30,K,W):F))return!1}}return!0}var F30=1,M30=2,Xs;var Us=_(()=>{fH();EP();Xs=B30});function R30(Z){return Z===Z&&!e8(Z)}var WO;var wP=_(()=>{k6();WO=R30});function O30(Z){var J=A8(Z),Q=J.length;while(Q--){var K=J[Q],X=Z[K];J[Q]=[K,X,WO(X)]}return J}var Ys;var qs=_(()=>{wP();i4();Ys=O30});function A30(Z,J){return function(Q){if(Q==null)return!1;return Q[Z]===J&&(J!==void 0||(Z in Object(Q)))}}var FO;var jP=_(()=>{FO=A30});function L30(Z){var J=Ys(Z);if(J.length==1&&J[0][2])return FO(J[0][0],J[0][1]);return function(Q){return Q===Z||Xs(Q,Z,J)}}var zs;var Gs=_(()=>{Us();qs();jP();zs=L30});function I30(Z,J){return Z!=null&&J in Object(Z)}var Hs;var Ws=_(()=>{Hs=I30});function D30(Z,J,Q){J=IX(J,Z);var K=-1,X=J.length,U=!1;while(++K<X){var Y=s4(J[K]);if(!(U=Z!=null&&Q(Z,Y)))break;Z=Z[Y]}if(U||++K!=X)return U;return X=Z==null?0:Z.length,!!X&&X1(X)&&RX(Y,X)&&(G9(Z)||sQ(Z))}var MO;var CP=_(()=>{QW();K1();IZ();hH();oB();R1();MO=D30});function N30(Z,J){return Z!=null&&MO(Z,J,Hs)}var BO;var PP=_(()=>{Ws();CP();BO=N30});function j30(Z,J){if(B1(Z)&&WO(J))return FO(s4(Z),J);return function(Q){var K=ud(Q,Z);return K===void 0&&K===J?BO(Q,Z):HO(J,K,E30|w30)}}var E30=1,w30=2,Fs;var Ms=_(()=>{EP();md();PP();pR();wP();jP();R1();Fs=j30});function C30(Z){return function(J){return J==null?void 0:J[Z]}}var RO;var VP=_(()=>{RO=C30});function P30(Z){return function(J){return DX(J,Z)}}var Bs;var Rs=_(()=>{KW();Bs=P30});function V30(Z){return B1(Z)?RO(s4(Z)):Bs(Z)}var Os;var As=_(()=>{VP();Rs();pR();R1();Os=V30});function S30(Z){if(typeof Z=="function")return Z;if(Z==null)return vJ;if(typeof Z=="object")return G9(Z)?Fs(Z[0],Z[1]):zs(Z);return Os(Z)}var s8;var k7=_(()=>{Gs();Ms();Q5();IZ();As();s8=S30});function T30(Z,J,Q,K){var X=-1,U=Z==null?0:Z.length;while(++X<U){var Y=Z[X];J(K,Y,Q(Y),Z)}return K}var Ls;var Is=_(()=>{Ls=T30});function f30(Z,J){return Z&&tq(Z,J,A8)}var w1;var OO=_(()=>{pB();i4();w1=f30});function v30(Z,J){return function(Q,K){if(Q==null)return Q;if(!hZ(Q))return Z(Q,K);var X=Q.length,U=J?X:-1,Y=Object(Q);while(J?U--:++U<X)if(K(Y[U],U,Y)===!1)break;return Q}}var Ds;var Ns=_(()=>{zQ();Ds=v30});var k30,X6;var EX=_(()=>{OO();Ns();k30=Ds(w1),X6=k30});function $30(Z,J,Q,K){return X6(Z,function(X,U,Y){J(K,X,Q(X),Y)}),K}var Es;var ws=_(()=>{EX();Es=$30});function _30(Z,J){return function(Q,K){var X=G9(Q)?Ls:Es,U=J?J():{};return X(Q,Z,s8(K,2),U)}}var js;var Cs=_(()=>{Is();ws();k7();IZ();js=_30});var b30=function(){return xZ.Date.now()},AO;var Ps=_(()=>{UQ();AO=b30});var Vs,x30,h30,wX;var Ss=_(()=>{q1();vU();xU();OX();Vs=Object.prototype,x30=Vs.hasOwnProperty,h30=g4(function(Z,J){Z=Object(Z);var Q=-1,K=J.length,X=K>2?J[2]:void 0;if(X&&_6(J[0],J[1],X))K=1;while(++Q<K){var U=J[Q],Y=e7(U),q=-1,z=Y.length;while(++q<z){var G=Y[q],H=Z[G];if(H===void 0||YQ(H,Vs[G])&&!x30.call(Z,G))Z[G]=U[G]}}return Z}),wX=h30});function y30(Z,J,Q){var K=-1,X=Z==null?0:Z.length;while(++K<X)if(Q(J,Z[K]))return!0;return!1}var LO;var SP=_(()=>{LO=y30});function m30(Z,J,Q,K){var X=-1,U=mR,Y=!0,q=Z.length,z=[],G=J.length;if(!q)return z;if(Q)J=K6(J,HQ(Q));if(K)U=LO,Y=!1;else if(J.length>=u30)U=N1,Y=!1,J=new D1(J);Z:while(++X<q){var H=Z[X],W=Q==null?H:Q(H);if(H=K||H!==0?H:0,Y&&W===W){var F=G;while(F--)if(J[F]===W)continue Z;z.push(H)}else if(!U(J,W,K))z.push(H)}return z}var u30=200,Ts;var fs=_(()=>{XO();qP();SP();dU();_U();YO();Ts=m30});var g30,jX;var vs=_(()=>{fs();A1();q1();tB();g30=g4(function(Z,J){return $U(Z)?Ts(Z,r4(J,1,$U,!0)):[]}),jX=g30});function p30(Z){var J=Z==null?0:Z.length;return J?Z[J-1]:void 0}var rJ;var ks=_(()=>{rJ=p30});function c30(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:d4(J),iR(Z,J<0?0:J,K)}var rZ;var $s=_(()=>{GP();W1();rZ=c30});function l30(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return[];return J=Q||J===void 0?1:d4(J),J=K-J,iR(Z,0,J<0?0:J)}var X5;var _s=_(()=>{GP();W1();X5=l30});function d30(Z){return typeof Z=="function"?Z:vJ}var j1;var IO=_(()=>{Q5();j1=d30});function i30(Z,J){var Q=G9(Z)?hR:X6;return Q(Z,j1(J))}var D0;var DO=_(()=>{UP();EX();IO();IZ();D0=i30});var bs=_(()=>{DO()});function s30(Z,J){var Q=-1,K=Z==null?0:Z.length;while(++Q<K)if(!J(Z[Q],Q,Z))return!1;return!0}var xs;var hs=_(()=>{xs=s30});function r30(Z,J){var Q=!0;return X6(Z,function(K,X,U){return Q=!!J(K,X,U),Q}),Q}var ys;var us=_(()=>{EX();ys=r30});function n30(Z,J,Q){var K=G9(Z)?xs:ys;if(Q&&_6(Z,J,Q))J=void 0;return K(Z,s8(J,3))}var M7;var ms=_(()=>{hs();us();k7();IZ();xU();M7=n30});function a30(Z,J){var Q=[];return X6(Z,function(K,X,U){if(J(K,X,U))Q.push(K)}),Q}var NO;var TP=_(()=>{EX();NO=a30});function o30(Z,J){var Q=G9(Z)?L1:NO;return Q(Z,s8(J,3))}var C8;var fP=_(()=>{sR();TP();k7();IZ();C8=o30});function t30(Z){return function(J,Q,K){var X=Object(J);if(!hZ(J)){var U=s8(Q,3);J=A8(J),Q=function(q){return U(X[q],q,X)}}var Y=Z(J,Q,K);return Y>-1?X[U?J[Y]:Y]:void 0}}var gs;var ps=_(()=>{k7();zQ();i4();gs=t30});function ZD0(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var X=Q==null?0:d4(Q);if(X<0)X=e30(K+X,0);return yR(Z,s8(J,3),X)}var e30,cs;var ls=_(()=>{YP();k7();W1();e30=Math.max,cs=ZD0});var JD0,$7;var ds=_(()=>{ps();ls();JD0=gs(cs),$7=JD0});function QD0(Z){return Z&&Z.length?Z[0]:void 0}var kJ;var is=_(()=>{kJ=QD0});var ss=_(()=>{is()});function KD0(Z,J){var Q=-1,K=hZ(Z)?Array(Z.length):[];return X6(Z,function(X,U,Y){K[++Q]=J(X,U,Y)}),K}var EO;var vP=_(()=>{EX();zQ();EO=KD0});function XD0(Z,J){var Q=G9(Z)?K6:EO;return Q(Z,s8(J,3))}var p0;var C1=_(()=>{dU();k7();vP();IZ();p0=XD0});function UD0(Z,J){return r4(p0(Z,J),1)}var nJ;var kP=_(()=>{A1();C1();nJ=UD0});function YD0(Z,J){return Z==null?Z:tq(Z,j1(J),e7)}var $P;var rs=_(()=>{pB();IO();OX();$P=YD0});function qD0(Z,J){return Z&&w1(Z,j1(J))}var _P;var ns=_(()=>{OO();IO();_P=qD0});var zD0,GD0,HD0,bP;var as=_(()=>{oq();Cs();zD0=Object.prototype,GD0=zD0.hasOwnProperty,HD0=js(function(Z,J,Q){if(GD0.call(Z,Q))Z[Q].push(J);else y4(Z,Q,[J])}),bP=HD0});function WD0(Z,J){return Z>J}var os;var ts=_(()=>{os=WD0});function BD0(Z,J){return Z!=null&&MD0.call(Z,J)}var FD0,MD0,es;var Zr=_(()=>{FD0=Object.prototype,MD0=FD0.hasOwnProperty,es=BD0});function RD0(Z,J){return Z!=null&&MO(Z,J,es)}var c0;var Jr=_(()=>{Zr();CP();c0=RD0});function AD0(Z){return typeof Z=="string"||!G9(Z)&&fZ(Z)&&cJ(Z)==OD0}var OD0="[object String]",nZ;var wO=_(()=>{eK();IZ();qQ();nZ=AD0});function LD0(Z,J){return K6(J,function(Q){return Z[Q]})}var Qr;var Kr=_(()=>{dU();Qr=LD0});function ID0(Z){return Z==null?[]:Qr(Z,A8(Z))}var Z8;var xP=_(()=>{Kr();i4();Z8=ID0});function ND0(Z,J,Q,K){Z=hZ(Z)?Z:Z8(Z),Q=Q&&!K?d4(Q):0;var X=Z.length;if(Q<0)Q=DD0(X+Q,0);return nZ(Z)?Q<=X&&Z.indexOf(J,Q)>-1:!!X&&F1(Z,J,Q)>-1}var DD0,DZ;var Xr=_(()=>{uR();zQ();wO();W1();xP();DD0=Math.max,DZ=ND0});function wD0(Z,J,Q){var K=Z==null?0:Z.length;if(!K)return-1;var X=Q==null?0:d4(Q);if(X<0)X=ED0(K+X,0);return F1(Z,J,X)}var ED0,jO;var Ur=_(()=>{uR();W1();ED0=Math.max,jO=wD0});function SD0(Z){if(Z==null)return!0;if(hZ(Z)&&(G9(Z)||typeof Z=="string"||typeof Z.splice=="function"||GQ(Z)||BX(Z)||sQ(Z)))return!Z.length;var J=m6(Z);if(J==jD0||J==CD0)return!Z.size;if(u4(Z))return!M1(Z).length;for(var Q in Z)if(VD0.call(Z,Q))return!1;return!0}var jD0="[object Map]",CD0="[object Set]",PD0,VD0,p9;var CO=_(()=>{gR();sU();K1();IZ();zQ();U1();Q1();bH();PD0=Object.prototype,VD0=PD0.hasOwnProperty,p9=SD0});function fD0(Z){return fZ(Z)&&cJ(Z)==TD0}var TD0="[object RegExp]",Yr;var qr=_(()=>{eK();qQ();Yr=fD0});var zr,vD0,BQ;var Gr=_(()=>{qr();_U();_H();zr=$6&&$6.isRegExp,vD0=zr?HQ(zr):Yr,BQ=vD0});function kD0(Z){return Z===void 0}var s9;var Hr=_(()=>{s9=kD0});function $D0(Z,J){return Z<J}var PO;var hP=_(()=>{PO=$D0});function _D0(Z,J){var Q={};return J=s8(J,3),w1(Z,function(K,X,U){y4(Q,X,J(K,X,U))}),Q}var rU;var Wr=_(()=>{oq();OO();k7();rU=_D0});function bD0(Z,J,Q){var K=-1,X=Z.length;while(++K<X){var U=Z[K],Y=J(U);if(Y!=null&&(q===void 0?Y===Y&&!u6(Y):Q(Y,q)))var q=Y,z=U}return z}var P1;var VO=_(()=>{lU();P1=bD0});function xD0(Z){return Z&&Z.length?P1(Z,vJ,os):void 0}var U6;var Fr=_(()=>{VO();ts();Q5();U6=xD0});function hD0(Z){return Z&&Z.length?P1(Z,vJ,PO):void 0}var nQ;var yP=_(()=>{VO();hP();Q5();nQ=hD0});function yD0(Z,J){return Z&&Z.length?P1(Z,s8(J,2),PO):void 0}var nU;var Mr=_(()=>{VO();k7();hP();nU=yD0});function mD0(Z){if(typeof Z!="function")throw new TypeError(uD0);return function(){var J=arguments;switch(J.length){case 0:return!Z.call(this);case 1:return!Z.call(this,J[0]);case 2:return!Z.call(this,J[0],J[1]);case 3:return!Z.call(this,J[0],J[1],J[2])}return!Z.apply(this,J)}}var uD0="Expected a function",Br;var Rr=_(()=>{Br=mD0});function gD0(Z,J,Q,K){if(!e8(Z))return Z;J=IX(J,Z);var X=-1,U=J.length,Y=U-1,q=Z;while(q!=null&&++X<U){var z=s4(J[X]),G=Q;if(z==="__proto__"||z==="constructor"||z==="prototype")return Z;if(X!=Y){var H=q[z];if(G=K?K(H,z,q):void 0,G===void 0)G=e8(H)?H:RX(J[X+1])?[]:{}}m4(q,z,G),q=q[z]}return Z}var Or;var Ar=_(()=>{Y1();QW();hH();k6();R1();Or=gD0});function pD0(Z,J,Q){var K=-1,X=J.length,U={};while(++K<X){var Y=J[K],q=DX(Z,Y);if(Q(q,Y))Or(U,IX(Y,Z),q)}return U}var SO;var uP=_(()=>{KW();Ar();QW();SO=pD0});function cD0(Z,J){if(Z==null)return{};var Q=K6(tR(Z),function(K){return[K]});return J=s8(J),SO(Z,Q,function(K,X){return J(K,X[0])})}var Y6;var Lr=_(()=>{dU();k7();uP();BP();Y6=cD0});function lD0(Z,J){var Q=Z.length;Z.sort(J);while(Q--)Z[Q]=Z[Q].value;return Z}var Ir;var Dr=_(()=>{Ir=lD0});function dD0(Z,J){if(Z!==J){var Q=Z!==void 0,K=Z===null,X=Z===Z,U=u6(Z),Y=J!==void 0,q=J===null,z=J===J,G=u6(J);if(!q&&!G&&!U&&Z>J||U&&Y&&z&&!q&&!G||K&&Y&&z||!Q&&z||!X)return 1;if(!K&&!U&&!G&&Z<J||G&&Q&&X&&!K&&!U||q&&Q&&X||!Y&&X||!z)return-1}return 0}var Nr;var Er=_(()=>{lU();Nr=dD0});function iD0(Z,J,Q){var K=-1,X=Z.criteria,U=J.criteria,Y=X.length,q=Q.length;while(++K<Y){var z=Nr(X[K],U[K]);if(z){if(K>=q)return z;var G=Q[K];return z*(G=="desc"?-1:1)}}return Z.index-J.index}var wr;var jr=_(()=>{Er();wr=iD0});function sD0(Z,J,Q){if(J.length)J=K6(J,function(U){if(G9(U))return function(Y){return DX(Y,U.length===1?U[0]:U)};return U});else J=[vJ];var K=-1;J=K6(J,HQ(s8));var X=EO(Z,function(U,Y,q){var z=K6(J,function(G){return G(U)});return{criteria:z,index:++K,value:U}});return Ir(X,function(U,Y){return wr(U,Y,Q)})}var Cr;var Pr=_(()=>{dU();KW();k7();vP();Dr();_U();jr();Q5();IZ();Cr=sD0});var rD0,Vr;var Sr=_(()=>{VP();rD0=RO("length"),Vr=rD0});function YN0(Z){var J=Tr.lastIndex=0;while(Tr.test(Z))++J;return J}var fr="\\ud800-\\udfff",nD0="\\u0300-\\u036f",aD0="\\ufe20-\\ufe2f",oD0="\\u20d0-\\u20ff",tD0,eD0="\\ufe0e\\ufe0f",ZN0,mP,gP="\\ud83c[\\udffb-\\udfff]",JN0,vr,kr="(?:\\ud83c[\\udde6-\\uddff]){2}",$r="[\\ud800-\\udbff][\\udc00-\\udfff]",QN0="\\u200d",_r,br,KN0,XN0,UN0,Tr,xr;var hr=_(()=>{tD0=nD0+aD0+oD0,ZN0="["+fr+"]",mP="["+tD0+"]",JN0="(?:"+mP+"|"+gP+")",vr="[^"+fr+"]",_r=JN0+"?",br="["+eD0+"]?",KN0="(?:"+QN0+"(?:"+[vr,kr,$r].join("|")+")"+br+_r+")*",XN0=br+_r+KN0,UN0="(?:"+[vr+mP+"?",mP,kr,$r,ZN0].join("|")+")",Tr=RegExp(gP+"(?="+gP+")|"+UN0+XN0,"g"),xr=YN0});function qN0(Z){return sd(Z)?xr(Z):Vr(Z)}var yr;var ur=_(()=>{Sr();rd();hr();yr=qN0});function zN0(Z,J){return SO(Z,J,function(Q,K){return BO(Z,K)})}var mr;var gr=_(()=>{uP();PP();mr=zN0});var GN0,aU;var pr=_(()=>{gr();id();GN0=dd(function(Z,J){return Z==null?{}:mr(Z,J)}),aU=GN0});function FN0(Z,J,Q,K){var X=-1,U=WN0(HN0((J-Z)/(Q||1)),0),Y=Array(U);while(U--)Y[K?U:++X]=Z,Z+=Q;return Y}var HN0,WN0,cr;var lr=_(()=>{HN0=Math.ceil,WN0=Math.max,cr=FN0});function MN0(Z){return function(J,Q,K){if(K&&typeof K!="number"&&_6(J,Q,K))Q=K=void 0;if(J=H1(J),Q===void 0)Q=J,J=0;else Q=H1(Q);return K=K===void 0?J<Q?1:-1:H1(K),cr(J,Q,K,Z)}}var dr;var ir=_(()=>{lr();xU();KP();dr=MN0});var BN0,RQ;var sr=_(()=>{ir();BN0=dr(),RQ=BN0});function RN0(Z,J,Q,K,X){return X(Z,function(U,Y,q){Q=K?(K=!1,U):J(Q,U,Y,q)}),Q}var rr;var nr=_(()=>{rr=RN0});function ON0(Z,J,Q){var K=G9(Z)?nd:rr,X=arguments.length<3;return K(Z,s8(J,4),Q,X,X6)}var P8;var pP=_(()=>{ad();EX();k7();nr();IZ();P8=ON0});function AN0(Z,J){var Q=G9(Z)?L1:NO;return Q(Z,Br(s8(J,3)))}var CX;var ar=_(()=>{sR();TP();k7();IZ();Rr();CX=AN0});function DN0(Z){if(Z==null)return 0;if(hZ(Z))return nZ(Z)?yr(Z):Z.length;var J=m6(Z);if(J==LN0||J==IN0)return Z.size;return M1(Z).length}var LN0="[object Map]",IN0="[object Set]",cP;var or=_(()=>{gR();sU();zQ();wO();ur();cP=DN0});function NN0(Z,J){var Q;return X6(Z,function(K,X,U){return Q=J(K,X,U),!Q}),!!Q}var tr;var er=_(()=>{EX();tr=NN0});function EN0(Z,J,Q){var K=G9(Z)?UO:tr;if(Q&&_6(Z,J,Q))J=void 0;return K(Z,s8(J,3))}var UW;var Zn=_(()=>{IP();k7();er();IZ();xU();UW=EN0});var wN0,a4;var Jn=_(()=>{A1();Pr();q1();xU();wN0=g4(function(Z,J){if(Z==null)return[];var Q=J.length;if(Q>1&&_6(Z,J[0],J[1]))J=[];else if(Q>2&&_6(J[0],J[1],J[2]))J=[J[0]];return Cr(Z,r4(J,1),[])}),a4=wN0});var jN0=1/0,CN0,Qn;var Kn=_(()=>{RP();XP();zO();CN0=!(NX&&1/E1(new NX([,-0]))[1]==jN0)?vZ:function(Z){return new NX(Z)},Qn=CN0});function VN0(Z,J,Q){var K=-1,X=mR,U=Z.length,Y=!0,q=[],z=q;if(Q)Y=!1,X=LO;else if(U>=PN0){var G=J?null:Qn(Z);if(G)return E1(G);Y=!1,X=N1,z=new D1}else z=J?[]:q;Z:while(++K<U){var H=Z[K],W=J?J(H):H;if(H=Q||H!==0?H:0,Y&&W===W){var F=z.length;while(F--)if(z[F]===W)continue Z;if(J)z.push(W);q.push(H)}else if(!X(z,W,Q)){if(z!==q)z.push(W);q.push(H)}}return q}var PN0=200,V1;var TO=_(()=>{XO();qP();SP();YO();Kn();zO();V1=VN0});var SN0,lP;var Xn=_(()=>{A1();q1();TO();tB();SN0=g4(function(Z){return V1(r4(Z,1,$U,!0))}),lP=SN0});function TN0(Z){return Z&&Z.length?V1(Z):[]}var S1;var Un=_(()=>{TO();S1=TN0});function fN0(Z,J){return Z&&Z.length?V1(Z,s8(J,2)):[]}var Yn;var qn=_(()=>{k7();TO();Yn=fN0});function kN0(Z){var J=++vN0;return cR(Z)+J}var vN0=0,oU;var zn=_(()=>{zP();oU=kN0});function $N0(Z,J,Q){var K=-1,X=Z.length,U=J.length,Y={};while(++K<X){var q=K<U?J[K]:void 0;Q(Y,Z[K],q)}return Y}var Gn;var Hn=_(()=>{Gn=$N0});function _N0(Z,J){return Gn(Z||[],J||[],m4)}var fO;var Wn=_(()=>{Y1();Hn();fO=_N0});var E9=_(()=>{_d();AP();ui();mi();wC();Ss();vs();$s();_s();bs();ms();fP();ds();ss();kP();dR();DO();rs();ns();as();Jr();Q5();Xr();Ur();IZ();CO();CH();k6();Gr();wO();Hr();i4();ks();C1();Wr();Fr();PC();yP();Mr();XP();Ps();pr();Lr();sr();pP();ar();or();Zn();Jn();Xn();Un();zn();xP();Wn()});function Mn(Z,J){if(Z[J])Z[J]++;else Z[J]=1}function Bn(Z,J){if(!--Z[J])delete Z[J]}function YW(Z,J,Q,K){var X=""+J,U=""+Q;if(!Z&&X>U){var Y=X;X=U,U=Y}return X+Fn+U+Fn+(s9(K)?bN0:K)}function xN0(Z,J,Q,K){var X=""+J,U=""+Q;if(!Z&&X>U){var Y=X;X=U,U=Y}var q={v:X,w:U};if(K)q.name=K;return q}function dP(Z,J){return YW(Z,J.v,J.w,J.name)}class J8{constructor(Z={}){if(this._isDirected=c0(Z,"directed")?Z.directed:!0,this._isMultigraph=c0(Z,"multigraph")?Z.multigraph:!1,this._isCompound=c0(Z,"compound")?Z.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Z6(void 0),this._defaultEdgeLabelFn=Z6(void 0),this._nodes={},this._isCompound)this._parent={},this._children={},this._children[tU]={};this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(Z){return this._label=Z,this}graph(){return this._label}setDefaultNodeLabel(Z){if(!KJ(Z))Z=Z6(Z);return this._defaultNodeLabelFn=Z,this}nodeCount(){return this._nodeCount}nodes(){return A8(this._nodes)}sources(){var Z=this;return C8(this.nodes(),function(J){return p9(Z._in[J])})}sinks(){var Z=this;return C8(this.nodes(),function(J){return p9(Z._out[J])})}setNodes(Z,J){var Q=arguments,K=this;return D0(Z,function(X){if(Q.length>1)K.setNode(X,J);else K.setNode(X)}),this}setNode(Z,J){if(c0(this._nodes,Z)){if(arguments.length>1)this._nodes[Z]=J;return this}if(this._nodes[Z]=arguments.length>1?J:this._defaultNodeLabelFn(Z),this._isCompound)this._parent[Z]=tU,this._children[Z]={},this._children[tU][Z]=!0;return this._in[Z]={},this._preds[Z]={},this._out[Z]={},this._sucs[Z]={},++this._nodeCount,this}node(Z){return this._nodes[Z]}hasNode(Z){return c0(this._nodes,Z)}removeNode(Z){var J=this;if(c0(this._nodes,Z)){var Q=function(K){J.removeEdge(J._edgeObjs[K])};if(delete this._nodes[Z],this._isCompound)this._removeFromParentsChildList(Z),delete this._parent[Z],D0(this.children(Z),function(K){J.setParent(K)}),delete this._children[Z];D0(A8(this._in[Z]),Q),delete this._in[Z],delete this._preds[Z],D0(A8(this._out[Z]),Q),delete this._out[Z],delete this._sucs[Z],--this._nodeCount}return this}setParent(Z,J){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(s9(J))J=tU;else{J+="";for(var Q=J;!s9(Q);Q=this.parent(Q))if(Q===Z)throw new Error("Setting "+J+" as parent of "+Z+" would create a cycle");this.setNode(J)}return this.setNode(Z),this._removeFromParentsChildList(Z),this._parent[Z]=J,this._children[J][Z]=!0,this}_removeFromParentsChildList(Z){delete this._children[this._parent[Z]][Z]}parent(Z){if(this._isCompound){var J=this._parent[Z];if(J!==tU)return J}}children(Z){if(s9(Z))Z=tU;if(this._isCompound){var J=this._children[Z];if(J)return A8(J)}else if(Z===tU)return this.nodes();else if(this.hasNode(Z))return[]}predecessors(Z){var J=this._preds[Z];if(J)return A8(J)}successors(Z){var J=this._sucs[Z];if(J)return A8(J)}neighbors(Z){var J=this.predecessors(Z);if(J)return lP(J,this.successors(Z))}isLeaf(Z){var J;if(this.isDirected())J=this.successors(Z);else J=this.neighbors(Z);return J.length===0}filterNodes(Z){var J=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});J.setGraph(this.graph());var Q=this;D0(this._nodes,function(U,Y){if(Z(Y))J.setNode(Y,U)}),D0(this._edgeObjs,function(U){if(J.hasNode(U.v)&&J.hasNode(U.w))J.setEdge(U,Q.edge(U))});var K={};function X(U){var Y=Q.parent(U);if(Y===void 0||J.hasNode(Y))return K[U]=Y,Y;else if(Y in K)return K[Y];else return X(Y)}if(this._isCompound)D0(J.nodes(),function(U){J.setParent(U,X(U))});return J}setDefaultEdgeLabel(Z){if(!KJ(Z))Z=Z6(Z);return this._defaultEdgeLabelFn=Z,this}edgeCount(){return this._edgeCount}edges(){return Z8(this._edgeObjs)}setPath(Z,J){var Q=this,K=arguments;return P8(Z,function(X,U){if(K.length>1)Q.setEdge(X,U,J);else Q.setEdge(X,U);return U}),this}setEdge(){var Z,J,Q,K,X=!1,U=arguments[0];if(typeof U==="object"&&U!==null&&"v"in U){if(Z=U.v,J=U.w,Q=U.name,arguments.length===2)K=arguments[1],X=!0}else if(Z=U,J=arguments[1],Q=arguments[3],arguments.length>2)K=arguments[2],X=!0;if(Z=""+Z,J=""+J,!s9(Q))Q=""+Q;var Y=YW(this._isDirected,Z,J,Q);if(c0(this._edgeLabels,Y)){if(X)this._edgeLabels[Y]=K;return this}if(!s9(Q)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(Z),this.setNode(J),this._edgeLabels[Y]=X?K:this._defaultEdgeLabelFn(Z,J,Q);var q=xN0(this._isDirected,Z,J,Q);return Z=q.v,J=q.w,Object.freeze(q),this._edgeObjs[Y]=q,Mn(this._preds[J],Z),Mn(this._sucs[Z],J),this._in[J][Y]=q,this._out[Z][Y]=q,this._edgeCount++,this}edge(Z,J,Q){var K=arguments.length===1?dP(this._isDirected,arguments[0]):YW(this._isDirected,Z,J,Q);return this._edgeLabels[K]}hasEdge(Z,J,Q){var K=arguments.length===1?dP(this._isDirected,arguments[0]):YW(this._isDirected,Z,J,Q);return c0(this._edgeLabels,K)}removeEdge(Z,J,Q){var K=arguments.length===1?dP(this._isDirected,arguments[0]):YW(this._isDirected,Z,J,Q),X=this._edgeObjs[K];if(X)Z=X.v,J=X.w,delete this._edgeLabels[K],delete this._edgeObjs[K],Bn(this._preds[J],Z),Bn(this._sucs[Z],J),delete this._in[J][K],delete this._out[Z][K],this._edgeCount--;return this}inEdges(Z,J){var Q=this._in[Z];if(Q){var K=Z8(Q);if(!J)return K;return C8(K,function(X){return X.v===J})}}outEdges(Z,J){var Q=this._out[Z];if(Q){var K=Z8(Q);if(!J)return K;return C8(K,function(X){return X.w===J})}}nodeEdges(Z,J){var Q=this.inEdges(Z,J);if(Q)return Q.concat(this.outEdges(Z,J))}}var bN0="\0",tU="\0",Fn="\x01";var vO=_(()=>{E9();J8.prototype._nodeCount=0;J8.prototype._edgeCount=0});var aJ=_(()=>{vO()});function Rn(Z){Z._prev._next=Z._next,Z._next._prev=Z._prev,delete Z._next,delete Z._prev}function hN0(Z,J){if(Z!=="_next"&&Z!=="_prev")return J}class iP{constructor(){var Z={};Z._next=Z._prev=Z,this._sentinel=Z}dequeue(){var Z=this._sentinel,J=Z._prev;if(J!==Z)return Rn(J),J}enqueue(Z){var J=this._sentinel;if(Z._prev&&Z._next)Rn(Z);Z._next=J._next,J._next._prev=Z,J._next=Z,Z._prev=J}toString(){var Z=[],J=this._sentinel,Q=J._prev;while(Q!==J)Z.push(JSON.stringify(Q,hN0)),Q=Q._prev;return"["+Z.join(", ")+"]"}}var On=()=>{};function An(Z,J){if(Z.nodeCount()<=1)return[];var Q=mN0(Z,J||yN0),K=uN0(Q.graph,Q.buckets,Q.zeroIdx);return j8(p0(K,function(X){return Z.outEdges(X.v,X.w)}))}function uN0(Z,J,Q){var K=[],X=J[J.length-1],U=J[0],Y;while(Z.nodeCount()){while(Y=U.dequeue())sP(Z,J,Q,Y);while(Y=X.dequeue())sP(Z,J,Q,Y);if(Z.nodeCount()){for(var q=J.length-2;q>0;--q)if(Y=J[q].dequeue(),Y){K=K.concat(sP(Z,J,Q,Y,!0));break}}}return K}function sP(Z,J,Q,K,X){var U=X?[]:void 0;return D0(Z.inEdges(K.v),function(Y){var q=Z.edge(Y),z=Z.node(Y.v);if(X)U.push({v:Y.v,w:Y.w});z.out-=q,rP(J,Q,z)}),D0(Z.outEdges(K.v),function(Y){var q=Z.edge(Y),z=Y.w,G=Z.node(z);G.in-=q,rP(J,Q,G)}),Z.removeNode(K.v),U}function mN0(Z,J){var Q=new J8,K=0,X=0;D0(Z.nodes(),function(q){Q.setNode(q,{v:q,in:0,out:0})}),D0(Z.edges(),function(q){var z=Q.edge(q.v,q.w)||0,G=J(q),H=z+G;Q.setEdge(q.v,q.w,H),X=Math.max(X,Q.node(q.v).out+=G),K=Math.max(K,Q.node(q.w).in+=G)});var U=RQ(X+K+3).map(function(){return new iP}),Y=K+1;return D0(Q.nodes(),function(q){rP(U,Y,Q.node(q))}),{graph:Q,buckets:U,zeroIdx:Y}}function rP(Z,J,Q){if(!Q.out)Z[0].enqueue(Q);else if(!Q.in)Z[Z.length-1].enqueue(Q);else Z[Q.out-Q.in+J].enqueue(Q)}var yN0;var Ln=_(()=>{E9();aJ();On();yN0=Z6(1)});function In(Z){var J=Z.graph().acyclicer==="greedy"?An(Z,Q(Z)):gN0(Z);D0(J,function(K){var X=Z.edge(K);Z.removeEdge(K),X.forwardName=K.name,X.reversed=!0,Z.setEdge(K.w,K.v,X,oU("rev"))});function Q(K){return function(X){return K.edge(X).weight}}}function gN0(Z){var J=[],Q={},K={};function X(U){if(c0(K,U))return;K[U]=!0,Q[U]=!0,D0(Z.outEdges(U),function(Y){if(c0(Q,Y.w))J.push(Y);else X(Y.w)}),delete Q[U]}return D0(Z.nodes(),X),J}function Dn(Z){D0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed){Z.removeEdge(J);var K=Q.forwardName;delete Q.reversed,delete Q.forwardName,Z.setEdge(J.w,J.v,Q,K)}})}var nP=_(()=>{E9();Ln()});function o4(Z,J,Q,K){var X;do X=oU(K);while(Z.hasNode(X));return Q.dummy=J,Z.setNode(X,Q),X}function En(Z){var J=new J8().setGraph(Z.graph());return D0(Z.nodes(),function(Q){J.setNode(Q,Z.node(Q))}),D0(Z.edges(),function(Q){var K=J.edge(Q.v,Q.w)||{weight:0,minlen:1},X=Z.edge(Q);J.setEdge(Q.v,Q.w,{weight:K.weight+X.weight,minlen:Math.max(K.minlen,X.minlen)})}),J}function kO(Z){var J=new J8({multigraph:Z.isMultigraph()}).setGraph(Z.graph());return D0(Z.nodes(),function(Q){if(!Z.children(Q).length)J.setNode(Q,Z.node(Q))}),D0(Z.edges(),function(Q){J.setEdge(Q,Z.edge(Q))}),J}function aP(Z,J){var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2;if(!X&&!U)throw new Error("Not possible to find intersection inside of the rectangle");var z,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;z=q*X/U,G=q}else{if(X<0)Y=-Y;z=Y,G=Y*U/X}return{x:Q+z,y:K+G}}function PX(Z){var J=p0(RQ(tP(Z)+1),function(){return[]});return D0(Z.nodes(),function(Q){var K=Z.node(Q),X=K.rank;if(!s9(X))J[X][K.order]=Q}),J}function wn(Z){var J=nQ(p0(Z.nodes(),function(Q){return Z.node(Q).rank}));D0(Z.nodes(),function(Q){var K=Z.node(Q);if(c0(K,"rank"))K.rank-=J})}function jn(Z){var J=nQ(p0(Z.nodes(),function(U){return Z.node(U).rank})),Q=[];D0(Z.nodes(),function(U){var Y=Z.node(U).rank-J;if(!Q[Y])Q[Y]=[];Q[Y].push(U)});var K=0,X=Z.graph().nodeRankFactor;D0(Q,function(U,Y){if(s9(U)&&Y%X!==0)--K;else if(K)D0(U,function(q){Z.node(q).rank+=K})})}function oP(Z,J,Q,K){var X={width:0,height:0};if(arguments.length>=4)X.rank=Q,X.order=K;return o4(Z,"border",X,J)}function tP(Z){return U6(p0(Z.nodes(),function(J){var Q=Z.node(J).rank;if(!s9(Q))return Q}))}function Cn(Z,J){var Q={lhs:[],rhs:[]};return D0(Z,function(K){if(J(K))Q.lhs.push(K);else Q.rhs.push(K)}),Q}function Pn(Z,J){var Q=AO();try{return J()}finally{console.log(Z+" time: "+(AO()-Q)+"ms")}}function Vn(Z,J){return J()}var t4=_(()=>{E9();aJ()});function Tn(Z){function J(Q){var K=Z.children(Q),X=Z.node(Q);if(K.length)D0(K,J);if(c0(X,"minRank")){X.borderLeft=[],X.borderRight=[];for(var U=X.minRank,Y=X.maxRank+1;U<Y;++U)Sn(Z,"borderLeft","_bl",Q,X,U),Sn(Z,"borderRight","_br",Q,X,U)}}D0(Z.children(),J)}function Sn(Z,J,Q,K,X,U){var Y={width:0,height:0,rank:U,borderType:J},q=X[J][U-1],z=o4(Z,"border",Y,Q);if(X[J][U]=z,Z.setParent(z,K),q)Z.setEdge(q,z,{weight:1})}var fn=_(()=>{E9();t4()});function kn(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="lr"||J==="rl")_n(Z)}function $n(Z){var J=Z.graph().rankdir.toLowerCase();if(J==="bt"||J==="rl")pN0(Z);if(J==="lr"||J==="rl")cN0(Z),_n(Z)}function _n(Z){D0(Z.nodes(),function(J){vn(Z.node(J))}),D0(Z.edges(),function(J){vn(Z.edge(J))})}function vn(Z){var J=Z.width;Z.width=Z.height,Z.height=J}function pN0(Z){D0(Z.nodes(),function(J){eP(Z.node(J))}),D0(Z.edges(),function(J){var Q=Z.edge(J);if(D0(Q.points,eP),c0(Q,"y"))eP(Q)})}function eP(Z){Z.y=-Z.y}function cN0(Z){D0(Z.nodes(),function(J){ZV(Z.node(J))}),D0(Z.edges(),function(J){var Q=Z.edge(J);if(D0(Q.points,ZV),c0(Q,"x"))ZV(Q)})}function ZV(Z){var J=Z.x;Z.x=Z.y,Z.y=J}var bn=_(()=>{E9()});function xn(Z){Z.graph().dummyChains=[],D0(Z.edges(),function(J){dN0(Z,J)})}function dN0(Z,J){var Q=J.v,K=Z.node(Q).rank,X=J.w,U=Z.node(X).rank,Y=J.name,q=Z.edge(J),z=q.labelRank;if(U===K+1)return;Z.removeEdge(J);var G,H,W;for(W=0,++K;K<U;++W,++K){if(q.points=[],H={width:0,height:0,edgeLabel:q,edgeObj:J,rank:K},G=o4(Z,"edge",H,"_d"),K===z)H.width=q.width,H.height=q.height,H.dummy="edge-label",H.labelpos=q.labelpos;if(Z.setEdge(Q,G,{weight:q.weight},Y),W===0)Z.graph().dummyChains.push(G);Q=G}Z.setEdge(Q,X,{weight:q.weight},Y)}function hn(Z){D0(Z.graph().dummyChains,function(J){var Q=Z.node(J),K=Q.edgeLabel,X;Z.setEdge(Q.edgeObj,K);while(Q.dummy){if(X=Z.successors(J)[0],Z.removeNode(J),K.points.push({x:Q.x,y:Q.y}),Q.dummy==="edge-label")K.x=Q.x,K.y=Q.y,K.width=Q.width,K.height=Q.height;J=X,Q=Z.node(J)}})}var JV=_(()=>{E9();t4()});function qW(Z){var J={};function Q(K){var X=Z.node(K);if(c0(J,K))return X.rank;J[K]=!0;var U=nQ(p0(Z.outEdges(K),function(Y){return Q(Y.w)-Z.edge(Y).minlen}));if(U===Number.POSITIVE_INFINITY||U===void 0||U===null)U=0;return X.rank=U}D0(Z.sources(),Q)}function eU(Z,J){return Z.node(J.w).rank-Z.node(J.v).rank-Z.edge(J).minlen}var $O=_(()=>{E9()});function _O(Z){var J=new J8({directed:!1}),Q=Z.nodes()[0],K=Z.nodeCount();J.setNode(Q,{});var X,U;while(iN0(J,Z)<K)X=sN0(J,Z),U=J.hasNode(X.v)?eU(Z,X):-eU(Z,X),rN0(J,Z,U);return J}function iN0(Z,J){function Q(K){D0(J.nodeEdges(K),function(X){var U=X.v,Y=K===U?X.w:U;if(!Z.hasNode(Y)&&!eU(J,X))Z.setNode(Y,{}),Z.setEdge(K,Y,{}),Q(Y)})}return D0(Z.nodes(),Q),Z.nodeCount()}function sN0(Z,J){return nU(J.edges(),function(Q){if(Z.hasNode(Q.v)!==Z.hasNode(Q.w))return eU(J,Q)})}function rN0(Z,J,Q){D0(Z.nodes(),function(K){J.node(K).rank+=Q})}var QV=_(()=>{E9();aJ();$O()});var un=()=>{};var KV=()=>{};var lO9;var XV=_(()=>{E9();KV();lO9=Z6(1)});var mn=_(()=>{XV()});var UV=()=>{};var gn=_(()=>{UV()});var oO9;var pn=_(()=>{E9();oO9=Z6(1)});function YV(Z){var J={},Q={},K=[];function X(U){if(c0(Q,U))throw new zW;if(!c0(J,U))Q[U]=!0,J[U]=!0,D0(Z.predecessors(U),X),delete Q[U],K.push(U)}if(D0(Z.sinks(),X),cP(J)!==Z.nodeCount())throw new zW;return K}function zW(){}var qV=_(()=>{E9();YV.CycleException=zW;zW.prototype=new Error});var cn=_(()=>{qV()});function bO(Z,J,Q){if(!G9(J))J=[J];var K=(Z.isDirected()?Z.successors:Z.neighbors).bind(Z),X=[],U={};return D0(J,function(Y){if(!Z.hasNode(Y))throw new Error("Graph does not have node: "+Y);ln(Z,Y,Q==="post",U,K,X)}),X}function ln(Z,J,Q,K,X,U){if(!c0(K,J)){if(K[J]=!0,!Q)U.push(J);if(D0(X(J),function(Y){ln(Z,Y,Q,K,X,U)}),Q)U.push(J)}}var zV=_(()=>{E9()});function GV(Z,J){return bO(Z,J,"post")}var dn=_(()=>{zV()});function HV(Z,J){return bO(Z,J,"pre")}var sn=_(()=>{zV()});var rn=_(()=>{KV();vO()});var nn=_(()=>{un();XV();mn();gn();pn();cn();dn();sn();rn();UV();qV()});function SX(Z){Z=En(Z),qW(Z);var J=_O(Z);FV(J),WV(J,Z);var Q,K;while(Q=en(J))K=Za(J,Z,Q),Ja(J,Z,Q,K)}function WV(Z,J){var Q=GV(Z,Z.nodes());Q=Q.slice(0,Q.length-1),D0(Q,function(K){eN0(Z,J,K)})}function eN0(Z,J,Q){var K=Z.node(Q),X=K.parent;Z.edge(Q,X).cutvalue=on(Z,J,Q)}function on(Z,J,Q){var K=Z.node(Q),X=K.parent,U=!0,Y=J.edge(Q,X),q=0;if(!Y)U=!1,Y=J.edge(X,Q);return q=Y.weight,D0(J.nodeEdges(Q),function(z){var G=z.v===Q,H=G?z.w:z.v;if(H!==X){var W=G===U,F=J.edge(z).weight;if(q+=W?F:-F,JE0(Z,Q,H)){var M=Z.edge(Q,H).cutvalue;q+=W?-M:M}}}),q}function FV(Z,J){if(arguments.length<2)J=Z.nodes()[0];tn(Z,{},1,J)}function tn(Z,J,Q,K,X){var U=Q,Y=Z.node(K);if(J[K]=!0,D0(Z.neighbors(K),function(q){if(!c0(J,q))Q=tn(Z,J,Q,q,K)}),Y.low=U,Y.lim=Q++,X)Y.parent=X;else delete Y.parent;return Q}function en(Z){return $7(Z.edges(),function(J){return Z.edge(J).cutvalue<0})}function Za(Z,J,Q){var{v:K,w:X}=Q;if(!J.hasEdge(K,X))K=Q.w,X=Q.v;var U=Z.node(K),Y=Z.node(X),q=U,z=!1;if(U.lim>Y.lim)q=Y,z=!0;var G=C8(J.edges(),function(H){return z===an(Z,Z.node(H.v),q)&&z!==an(Z,Z.node(H.w),q)});return nU(G,function(H){return eU(J,H)})}function Ja(Z,J,Q,K){var{v:X,w:U}=Q;Z.removeEdge(X,U),Z.setEdge(K.v,K.w,{}),FV(Z),WV(Z,J),ZE0(Z,J)}function ZE0(Z,J){var Q=$7(Z.nodes(),function(X){return!J.node(X).parent}),K=HV(Z,Q);K=K.slice(1),D0(K,function(X){var U=Z.node(X).parent,Y=J.edge(X,U),q=!1;if(!Y)Y=J.edge(U,X),q=!0;J.node(X).rank=J.node(U).rank+(q?Y.minlen:-Y.minlen)})}function JE0(Z,J,Q){return Z.hasEdge(J,Q)}function an(Z,J,Q){return Q.low<=J.lim&&J.lim<=Q.lim}var Qa=_(()=>{E9();nn();t4();QV();$O();SX.initLowLimValues=FV;SX.initCutValues=WV;SX.calcCutValue=on;SX.leaveEdge=en;SX.enterEdge=Za;SX.exchangeEdges=Ja});function MV(Z){switch(Z.graph().ranker){case"network-simplex":Ka(Z);break;case"tight-tree":KE0(Z);break;case"longest-path":QE0(Z);break;default:Ka(Z)}}function KE0(Z){qW(Z),_O(Z)}function Ka(Z){SX(Z)}var QE0;var BV=_(()=>{QV();Qa();$O();QE0=qW});function Xa(Z){var J=o4(Z,"root",{},"_root"),Q=XE0(Z),K=U6(Z8(Q))-1,X=2*K+1;Z.graph().nestingRoot=J,D0(Z.edges(),function(Y){Z.edge(Y).minlen*=X});var U=UE0(Z)+1;D0(Z.children(),function(Y){Ua(Z,J,X,U,K,Q,Y)}),Z.graph().nodeRankFactor=X}function Ua(Z,J,Q,K,X,U,Y){var q=Z.children(Y);if(!q.length){if(Y!==J)Z.setEdge(J,Y,{weight:0,minlen:Q});return}var z=oP(Z,"_bt"),G=oP(Z,"_bb"),H=Z.node(Y);if(Z.setParent(z,Y),H.borderTop=z,Z.setParent(G,Y),H.borderBottom=G,D0(q,function(W){Ua(Z,J,Q,K,X,U,W);var F=Z.node(W),M=F.borderTop?F.borderTop:W,B=F.borderBottom?F.borderBottom:W,O=F.borderTop?K:2*K,A=M!==B?1:X-U[Y]+1;Z.setEdge(z,M,{weight:O,minlen:A,nestingEdge:!0}),Z.setEdge(B,G,{weight:O,minlen:A,nestingEdge:!0})}),!Z.parent(Y))Z.setEdge(J,z,{weight:0,minlen:X+U[Y]})}function XE0(Z){var J={};function Q(K,X){var U=Z.children(K);if(U&&U.length)D0(U,function(Y){Q(Y,X+1)});J[K]=X}return D0(Z.children(),function(K){Q(K,1)}),J}function UE0(Z){return P8(Z.edges(),function(J,Q){return J+Z.edge(Q).weight},0)}function Ya(Z){var J=Z.graph();Z.removeNode(J.nestingRoot),delete J.nestingRoot,D0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.nestingEdge)Z.removeEdge(Q)})}var qa=_(()=>{E9();t4()});function za(Z,J,Q){var K={},X;D0(Q,function(U){var Y=Z.parent(U),q,z;while(Y){if(q=Z.parent(Y),q)z=K[q],K[q]=Y;else z=X,X=Y;if(z&&z!==Y){J.setEdge(z,Y);return}Y=q}})}var Ga=_(()=>{E9()});function Ha(Z,J,Q){var K=qE0(Z),X=new J8({compound:!0}).setGraph({root:K}).setDefaultNodeLabel(function(U){return Z.node(U)});return D0(Z.nodes(),function(U){var Y=Z.node(U),q=Z.parent(U);if(Y.rank===J||Y.minRank<=J&&J<=Y.maxRank){if(X.setNode(U),X.setParent(U,q||K),D0(Z[Q](U),function(z){var G=z.v===U?z.w:z.v,H=X.edge(G,U),W=!s9(H)?H.weight:0;X.setEdge(G,U,{weight:Z.edge(z).weight+W})}),c0(Y,"minRank"))X.setNode(U,{borderLeft:Y.borderLeft[J],borderRight:Y.borderRight[J]})}}),X}function qE0(Z){var J;while(Z.hasNode(J=oU("_root")));return J}var Wa=_(()=>{E9();aJ()});function Fa(Z,J){var Q=0;for(var K=1;K<J.length;++K)Q+=zE0(Z,J[K-1],J[K]);return Q}function zE0(Z,J,Q){var K=fO(Q,p0(Q,function(G,H){return H})),X=j8(p0(J,function(G){return a4(p0(Z.outEdges(G),function(H){return{pos:K[H.w],weight:Z.edge(H).weight}}),"pos")})),U=1;while(U<Q.length)U<<=1;var Y=2*U-1;U-=1;var q=p0(new Array(Y),function(){return 0}),z=0;return D0(X.forEach(function(G){var H=G.pos+U;q[H]+=G.weight;var W=0;while(H>0){if(H%2)W+=q[H+1];H=H-1>>1,q[H]+=G.weight}z+=G.weight*W})),z}var Ma=_(()=>{E9()});function Ba(Z){var J={},Q=C8(Z.nodes(),function(q){return!Z.children(q).length}),K=U6(p0(Q,function(q){return Z.node(q).rank})),X=p0(RQ(K+1),function(){return[]});function U(q){if(c0(J,q))return;J[q]=!0;var z=Z.node(q);X[z.rank].push(q),D0(Z.successors(q),U)}var Y=a4(Q,function(q){return Z.node(q).rank});return D0(Y,U),X}var Ra=_(()=>{E9()});function Oa(Z,J){return p0(J,function(Q){var K=Z.inEdges(Q);if(!K.length)return{v:Q};else{var X=P8(K,function(U,Y){var q=Z.edge(Y),z=Z.node(Y.v);return{sum:U.sum+q.weight*z.order,weight:U.weight+q.weight}},{sum:0,weight:0});return{v:Q,barycenter:X.sum/X.weight,weight:X.weight}}})}var Aa=_(()=>{E9()});function La(Z,J){var Q={};D0(Z,function(X,U){var Y=Q[X.v]={indegree:0,in:[],out:[],vs:[X.v],i:U};if(!s9(X.barycenter))Y.barycenter=X.barycenter,Y.weight=X.weight}),D0(J.edges(),function(X){var U=Q[X.v],Y=Q[X.w];if(!s9(U)&&!s9(Y))Y.indegree++,U.out.push(Q[X.w])});var K=C8(Q,function(X){return!X.indegree});return GE0(K)}function GE0(Z){var J=[];function Q(U){return function(Y){if(Y.merged)return;if(s9(Y.barycenter)||s9(U.barycenter)||Y.barycenter>=U.barycenter)HE0(U,Y)}}function K(U){return function(Y){if(Y.in.push(U),--Y.indegree===0)Z.push(Y)}}while(Z.length){var X=Z.pop();J.push(X),D0(X.in.reverse(),Q(X)),D0(X.out,K(X))}return p0(C8(J,function(U){return!U.merged}),function(U){return aU(U,["vs","i","barycenter","weight"])})}function HE0(Z,J){var Q=0,K=0;if(Z.weight)Q+=Z.barycenter*Z.weight,K+=Z.weight;if(J.weight)Q+=J.barycenter*J.weight,K+=J.weight;Z.vs=J.vs.concat(Z.vs),Z.barycenter=Q/K,Z.weight=K,Z.i=Math.min(J.i,Z.i),J.merged=!0}var Ia=_(()=>{E9()});function Na(Z,J){var Q=Cn(Z,function(H){return c0(H,"barycenter")}),K=Q.lhs,X=a4(Q.rhs,function(H){return-H.i}),U=[],Y=0,q=0,z=0;K.sort(WE0(!!J)),z=Da(U,X,z),D0(K,function(H){z+=H.vs.length,U.push(H.vs),Y+=H.barycenter*H.weight,q+=H.weight,z=Da(U,X,z)});var G={vs:j8(U)};if(q)G.barycenter=Y/q,G.weight=q;return G}function Da(Z,J,Q){var K;while(J.length&&(K=rJ(J)).i<=Q)J.pop(),Z.push(K.vs),Q++;return Q}function WE0(Z){return function(J,Q){if(J.barycenter<Q.barycenter)return-1;else if(J.barycenter>Q.barycenter)return 1;return!Z?J.i-Q.i:Q.i-J.i}}var Ea=_(()=>{E9();t4()});function RV(Z,J,Q,K){var X=Z.children(J),U=Z.node(J),Y=U?U.borderLeft:void 0,q=U?U.borderRight:void 0,z={};if(Y)X=C8(X,function(B){return B!==Y&&B!==q});var G=Oa(Z,X);D0(G,function(B){if(Z.children(B.v).length){var O=RV(Z,B.v,Q,K);if(z[B.v]=O,c0(O,"barycenter"))ME0(B,O)}});var H=La(G,Q);FE0(H,z);var W=Na(H,K);if(Y){if(W.vs=j8([Y,W.vs,q]),Z.predecessors(Y).length){var F=Z.node(Z.predecessors(Y)[0]),M=Z.node(Z.predecessors(q)[0]);if(!c0(W,"barycenter"))W.barycenter=0,W.weight=0;W.barycenter=(W.barycenter*W.weight+F.order+M.order)/(W.weight+2),W.weight+=2}}return W}function FE0(Z,J){D0(Z,function(Q){Q.vs=j8(Q.vs.map(function(K){if(J[K])return J[K].vs;return K}))})}function ME0(Z,J){if(!s9(Z.barycenter))Z.barycenter=(Z.barycenter*Z.weight+J.barycenter*J.weight)/(Z.weight+J.weight),Z.weight+=J.weight;else Z.barycenter=J.barycenter,Z.weight=J.weight}var wa=_(()=>{E9();Aa();Ia();Ea()});function Pa(Z){var J=tP(Z),Q=ja(Z,RQ(1,J+1),"inEdges"),K=ja(Z,RQ(J-1,-1,-1),"outEdges"),X=Ba(Z);Ca(Z,X);var U=Number.POSITIVE_INFINITY,Y;for(var q=0,z=0;z<4;++q,++z){BE0(q%2?Q:K,q%4>=2),X=PX(Z);var G=Fa(Z,X);if(G<U)z=0,Y=LP(X),U=G}Ca(Z,Y)}function ja(Z,J,Q){return p0(J,function(K){return Ha(Z,K,Q)})}function BE0(Z,J){var Q=new J8;D0(Z,function(K){var X=K.graph().root,U=RV(K,X,Q,J);D0(U.vs,function(Y,q){K.node(Y).order=q}),za(K,Q,U.vs)})}function Ca(Z,J){D0(J,function(Q){D0(Q,function(K,X){Z.node(K).order=X})})}var Va=_(()=>{E9();aJ();t4();Ga();Wa();Ma();Ra();wa()});function Sa(Z){var J=OE0(Z);D0(Z.graph().dummyChains,function(Q){var K=Z.node(Q),X=K.edgeObj,U=RE0(Z,J,X.v,X.w),Y=U.path,q=U.lca,z=0,G=Y[z],H=!0;while(Q!==X.w){if(K=Z.node(Q),H){while((G=Y[z])!==q&&Z.node(G).maxRank<K.rank)z++;if(G===q)H=!1}if(!H){while(z<Y.length-1&&Z.node(G=Y[z+1]).minRank<=K.rank)z++;G=Y[z]}Z.setParent(Q,G),Q=Z.successors(Q)[0]}})}function RE0(Z,J,Q,K){var X=[],U=[],Y=Math.min(J[Q].low,J[K].low),q=Math.max(J[Q].lim,J[K].lim),z,G;z=Q;do z=Z.parent(z),X.push(z);while(z&&(J[z].low>Y||q>J[z].lim));G=z,z=K;while((z=Z.parent(z))!==G)U.push(z);return{path:X.concat(U.reverse()),lca:G}}function OE0(Z){var J={},Q=0;function K(X){var U=Q;D0(Z.children(X),K),J[X]={low:U,lim:Q++}}return D0(Z.children(),K),J}var Ta=_(()=>{E9()});function AE0(Z,J){var Q={};function K(X,U){var Y=0,q=0,z=X.length,G=rJ(U);return D0(U,function(H,W){var F=IE0(Z,H),M=F?Z.node(F).order:z;if(F||H===G)D0(U.slice(q,W+1),function(B){D0(Z.predecessors(B),function(O){var A=Z.node(O),L=A.order;if((L<Y||M<L)&&!(A.dummy&&Z.node(B).dummy))fa(Q,O,B)})}),q=W+1,Y=M}),U}return P8(J,K),Q}function LE0(Z,J){var Q={};function K(U,Y,q,z,G){var H;D0(RQ(Y,q),function(W){if(H=U[W],Z.node(H).dummy)D0(Z.predecessors(H),function(F){var M=Z.node(F);if(M.dummy&&(M.order<z||M.order>G))fa(Q,F,H)})})}function X(U,Y){var q=-1,z,G=0;return D0(Y,function(H,W){if(Z.node(H).dummy==="border"){var F=Z.predecessors(H);if(F.length)z=Z.node(F[0]).order,K(Y,G,W,q,z),G=W,q=z}K(Y,G,Y.length,z,U.length)}),Y}return P8(J,X),Q}function IE0(Z,J){if(Z.node(J).dummy)return $7(Z.predecessors(J),function(Q){return Z.node(Q).dummy})}function fa(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}var X=Z[J];if(!X)Z[J]=X={};X[Q]=!0}function DE0(Z,J,Q){if(J>Q){var K=J;J=Q,Q=K}return c0(Z[J],Q)}function NE0(Z,J,Q,K){var X={},U={},Y={};return D0(J,function(q){D0(q,function(z,G){X[z]=z,U[z]=z,Y[z]=G})}),D0(J,function(q){var z=-1;D0(q,function(G){var H=K(G);if(H.length){H=a4(H,function(O){return Y[O]});var W=(H.length-1)/2;for(var F=Math.floor(W),M=Math.ceil(W);F<=M;++F){var B=H[F];if(U[G]===G&&z<Y[B]&&!DE0(Q,G,B))U[B]=G,U[G]=X[G]=X[B],z=Y[B]}}})}),{root:X,align:U}}function EE0(Z,J,Q,K,X){var U={},Y=wE0(Z,J,Q,X),q=X?"borderLeft":"borderRight";function z(W,F){var M=Y.nodes(),B=M.pop(),O={};while(B){if(O[B])W(B);else O[B]=!0,M.push(B),M=M.concat(F(B));B=M.pop()}}function G(W){U[W]=Y.inEdges(W).reduce(function(F,M){return Math.max(F,U[M.v]+Y.edge(M))},0)}function H(W){var F=Y.outEdges(W).reduce(function(B,O){return Math.min(B,U[O.w]-Y.edge(O))},Number.POSITIVE_INFINITY),M=Z.node(W);if(F!==Number.POSITIVE_INFINITY&&M.borderType!==q)U[W]=Math.max(U[W],F)}return z(G,Y.predecessors.bind(Y)),z(H,Y.successors.bind(Y)),D0(K,function(W){U[W]=U[Q[W]]}),U}function wE0(Z,J,Q,K){var X=new J8,U=Z.graph(),Y=VE0(U.nodesep,U.edgesep,K);return D0(J,function(q){var z;D0(q,function(G){var H=Q[G];if(X.setNode(H),z){var W=Q[z],F=X.edge(W,H);X.setEdge(W,H,Math.max(Y(Z,G,z),F||0))}z=G})}),X}function jE0(Z,J){return nU(Z8(J),function(Q){var{NEGATIVE_INFINITY:K,POSITIVE_INFINITY:X}=Number;return $P(Q,function(U,Y){var q=SE0(Z,Y)/2;K=Math.max(U+q,K),X=Math.min(U-q,X)}),K-X})}function CE0(Z,J){var Q=Z8(J),K=nQ(Q),X=U6(Q);D0(["u","d"],function(U){D0(["l","r"],function(Y){var q=U+Y,z=Z[q],G;if(z===J)return;var H=Z8(z);if(G=Y==="l"?K-nQ(H):X-U6(H),G)Z[q]=rU(z,function(W){return W+G})})})}function PE0(Z,J){return rU(Z.ul,function(Q,K){if(J)return Z[J.toLowerCase()][K];else{var X=a4(p0(Z,K));return(X[1]+X[2])/2}})}function va(Z){var J=PX(Z),Q=AX(AE0(Z,J),LE0(Z,J)),K={},X;D0(["u","d"],function(Y){X=Y==="u"?J:Z8(J).reverse(),D0(["l","r"],function(q){if(q==="r")X=p0(X,function(W){return Z8(W).reverse()});var z=(Y==="u"?Z.predecessors:Z.successors).bind(Z),G=NE0(Z,X,Q,z),H=EE0(Z,X,G.root,G.align,q==="r");if(q==="r")H=rU(H,function(W){return-W});K[Y+q]=H})});var U=jE0(Z,K);return CE0(K,U),PE0(K,Z.graph().align)}function VE0(Z,J,Q){return function(K,X,U){var Y=K.node(X),q=K.node(U),z=0,G;if(z+=Y.width/2,c0(Y,"labelpos"))switch(Y.labelpos.toLowerCase()){case"l":G=-Y.width/2;break;case"r":G=Y.width/2;break}if(G)z+=Q?G:-G;if(G=0,z+=(Y.dummy?J:Z)/2,z+=(q.dummy?J:Z)/2,z+=q.width/2,c0(q,"labelpos"))switch(q.labelpos.toLowerCase()){case"l":G=q.width/2;break;case"r":G=-q.width/2;break}if(G)z+=Q?G:-G;return G=0,z}}function SE0(Z,J){return Z.node(J).width}var ka=_(()=>{E9();aJ();t4()});function $a(Z){Z=kO(Z),TE0(Z),_P(va(Z),function(J,Q){Z.node(Q).x=J})}function TE0(Z){var J=PX(Z),Q=Z.graph().ranksep,K=0;D0(J,function(X){var U=U6(p0(X,function(Y){return Z.node(Y).height}));D0(X,function(Y){Z.node(Y).y=K+U/2}),K+=U+Q})}var _a=_(()=>{E9();t4();ka()});function g6(Z,J){var Q=J&&J.debugTiming?Pn:Vn;Q("layout",function(){var K=Q("  buildLayoutGraph",function(){return mE0(Z)});Q("  runLayout",function(){fE0(K,Q)}),Q("  updateInputGraph",function(){vE0(Z,K)})})}function fE0(Z,J){J("    makeSpaceForEdgeLabels",function(){gE0(Z)}),J("    removeSelfEdges",function(){aE0(Z)}),J("    acyclic",function(){In(Z)}),J("    nestingGraph.run",function(){Xa(Z)}),J("    rank",function(){MV(kO(Z))}),J("    injectEdgeLabelProxies",function(){pE0(Z)}),J("    removeEmptyRanks",function(){jn(Z)}),J("    nestingGraph.cleanup",function(){Ya(Z)}),J("    normalizeRanks",function(){wn(Z)}),J("    assignRankMinMax",function(){cE0(Z)}),J("    removeEdgeLabelProxies",function(){lE0(Z)}),J("    normalize.run",function(){xn(Z)}),J("    parentDummyChains",function(){Sa(Z)}),J("    addBorderSegments",function(){Tn(Z)}),J("    order",function(){Pa(Z)}),J("    insertSelfEdges",function(){oE0(Z)}),J("    adjustCoordinateSystem",function(){kn(Z)}),J("    position",function(){$a(Z)}),J("    positionSelfEdges",function(){tE0(Z)}),J("    removeBorderNodes",function(){nE0(Z)}),J("    normalize.undo",function(){hn(Z)}),J("    fixupEdgeLabelCoords",function(){sE0(Z)}),J("    undoCoordinateSystem",function(){$n(Z)}),J("    translateGraph",function(){dE0(Z)}),J("    assignNodeIntersects",function(){iE0(Z)}),J("    reversePoints",function(){rE0(Z)}),J("    acyclic.undo",function(){Dn(Z)})}function vE0(Z,J){D0(Z.nodes(),function(Q){var K=Z.node(Q),X=J.node(Q);if(K){if(K.x=X.x,K.y=X.y,J.children(Q).length)K.width=X.width,K.height=X.height}}),D0(Z.edges(),function(Q){var K=Z.edge(Q),X=J.edge(Q);if(K.points=X.points,c0(X,"x"))K.x=X.x,K.y=X.y}),Z.graph().width=J.graph().width,Z.graph().height=J.graph().height}function mE0(Z){var J=new J8({multigraph:!0,compound:!0}),Q=AV(Z.graph());return J.setGraph(AX({},$E0,OV(Q,kE0),aU(Q,_E0))),D0(Z.nodes(),function(K){var X=AV(Z.node(K));J.setNode(K,wX(OV(X,bE0),xE0)),J.setParent(K,Z.parent(K))}),D0(Z.edges(),function(K){var X=AV(Z.edge(K));J.setEdge(K,AX({},yE0,OV(X,hE0),aU(X,uE0)))}),J}function gE0(Z){var J=Z.graph();J.ranksep/=2,D0(Z.edges(),function(Q){var K=Z.edge(Q);if(K.minlen*=2,K.labelpos.toLowerCase()!=="c")if(J.rankdir==="TB"||J.rankdir==="BT")K.width+=K.labeloffset;else K.height+=K.labeloffset})}function pE0(Z){D0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.width&&Q.height){var K=Z.node(J.v),X=Z.node(J.w),U={rank:(X.rank-K.rank)/2+K.rank,e:J};o4(Z,"edge-proxy",U,"_ep")}})}function cE0(Z){var J=0;D0(Z.nodes(),function(Q){var K=Z.node(Q);if(K.borderTop)K.minRank=Z.node(K.borderTop).rank,K.maxRank=Z.node(K.borderBottom).rank,J=U6(J,K.maxRank)}),Z.graph().maxRank=J}function lE0(Z){D0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="edge-proxy")Z.edge(Q.e).labelRank=Q.rank,Z.removeNode(J)})}function dE0(Z){var J=Number.POSITIVE_INFINITY,Q=0,K=Number.POSITIVE_INFINITY,X=0,U=Z.graph(),Y=U.marginx||0,q=U.marginy||0;function z(G){var{x:H,y:W,width:F,height:M}=G;J=Math.min(J,H-F/2),Q=Math.max(Q,H+F/2),K=Math.min(K,W-M/2),X=Math.max(X,W+M/2)}D0(Z.nodes(),function(G){z(Z.node(G))}),D0(Z.edges(),function(G){var H=Z.edge(G);if(c0(H,"x"))z(H)}),J-=Y,K-=q,D0(Z.nodes(),function(G){var H=Z.node(G);H.x-=J,H.y-=K}),D0(Z.edges(),function(G){var H=Z.edge(G);if(D0(H.points,function(W){W.x-=J,W.y-=K}),c0(H,"x"))H.x-=J;if(c0(H,"y"))H.y-=K}),U.width=Q-J+Y,U.height=X-K+q}function iE0(Z){D0(Z.edges(),function(J){var Q=Z.edge(J),K=Z.node(J.v),X=Z.node(J.w),U,Y;if(!Q.points)Q.points=[],U=X,Y=K;else U=Q.points[0],Y=Q.points[Q.points.length-1];Q.points.unshift(aP(K,U)),Q.points.push(aP(X,Y))})}function sE0(Z){D0(Z.edges(),function(J){var Q=Z.edge(J);if(c0(Q,"x")){if(Q.labelpos==="l"||Q.labelpos==="r")Q.width-=Q.labeloffset;switch(Q.labelpos){case"l":Q.x-=Q.width/2+Q.labeloffset;break;case"r":Q.x+=Q.width/2+Q.labeloffset;break}}})}function rE0(Z){D0(Z.edges(),function(J){var Q=Z.edge(J);if(Q.reversed)Q.points.reverse()})}function nE0(Z){D0(Z.nodes(),function(J){if(Z.children(J).length){var Q=Z.node(J),K=Z.node(Q.borderTop),X=Z.node(Q.borderBottom),U=Z.node(rJ(Q.borderLeft)),Y=Z.node(rJ(Q.borderRight));Q.width=Math.abs(Y.x-U.x),Q.height=Math.abs(X.y-K.y),Q.x=U.x+Q.width/2,Q.y=K.y+Q.height/2}}),D0(Z.nodes(),function(J){if(Z.node(J).dummy==="border")Z.removeNode(J)})}function aE0(Z){D0(Z.edges(),function(J){if(J.v===J.w){var Q=Z.node(J.v);if(!Q.selfEdges)Q.selfEdges=[];Q.selfEdges.push({e:J,label:Z.edge(J)}),Z.removeEdge(J)}})}function oE0(Z){var J=PX(Z);D0(J,function(Q){var K=0;D0(Q,function(X,U){var Y=Z.node(X);Y.order=U+K,D0(Y.selfEdges,function(q){o4(Z,"selfedge",{width:q.label.width,height:q.label.height,rank:Y.rank,order:U+ ++K,e:q.e,label:q.label},"_se")}),delete Y.selfEdges})})}function tE0(Z){D0(Z.nodes(),function(J){var Q=Z.node(J);if(Q.dummy==="selfedge"){var K=Z.node(Q.e.v),X=K.x+K.width/2,U=K.y,Y=Q.x-X,q=K.height/2;Z.setEdge(Q.e,Q.label),Z.removeNode(J),Q.label.points=[{x:X+2*Y/3,y:U-q},{x:X+5*Y/6,y:U-q},{x:X+Y,y:U},{x:X+5*Y/6,y:U+q},{x:X+2*Y/3,y:U+q}],Q.label.x=Q.x,Q.label.y=Q.y}})}function OV(Z,J){return rU(aU(Z,J),Number)}function AV(Z){var J={};return D0(Z,function(Q,K){J[K.toLowerCase()]=Q}),J}var kE0,$E0,_E0,bE0,xE0,hE0,yE0,uE0;var ba=_(()=>{E9();aJ();fn();bn();nP();JV();BV();qa();Va();Ta();_a();t4();kE0=["nodesep","edgesep","ranksep","marginx","marginy"],$E0={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_E0=["acyclicer","ranker","rankdir","align"],bE0=["width","height"],xE0={width:0,height:0},hE0=["minlen","weight","width","height","labeloffset"],yE0={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},uE0=["labelpos"]});var ZY=_(()=>{nP();ba();JV();BV()});function NZ(Z){var J={options:{directed:Z.isDirected(),multigraph:Z.isMultigraph(),compound:Z.isCompound()},nodes:eE0(Z),edges:Zw0(Z)};if(!s9(Z.graph()))J.value=x8(Z.graph());return J}function eE0(Z){return p0(Z.nodes(),function(J){var Q=Z.node(J),K=Z.parent(J),X={v:J};if(!s9(Q))X.value=Q;if(!s9(K))X.parent=K;return X})}function Zw0(Z){return p0(Z.edges(),function(J){var Q=Z.edge(J),K={v:J.v,w:J.w};if(!s9(J.name))K.name=J.name;if(!s9(Q))K.value=Q;return K})}var GW=_(()=>{E9();vO()});var pa={};q8(pa,{render:()=>Yw0});var r9,JY,xa,Jw0,yO,Qw0,ha,ya,Kw0,HW,hO,Xw0,ua,ma,Uw0,ga,Yw0;var ca=_(()=>{cU();f4();x6();FZ();X8();ZY();GW();aJ();aJ();GW();r9=new Map,JY=new Map,xa=new Map,Jw0=R(()=>{JY.clear(),xa.clear(),r9.clear()},"clear"),yO=R((Z,J)=>{const Q=JY.get(J)||[];return p.trace("In isDescendant",J," ",Z," = ",Q.includes(Z)),Q.includes(Z)},"isDescendant"),Qw0=R((Z,J)=>{const Q=JY.get(J)||[];if(p.info("Descendants of ",J," is ",Q),p.info("Edge is ",Z),Z.v===J||Z.w===J)return!1;if(!Q)return p.debug("Tilt, ",J,",not in descendants"),!1;return Q.includes(Z.v)||yO(Z.v,J)||yO(Z.w,J)||Q.includes(Z.w)},"edgeInCluster"),ha=R((Z,J,Q,K)=>{p.warn("Copying children of ",Z,"root",K,"data",J.node(Z),K);const X=J.children(Z)||[];if(Z!==K)X.push(Z);p.warn("Copying (nodes) clusterId",Z,"nodes",X),X.forEach((U)=>{if(J.children(U).length>0)ha(U,J,Q,K);else{const Y=J.node(U);if(p.info("cp ",U," to ",K," with parent ",Z),Q.setNode(U,Y),K!==J.parent(U))p.warn("Setting parent",U,J.parent(U)),Q.setParent(U,J.parent(U));if(Z!==K&&U!==Z)p.debug("Setting parent",U,Z),Q.setParent(U,Z);else p.info("In copy ",Z,"root",K,"data",J.node(Z),K),p.debug("Not Setting parent for node=",U,"cluster!==rootId",Z!==K,"node!==clusterId",U!==Z);const q=J.edges(U);p.debug("Copying Edges",q),q.forEach((z)=>{p.info("Edge",z);const G=J.edge(z.v,z.w,z.name);p.info("Edge data",G,K);try{if(Qw0(z,K))p.info("Copying as ",z.v,z.w,G,z.name),Q.setEdge(z.v,z.w,G,z.name),p.info("newGraph edges ",Q.edges(),Q.edge(Q.edges()[0]));else p.info("Skipping copy of edge ",z.v,"-->",z.w," rootId: ",K," clusterId:",Z)}catch(H){p.error(H)}})}p.debug("Removing node",U),J.removeNode(U)})},"copy"),ya=R((Z,J)=>{const Q=J.children(Z);let K=[...Q];for(let X of Q)xa.set(X,Z),K=[...K,...ya(X,J)];return K},"extractDescendants"),Kw0=R((Z,J,Q)=>{const K=Z.edges().filter((z)=>z.v===J||z.w===J),X=Z.edges().filter((z)=>z.v===Q||z.w===Q),U=K.map((z)=>{return{v:z.v===J?Q:z.v,w:z.w===J?J:z.w}}),Y=X.map((z)=>{return{v:z.v,w:z.w}});return U.filter((z)=>{return Y.some((G)=>z.v===G.v&&z.w===G.w)})},"findCommonEdges"),HW=R((Z,J,Q)=>{const K=J.children(Z);if(p.trace("Searching children of id ",Z,K),K.length<1)return Z;let X;for(let U of K){const Y=HW(U,J,Q),q=Kw0(J,Q,Y);if(Y)if(q.length>0)X=Y;else return Y}return X},"findNonClusterChild"),hO=R((Z)=>{if(!r9.has(Z))return Z;if(!r9.get(Z).externalConnections)return Z;if(r9.has(Z))return r9.get(Z).id;return Z},"getAnchorId"),Xw0=R((Z,J)=>{if(!Z||J>10){p.debug("Opting out, no graph ");return}else p.debug("Opting in, graph ");Z.nodes().forEach(function(Q){if(Z.children(Q).length>0)p.warn("Cluster identified",Q," Replacement id in edges: ",HW(Q,Z,Q)),JY.set(Q,ya(Q,Z)),r9.set(Q,{id:HW(Q,Z,Q),clusterData:Z.node(Q)})}),Z.nodes().forEach(function(Q){const K=Z.children(Q),X=Z.edges();if(K.length>0)p.debug("Cluster identified",Q,JY),X.forEach((U)=>{const Y=yO(U.v,Q),q=yO(U.w,Q);if(Y^q)p.warn("Edge: ",U," leaves cluster ",Q),p.warn("Descendants of XXX ",Q,": ",JY.get(Q)),r9.get(Q).externalConnections=!0});else p.debug("Not a cluster ",Q,JY)});for(let Q of r9.keys()){const K=r9.get(Q).id,X=Z.parent(K);if(X!==Q&&r9.has(X)&&!r9.get(X).externalConnections)r9.get(Q).id=X}Z.edges().forEach(function(Q){const K=Z.edge(Q);p.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Q)),p.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Z.edge(Q)));let{v:X,w:U}=Q;if(p.warn("Fix XXX",r9,"ids:",Q.v,Q.w,"Translating: ",r9.get(Q.v)," --- ",r9.get(Q.w)),r9.get(Q.v)&&r9.get(Q.w)&&r9.get(Q.v)===r9.get(Q.w)){p.warn("Fixing and trying link to self - removing XXX",Q.v,Q.w,Q.name),p.warn("Fixing and trying - removing XXX",Q.v,Q.w,Q.name),X=hO(Q.v),U=hO(Q.w),Z.removeEdge(Q.v,Q.w,Q.name);const Y=Q.w+"---"+Q.v+"---1",q=Q.w+"---"+Q.v+"---2";Z.setNode(Y,{domId:Y,id:Y,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),Z.setNode(q,{domId:q,id:q,labelStyle:"",padding:0,shape:"labelRect",style:"",width:10,height:10});const z=structuredClone(K),G=structuredClone(K),H=structuredClone(K);z.label="",z.arrowTypeEnd="none",z.id=Q.name+"-cyclic-special-1",G.arrowTypeEnd="none",G.id=Q.name+"-cyclic-special-mid",H.label="",z.fromCluster=Q.v,H.toCluster=Q.v,H.id=Q.name+"-cyclic-special-2",Z.setEdge(X,Y,z,Q.name+"-cyclic-special-0"),Z.setEdge(Y,q,G,Q.name+"-cyclic-special-1"),Z.setEdge(q,U,H,Q.name+"-cyclic-special-2")}else if(r9.get(Q.v)||r9.get(Q.w)){if(p.warn("Fixing and trying - removing XXX",Q.v,Q.w,Q.name),X=hO(Q.v),U=hO(Q.w),Z.removeEdge(Q.v,Q.w,Q.name),X!==Q.v){const Y=Z.parent(X);r9.get(Y).externalConnections=!0,K.fromCluster=Q.v}if(U!==Q.w){const Y=Z.parent(U);r9.get(Y).externalConnections=!0,K.toCluster=Q.w}p.warn("Fix Replacing with XXX",X,U,Q.name),Z.setEdge(X,U,K,Q.name)}}),p.warn("Adjusted Graph",NZ(Z)),ua(Z,0),p.trace(r9)},"adjustClustersAndEdges"),ua=R((Z,J)=>{if(p.warn("extractor - ",J,NZ(Z),Z.children("D")),J>10){p.error("Bailing out");return}let Q=Z.nodes(),K=!1;for(let X of Q){const U=Z.children(X);K=K||U.length>0}if(!K){p.debug("Done, no node has children",Z.nodes());return}p.debug("Nodes = ",Q,J);for(let X of Q)if(p.debug("Extracting node",X,r9,r9.has(X)&&!r9.get(X).externalConnections,!Z.parent(X),Z.node(X),Z.children("D")," Depth ",J),!r9.has(X))p.debug("Not a cluster",X,J);else if(!r9.get(X).externalConnections&&Z.children(X)&&Z.children(X).length>0){p.warn("Cluster without external connections, without a parent and with children",X,J);let Y=Z.graph().rankdir==="TB"?"LR":"TB";if(r9.get(X)?.clusterData?.dir)Y=r9.get(X).clusterData.dir,p.warn("Fixing dir",r9.get(X).clusterData.dir,Y);const q=new J8({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});p.warn("Old graph before copy",NZ(Z)),ha(X,Z,q,X),Z.setNode(X,{clusterNode:!0,id:X,clusterData:r9.get(X).clusterData,label:r9.get(X).label,graph:q}),p.warn("New graph after copy node: (",X,")",NZ(q)),p.debug("Old graph after copy",NZ(Z))}else p.warn("Cluster ** ",X," **not meeting the criteria !externalConnections:",!r9.get(X).externalConnections," no parent: ",!Z.parent(X)," children ",Z.children(X)&&Z.children(X).length>0,Z.children("D"),J),p.debug(r9);Q=Z.nodes(),p.warn("New list of nodes",Q);for(let X of Q){const U=Z.node(X);if(p.warn(" Now next level",X,U),U.clusterNode)ua(U.graph,J+1)}},"extractor"),ma=R((Z,J)=>{if(J.length===0)return[];let Q=Object.assign([],J);return J.forEach((K)=>{const X=Z.children(K),U=ma(Z,X);Q=[...Q,...U]}),Q},"sorter"),Uw0=R((Z)=>ma(Z,Z.children()),"sortNodesByHierarchy"),ga=R(async(Z,J,Q,K,X,U)=>{p.info("Graph in recursive render: XXX",NZ(J),X);const Y=J.graph().rankdir;p.trace("Dir in recursive render - dir:",Y);const q=Z.insert("g").attr("class","root");if(!J.nodes())p.info("No nodes found for",J);else p.info("Recursive render XXX",J.nodes());if(J.edges().length>0)p.info("Recursive edges",J.edge(J.edges()[0]));const z=q.insert("g").attr("class","clusters"),G=q.insert("g").attr("class","edgePaths"),H=q.insert("g").attr("class","edgeLabels"),W=q.insert("g").attr("class","nodes");await Promise.all(J.nodes().map(async function(O){const A=J.node(O);if(X!==void 0){const L=JSON.parse(JSON.stringify(X.clusterData));if(p.trace("Setting data for parent cluster XXX\n Node.id = ",O,"\n data=",L.height,"\nParent cluster",X.height),J.setNode(X.id,L),!J.parent(O))p.trace("Setting parent",O,X.id),J.setParent(O,X.id,L)}if(p.info("(Insert) Node XXX"+O+": "+JSON.stringify(J.node(O))),A?.clusterNode){p.info("Cluster identified XBX",O,A.width,J.node(O));const{ranksep:L,nodesep:I}=J.graph();A.graph.setGraph({...A.graph.graph(),ranksep:L+25,nodesep:I});const D=await ga(W,A.graph,Q,K,J.node(O),U),w=D.elem;uZ(A,w),A.diff=D.diff||0,p.info("New compound node after recursive render XAX",O,"width",A.width,"height",A.height),Fd(w,A)}else if(J.children(O).length>0)p.info("Cluster - the non recursive path XBX",O,A.id,A,A.width,"Graph:",J),p.info(HW(A.id,J)),r9.set(A.id,{id:HW(A.id,J),node:A});else p.trace("Node - the non recursive path XAX",O,A.id,A),await bR(W,J.node(O),Y)})),await R(async()=>{const O=J.edges().map(async function(A){const L=J.edge(A.v,A.w,A.name);p.info("Edge "+A.v+" -> "+A.w+": "+JSON.stringify(A)),p.info("Edge "+A.v+" -> "+A.w+": ",A," ",JSON.stringify(J.edge(A))),p.info("Fix",r9,"ids:",A.v,A.w,"Translating: ",r9.get(A.v),r9.get(A.w)),await vR(H,L)});await Promise.all(O)},"processEdges")(),p.info("Graph before layout:",JSON.stringify(NZ(J))),p.info("############################################# XXX"),p.info("###                Layout                 ### XXX"),p.info("############################################# XXX"),g6(J),p.info("Graph after layout:",JSON.stringify(NZ(J)));let M=0,{subGraphTitleTotalMargin:B}=xQ(U);return await Promise.all(Uw0(J).map(async function(O){const A=J.node(O);if(p.info("Position XBX => "+O+": ("+A.x,","+A.y,") width: ",A.width," height: ",A.height),A?.clusterNode)A.y+=B,p.info("A tainted cluster node XBX1",O,A.id,A.width,A.height,A.x,A.y,J.parent(O)),r9.get(A.id).node=A,QP(A);else if(J.children(O).length>0){p.info("A pure cluster node XBX1",O,A.id,A.x,A.y,A.width,A.height,J.parent(O)),A.height+=B,J.node(A.parentId);const L=A?.padding/2||0,I=A?.labelBBox?.height||0,D=I-L||0;p.debug("OffsetY",D,"labelHeight",I,"halfPadding",L),await fR(z,A),r9.get(A.id).node=A}else{const L=J.node(A.parentId);A.y+=B/2,p.info("A regular node XBX1 - using the padding",A.id,"parent",A.parentId,A.width,A.height,A.x,A.y,"offsetY",A.offsetY,"parent",L,L?.offsetY,A),QP(A)}})),J.edges().forEach(function(O){const A=J.edge(O);p.info("Edge "+O.v+" -> "+O.w+": "+JSON.stringify(A),A),A.points.forEach((w)=>w.y+=B/2);const L=J.node(O.v);var I=J.node(O.w);const D=$R(G,A,r9,Q,L,I,K);kR(A,D)}),J.nodes().forEach(function(O){const A=J.node(O);if(p.info(O,A.type,A.diff),A.isGroup)M=A.diff}),p.warn("Returning from recursive render XAX",q,M),{elem:q,diff:M}},"recursiveRender"),Yw0=R(async(Z,J)=>{const Q=new J8({multigraph:!0,compound:!0}).setGraph({rankdir:Z.direction,nodesep:Z.config?.nodeSpacing||Z.config?.flowchart?.nodeSpacing||Z.nodeSpacing,ranksep:Z.config?.rankSpacing||Z.config?.flowchart?.rankSpacing||Z.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),K=J.select("g");_R(K,Z.markers,Z.type,Z.diagramId),Md(),Xd(),Kd(),Jw0(),Z.nodes.forEach((U)=>{if(Q.setNode(U.id,{...U}),U.parentId)Q.setParent(U.id,U.parentId)}),p.debug("Edges:",Z.edges),Z.edges.forEach((U)=>{Q.setEdge(U.start,U.end,{...U},U.id)}),p.warn("Graph at first:",JSON.stringify(NZ(Q))),Xw0(Q),p.warn("Graph after:",JSON.stringify(NZ(Q)));const X=W0();await ga(K,Q,Z.type,Z.diagramId,void 0,X)},"render")});var qw0,WW,LV,zw0,uO,la;var T1=_(()=>{cU();FZ();X8();qw0={common:g0,getConfig:a8,insertCluster:fR,insertEdge:$R,insertEdgeLabel:vR,insertMarkers:_R,insertNode:bR,interpolateToCurve:hU,labelHelper:iJ,log:p,positionEdgeLabel:kR},WW={},LV=R((Z)=>{for(let J of Z)WW[J.name]=J},"registerLayoutLoaders"),zw0=R(()=>{LV([{name:"dagre",loader:R(async()=>await Promise.resolve().then(() => (ca(),pa)),"loader")}])},"registerDefaultLayoutLoaders");zw0();uO=R(async(Z,J)=>{if(!(Z.layoutAlgorithm in WW))throw new Error(`Unknown layout algorithm: ${Z.layoutAlgorithm}`);const Q=WW[Z.layoutAlgorithm];return(await Q.loader()).render(Z,J,qw0,{algorithm:Q.algorithm})},"render"),la=R((Z="",{fallback:J="dagre"}={})=>{if(Z in WW)return Z;if(J in WW)return p.warn(`Layout algorithm ${Z} is not registered. Using ${J} as fallback.`),J;throw new Error(`Both layout algorithms ${Z} and ${J} are not registered.`)},"getRegisteredLayoutAlgorithm")});var FW="11.0.2";var IV=()=>{};var OQ;var QY=_(()=>{X8();i9();OQ=R((Z)=>{const{securityLevel:J}=W0();let Q=$0("body");if(J==="sandbox"){const U=$0(`#i${Z}`).node()?.contentDocument??document;Q=$0(U.body)}return Q.select(`#${Z}`)},"selectSvgElement")});var EV,XY,aO,Go,Ho,Wo,e4,oO;var tO=_(()=>{X8();EV=z7(Eq(),1),XY=R((Z,J)=>{const Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),J.name)Q.attr("name",J.name);if(J.rx)Q.attr("rx",J.rx);if(J.ry)Q.attr("ry",J.ry);if(J.attrs!==void 0)for(let K in J.attrs)Q.attr(K,J.attrs[K]);if(J.class)Q.attr("class",J.class);return Q},"drawRect"),aO=R((Z,J)=>{const Q={x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,stroke:J.stroke,class:"rect"};XY(Z,Q).lower()},"drawBackgroundRect"),Go=R((Z,J)=>{const Q=J.text.replace(OU," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class)K.attr("class",J.class);const X=K.append("tspan");return X.attr("x",J.x+J.textMargin*2),X.text(Q),K},"drawText"),Ho=R((Z,J,Q,K)=>{const X=Z.append("image");X.attr("x",J),X.attr("y",Q);const U=EV.sanitizeUrl(K);X.attr("xlink:href",U)},"drawImage"),Wo=R((Z,J,Q,K)=>{const X=Z.append("use");X.attr("x",J),X.attr("y",Q);const U=EV.sanitizeUrl(K);X.attr("xlink:href",`#${U}`)},"drawEmbeddedImage"),e4=R(()=>{return{x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}},"getNoteRect"),oO=R(()=>{return{x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}},"getTextObj")});var wo={};q8(wo,{diagram:()=>Kj0});function DQ(Z,J,Q,K,X){if(!J[Z].width)if(Q)J[Z].text=kC(J[Z].text,X,K),J[Z].textLines=J[Z].text.split(g0.lineBreakRegex).length,J[Z].width=X,J[Z].height=yH(J[Z].text,K);else{let U=J[Z].text.split(g0.lineBreakRegex);J[Z].textLines=U.length;let Y=0;J[Z].height=0,J[Z].width=0;for(let q of U)J[Z].width=Math.max(FQ(q,K),J[Z].width),Y=yH(q,K),J[Z].height=J[Z].height+Y}}function TV(Z,J,Q,K,X){let U=new Do(X);U.data.widthLimit=Q.data.widthLimit/Math.min(jV,K.length);for(let[Y,q]of K.entries()){let z=0;if(q.image={width:0,height:0,Y:0},q.sprite)q.image.width=48,q.image.height=48,q.image.Y=z,z=q.image.Y+q.image.height;let G=q.wrap&&I9.wrap,H=eO(I9);if(H.fontSize=H.fontSize+2,H.fontWeight="bold",DQ("label",q,G,H,U.data.widthLimit),q.label.Y=z+8,z=q.label.Y+q.label.height,q.type&&q.type.text!==""){q.type.text="["+q.type.text+"]";let B=eO(I9);DQ("type",q,G,B,U.data.widthLimit),q.type.Y=z+5,z=q.type.Y+q.type.height}if(q.descr&&q.descr.text!==""){let B=eO(I9);B.fontSize=B.fontSize-2,DQ("descr",q,G,B,U.data.widthLimit),q.descr.Y=z+20,z=q.descr.Y+q.descr.height}if(Y==0||Y%jV===0){let B=Q.data.startx+I9.diagramMarginX,O=Q.data.stopy+I9.diagramMarginY+z;U.setData(B,B,O,O)}else{let B=U.data.stopx!==U.data.startx?U.data.stopx+I9.diagramMarginX:U.data.startx,O=U.data.starty;U.setData(B,B,O,O)}U.name=q.alias;let W=X.db.getC4ShapeArray(q.alias),F=X.db.getC4ShapeKeys(q.alias);if(F.length>0)Eo(U,Z,W,F);J=q.alias;let M=X.db.getBoundarys(J);if(M.length>0)TV(Z,J,U,M,X);if(q.alias!=="global")No(Z,q,U);Q.data.stopy=Math.max(U.data.stopy+I9.c4ShapeMargin,Q.data.stopy),Q.data.stopx=Math.max(U.data.stopx+I9.c4ShapeMargin,Q.data.stopx),KA=Math.max(KA,Q.data.stopx),XA=Math.max(XA,Q.data.stopy)}}var Ao,ZA,Hw0,oQ,fX,_7="global",aQ="",JK,AW,PV="",VV=!1,JA=4,QA=2,Bo=2,Ww0,Fw0,Mw0,Bw0,Rw0,Ow0,Aw0,Lw0,Iw0,Dw0,Nw0,Ew0,ww0,jw0,Cw0,Pw0,Vw0,Ro,Sw0,Tw0,Oo,fw0,vw0,kw0,$w0,vX,_w0,bw0,xw0,hw0,yw0,wV,SV,Lo,uw0,mw0,gw0,pw0,cw0,lw0,dw0,iw0,sw0,rw0,nw0,aw0,q5,ZK,KA=0,XA=0,Io=4,jV=2,I9,Do,CV,OW,eO,ow0,No,Eo,IQ,Fo,tw0,ew0,Zj0,Mo,Jj0,Qj0,Kj0;var jo=_(()=>{tO();FZ();X8();i9();Ao=z7(Eq(),1);ZA=function(){var Z=R(function(S0,H0,l,q0){for(l=l||{},q0=S0.length;q0--;l[S0[q0]]=H0);return l},"o"),J=[1,24],Q=[1,25],K=[1,26],X=[1,27],U=[1,28],Y=[1,63],q=[1,64],z=[1,65],G=[1,66],H=[1,67],W=[1,68],F=[1,69],M=[1,29],B=[1,30],O=[1,31],A=[1,32],L=[1,33],I=[1,34],D=[1,35],w=[1,36],N=[1,37],E=[1,38],j=[1,39],P=[1,40],C=[1,41],T=[1,42],V=[1,43],S=[1,44],$=[1,45],f=[1,46],h=[1,47],v=[1,48],b=[1,50],y=[1,51],k=[1,52],g=[1,53],u=[1,54],i=[1,55],e=[1,56],J0=[1,57],z0=[1,58],t=[1,59],B0=[1,60],X0=[14,42],d=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],o=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],a=[1,82],Q0=[1,83],K0=[1,84],A0=[1,85],r=[12,14,42],v0=[12,14,33,42],Y0=[12,14,33,42,76,77,79,80],k0=[12,33],h0=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],V0={trace:R(function S0(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:R(function S0(H0,l,q0,G0,n,U0,M0){var F0=U0.length-1;switch(n){case 3:G0.setDirection("TB");break;case 4:G0.setDirection("BT");break;case 5:G0.setDirection("RL");break;case 6:G0.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:G0.setC4Type(U0[F0-3]);break;case 19:G0.setTitle(U0[F0].substring(6)),this.$=U0[F0].substring(6);break;case 20:G0.setAccDescription(U0[F0].substring(15)),this.$=U0[F0].substring(15);break;case 21:this.$=U0[F0].trim(),G0.setTitle(this.$);break;case 22:case 23:this.$=U0[F0].trim(),G0.setAccDescription(this.$);break;case 28:U0[F0].splice(2,0,"ENTERPRISE"),G0.addPersonOrSystemBoundary(...U0[F0]),this.$=U0[F0];break;case 29:U0[F0].splice(2,0,"SYSTEM"),G0.addPersonOrSystemBoundary(...U0[F0]),this.$=U0[F0];break;case 30:G0.addPersonOrSystemBoundary(...U0[F0]),this.$=U0[F0];break;case 31:U0[F0].splice(2,0,"CONTAINER"),G0.addContainerBoundary(...U0[F0]),this.$=U0[F0];break;case 32:G0.addDeploymentNode("node",...U0[F0]),this.$=U0[F0];break;case 33:G0.addDeploymentNode("nodeL",...U0[F0]),this.$=U0[F0];break;case 34:G0.addDeploymentNode("nodeR",...U0[F0]),this.$=U0[F0];break;case 35:G0.popBoundaryParseStack();break;case 39:G0.addPersonOrSystem("person",...U0[F0]),this.$=U0[F0];break;case 40:G0.addPersonOrSystem("external_person",...U0[F0]),this.$=U0[F0];break;case 41:G0.addPersonOrSystem("system",...U0[F0]),this.$=U0[F0];break;case 42:G0.addPersonOrSystem("system_db",...U0[F0]),this.$=U0[F0];break;case 43:G0.addPersonOrSystem("system_queue",...U0[F0]),this.$=U0[F0];break;case 44:G0.addPersonOrSystem("external_system",...U0[F0]),this.$=U0[F0];break;case 45:G0.addPersonOrSystem("external_system_db",...U0[F0]),this.$=U0[F0];break;case 46:G0.addPersonOrSystem("external_system_queue",...U0[F0]),this.$=U0[F0];break;case 47:G0.addContainer("container",...U0[F0]),this.$=U0[F0];break;case 48:G0.addContainer("container_db",...U0[F0]),this.$=U0[F0];break;case 49:G0.addContainer("container_queue",...U0[F0]),this.$=U0[F0];break;case 50:G0.addContainer("external_container",...U0[F0]),this.$=U0[F0];break;case 51:G0.addContainer("external_container_db",...U0[F0]),this.$=U0[F0];break;case 52:G0.addContainer("external_container_queue",...U0[F0]),this.$=U0[F0];break;case 53:G0.addComponent("component",...U0[F0]),this.$=U0[F0];break;case 54:G0.addComponent("component_db",...U0[F0]),this.$=U0[F0];break;case 55:G0.addComponent("component_queue",...U0[F0]),this.$=U0[F0];break;case 56:G0.addComponent("external_component",...U0[F0]),this.$=U0[F0];break;case 57:G0.addComponent("external_component_db",...U0[F0]),this.$=U0[F0];break;case 58:G0.addComponent("external_component_queue",...U0[F0]),this.$=U0[F0];break;case 60:G0.addRel("rel",...U0[F0]),this.$=U0[F0];break;case 61:G0.addRel("birel",...U0[F0]),this.$=U0[F0];break;case 62:G0.addRel("rel_u",...U0[F0]),this.$=U0[F0];break;case 63:G0.addRel("rel_d",...U0[F0]),this.$=U0[F0];break;case 64:G0.addRel("rel_l",...U0[F0]),this.$=U0[F0];break;case 65:G0.addRel("rel_r",...U0[F0]),this.$=U0[F0];break;case 66:G0.addRel("rel_b",...U0[F0]),this.$=U0[F0];break;case 67:U0[F0].splice(0,1),G0.addRel("rel",...U0[F0]),this.$=U0[F0];break;case 68:G0.updateElStyle("update_el_style",...U0[F0]),this.$=U0[F0];break;case 69:G0.updateRelStyle("update_rel_style",...U0[F0]),this.$=U0[F0];break;case 70:G0.updateLayoutConfig("update_layout_config",...U0[F0]),this.$=U0[F0];break;case 71:this.$=[U0[F0]];break;case 72:U0[F0].unshift(U0[F0-1]),this.$=U0[F0];break;case 73:case 75:this.$=U0[F0].trim();break;case 74:let x0={};x0[U0[F0-1].trim()]=U0[F0].trim(),this.$=x0;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{13:70,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{13:71,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{13:72,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{13:73,19:20,20:21,21:22,22:J,23:Q,24:K,26:X,28:U,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{14:[1,74]},Z(X0,[2,13],{43:23,29:49,30:61,32:62,20:75,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0}),Z(X0,[2,14]),Z(d,[2,16],{12:[1,76]}),Z(X0,[2,36],{12:[1,77]}),Z(o,[2,19]),Z(o,[2,20]),{25:[1,78]},{27:[1,79]},Z(o,[2,23]),{35:80,75:81,76:a,77:Q0,79:K0,80:A0},{35:86,75:81,76:a,77:Q0,79:K0,80:A0},{35:87,75:81,76:a,77:Q0,79:K0,80:A0},{35:88,75:81,76:a,77:Q0,79:K0,80:A0},{35:89,75:81,76:a,77:Q0,79:K0,80:A0},{35:90,75:81,76:a,77:Q0,79:K0,80:A0},{35:91,75:81,76:a,77:Q0,79:K0,80:A0},{35:92,75:81,76:a,77:Q0,79:K0,80:A0},{35:93,75:81,76:a,77:Q0,79:K0,80:A0},{35:94,75:81,76:a,77:Q0,79:K0,80:A0},{35:95,75:81,76:a,77:Q0,79:K0,80:A0},{35:96,75:81,76:a,77:Q0,79:K0,80:A0},{35:97,75:81,76:a,77:Q0,79:K0,80:A0},{35:98,75:81,76:a,77:Q0,79:K0,80:A0},{35:99,75:81,76:a,77:Q0,79:K0,80:A0},{35:100,75:81,76:a,77:Q0,79:K0,80:A0},{35:101,75:81,76:a,77:Q0,79:K0,80:A0},{35:102,75:81,76:a,77:Q0,79:K0,80:A0},{35:103,75:81,76:a,77:Q0,79:K0,80:A0},{35:104,75:81,76:a,77:Q0,79:K0,80:A0},Z(r,[2,59]),{35:105,75:81,76:a,77:Q0,79:K0,80:A0},{35:106,75:81,76:a,77:Q0,79:K0,80:A0},{35:107,75:81,76:a,77:Q0,79:K0,80:A0},{35:108,75:81,76:a,77:Q0,79:K0,80:A0},{35:109,75:81,76:a,77:Q0,79:K0,80:A0},{35:110,75:81,76:a,77:Q0,79:K0,80:A0},{35:111,75:81,76:a,77:Q0,79:K0,80:A0},{35:112,75:81,76:a,77:Q0,79:K0,80:A0},{35:113,75:81,76:a,77:Q0,79:K0,80:A0},{35:114,75:81,76:a,77:Q0,79:K0,80:A0},{35:115,75:81,76:a,77:Q0,79:K0,80:A0},{20:116,29:49,30:61,32:62,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,43:23,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0},{12:[1,118],33:[1,117]},{35:119,75:81,76:a,77:Q0,79:K0,80:A0},{35:120,75:81,76:a,77:Q0,79:K0,80:A0},{35:121,75:81,76:a,77:Q0,79:K0,80:A0},{35:122,75:81,76:a,77:Q0,79:K0,80:A0},{35:123,75:81,76:a,77:Q0,79:K0,80:A0},{35:124,75:81,76:a,77:Q0,79:K0,80:A0},{35:125,75:81,76:a,77:Q0,79:K0,80:A0},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},Z(X0,[2,15]),Z(d,[2,17],{21:22,19:130,22:J,23:Q,24:K,26:X,28:U}),Z(X0,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:J,23:Q,24:K,26:X,28:U,34:Y,36:q,37:z,38:G,39:H,40:W,41:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D,51:w,52:N,53:E,54:j,55:P,56:C,57:T,58:V,59:S,60:$,61:f,62:h,63:v,64:b,65:y,66:k,67:g,68:u,69:i,70:e,71:J0,72:z0,73:t,74:B0}),Z(o,[2,21]),Z(o,[2,22]),Z(r,[2,39]),Z(v0,[2,71],{75:81,35:132,76:a,77:Q0,79:K0,80:A0}),Z(Y0,[2,73]),{78:[1,133]},Z(Y0,[2,75]),Z(Y0,[2,76]),Z(r,[2,40]),Z(r,[2,41]),Z(r,[2,42]),Z(r,[2,43]),Z(r,[2,44]),Z(r,[2,45]),Z(r,[2,46]),Z(r,[2,47]),Z(r,[2,48]),Z(r,[2,49]),Z(r,[2,50]),Z(r,[2,51]),Z(r,[2,52]),Z(r,[2,53]),Z(r,[2,54]),Z(r,[2,55]),Z(r,[2,56]),Z(r,[2,57]),Z(r,[2,58]),Z(r,[2,60]),Z(r,[2,61]),Z(r,[2,62]),Z(r,[2,63]),Z(r,[2,64]),Z(r,[2,65]),Z(r,[2,66]),Z(r,[2,67]),Z(r,[2,68]),Z(r,[2,69]),Z(r,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},Z(k0,[2,28]),Z(k0,[2,29]),Z(k0,[2,30]),Z(k0,[2,31]),Z(k0,[2,32]),Z(k0,[2,33]),Z(k0,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},Z(d,[2,18]),Z(X0,[2,38]),Z(v0,[2,72]),Z(Y0,[2,74]),Z(r,[2,24]),Z(r,[2,35]),Z(h0,[2,25]),Z(h0,[2,26],{12:[1,138]}),Z(h0,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:R(function S0(H0,l){if(l.recoverable)this.trace(H0);else{var q0=new Error(H0);throw q0.hash=l,q0}},"parseError"),parse:R(function S0(H0){var l=this,q0=[0],G0=[],n=[null],U0=[],M0=this.table,F0="",x0=0,_0=0,y0=0,m0=2,d0=1,u0=U0.slice.call(arguments,1),E0=Object.create(this.lexer),Z9={yy:{}};for(var i0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,i0))Z9.yy[i0]=this.yy[i0];if(E0.setInput(H0,Z9.yy),Z9.yy.lexer=E0,Z9.yy.parser=this,typeof E0.yylloc=="undefined")E0.yylloc={};var Q8=E0.yylloc;U0.push(Q8);var F8=E0.options&&E0.options.ranges;if(typeof Z9.yy.parseError==="function")this.parseError=Z9.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function g9(y9){q0.length=q0.length-2*y9,n.length=n.length-y9,U0.length=U0.length-y9}R(g9,"popStack");function t9(){var y9=G0.pop()||E0.lex()||d0;if(typeof y9!=="number"){if(y9 instanceof Array)G0=y9,y9=G0.pop();y9=l.symbols_[y9]||y9}return y9}R(t9,"lex");var H9,f9,t0,T9,l9,O9,w9={},M9,c9,q9,z8;while(!0){if(t0=q0[q0.length-1],this.defaultActions[t0])T9=this.defaultActions[t0];else{if(H9===null||typeof H9=="undefined")H9=t9();T9=M0[t0]&&M0[t0][H9]}if(typeof T9==="undefined"||!T9.length||!T9[0]){var N9="";z8=[];for(M9 in M0[t0])if(this.terminals_[M9]&&M9>m0)z8.push("'"+this.terminals_[M9]+"'");if(E0.showPosition)N9="Parse error on line "+(x0+1)+":\n"+E0.showPosition()+"\nExpecting "+z8.join(", ")+", got '"+(this.terminals_[H9]||H9)+"'";else N9="Parse error on line "+(x0+1)+": Unexpected "+(H9==d0?"end of input":"'"+(this.terminals_[H9]||H9)+"'");this.parseError(N9,{text:E0.match,token:this.terminals_[H9]||H9,line:E0.yylineno,loc:Q8,expected:z8})}if(T9[0]instanceof Array&&T9.length>1)throw new Error("Parse Error: multiple actions possible at state: "+t0+", token: "+H9);switch(T9[0]){case 1:if(q0.push(H9),n.push(E0.yytext),U0.push(E0.yylloc),q0.push(T9[1]),H9=null,!f9){if(_0=E0.yyleng,F0=E0.yytext,x0=E0.yylineno,Q8=E0.yylloc,y0>0)y0--}else H9=f9,f9=null;break;case 2:if(c9=this.productions_[T9[1]][1],w9.$=n[n.length-c9],w9._$={first_line:U0[U0.length-(c9||1)].first_line,last_line:U0[U0.length-1].last_line,first_column:U0[U0.length-(c9||1)].first_column,last_column:U0[U0.length-1].last_column},F8)w9._$.range=[U0[U0.length-(c9||1)].range[0],U0[U0.length-1].range[1]];if(O9=this.performAction.apply(w9,[F0,_0,x0,Z9.yy,T9[1],n,U0].concat(u0)),typeof O9!=="undefined")return O9;if(c9)q0=q0.slice(0,-1*c9*2),n=n.slice(0,-1*c9),U0=U0.slice(0,-1*c9);q0.push(this.productions_[T9[1]][0]),n.push(w9.$),U0.push(w9._$),q9=M0[q0[q0.length-2]][q0[q0.length-1]],q0.push(q9);break;case 3:return!0}}return!0},"parse")},l0=function(){var S0={EOF:1,parseError:R(function H0(l,q0){if(this.yy.parser)this.yy.parser.parseError(l,q0);else throw new Error(l)},"parseError"),setInput:R(function(H0,l){if(this.yy=l||this.yy||{},this._input=H0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var H0=this._input[0];this.yytext+=H0,this.yyleng++,this.offset++,this.match+=H0,this.matched+=H0;var l=H0.match(/(?:\r\n?|\n).*/g);if(l)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),H0},"input"),unput:R(function(H0){var l=H0.length,q0=H0.split(/(?:\r\n?|\n)/g);this._input=H0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-l),this.offset-=l;var G0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q0.length-1)this.yylineno-=q0.length-1;var n=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q0?(q0.length===G0.length?this.yylloc.first_column:0)+G0[G0.length-q0.length].length-q0[0].length:this.yylloc.first_column-l},this.options.ranges)this.yylloc.range=[n[0],n[0]+this.yyleng-l];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(H0){this.unput(this.match.slice(H0))},"less"),pastInput:R(function(){var H0=this.matched.substr(0,this.matched.length-this.match.length);return(H0.length>20?"...":"")+H0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var H0=this.match;if(H0.length<20)H0+=this._input.substr(0,20-H0.length);return(H0.substr(0,20)+(H0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var H0=this.pastInput(),l=new Array(H0.length+1).join("-");return H0+this.upcomingInput()+"\n"+l+"^"},"showPosition"),test_match:R(function(H0,l){var q0,G0,n;if(this.options.backtrack_lexer){if(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)n.yylloc.range=this.yylloc.range.slice(0)}if(G0=H0[0].match(/(?:\r\n?|\n).*/g),G0)this.yylineno+=G0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G0?G0[G0.length-1].length-G0[G0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+H0[0].length},this.yytext+=H0[0],this.match+=H0[0],this.matches=H0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(H0[0].length),this.matched+=H0[0],q0=this.performAction.call(this,this.yy,this,l,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(q0)return q0;else if(this._backtrack){for(var U0 in n)this[U0]=n[U0];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var H0,l,q0,G0;if(!this._more)this.yytext="",this.match="";var n=this._currentRules();for(var U0=0;U0<n.length;U0++)if(q0=this._input.match(this.rules[n[U0]]),q0&&(!l||q0[0].length>l[0].length)){if(l=q0,G0=U0,this.options.backtrack_lexer)if(H0=this.test_match(q0,n[U0]),H0!==!1)return H0;else if(this._backtrack){l=!1;continue}else return!1;else if(!this.options.flex)break}if(l){if(H0=this.test_match(l,n[G0]),H0!==!1)return H0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function H0(){var l=this.next();if(l)return l;else return this.lex()},"lex"),begin:R(function H0(l){this.conditionStack.push(l)},"begin"),popState:R(function H0(){var l=this.conditionStack.length-1;if(l>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function H0(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function H0(l){if(l=this.conditionStack.length-1-Math.abs(l||0),l>=0)return this.conditionStack[l];else return"INITIAL"},"topState"),pushState:R(function H0(l){this.begin(l)},"pushState"),stateStackSize:R(function H0(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:R(function H0(l,q0,G0,n){var U0=n;switch(G0){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),26;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;break;case 23:return this.begin("person"),44;break;case 24:return this.begin("system_ext_queue"),51;break;case 25:return this.begin("system_ext_db"),50;break;case 26:return this.begin("system_ext"),49;break;case 27:return this.begin("system_queue"),48;break;case 28:return this.begin("system_db"),47;break;case 29:return this.begin("system"),46;break;case 30:return this.begin("boundary"),37;break;case 31:return this.begin("enterprise_boundary"),34;break;case 32:return this.begin("system_boundary"),36;break;case 33:return this.begin("container_ext_queue"),57;break;case 34:return this.begin("container_ext_db"),56;break;case 35:return this.begin("container_ext"),55;break;case 36:return this.begin("container_queue"),54;break;case 37:return this.begin("container_db"),53;break;case 38:return this.begin("container"),52;break;case 39:return this.begin("container_boundary"),38;break;case 40:return this.begin("component_ext_queue"),63;break;case 41:return this.begin("component_ext_db"),62;break;case 42:return this.begin("component_ext"),61;break;case 43:return this.begin("component_queue"),60;break;case 44:return this.begin("component_db"),59;break;case 45:return this.begin("component"),58;break;case 46:return this.begin("node"),39;break;case 47:return this.begin("node"),39;break;case 48:return this.begin("node_l"),40;break;case 49:return this.begin("node_r"),41;break;case 50:return this.begin("rel"),64;break;case 51:return this.begin("birel"),65;break;case 52:return this.begin("rel_u"),66;break;case 53:return this.begin("rel_u"),66;break;case 54:return this.begin("rel_d"),67;break;case 55:return this.begin("rel_d"),67;break;case 56:return this.begin("rel_l"),68;break;case 57:return this.begin("rel_l"),68;break;case 58:return this.begin("rel_r"),69;break;case 59:return this.begin("rel_r"),69;break;case 60:return this.begin("rel_b"),70;break;case 61:return this.begin("rel_index"),71;break;case 62:return this.begin("update_el_style"),72;break;case 63:return this.begin("update_rel_style"),73;break;case 64:return this.begin("update_layout_config"),74;break;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";break;case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";break;case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return S0}();V0.lexer=l0;function b0(){this.yy={}}return R(b0,"Parser"),b0.prototype=V0,V0.Parser=b0,new b0}();ZA.parser=ZA;Hw0=ZA,oQ=[],fX=[""],JK=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],AW=[],Ww0=R(function(){return Bo},"getC4Type"),Fw0=R(function(Z){Bo=u8(Z,W0())},"setC4Type"),Mw0=R(function(Z,J,Q,K,X,U,Y,q,z){if(Z===void 0||Z===null||J===void 0||J===null||Q===void 0||Q===null||K===void 0||K===null)return;let G={};const H=AW.find((W)=>W.from===J&&W.to===Q);if(H)G=H;else AW.push(G);if(G.type=Z,G.from=J,G.to=Q,G.label={text:K},X===void 0||X===null)G.techn={text:""};else if(typeof X==="object"){let[W,F]=Object.entries(X)[0];G[W]={text:F}}else G.techn={text:X};if(U===void 0||U===null)G.descr={text:""};else if(typeof U==="object"){let[W,F]=Object.entries(U)[0];G[W]={text:F}}else G.descr={text:U};if(typeof Y==="object"){let[W,F]=Object.entries(Y)[0];G[W]=F}else G.sprite=Y;if(typeof q==="object"){let[W,F]=Object.entries(q)[0];G[W]=F}else G.tags=q;if(typeof z==="object"){let[W,F]=Object.entries(z)[0];G[W]=F}else G.link=z;G.wrap=vX()},"addRel"),Bw0=R(function(Z,J,Q,K,X,U,Y){if(J===null||Q===null)return;let q={};const z=oQ.find((G)=>G.alias===J);if(z&&J===z.alias)q=z;else q.alias=J,oQ.push(q);if(Q===void 0||Q===null)q.label={text:""};else q.label={text:Q};if(K===void 0||K===null)q.descr={text:""};else if(typeof K==="object"){let[G,H]=Object.entries(K)[0];q[G]={text:H}}else q.descr={text:K};if(typeof X==="object"){let[G,H]=Object.entries(X)[0];q[G]=H}else q.sprite=X;if(typeof U==="object"){let[G,H]=Object.entries(U)[0];q[G]=H}else q.tags=U;if(typeof Y==="object"){let[G,H]=Object.entries(Y)[0];q[G]=H}else q.link=Y;q.typeC4Shape={text:Z},q.parentBoundary=_7,q.wrap=vX()},"addPersonOrSystem"),Rw0=R(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let z={};const G=oQ.find((H)=>H.alias===J);if(G&&J===G.alias)z=G;else z.alias=J,oQ.push(z);if(Q===void 0||Q===null)z.label={text:""};else z.label={text:Q};if(K===void 0||K===null)z.techn={text:""};else if(typeof K==="object"){let[H,W]=Object.entries(K)[0];z[H]={text:W}}else z.techn={text:K};if(X===void 0||X===null)z.descr={text:""};else if(typeof X==="object"){let[H,W]=Object.entries(X)[0];z[H]={text:W}}else z.descr={text:X};if(typeof U==="object"){let[H,W]=Object.entries(U)[0];z[H]=W}else z.sprite=U;if(typeof Y==="object"){let[H,W]=Object.entries(Y)[0];z[H]=W}else z.tags=Y;if(typeof q==="object"){let[H,W]=Object.entries(q)[0];z[H]=W}else z.link=q;z.wrap=vX(),z.typeC4Shape={text:Z},z.parentBoundary=_7},"addContainer"),Ow0=R(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let z={};const G=oQ.find((H)=>H.alias===J);if(G&&J===G.alias)z=G;else z.alias=J,oQ.push(z);if(Q===void 0||Q===null)z.label={text:""};else z.label={text:Q};if(K===void 0||K===null)z.techn={text:""};else if(typeof K==="object"){let[H,W]=Object.entries(K)[0];z[H]={text:W}}else z.techn={text:K};if(X===void 0||X===null)z.descr={text:""};else if(typeof X==="object"){let[H,W]=Object.entries(X)[0];z[H]={text:W}}else z.descr={text:X};if(typeof U==="object"){let[H,W]=Object.entries(U)[0];z[H]=W}else z.sprite=U;if(typeof Y==="object"){let[H,W]=Object.entries(Y)[0];z[H]=W}else z.tags=Y;if(typeof q==="object"){let[H,W]=Object.entries(q)[0];z[H]=W}else z.link=q;z.wrap=vX(),z.typeC4Shape={text:Z},z.parentBoundary=_7},"addComponent"),Aw0=R(function(Z,J,Q,K,X){if(Z===null||J===null)return;let U={};const Y=JK.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)U=Y;else U.alias=Z,JK.push(U);if(J===void 0||J===null)U.label={text:""};else U.label={text:J};if(Q===void 0||Q===null)U.type={text:"system"};else if(typeof Q==="object"){let[q,z]=Object.entries(Q)[0];U[q]={text:z}}else U.type={text:Q};if(typeof K==="object"){let[q,z]=Object.entries(K)[0];U[q]=z}else U.tags=K;if(typeof X==="object"){let[q,z]=Object.entries(X)[0];U[q]=z}else U.link=X;U.parentBoundary=_7,U.wrap=vX(),aQ=_7,_7=Z,fX.push(aQ)},"addPersonOrSystemBoundary"),Lw0=R(function(Z,J,Q,K,X){if(Z===null||J===null)return;let U={};const Y=JK.find((q)=>q.alias===Z);if(Y&&Z===Y.alias)U=Y;else U.alias=Z,JK.push(U);if(J===void 0||J===null)U.label={text:""};else U.label={text:J};if(Q===void 0||Q===null)U.type={text:"container"};else if(typeof Q==="object"){let[q,z]=Object.entries(Q)[0];U[q]={text:z}}else U.type={text:Q};if(typeof K==="object"){let[q,z]=Object.entries(K)[0];U[q]=z}else U.tags=K;if(typeof X==="object"){let[q,z]=Object.entries(X)[0];U[q]=z}else U.link=X;U.parentBoundary=_7,U.wrap=vX(),aQ=_7,_7=Z,fX.push(aQ)},"addContainerBoundary"),Iw0=R(function(Z,J,Q,K,X,U,Y,q){if(J===null||Q===null)return;let z={};const G=JK.find((H)=>H.alias===J);if(G&&J===G.alias)z=G;else z.alias=J,JK.push(z);if(Q===void 0||Q===null)z.label={text:""};else z.label={text:Q};if(K===void 0||K===null)z.type={text:"node"};else if(typeof K==="object"){let[H,W]=Object.entries(K)[0];z[H]={text:W}}else z.type={text:K};if(X===void 0||X===null)z.descr={text:""};else if(typeof X==="object"){let[H,W]=Object.entries(X)[0];z[H]={text:W}}else z.descr={text:X};if(typeof Y==="object"){let[H,W]=Object.entries(Y)[0];z[H]=W}else z.tags=Y;if(typeof q==="object"){let[H,W]=Object.entries(q)[0];z[H]=W}else z.link=q;z.nodeType=Z,z.parentBoundary=_7,z.wrap=vX(),aQ=_7,_7=J,fX.push(aQ)},"addDeploymentNode"),Dw0=R(function(){_7=aQ,fX.pop(),aQ=fX.pop(),fX.push(aQ)},"popBoundaryParseStack"),Nw0=R(function(Z,J,Q,K,X,U,Y,q,z,G,H){let W=oQ.find((F)=>F.alias===J);if(W===void 0){if(W=JK.find((F)=>F.alias===J),W===void 0)return}if(Q!==void 0&&Q!==null)if(typeof Q==="object"){let[F,M]=Object.entries(Q)[0];W[F]=M}else W.bgColor=Q;if(K!==void 0&&K!==null)if(typeof K==="object"){let[F,M]=Object.entries(K)[0];W[F]=M}else W.fontColor=K;if(X!==void 0&&X!==null)if(typeof X==="object"){let[F,M]=Object.entries(X)[0];W[F]=M}else W.borderColor=X;if(U!==void 0&&U!==null)if(typeof U==="object"){let[F,M]=Object.entries(U)[0];W[F]=M}else W.shadowing=U;if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[F,M]=Object.entries(Y)[0];W[F]=M}else W.shape=Y;if(q!==void 0&&q!==null)if(typeof q==="object"){let[F,M]=Object.entries(q)[0];W[F]=M}else W.sprite=q;if(z!==void 0&&z!==null)if(typeof z==="object"){let[F,M]=Object.entries(z)[0];W[F]=M}else W.techn=z;if(G!==void 0&&G!==null)if(typeof G==="object"){let[F,M]=Object.entries(G)[0];W[F]=M}else W.legendText=G;if(H!==void 0&&H!==null)if(typeof H==="object"){let[F,M]=Object.entries(H)[0];W[F]=M}else W.legendSprite=H},"updateElStyle"),Ew0=R(function(Z,J,Q,K,X,U,Y){const q=AW.find((z)=>z.from===J&&z.to===Q);if(q===void 0)return;if(K!==void 0&&K!==null)if(typeof K==="object"){let[z,G]=Object.entries(K)[0];q[z]=G}else q.textColor=K;if(X!==void 0&&X!==null)if(typeof X==="object"){let[z,G]=Object.entries(X)[0];q[z]=G}else q.lineColor=X;if(U!==void 0&&U!==null)if(typeof U==="object"){let[z,G]=Object.entries(U)[0];q[z]=parseInt(G)}else q.offsetX=parseInt(U);if(Y!==void 0&&Y!==null)if(typeof Y==="object"){let[z,G]=Object.entries(Y)[0];q[z]=parseInt(G)}else q.offsetY=parseInt(Y)},"updateRelStyle"),ww0=R(function(Z,J,Q){let K=JA,X=QA;if(typeof J==="object"){const U=Object.values(J)[0];K=parseInt(U)}else K=parseInt(J);if(typeof Q==="object"){const U=Object.values(Q)[0];X=parseInt(U)}else X=parseInt(Q);if(K>=1)JA=K;if(X>=1)QA=X},"updateLayoutConfig"),jw0=R(function(){return JA},"getC4ShapeInRow"),Cw0=R(function(){return QA},"getC4BoundaryInRow"),Pw0=R(function(){return _7},"getCurrentBoundaryParse"),Vw0=R(function(){return aQ},"getParentBoundaryParse"),Ro=R(function(Z){if(Z===void 0||Z===null)return oQ;else return oQ.filter((J)=>{return J.parentBoundary===Z})},"getC4ShapeArray"),Sw0=R(function(Z){return oQ.find((J)=>J.alias===Z)},"getC4Shape"),Tw0=R(function(Z){return Object.keys(Ro(Z))},"getC4ShapeKeys"),Oo=R(function(Z){if(Z===void 0||Z===null)return JK;else return JK.filter((J)=>J.parentBoundary===Z)},"getBoundaries"),fw0=Oo,vw0=R(function(){return AW},"getRels"),kw0=R(function(){return PV},"getTitle"),$w0=R(function(Z){VV=Z},"setWrap"),vX=R(function(){return VV},"autoWrap"),_w0=R(function(){oQ=[],JK=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],aQ="",_7="global",fX=[""],AW=[],fX=[""],PV="",VV=!1,JA=4,QA=2},"clear"),bw0={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},xw0={FILLED:0,OPEN:1},hw0={LEFTOF:0,RIGHTOF:1,OVER:2},yw0=R(function(Z){PV=u8(Z,W0())},"setTitle"),wV={addPersonOrSystem:Bw0,addPersonOrSystemBoundary:Aw0,addContainer:Rw0,addContainerBoundary:Lw0,addComponent:Ow0,addDeploymentNode:Iw0,popBoundaryParseStack:Dw0,addRel:Mw0,updateElStyle:Nw0,updateRelStyle:Ew0,updateLayoutConfig:ww0,autoWrap:vX,setWrap:$w0,getC4ShapeArray:Ro,getC4Shape:Sw0,getC4ShapeKeys:Tw0,getBoundaries:Oo,getBoundarys:fw0,getCurrentBoundaryParse:Pw0,getParentBoundaryParse:Vw0,getRels:vw0,getTitle:kw0,getC4Type:Ww0,getC4ShapeInRow:jw0,getC4BoundaryInRow:Cw0,setAccTitle:E8,getAccTitle:f8,getAccDescription:k8,setAccDescription:v8,getConfig:R(()=>W0().c4,"getConfig"),clear:_w0,LINETYPE:bw0,ARROWTYPE:xw0,PLACEMENT:hw0,setTitle:yw0,setC4Type:Fw0},SV=R(function(Z,J){return XY(Z,J)},"drawRect"),Lo=R(function(Z,J,Q,K,X,U){const Y=Z.append("image");Y.attr("width",J),Y.attr("height",Q),Y.attr("x",K),Y.attr("y",X);let q=U.startsWith("data:image/png;base64")?U:Ao.sanitizeUrl(U);Y.attr("xlink:href",q)},"drawImage"),uw0=R((Z,J,Q)=>{const K=Z.append("g");let X=0;for(let U of J){let Y=U.textColor?U.textColor:"#444444",q=U.lineColor?U.lineColor:"#444444",z=U.offsetX?parseInt(U.offsetX):0,G=U.offsetY?parseInt(U.offsetY):0,H="";if(X===0){let F=K.append("line");if(F.attr("x1",U.startPoint.x),F.attr("y1",U.startPoint.y),F.attr("x2",U.endPoint.x),F.attr("y2",U.endPoint.y),F.attr("stroke-width","1"),F.attr("stroke",q),F.style("fill","none"),U.type!=="rel_b")F.attr("marker-end","url("+H+"#arrowhead)");if(U.type==="birel"||U.type==="rel_b")F.attr("marker-start","url("+H+"#arrowend)");X=-1}else{let F=K.append("path");if(F.attr("fill","none").attr("stroke-width","1").attr("stroke",q).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",U.startPoint.x).replaceAll("starty",U.startPoint.y).replaceAll("controlx",U.startPoint.x+(U.endPoint.x-U.startPoint.x)/2-(U.endPoint.x-U.startPoint.x)/4).replaceAll("controly",U.startPoint.y+(U.endPoint.y-U.startPoint.y)/2).replaceAll("stopx",U.endPoint.x).replaceAll("stopy",U.endPoint.y)),U.type!=="rel_b")F.attr("marker-end","url("+H+"#arrowhead)");if(U.type==="birel"||U.type==="rel_b")F.attr("marker-start","url("+H+"#arrowend)")}let W=Q.messageFont();if(q5(Q)(U.label.text,K,Math.min(U.startPoint.x,U.endPoint.x)+Math.abs(U.endPoint.x-U.startPoint.x)/2+z,Math.min(U.startPoint.y,U.endPoint.y)+Math.abs(U.endPoint.y-U.startPoint.y)/2+G,U.label.width,U.label.height,{fill:Y},W),U.techn&&U.techn.text!=="")W=Q.messageFont(),q5(Q)("["+U.techn.text+"]",K,Math.min(U.startPoint.x,U.endPoint.x)+Math.abs(U.endPoint.x-U.startPoint.x)/2+z,Math.min(U.startPoint.y,U.endPoint.y)+Math.abs(U.endPoint.y-U.startPoint.y)/2+Q.messageFontSize+5+G,Math.max(U.label.width,U.techn.width),U.techn.height,{fill:Y,"font-style":"italic"},W)}},"drawRels"),mw0=R(function(Z,J,Q){const K=Z.append("g");let X=J.bgColor?J.bgColor:"none",U=J.borderColor?J.borderColor:"#444444",Y=J.fontColor?J.fontColor:"black",q={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};if(J.nodeType)q={"stroke-width":1};let z={x:J.x,y:J.y,fill:X,stroke:U,width:J.width,height:J.height,rx:2.5,ry:2.5,attrs:q};SV(K,z);let G=Q.boundaryFont();if(G.fontWeight="bold",G.fontSize=G.fontSize+2,G.fontColor=Y,q5(Q)(J.label.text,K,J.x,J.y+J.label.Y,J.width,J.height,{fill:"#444444"},G),J.type&&J.type.text!=="")G=Q.boundaryFont(),G.fontColor=Y,q5(Q)(J.type.text,K,J.x,J.y+J.type.Y,J.width,J.height,{fill:"#444444"},G);if(J.descr&&J.descr.text!=="")G=Q.boundaryFont(),G.fontSize=G.fontSize-2,G.fontColor=Y,q5(Q)(J.descr.text,K,J.x,J.y+J.descr.Y,J.width,J.height,{fill:"#444444"},G)},"drawBoundary"),gw0=R(function(Z,J,Q){let K=J.bgColor?J.bgColor:Q[J.typeC4Shape.text+"_bg_color"],X=J.borderColor?J.borderColor:Q[J.typeC4Shape.text+"_border_color"],U=J.fontColor?J.fontColor:"#FFFFFF",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(J.typeC4Shape.text){case"person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const q=Z.append("g");q.attr("class","person-man");const z=e4();switch(J.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":z.x=J.x,z.y=J.y,z.fill=K,z.width=J.width,z.height=J.height,z.stroke=X,z.rx=2.5,z.ry=2.5,z.attrs={"stroke-width":0.5},SV(q,z);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2).replaceAll("height",J.height)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("half",J.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":q.append("path").attr("fill",K).attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",J.x).replaceAll("starty",J.y).replaceAll("width",J.width).replaceAll("half",J.height/2)),q.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",X).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",J.x+J.width).replaceAll("starty",J.y).replaceAll("half",J.height/2));break}let G=aw0(Q,J.typeC4Shape.text);switch(q.append("text").attr("fill",U).attr("font-family",G.fontFamily).attr("font-size",G.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",J.typeC4Shape.width).attr("x",J.x+J.width/2-J.typeC4Shape.width/2).attr("y",J.y+J.typeC4Shape.Y).text("<<"+J.typeC4Shape.text+">>"),J.typeC4Shape.text){case"person":case"external_person":Lo(q,48,48,J.x+J.width/2-24,J.y+J.image.Y,Y);break}let H=Q[J.typeC4Shape.text+"Font"]();if(H.fontWeight="bold",H.fontSize=H.fontSize+2,H.fontColor=U,q5(Q)(J.label.text,q,J.x,J.y+J.label.Y,J.width,J.height,{fill:U},H),H=Q[J.typeC4Shape.text+"Font"](),H.fontColor=U,J.techn&&J.techn?.text!=="")q5(Q)(J.techn.text,q,J.x,J.y+J.techn.Y,J.width,J.height,{fill:U,"font-style":"italic"},H);else if(J.type&&J.type.text!=="")q5(Q)(J.type.text,q,J.x,J.y+J.type.Y,J.width,J.height,{fill:U,"font-style":"italic"},H);if(J.descr&&J.descr.text!=="")H=Q.personFont(),H.fontColor=U,q5(Q)(J.descr.text,q,J.x,J.y+J.descr.Y,J.width,J.height,{fill:U},H);return J.height},"drawC4Shape"),pw0=R(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),cw0=R(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),lw0=R(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),dw0=R(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),iw0=R(function(Z){Z.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),sw0=R(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),rw0=R(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),nw0=R(function(Z){const Q=Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);Q.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),Q.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),aw0=R((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"getC4ShapeFont"),q5=function(){function Z(X,U,Y,q,z,G,H){const W=U.append("text").attr("x",Y+z/2).attr("y",q+G/2+5).style("text-anchor","middle").text(X);K(W,H)}R(Z,"byText");function J(X,U,Y,q,z,G,H,W){const{fontSize:F,fontFamily:M,fontWeight:B}=W,O=X.split(g0.lineBreakRegex);for(let A=0;A<O.length;A++){const L=A*F-F*(O.length-1)/2,I=U.append("text").attr("x",Y+z/2).attr("y",q).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",F).style("font-weight",B).style("font-family",M);I.append("tspan").attr("dy",L).text(O[A]).attr("alignment-baseline","mathematical"),K(I,H)}}R(J,"byTspan");function Q(X,U,Y,q,z,G,H,W){const F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",z).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,z,G,H,W),K(B,H)}R(Q,"byFo");function K(X,U){for(let Y in U)if(U.hasOwnProperty(Y))X.attr(Y,U[Y])}return R(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),ZK={drawRect:SV,drawBoundary:mw0,drawC4Shape:gw0,drawRels:uw0,drawImage:Lo,insertArrowHead:dw0,insertArrowEnd:iw0,insertArrowFilledHead:sw0,insertDynamicNumber:rw0,insertArrowCrossHead:nw0,insertDatabaseIcon:pw0,insertComputerIcon:cw0,insertClockIcon:lw0};ZA.yy=wV;I9={},Do=class{static{R(this,"Bounds")}constructor(Z){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,CV(Z.db.getConfig())}setData(Z,J,Q,K){this.nextData.startx=this.data.startx=Z,this.nextData.stopx=this.data.stopx=J,this.nextData.starty=this.data.starty=Q,this.nextData.stopy=this.data.stopy=K}updateVal(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])}insert(Z){this.nextData.cnt=this.nextData.cnt+1;let J=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+Z.margin:this.nextData.stopx+Z.margin*2,Q=J+Z.width,K=this.nextData.starty+Z.margin*2,X=K+Z.height;if(J>=this.data.widthLimit||Q>=this.data.widthLimit||this.nextData.cnt>Io)J=this.nextData.startx+Z.margin+I9.nextLinePaddingX,K=this.nextData.stopy+Z.margin*2,this.nextData.stopx=Q=J+Z.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=X=K+Z.height,this.nextData.cnt=1;Z.x=J,Z.y=K,this.updateVal(this.data,"startx",J,Math.min),this.updateVal(this.data,"starty",K,Math.min),this.updateVal(this.data,"stopx",Q,Math.max),this.updateVal(this.data,"stopy",X,Math.max),this.updateVal(this.nextData,"startx",J,Math.min),this.updateVal(this.nextData,"starty",K,Math.min),this.updateVal(this.nextData,"stopx",Q,Math.max),this.updateVal(this.nextData,"stopy",X,Math.max)}init(Z){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},CV(Z.db.getConfig())}bumpLastMargin(Z){this.data.stopx+=Z,this.data.stopy+=Z}},CV=R(function(Z){if(TZ(I9,Z),Z.fontFamily)I9.personFontFamily=I9.systemFontFamily=I9.messageFontFamily=Z.fontFamily;if(Z.fontSize)I9.personFontSize=I9.systemFontSize=I9.messageFontSize=Z.fontSize;if(Z.fontWeight)I9.personFontWeight=I9.systemFontWeight=I9.messageFontWeight=Z.fontWeight},"setConf"),OW=R((Z,J)=>{return{fontFamily:Z[J+"FontFamily"],fontSize:Z[J+"FontSize"],fontWeight:Z[J+"FontWeight"]}},"c4ShapeFont"),eO=R((Z)=>{return{fontFamily:Z.boundaryFontFamily,fontSize:Z.boundaryFontSize,fontWeight:Z.boundaryFontWeight}},"boundaryFont"),ow0=R((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont");R(DQ,"calcC4ShapeTextWH");No=R(function(Z,J,Q){J.x=Q.data.startx,J.y=Q.data.starty,J.width=Q.data.stopx-Q.data.startx,J.height=Q.data.stopy-Q.data.starty,J.label.y=I9.c4ShapeMargin-35;let K=J.wrap&&I9.wrap,X=eO(I9);X.fontSize=X.fontSize+2,X.fontWeight="bold";let U=FQ(J.label.text,X);DQ("label",J,K,X,U),ZK.drawBoundary(Z,J,I9)},"drawBoundary"),Eo=R(function(Z,J,Q,K){let X=0;for(let U of K){X=0;const Y=Q[U];let q=OW(I9,Y.typeC4Shape.text);switch(q.fontSize=q.fontSize-2,Y.typeC4Shape.width=FQ("\xAB"+Y.typeC4Shape.text+"\xBB",q),Y.typeC4Shape.height=q.fontSize+2,Y.typeC4Shape.Y=I9.c4ShapePadding,X=Y.typeC4Shape.Y+Y.typeC4Shape.height-4,Y.image={width:0,height:0,Y:0},Y.typeC4Shape.text){case"person":case"external_person":Y.image.width=48,Y.image.height=48,Y.image.Y=X,X=Y.image.Y+Y.image.height;break}if(Y.sprite)Y.image.width=48,Y.image.height=48,Y.image.Y=X,X=Y.image.Y+Y.image.height;let z=Y.wrap&&I9.wrap,G=I9.width-I9.c4ShapePadding*2,H=OW(I9,Y.typeC4Shape.text);if(H.fontSize=H.fontSize+2,H.fontWeight="bold",DQ("label",Y,z,H,G),Y.label.Y=X+8,X=Y.label.Y+Y.label.height,Y.type&&Y.type.text!==""){Y.type.text="["+Y.type.text+"]";let M=OW(I9,Y.typeC4Shape.text);DQ("type",Y,z,M,G),Y.type.Y=X+5,X=Y.type.Y+Y.type.height}else if(Y.techn&&Y.techn.text!==""){Y.techn.text="["+Y.techn.text+"]";let M=OW(I9,Y.techn.text);DQ("techn",Y,z,M,G),Y.techn.Y=X+5,X=Y.techn.Y+Y.techn.height}let W=X,F=Y.label.width;if(Y.descr&&Y.descr.text!==""){let M=OW(I9,Y.typeC4Shape.text);DQ("descr",Y,z,M,G),Y.descr.Y=X+20,X=Y.descr.Y+Y.descr.height,F=Math.max(Y.label.width,Y.descr.width),W=X-Y.descr.textLines*5}F=F+I9.c4ShapePadding,Y.width=Math.max(Y.width||I9.width,F,I9.width),Y.height=Math.max(Y.height||I9.height,W,I9.height),Y.margin=Y.margin||I9.c4ShapeMargin,Z.insert(Y),ZK.drawC4Shape(J,Y,I9)}Z.bumpLastMargin(I9.c4ShapeMargin)},"drawC4ShapeArray"),IQ=class{static{R(this,"Point")}constructor(Z,J){this.x=Z,this.y=J}},Fo=R(function(Z,J){let{x:Q,y:K}=Z,X=J.x,U=J.y,Y=Q+Z.width/2,q=K+Z.height/2,z=Math.abs(Q-X),G=Math.abs(K-U),H=G/z,W=Z.height/Z.width,F=null;if(K==U&&Q<X)F=new IQ(Q+Z.width,q);else if(K==U&&Q>X)F=new IQ(Q,q);else if(Q==X&&K<U)F=new IQ(Y,K+Z.height);else if(Q==X&&K>U)F=new IQ(Y,K);if(Q>X&&K<U)if(W>=H)F=new IQ(Q,q+H*Z.width/2);else F=new IQ(Y-z/G*Z.height/2,K+Z.height);else if(Q<X&&K<U)if(W>=H)F=new IQ(Q+Z.width,q+H*Z.width/2);else F=new IQ(Y+z/G*Z.height/2,K+Z.height);else if(Q<X&&K>U)if(W>=H)F=new IQ(Q+Z.width,q-H*Z.width/2);else F=new IQ(Y+Z.height/2*z/G,K);else if(Q>X&&K>U)if(W>=H)F=new IQ(Q,q-Z.width/2*H);else F=new IQ(Y-Z.height/2*z/G,K);return F},"getIntersectPoint"),tw0=R(function(Z,J){let Q={x:0,y:0};Q.x=J.x+J.width/2,Q.y=J.y+J.height/2;let K=Fo(Z,Q);Q.x=Z.x+Z.width/2,Q.y=Z.y+Z.height/2;let X=Fo(J,Q);return{startPoint:K,endPoint:X}},"getIntersectPoints"),ew0=R(function(Z,J,Q,K){let X=0;for(let U of J){X=X+1;let Y=U.wrap&&I9.wrap,q=ow0(I9);if(K.db.getC4Type()==="C4Dynamic")U.label.text=X+": "+U.label.text;let G=FQ(U.label.text,q);if(DQ("label",U,Y,q,G),U.techn&&U.techn.text!=="")G=FQ(U.techn.text,q),DQ("techn",U,Y,q,G);if(U.descr&&U.descr.text!=="")G=FQ(U.descr.text,q),DQ("descr",U,Y,q,G);let H=Q(U.from),W=Q(U.to),F=tw0(H,W);U.startPoint=F.startPoint,U.endPoint=F.endPoint}ZK.drawRels(Z,J,I9)},"drawRels");R(TV,"drawInsideBoundary");Zj0=R(function(Z,J,Q,K){I9=W0().c4;const X=W0().securityLevel;let U;if(X==="sandbox")U=$0("#i"+J);const Y=X==="sandbox"?$0(U.nodes()[0].contentDocument.body):$0("body");let q=K.db;K.db.setWrap(I9.wrap),Io=q.getC4ShapeInRow(),jV=q.getC4BoundaryInRow(),p.debug(`C:${JSON.stringify(I9,null,2)}`);const z=X==="sandbox"?Y.select(`[id="${J}"]`):$0(`[id="${J}"]`);ZK.insertComputerIcon(z),ZK.insertDatabaseIcon(z),ZK.insertClockIcon(z);let G=new Do(K);G.setData(I9.diagramMarginX,I9.diagramMarginX,I9.diagramMarginY,I9.diagramMarginY),G.data.widthLimit=screen.availWidth,KA=I9.diagramMarginX,XA=I9.diagramMarginY;const H=K.db.getTitle();let W=K.db.getBoundarys("");TV(z,"",G,W,K),ZK.insertArrowHead(z),ZK.insertArrowEnd(z),ZK.insertArrowCrossHead(z),ZK.insertArrowFilledHead(z),ew0(z,K.db.getRels(),K.db.getC4Shape,K),G.data.stopx=KA,G.data.stopy=XA;const F=G.data;let B=F.stopy-F.starty+2*I9.diagramMarginY;const A=F.stopx-F.startx+2*I9.diagramMarginX;if(H)z.append("text").text(H).attr("x",(F.stopx-F.startx)/2-4*I9.diagramMarginX).attr("y",F.starty+I9.diagramMarginY);R8(z,B,A,I9.useMaxWidth);const L=H?60:0;z.attr("viewBox",F.startx-I9.diagramMarginX+" -"+(I9.diagramMarginY+L)+" "+A+" "+(B+L)),p.debug("models:",F)},"draw"),Mo={drawPersonOrSystemArray:Eo,drawBoundary:No,setConf:CV,draw:Zj0},Jj0=R((Z)=>`.person {
    stroke: ${Z.personBorder};
    fill: ${Z.personBkg};
  }
`,"getStyles"),Qj0=Jj0,Kj0={parser:Hw0,db:wV,renderer:Mo,styles:Qj0,init:R(({c4:Z,wrap:J})=>{Mo.setConf(Z),wV.setWrap(J)},"init")}});var UA,YA,Xj0,Uj0;var LW=_(()=>{X8();i9();UA=R((Z,J)=>{let Q;if(J==="sandbox")Q=$0("#i"+Z);return(J==="sandbox"?$0(Q.nodes()[0].contentDocument.body):$0("body")).select(`[id="${Z}"]`)},"getDiagramElement"),YA=R((Z,J,Q,K)=>{Z.attr("class",Q);const{width:X,height:U,x:Y,y:q}=Xj0(Z,J);R8(Z,U,X,K);const z=Uj0(Y,q,X,U,J);Z.attr("viewBox",z),p.debug(`viewBox configured: ${z} with padding: ${J}`)},"setupViewPortForSVG"),Xj0=R((Z,J)=>{const Q=Z.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:Q.width+J*2,height:Q.height+J*2,x:Q.x,y:Q.y}},"calculateDimensionsWithPadding"),Uj0=R((Z,J,Q,K,X)=>{return`${Z-X} ${J-X} ${Q} ${K}`},"createViewBox")});function fV(Z,J){if(J)Z.attr("style",J)}function To(Z){const J=$0(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),Q=J.append("xhtml:div"),K=Z.label,X=Z.isNode?"nodeLabel":"edgeLabel",U=Q.append("span");return U.html(K),fV(U,Z.labelStyle),U.attr("class",X),fV(Q,Z.labelStyle),Q.style("display","inline-block"),Q.style("white-space","nowrap"),Q.attr("xmlns","http://www.w3.org/1999/xhtml"),J.node()}function tQ(Z,J,Q,K){return Z.insert("polygon",":first-child").attr("points",K.map(function(X){return X.x+","+X.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-J/2+","+Q/2+")")}function fo(Z,J){return Z.intersect(J)}function vo(Z,J,Q,K){var{x:X,y:U}=Z,Y=X-K.x,q=U-K.y,z=Math.sqrt(J*J*q*q+Q*Q*Y*Y),G=Math.abs(J*Q*Y/z);if(K.x<X)G=-G;var H=Math.abs(J*Q*q/z);if(K.y<U)H=-H;return{x:X+G,y:U+H}}function $o(Z,J,Q){return ko(Z,J,J,Q)}function _o(Z,J,Q,K){var X,U,Y,q,z,G,H,W,F,M,B,O,A,L,I;if(X=J.y-Z.y,Y=Z.x-J.x,z=J.x*Z.y-Z.x*J.y,F=X*Q.x+Y*Q.y+z,M=X*K.x+Y*K.y+z,F!==0&&M!==0&&vV(F,M))return;if(U=K.y-Q.y,q=Q.x-K.x,G=K.x*Q.y-Q.x*K.y,H=U*Z.x+q*Z.y+G,W=U*J.x+q*J.y+G,H!==0&&W!==0&&vV(H,W))return;if(B=X*q-U*Y,B===0)return;return O=Math.abs(B/2),A=Y*G-q*z,L=A<0?(A-O)/B:(A+O)/B,A=U*z-X*G,I=A<0?(A-O)/B:(A+O)/B,{x:L,y:I}}function vV(Z,J){return Z*J>0}function bo(Z,J,Q){var{x:K,y:X}=Z,U=[],Y=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY;if(typeof J.forEach==="function")J.forEach(function(B){Y=Math.min(Y,B.x),q=Math.min(q,B.y)});else Y=Math.min(Y,J.x),q=Math.min(q,J.y);var z=K-Z.width/2-Y,G=X-Z.height/2-q;for(var H=0;H<J.length;H++){var W=J[H],F=J[H<J.length-1?H+1:0],M=Wj0(Z,Q,{x:z+W.x,y:G+W.y},{x:z+F.x,y:G+F.y});if(M)U.push(M)}if(!U.length)return Z;if(U.length>1)U.sort(function(B,O){var A=B.x-Q.x,L=B.y-Q.y,I=Math.sqrt(A*A+L*L),D=O.x-Q.x,w=O.y-Q.y,N=Math.sqrt(D*D+w*w);return I<N?-1:I===N?0:1});return U[0]}function qA(Z,J,Q,K){const X=[],U=R((q)=>{X.push(q,0)},"addBorder"),Y=R((q)=>{X.push(0,q)},"skipBorder");if(J.includes("t"))p.debug("add top border"),U(Q);else Y(Q);if(J.includes("r"))p.debug("add right border"),U(K);else Y(K);if(J.includes("b"))p.debug("add bottom border"),U(Q);else Y(Q);if(J.includes("l"))p.debug("add left border"),U(K);else Y(K);Z.attr("stroke-dasharray",X.join(" "))}var Yj0,B7,$J,EZ,qj0,zj0,Gj0,ko,Hj0,Wj0,Fj0,Mj0,b1,wZ,Bj0,Rj0,Co,c6,Po,Oj0,Aj0,Lj0,Ij0,Dj0,Nj0,Ej0,wj0,jj0,Cj0,Pj0,Vj0,Sj0,Tj0,fj0,vj0,kj0,$j0,_j0,Vo,bj0,xj0,So,_1,IW,xo,ho,DW;var UY=_(()=>{x6();FZ();X8();i9();i9();i9();R(fV,"applyStyle");R(To,"addHtmlLabel");Yj0=R((Z,J,Q,K)=>{let X=Z||"";if(typeof X==="object")X=X[0];if(b8(W0().flowchart.htmlLabels)){X=X.replace(/\\n|\n/g,"<br />"),p.debug("vertexText"+X);const U={isNode:K,label:LR(rQ(X)),labelStyle:J.replace("fill:","color:")};return To(U)}else{const U=document.createElementNS("http://www.w3.org/2000/svg","text");U.setAttribute("style",J.replace("color:","fill:"));let Y=[];if(typeof X==="string")Y=X.split(/\\n|\n|<br\s*\/?>/gi);else if(Array.isArray(X))Y=X;else Y=[];for(let q of Y){const z=document.createElementNS("http://www.w3.org/2000/svg","tspan");if(z.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),z.setAttribute("dy","1em"),z.setAttribute("x","0"),Q)z.setAttribute("class","title-row");else z.setAttribute("class","row");z.textContent=q.trim(),U.appendChild(z)}return U}},"createLabel"),B7=Yj0,$J=R(async(Z,J,Q,K)=>{const X=W0();let U;const Y=J.useHtmlLabels||b8(X.flowchart.htmlLabels);if(!Q)U="node default";else U=Q;const q=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),z=q.insert("g").attr("class","label").attr("style",J.labelStyle);let G;if(J.labelText===void 0)G="";else G=typeof J.labelText==="string"?J.labelText:J.labelText[0];const H=z.node();let W;if(J.labelType==="markdown")W=MQ(z,u8(rQ(G),X),{useHtmlLabels:Y,width:J.width||X.flowchart.wrappingWidth,classes:"markdown-node-label"},X);else W=H.appendChild(B7(u8(rQ(G),X),J.labelStyle,!1,K));let F=W.getBBox();const M=J.padding/2;if(b8(X.flowchart.htmlLabels)){const B=W.children[0],O=$0(W),A=B.getElementsByTagName("img");if(A){const L=G.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...A].map((I)=>new Promise((D)=>{function w(){if(I.style.display="flex",I.style.flexDirection="column",L){const N=X.fontSize?X.fontSize:window.getComputedStyle(document.body).fontSize,j=parseInt(N,10)*5+"px";I.style.minWidth=j,I.style.maxWidth=j}else I.style.width="100%";D(I)}R(w,"setupImage"),setTimeout(()=>{if(I.complete)w()}),I.addEventListener("error",w),I.addEventListener("load",w)})))}F=B.getBoundingClientRect(),O.attr("width",F.width),O.attr("height",F.height)}if(Y)z.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");else z.attr("transform","translate(0, "+-F.height/2+")");if(J.centerLabel)z.attr("transform","translate("+-F.width/2+", "+-F.height/2+")");return z.insert("rect",":first-child"),{shapeSvg:q,bbox:F,halfPadding:M,label:z}},"labelHelper"),EZ=R((Z,J)=>{const Q=J.node().getBBox();Z.width=Q.width,Z.height=Q.height},"updateNodeBounds");R(tQ,"insertPolygonShape");qj0=R((Z)=>{const J=new Set;for(let Q of Z)switch(Q){case"x":J.add("right"),J.add("left");break;case"y":J.add("up"),J.add("down");break;default:J.add(Q);break}return J},"expandAndDeduplicateDirections"),zj0=R((Z,J,Q)=>{const K=qj0(Z),U=J.height+2*Q.padding,Y=U/2,q=J.width+2*Y+Q.padding,z=Q.padding/2;if(K.has("right")&&K.has("left")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:Y,y:0},{x:q/2,y:2*z},{x:q-Y,y:0},{x:q,y:0},{x:q,y:-U/3},{x:q+2*z,y:-U/2},{x:q,y:-2*U/3},{x:q,y:-U},{x:q-Y,y:-U},{x:q/2,y:-U-2*z},{x:Y,y:-U},{x:0,y:-U},{x:0,y:-2*U/3},{x:-2*z,y:-U/2},{x:0,y:-U/3}];if(K.has("right")&&K.has("left")&&K.has("up"))return[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("right")&&K.has("left")&&K.has("down"))return[{x:0,y:0},{x:Y,y:-U},{x:q-Y,y:-U},{x:q,y:0}];if(K.has("right")&&K.has("up")&&K.has("down"))return[{x:0,y:0},{x:q,y:-Y},{x:q,y:-U+Y},{x:0,y:-U}];if(K.has("left")&&K.has("up")&&K.has("down"))return[{x:q,y:0},{x:0,y:-Y},{x:0,y:-U+Y},{x:q,y:-U}];if(K.has("right")&&K.has("left"))return[{x:Y,y:0},{x:Y,y:-z},{x:q-Y,y:-z},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:q-Y,y:-U+z},{x:Y,y:-U+z},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("up")&&K.has("down"))return[{x:q/2,y:0},{x:0,y:-z},{x:Y,y:-z},{x:Y,y:-U+z},{x:0,y:-U+z},{x:q/2,y:-U},{x:q,y:-U+z},{x:q-Y,y:-U+z},{x:q-Y,y:-z},{x:q,y:-z}];if(K.has("right")&&K.has("up"))return[{x:0,y:0},{x:q,y:-Y},{x:0,y:-U}];if(K.has("right")&&K.has("down"))return[{x:0,y:0},{x:q,y:0},{x:0,y:-U}];if(K.has("left")&&K.has("up"))return[{x:q,y:0},{x:0,y:-Y},{x:q,y:-U}];if(K.has("left")&&K.has("down"))return[{x:q,y:0},{x:0,y:0},{x:q,y:-U}];if(K.has("right"))return[{x:Y,y:-z},{x:Y,y:-z},{x:q-Y,y:-z},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:q-Y,y:-U+z},{x:Y,y:-U+z},{x:Y,y:-U+z}];if(K.has("left"))return[{x:Y,y:0},{x:Y,y:-z},{x:q-Y,y:-z},{x:q-Y,y:-U+z},{x:Y,y:-U+z},{x:Y,y:-U},{x:0,y:-U/2}];if(K.has("up"))return[{x:Y,y:-z},{x:Y,y:-U+z},{x:0,y:-U+z},{x:q/2,y:-U},{x:q,y:-U+z},{x:q-Y,y:-U+z},{x:q-Y,y:-z}];if(K.has("down"))return[{x:q/2,y:0},{x:0,y:-z},{x:Y,y:-z},{x:Y,y:-U+z},{x:q-Y,y:-U+z},{x:q-Y,y:-z},{x:q,y:-z}];return[{x:0,y:0}]},"getArrowPoints");R(fo,"intersectNode");Gj0=fo;R(vo,"intersectEllipse");ko=vo;R($o,"intersectCircle");Hj0=$o;R(_o,"intersectLine");R(vV,"sameSign");Wj0=_o,Fj0=bo;R(bo,"intersectPolygon");Mj0=R((Z,J)=>{var{x:Q,y:K}=Z,X=J.x-Q,U=J.y-K,Y=Z.width/2,q=Z.height/2,z,G;if(Math.abs(U)*Y>Math.abs(X)*q){if(U<0)q=-q;z=U===0?0:q*X/U,G=q}else{if(X<0)Y=-Y;z=Y,G=X===0?0:Y*U/X}return{x:Q+z,y:K+G}},"intersectRect"),b1=Mj0,wZ={node:Gj0,circle:Hj0,ellipse:ko,polygon:Fj0,rect:b1},Bj0=R(async(Z,J)=>{if(!(J.useHtmlLabels||W0().flowchart.htmlLabels))J.centerLabel=!0;const{shapeSvg:K,bbox:X,halfPadding:U}=await $J(Z,J,"node "+J.classes,!0);p.info("Classes = ",J.classes);const Y=K.insert("rect",":first-child");return Y.attr("rx",J.rx).attr("ry",J.ry).attr("x",-X.width/2-U).attr("y",-X.height/2-U).attr("width",X.width+J.padding).attr("height",X.height+J.padding),EZ(J,Y),J.intersect=function(q){return wZ.rect(J,q)},K},"note"),Rj0=Bj0,Co=R((Z)=>{if(Z)return" "+Z;return""},"formatClass"),c6=R((Z,J)=>{return`${J?J:"node default"}${Co(Z.classes)} ${Co(Z.class)}`},"getClassesFromNode"),Po=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=X+U,q=[{x:Y/2,y:0},{x:Y,y:-Y/2},{x:Y/2,y:-Y},{x:0,y:-Y/2}];p.info("Question main (Circle)");const z=tQ(Q,Y,Y,q);return z.attr("style",J.style),EZ(J,z),J.intersect=function(G){return p.warn("Intersect called"),wZ.polygon(J,q,G)},Q},"question"),Oj0=R((Z,J)=>{const Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),X=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}];return Q.insert("polygon",":first-child").attr("points",X.map(function(Y){return Y.x+","+Y.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),J.width=28,J.height=28,J.intersect=function(Y){return wZ.circle(J,14,Y)},Q},"choice"),Aj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),U=K.height+J.padding,Y=U/4,q=K.width+2*Y+J.padding,z=[{x:Y,y:0},{x:q-Y,y:0},{x:q,y:-U/2},{x:q-Y,y:-U},{x:Y,y:-U},{x:0,y:-U/2}],G=tQ(Q,q,U,z);return G.attr("style",J.style),EZ(J,G),J.intersect=function(H){return wZ.polygon(J,z,H)},Q},"hexagon"),Lj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,void 0,!0),U=K.height+2*J.padding,Y=U/2,q=K.width+2*Y+J.padding,z=zj0(J.directions,K,J),G=tQ(Q,q,U,z);return G.attr("style",J.style),EZ(J,G),J.intersect=function(H){return wZ.polygon(J,z,H)},Q},"block_arrow"),Ij0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-U/2,y:0},{x:X,y:0},{x:X,y:-U},{x:-U/2,y:-U},{x:0,y:-U/2}];return tQ(Q,X,U,Y).attr("style",J.style),J.width=X+U,J.height=U,J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"rect_left_inv_arrow"),Dj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-2*U/6,y:0},{x:X-U/6,y:0},{x:X+2*U/6,y:-U},{x:U/6,y:-U}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"lean_right"),Nj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:2*U/6,y:0},{x:X+U/6,y:0},{x:X-2*U/6,y:-U},{x:-U/6,y:-U}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"lean_left"),Ej0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:-2*U/6,y:0},{x:X+2*U/6,y:0},{x:X-U/6,y:-U},{x:U/6,y:-U}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"trapezoid"),wj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:U/6,y:0},{x:X-U/6,y:0},{x:X+2*U/6,y:-U},{x:-2*U/6,y:-U}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"inv_trapezoid"),jj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:0,y:0},{x:X+U/2,y:0},{x:X,y:-U/2},{x:X+U/2,y:-U},{x:0,y:-U}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"rect_right_inv_arrow"),Cj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=X/2,Y=U/(2.5+X/50),q=K.height+Y+J.padding,z="M 0,"+Y+" a "+U+","+Y+" 0,0,0 "+X+" 0 a "+U+","+Y+" 0,0,0 "+-X+" 0 l 0,"+q+" a "+U+","+Y+" 0,0,0 "+X+" 0 l 0,"+-q,G=Q.attr("label-offset-y",Y).insert("path",":first-child").attr("style",J.style).attr("d",z).attr("transform","translate("+-X/2+","+-(q/2+Y)+")");return EZ(J,G),J.intersect=function(H){const W=wZ.rect(J,H),F=W.x-J.x;if(U!=0&&(Math.abs(F)<J.width/2||Math.abs(F)==J.width/2&&Math.abs(W.y-J.y)>J.height/2-Y)){let M=Y*Y*(1-F*F/(U*U));if(M!=0)M=Math.sqrt(M);if(M=Y-M,H.y-J.y>0)M=-M;W.y+=M}return W},Q},"cylinder"),Pj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K,halfPadding:X}=await $J(Z,J,"node "+J.classes+" "+J.class,!0),U=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,z=J.positioned?-Y/2:-K.width/2-X,G=J.positioned?-q/2:-K.height/2-X;if(U.attr("class","basic label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",z).attr("y",G).attr("width",Y).attr("height",q),J.props){const H=new Set(Object.keys(J.props));if(J.props.borders)qA(U,J.props.borders,Y,q),H.delete("borders");H.forEach((W)=>{p.warn(`Unknown node property ${W}`)})}return EZ(J,U),J.intersect=function(H){return wZ.rect(J,H)},Q},"rect"),Vj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K,halfPadding:X}=await $J(Z,J,"node "+J.classes,!0),U=Q.insert("rect",":first-child"),Y=J.positioned?J.width:K.width+J.padding,q=J.positioned?J.height:K.height+J.padding,z=J.positioned?-Y/2:-K.width/2-X,G=J.positioned?-q/2:-K.height/2-X;if(U.attr("class","basic cluster composite label-container").attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",z).attr("y",G).attr("width",Y).attr("height",q),J.props){const H=new Set(Object.keys(J.props));if(J.props.borders)qA(U,J.props.borders,Y,q),H.delete("borders");H.forEach((W)=>{p.warn(`Unknown node property ${W}`)})}return EZ(J,U),J.intersect=function(H){return wZ.rect(J,H)},Q},"composite"),Sj0=R(async(Z,J)=>{const{shapeSvg:Q}=await $J(Z,J,"label",!0);p.trace("Classes = ",J.class);const K=Q.insert("rect",":first-child"),X=0,U=0;if(K.attr("width",X).attr("height",U),Q.attr("class","label edgeLabel"),J.props){const Y=new Set(Object.keys(J.props));if(J.props.borders)qA(K,J.props.borders,X,U),Y.delete("borders");Y.forEach((q)=>{p.warn(`Unknown node property ${q}`)})}return EZ(J,K),J.intersect=function(Y){return wZ.rect(J,Y)},Q},"labelRect");R(qA,"applyNodePropertyBorders");Tj0=R((Z,J)=>{let Q;if(!J.classes)Q="node default";else Q="node "+J.classes;const K=Z.insert("g").attr("class",Q).attr("id",J.domId||J.id),X=K.insert("rect",":first-child"),U=K.insert("line"),Y=K.insert("g").attr("class","label"),q=J.labelText.flat?J.labelText.flat():J.labelText;let z="";if(typeof q==="object")z=q[0];else z=q;p.info("Label text abc79",z,q,typeof q==="object");const G=Y.node().appendChild(B7(z,J.labelStyle,!0,!0));let H={width:0,height:0};if(b8(W0().flowchart.htmlLabels)){const O=G.children[0],A=$0(G);H=O.getBoundingClientRect(),A.attr("width",H.width),A.attr("height",H.height)}p.info("Text 2",q);const W=q.slice(1,q.length);let F=G.getBBox();const M=Y.node().appendChild(B7(W.join?W.join("<br/>"):W,J.labelStyle,!0,!0));if(b8(W0().flowchart.htmlLabels)){const O=M.children[0],A=$0(M);H=O.getBoundingClientRect(),A.attr("width",H.width),A.attr("height",H.height)}const B=J.padding/2;return $0(M).attr("transform","translate( "+(H.width>F.width?0:(F.width-H.width)/2)+", "+(F.height+B+5)+")"),$0(G).attr("transform","translate( "+(H.width<F.width?0:-(F.width-H.width)/2)+", 0)"),H=Y.node().getBBox(),Y.attr("transform","translate("+-H.width/2+", "+(-H.height/2-B+3)+")"),X.attr("class","outer title-state").attr("x",-H.width/2-B).attr("y",-H.height/2-B).attr("width",H.width+J.padding).attr("height",H.height+J.padding),U.attr("class","divider").attr("x1",-H.width/2-B).attr("x2",H.width/2+B).attr("y1",-H.height/2-B+F.height+B).attr("y2",-H.height/2-B+F.height+B),EZ(J,X),J.intersect=function(O){return wZ.rect(J,O)},K},"rectWithTitle"),fj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.height+J.padding,U=K.width+X/4+J.padding,Y=Q.insert("rect",":first-child").attr("style",J.style).attr("rx",X/2).attr("ry",X/2).attr("x",-U/2).attr("y",-X/2).attr("width",U).attr("height",X);return EZ(J,Y),J.intersect=function(q){return wZ.rect(J,q)},Q},"stadium"),vj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K,halfPadding:X}=await $J(Z,J,c6(J,void 0),!0),U=Q.insert("circle",":first-child");return U.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X).attr("width",K.width+J.padding).attr("height",K.height+J.padding),p.info("Circle main"),EZ(J,U),J.intersect=function(Y){return p.info("Circle intersect",J,K.width/2+X,Y),wZ.circle(J,K.width/2+X,Y)},Q},"circle"),kj0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K,halfPadding:X}=await $J(Z,J,c6(J,void 0),!0),Y=Q.insert("g",":first-child"),q=Y.insert("circle"),z=Y.insert("circle");return Y.attr("class",J.class),q.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X+5).attr("width",K.width+J.padding+10).attr("height",K.height+J.padding+10),z.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("r",K.width/2+X).attr("width",K.width+J.padding).attr("height",K.height+J.padding),p.info("DoubleCircle main"),EZ(J,q),J.intersect=function(G){return p.info("DoubleCircle intersect",J,K.width/2+X+5,G),wZ.circle(J,K.width/2+X+5,G)},Q},"doublecircle"),$j0=R(async(Z,J)=>{const{shapeSvg:Q,bbox:K}=await $J(Z,J,c6(J,void 0),!0),X=K.width+J.padding,U=K.height+J.padding,Y=[{x:0,y:0},{x:X,y:0},{x:X,y:-U},{x:0,y:-U},{x:0,y:0},{x:-8,y:0},{x:X+8,y:0},{x:X+8,y:-U},{x:-8,y:-U},{x:-8,y:0}],q=tQ(Q,X,U,Y);return q.attr("style",J.style),EZ(J,q),J.intersect=function(z){return wZ.polygon(J,Y,z)},Q},"subroutine"),_j0=R((Z,J)=>{const Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child");return K.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),EZ(J,K),J.intersect=function(X){return wZ.circle(J,7,X)},Q},"start"),Vo=R((Z,J,Q)=>{const K=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id);let X=70,U=10;if(Q==="LR")X=10,U=70;const Y=K.append("rect").attr("x",-1*X/2).attr("y",-1*U/2).attr("width",X).attr("height",U).attr("class","fork-join");return EZ(J,Y),J.height=J.height+J.padding/2,J.width=J.width+J.padding/2,J.intersect=function(q){return wZ.rect(J,q)},K},"forkJoin"),bj0=R((Z,J)=>{const Q=Z.insert("g").attr("class","node default").attr("id",J.domId||J.id),K=Q.insert("circle",":first-child"),X=Q.insert("circle",":first-child");return X.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),K.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),EZ(J,X),J.intersect=function(U){return wZ.circle(J,7,U)},Q},"end"),xj0=R((Z,J)=>{const Q=J.padding/2;let U;if(!J.classes)U="node default";else U="node "+J.classes;const Y=Z.insert("g").attr("class",U).attr("id",J.domId||J.id),q=Y.insert("rect",":first-child"),z=Y.insert("line"),G=Y.insert("line");let H=0,W=4;const F=Y.insert("g").attr("class","label");let M=0;const B=J.classData.annotations?.[0],O=J.classData.annotations[0]?"\xAB"+J.classData.annotations[0]+"\xBB":"",A=F.node().appendChild(B7(O,J.labelStyle,!0,!0));let L=A.getBBox();if(b8(W0().flowchart.htmlLabels)){const P=A.children[0],C=$0(A);L=P.getBoundingClientRect(),C.attr("width",L.width),C.attr("height",L.height)}if(J.classData.annotations[0])W+=L.height+4,H+=L.width;let I=J.classData.label;if(J.classData.type!==void 0&&J.classData.type!=="")if(W0().flowchart.htmlLabels)I+="&lt;"+J.classData.type+"&gt;";else I+="<"+J.classData.type+">";const D=F.node().appendChild(B7(I,J.labelStyle,!0,!0));$0(D).attr("class","classTitle");let w=D.getBBox();if(b8(W0().flowchart.htmlLabels)){const P=D.children[0],C=$0(D);w=P.getBoundingClientRect(),C.attr("width",w.width),C.attr("height",w.height)}if(W+=w.height+4,w.width>H)H=w.width;const N=[];J.classData.members.forEach((P)=>{const C=P.getDisplayDetails();let T=C.displayText;if(W0().flowchart.htmlLabels)T=T.replace(/</g,"&lt;").replace(/>/g,"&gt;");const V=F.node().appendChild(B7(T,C.cssStyle?C.cssStyle:J.labelStyle,!0,!0));let S=V.getBBox();if(b8(W0().flowchart.htmlLabels)){const $=V.children[0],f=$0(V);S=$.getBoundingClientRect(),f.attr("width",S.width),f.attr("height",S.height)}if(S.width>H)H=S.width;W+=S.height+4,N.push(V)}),W+=8;const E=[];if(J.classData.methods.forEach((P)=>{const C=P.getDisplayDetails();let T=C.displayText;if(W0().flowchart.htmlLabels)T=T.replace(/</g,"&lt;").replace(/>/g,"&gt;");const V=F.node().appendChild(B7(T,C.cssStyle?C.cssStyle:J.labelStyle,!0,!0));let S=V.getBBox();if(b8(W0().flowchart.htmlLabels)){const $=V.children[0],f=$0(V);S=$.getBoundingClientRect(),f.attr("width",S.width),f.attr("height",S.height)}if(S.width>H)H=S.width;W+=S.height+4,E.push(V)}),W+=8,B){let P=(H-L.width)/2;$0(A).attr("transform","translate( "+(-1*H/2+P)+", "+-1*W/2+")"),M=L.height+4}let j=(H-w.width)/2;return $0(D).attr("transform","translate( "+(-1*H/2+j)+", "+(-1*W/2+M)+")"),M+=w.height+4,z.attr("class","divider").attr("x1",-H/2-Q).attr("x2",H/2+Q).attr("y1",-W/2-Q+8+M).attr("y2",-W/2-Q+8+M),M+=8,N.forEach((P)=>{$0(P).attr("transform","translate( "+-H/2+", "+(-1*W/2+M+4)+")");const C=P?.getBBox();M+=(C?.height??0)+4}),M+=8,G.attr("class","divider").attr("x1",-H/2-Q).attr("x2",H/2+Q).attr("y1",-W/2-Q+8+M).attr("y2",-W/2-Q+8+M),M+=8,E.forEach((P)=>{$0(P).attr("transform","translate( "+-H/2+", "+(-1*W/2+M)+")");const C=P?.getBBox();M+=(C?.height??0)+4}),q.attr("style",J.style).attr("class","outer title-state").attr("x",-H/2-Q).attr("y",-(W/2)-Q).attr("width",H+J.padding).attr("height",W+J.padding),EZ(J,q),J.intersect=function(P){return wZ.rect(J,P)},Y},"class_box"),So={rhombus:Po,composite:Vj0,question:Po,rect:Pj0,labelRect:Sj0,rectWithTitle:Tj0,choice:Oj0,circle:vj0,doublecircle:kj0,stadium:fj0,hexagon:Aj0,block_arrow:Lj0,rect_left_inv_arrow:Ij0,lean_right:Dj0,lean_left:Nj0,trapezoid:Ej0,inv_trapezoid:wj0,rect_right_inv_arrow:jj0,cylinder:Cj0,start:_j0,end:bj0,note:Rj0,subroutine:$j0,fork:Vo,join:Vo,class_box:xj0},_1={},IW=R(async(Z,J,Q)=>{let K,X;if(J.link){let U;if(W0().securityLevel==="sandbox")U="_top";else if(J.linkTarget)U=J.linkTarget||"_blank";K=Z.insert("svg:a").attr("xlink:href",J.link).attr("target",U),X=await So[J.shape](K,J,Q)}else X=await So[J.shape](Z,J,Q),K=X;if(J.tooltip)X.attr("title",J.tooltip);if(J.class)X.attr("class","node default "+J.class);if(_1[J.id]=K,J.haveCallback)_1[J.id].attr("class",_1[J.id].attr("class")+" clickable");return K},"insertNode"),xo=R((Z,J)=>{_1[J.id]=Z},"setNodeElem"),ho=R(()=>{_1={}},"clear"),DW=R((Z)=>{const J=_1[Z.id];p.trace("Transforming node",Z.diff,Z,"translate("+(Z.x-Z.width/2-5)+", "+Z.width/2+")");const Q=8,K=Z.diff||0;if(Z.clusterNode)J.attr("transform","translate("+(Z.x+K-Z.width/2)+", "+(Z.y-Z.height/2-Q)+")");else J.attr("transform","translate("+Z.x+", "+Z.y+")");return K},"positionNode")});var BA={};q8(BA,{diagram:()=>EC0});function GA(Z){let J=[];for(let Q of Z){const K=EW.get(Q);if(K?.styles)J=[...J,...K.styles??[]].map((X)=>X.trim());if(K?.textStyles)J=[...J,...K.textStyles??[]].map((X)=>X.trim())}return J}var hj0="flowchart-",yo=0,x1,kX,q6,EW,z5,bV,xV,zA=0,$V=!0,NQ=!0,HA=!0,WA,FA,MA,yj0,uj0,mj0,gj0,pj0,cj0,lj0,hV,dj0,ij0,sj0,uo,rj0,nj0,mo,go,po,aj0,co,oj0,tj0,ej0,ZC0,JC0,NW=-1,lo,io,QC0,KC0,so,XC0,UC0,YC0,qC0,zC0,ro,no,GC0,HC0,WC0,FC0,MC0,BC0,kV,RC0,OC0,AC0,_V,LC0,IC0,DC0,NC0,EC0;var RA=_(()=>{LW();UY();T1();cU();f4();x6();FZ();X8();i9();i9();_Q();x1=W0(),kX=new Map,q6=[],EW=new Map,z5=[],bV=new Map,xV=new Map,WA=[],FA=R((Z)=>g0.sanitizeText(Z,x1),"sanitizeText"),MA=R(function(Z){for(let J of kX.values())if(J.id===Z)return J.domId;return Z},"lookUpDomId"),yj0=R(function(Z,J,Q,K,X,U,Y={}){if(!Z||Z.trim().length===0)return;let q,z=kX.get(Z);if(z===void 0)z={id:Z,labelType:"text",domId:hj0+Z+"-"+yo,styles:[],classes:[]},kX.set(Z,z);if(yo++,J!==void 0){if(x1=W0(),q=FA(J.text.trim()),z.labelType=J.type,q.startsWith('"')&&q.endsWith('"'))q=q.substring(1,q.length-1);z.text=q}else if(z.text===void 0)z.text=Z;if(Q!==void 0)z.type=Q;if(K!==void 0&&K!==null)K.forEach(function(G){z.styles.push(G)});if(X!==void 0&&X!==null)X.forEach(function(G){z.classes.push(G)});if(U!==void 0)z.dir=U;if(z.props===void 0)z.props=Y;else if(Y!==void 0)Object.assign(z.props,Y)},"addVertex"),uj0=R(function(Z,J,Q){const U={start:Z,end:J,type:void 0,text:"",labelType:"text"};p.info("abc78 Got edge...",U);const Y=Q.text;if(Y!==void 0){if(U.text=FA(Y.text.trim()),U.text.startsWith('"')&&U.text.endsWith('"'))U.text=U.text.substring(1,U.text.length-1);U.labelType=Y.type}if(Q!==void 0)U.type=Q.type,U.stroke=Q.stroke,U.length=Q.length>10?10:Q.length;if(q6.length<(x1.maxEdges??500))p.info("Pushing edge..."),q6.push(U);else throw new Error(`Edge limit exceeded. ${q6.length} edges found, but the limit is ${x1.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),mj0=R(function(Z,J,Q){p.info("addLink",Z,J,Q);for(let K of Z)for(let X of J)uj0(K,X,Q)},"addLink"),gj0=R(function(Z,J){Z.forEach(function(Q){if(Q==="default")q6.defaultInterpolate=J;else q6[Q].interpolate=J})},"updateLinkInterpolate"),pj0=R(function(Z,J){Z.forEach(function(Q){if(typeof Q==="number"&&Q>=q6.length)throw new Error(`The index ${Q} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${q6.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);if(Q==="default")q6.defaultStyle=J;else if(q6[Q].style=J,(q6[Q]?.style?.length??0)>0&&!q6[Q]?.style?.some((K)=>K?.startsWith("fill")))q6[Q]?.style?.push("fill:none")})},"updateLink"),cj0=R(function(Z,J){Z.split(",").forEach(function(Q){let K=EW.get(Q);if(K===void 0)K={id:Q,styles:[],textStyles:[]},EW.set(Q,K);if(J!==void 0&&J!==null)J.forEach(function(X){if(/color/.exec(X)){const U=X.replace("fill","bgFill");K.textStyles.push(U)}K.styles.push(X)})})},"addClass"),lj0=R(function(Z){if(NQ=Z,/.*</.exec(NQ))NQ="RL";if(/.*\^/.exec(NQ))NQ="BT";if(/.*>/.exec(NQ))NQ="LR";if(/.*v/.exec(NQ))NQ="TB";if(NQ==="TD")NQ="TB"},"setDirection"),hV=R(function(Z,J){for(let Q of Z.split(",")){const K=kX.get(Q);if(K)K.classes.push(J);const X=bV.get(Q);if(X)X.classes.push(J)}},"setClass"),dj0=R(function(Z,J){if(J===void 0)return;J=FA(J);for(let Q of Z.split(","))xV.set(HA==="gen-1"?MA(Q):Q,J)},"setTooltip"),ij0=R(function(Z,J,Q){const K=MA(Z);if(W0().securityLevel!=="loose")return;if(J===void 0)return;let X=[];if(typeof Q==="string"){X=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let Y=0;Y<X.length;Y++){let q=X[Y].trim();if(q.startsWith('"')&&q.endsWith('"'))q=q.substr(1,q.length-2);X[Y]=q}}if(X.length===0)X.push(Z);const U=kX.get(Z);if(U)U.haveCallback=!0,WA.push(function(){const Y=document.querySelector(`[id="${K}"]`);if(Y!==null)Y.addEventListener("click",function(){B9.runFunc(J,...X)},!1)})},"setClickFun"),sj0=R(function(Z,J,Q){Z.split(",").forEach(function(K){const X=kX.get(K);if(X!==void 0)X.link=B9.formatUrl(J,x1),X.linkTarget=Q}),hV(Z,"clickable")},"setLink"),uo=R(function(Z){return xV.get(Z)},"getTooltip"),rj0=R(function(Z,J,Q){Z.split(",").forEach(function(K){ij0(K,J,Q)}),hV(Z,"clickable")},"setClickEvent"),nj0=R(function(Z){WA.forEach(function(J){J(Z)})},"bindFunctions"),mo=R(function(){return NQ.trim()},"getDirection"),go=R(function(){return kX},"getVertices"),po=R(function(){return q6},"getEdges"),aj0=R(function(){return EW},"getClasses"),co=R(function(Z){let J=$0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=$0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);$0(Z).select("svg").selectAll("g.node").on("mouseover",function(){const X=$0(this);if(X.attr("title")===null)return;const Y=this?.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(X.attr("title")).style("left",window.scrollX+Y.left+(Y.right-Y.left)/2+"px").style("top",window.scrollY+Y.bottom+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),X.classed("hover",!0)}).on("mouseout",function(){J.transition().duration(500).style("opacity",0),$0(this).classed("hover",!1)})},"setupToolTips");WA.push(co);oj0=R(function(Z="gen-1"){kX=new Map,EW=new Map,q6=[],WA=[co],z5=[],bV=new Map,zA=0,xV=new Map,$V=!0,HA=Z,x1=W0(),O8()},"clear"),tj0=R((Z)=>{HA=Z||"gen-2"},"setGen"),ej0=R(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),ZC0=R(function(Z,J,Q){let K=Z.text.trim(),X=Q.text;if(Z===Q&&/\s/.exec(Q.text))K=void 0;function U(G){const H={boolean:{},number:{},string:{}},W=[];let F;return{nodeList:G.filter(function(B){const O=typeof B;if(B.stmt&&B.stmt==="dir")return F=B.value,!1;if(B.trim()==="")return!1;if(O in H)return H[O].hasOwnProperty(B)?!1:H[O][B]=!0;else return W.includes(B)?!1:W.push(B)}),dir:F}}R(U,"uniq");const{nodeList:Y,dir:q}=U(J.flat());if(HA==="gen-1")for(let G=0;G<Y.length;G++)Y[G]=MA(Y[G]);K=K??"subGraph"+zA,X=X||"",X=FA(X),zA=zA+1;const z={id:K,nodes:Y,title:X.trim(),classes:[],dir:q,labelType:Q.type};return p.info("Adding",z.id,z.nodes,z.dir),z.nodes=no(z,z5).nodes,z5.push(z),bV.set(K,z),K},"addSubGraph"),JC0=R(function(Z){for(let[J,Q]of z5.entries())if(Q.id===Z)return J;return-1},"getPosForId"),lo=[],io=R(function(Z,J){const Q=z5[J].nodes;if(NW=NW+1,NW>2000)return{result:!1,count:0};if(lo[NW]=J,z5[J].id===Z)return{result:!0,count:0};let K=0,X=1;while(K<Q.length){const U=JC0(Q[K]);if(U>=0){const Y=io(Z,U);if(Y.result)return{result:!0,count:X+Y.count};else X=X+Y.count}K=K+1}return{result:!1,count:X}},"indexNodes2"),QC0=R(function(Z){return lo[Z]},"getDepthFirstPos"),KC0=R(function(){if(NW=-1,z5.length>0)io("none",z5.length-1)},"indexNodes"),so=R(function(){return z5},"getSubGraphs"),XC0=R(()=>{if($V)return $V=!1,!0;return!1},"firstGraph"),UC0=R((Z)=>{let J=Z.trim(),Q="arrow_open";switch(J[0]){case"<":Q="arrow_point",J=J.slice(1);break;case"x":Q="arrow_cross",J=J.slice(1);break;case"o":Q="arrow_circle",J=J.slice(1);break}let K="normal";if(J.includes("="))K="thick";if(J.includes("."))K="dotted";return{type:Q,stroke:K}},"destructStartLink"),YC0=R((Z,J)=>{const Q=J.length;let K=0;for(let X=0;X<Q;++X)if(J[X]===Z)++K;return K},"countChar"),qC0=R((Z)=>{const J=Z.trim();let Q=J.slice(0,-1),K="arrow_open";switch(J.slice(-1)){case"x":if(K="arrow_cross",J.startsWith("x"))K="double_"+K,Q=Q.slice(1);break;case">":if(K="arrow_point",J.startsWith("<"))K="double_"+K,Q=Q.slice(1);break;case"o":if(K="arrow_circle",J.startsWith("o"))K="double_"+K,Q=Q.slice(1);break}let X="normal",U=Q.length-1;if(Q.startsWith("="))X="thick";if(Q.startsWith("~"))X="invisible";const Y=YC0(".",Q);if(Y)X="dotted",U=Y;return{type:K,stroke:X,length:U}},"destructEndLink"),zC0=R((Z,J)=>{const Q=qC0(Z);let K;if(J){if(K=UC0(J),K.stroke!==Q.stroke)return{type:"INVALID",stroke:"INVALID"};if(K.type==="arrow_open")K.type=Q.type;else{if(K.type!==Q.type)return{type:"INVALID",stroke:"INVALID"};K.type="double_"+K.type}if(K.type==="double_arrow")K.type="double_arrow_point";return K.length=Q.length,K}return Q},"destructLink"),ro=R((Z,J)=>{for(let Q of Z)if(Q.nodes.includes(J))return!0;return!1},"exists"),no=R((Z,J)=>{const Q=[];return Z.nodes.forEach((K,X)=>{if(!ro(J,K))Q.push(Z.nodes[X])}),{nodes:Q}},"makeUniq"),GC0={firstGraph:XC0},HC0=R((Z)=>{if(Z.type==="square")return"squareRect";if(Z.type==="round")return"roundedRect";return Z.type??"squareRect"},"getTypeFromVertex"),WC0=R((Z,J)=>Z.find((Q)=>Q.id===J),"findNode"),FC0=R((Z)=>{let J="none",Q="arrow_point";switch(Z){case"arrow_point":case"arrow_circle":case"arrow_cross":Q=Z;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":J=Z.replace("double_",""),Q=J;break}return{arrowTypeStart:J,arrowTypeEnd:Q}},"destructEdgeType"),MC0=R((Z,J,Q,K,X,U)=>{const Y=Q.get(Z.id),q=K.get(Z.id)??!1,z=WC0(J,Z.id);if(z)z.cssStyles=Z.styles,z.cssCompiledStyles=GA(Z.classes),z.cssClasses=Z.classes.join(" ");else J.push({id:Z.id,label:Z.text,labelStyle:"",parentId:Y,padding:X.flowchart?.padding||8,cssStyles:Z.styles,cssCompiledStyles:GA(["default","node",...Z.classes]),cssClasses:"default "+Z.classes.join(" "),shape:HC0(Z),dir:Z.dir,domId:Z.domId,isGroup:q,look:U,link:Z.link,linkTarget:Z.linkTarget,tooltip:uo(Z.id)})},"addNodeFromVertex");R(GA,"getCompiledStyles");BC0=R(()=>{const Z=W0(),J=[],Q=[],K=so(),X=new Map,U=new Map;for(let z=K.length-1;z>=0;z--){const G=K[z];if(G.nodes.length>0)U.set(G.id,!0);for(let H of G.nodes)X.set(H,G.id)}for(let z=K.length-1;z>=0;z--){const G=K[z];J.push({id:G.id,label:G.title,labelStyle:"",parentId:X.get(G.id),padding:8,cssCompiledStyles:GA(G.classes),cssClasses:G.classes.join(" "),shape:"rect",dir:G.dir,isGroup:!0,look:Z.look})}go().forEach((z)=>{MC0(z,J,X,U,Z,Z.look||"classic")});const q=po();return q.forEach((z,G)=>{const{arrowTypeStart:H,arrowTypeEnd:W}=FC0(z.type),F=[...q.defaultStyle??[]];if(z.style)F.push(...z.style);const M={id:GR(z.start,z.end,{counter:G,prefix:"L"}),start:z.start,end:z.end,type:z.type??"normal",label:z.text,labelpos:"c",thickness:z.stroke,minlen:z.length,classes:z?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:z?.stroke==="invisible"?"none":H,arrowTypeEnd:z?.stroke==="invisible"?"none":W,arrowheadStyle:"fill: #333",labelStyle:F,style:F,pattern:z.stroke,look:Z.look};Q.push(M)}),{nodes:J,edges:Q,other:{},config:Z}},"getData"),kV={defaultConfig:R(()=>I2.flowchart,"defaultConfig"),setAccTitle:E8,getAccTitle:f8,getAccDescription:k8,getData:BC0,setAccDescription:v8,addVertex:yj0,lookUpDomId:MA,addLink:mj0,updateLinkInterpolate:gj0,updateLink:pj0,addClass:cj0,setDirection:lj0,setClass:hV,setTooltip:dj0,getTooltip:uo,setClickEvent:rj0,setLink:sj0,bindFunctions:nj0,getDirection:mo,getVertices:go,getEdges:po,getClasses:aj0,clear:oj0,setGen:tj0,defaultStyle:ej0,addSubGraph:ZC0,getDepthFirstPos:QC0,indexNodes:KC0,getSubGraphs:so,destructLink:zC0,lex:GC0,exists:ro,makeUniq:no,setDiagramTitle:o8,getDiagramTitle:m8},RC0=R(function(Z,J){return J.db.getClasses()},"getClasses"),OC0=R(async function(Z,J,Q,K){p.info("REF0:"),p.info("Drawing state diagram (v2)",J);const{securityLevel:X,flowchart:U,layout:Y}=W0();let q;if(X==="sandbox")q=$0("#i"+J);const z=X==="sandbox"?q.nodes()[0].contentDocument:document;p.debug("Before getData: ");const G=K.db.getData();p.debug("Data: ",G);const H=UA(J,X),W=mo();if(G.type=K.type,G.layoutAlgorithm=la(Y),G.layoutAlgorithm==="dagre"&&Y==="elk")p.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback.");G.direction=W,G.nodeSpacing=U?.nodeSpacing||50,G.rankSpacing=U?.rankSpacing||50,G.markers=["point","circle","cross"],G.diagramId=J,p.debug("REF1:",G),await uO(G,H);const F=G.config.flowchart?.diagramPadding??8;B9.insertTitle(H,"flowchartTitleText",U?.titleTopMargin||0,K.db.getDiagramTitle()),YA(H,F,"flowchart",U?.useMaxWidth||!1);for(let M of G.nodes){const B=$0(`#${J} [id="${M.id}"]`);if(!B||!M.link)continue;const O=z.createElementNS("http://www.w3.org/2000/svg","a");if(O.setAttributeNS("http://www.w3.org/2000/svg","class",M.cssClasses),O.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),X==="sandbox")O.setAttributeNS("http://www.w3.org/2000/svg","target","_top");else if(M.linkTarget)O.setAttributeNS("http://www.w3.org/2000/svg","target",M.linkTarget);const A=B.insert(function(){return O},":first-child"),L=B.select(".label-container");if(L)A.append(function(){return L.node()});const I=B.select(".label");if(I)A.append(function(){return I.node()})}},"draw"),AC0={getClasses:RC0,draw:OC0},_V=function(){var Z=R(function(c7,U9,A9,x9){for(A9=A9||{},x9=c7.length;x9--;A9[c7[x9]]=U9);return A9},"o"),J=[1,4],Q=[1,3],K=[1,5],X=[1,8,9,10,11,27,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],U=[2,2],Y=[1,13],q=[1,14],z=[1,15],G=[1,16],H=[1,23],W=[1,25],F=[1,26],M=[1,27],B=[1,49],O=[1,48],A=[1,29],L=[1,30],I=[1,31],D=[1,32],w=[1,33],N=[1,44],E=[1,46],j=[1,42],P=[1,47],C=[1,43],T=[1,50],V=[1,45],S=[1,51],$=[1,52],f=[1,34],h=[1,35],v=[1,36],b=[1,37],y=[1,57],k=[1,8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],g=[1,61],u=[1,60],i=[1,62],e=[8,9,11,73,75],J0=[1,88],z0=[1,93],t=[1,92],B0=[1,89],X0=[1,85],d=[1,91],o=[1,87],a=[1,94],Q0=[1,90],K0=[1,95],A0=[1,86],r=[8,9,10,11,73,75],v0=[8,9,10,11,44,73,75],Y0=[8,9,10,11,29,42,44,46,48,50,52,54,56,58,61,63,65,66,68,73,75,86,99,102,103,106,108,111,112,113],k0=[8,9,11,42,58,73,75,86,99,102,103,106,108,111,112,113],h0=[42,58,86,99,102,103,106,108,111,112,113],V0=[1,121],l0=[1,120],b0=[1,128],S0=[1,142],H0=[1,143],l=[1,144],q0=[1,145],G0=[1,130],n=[1,132],U0=[1,136],M0=[1,137],F0=[1,138],x0=[1,139],_0=[1,140],y0=[1,141],m0=[1,146],d0=[1,147],u0=[1,126],E0=[1,127],Z9=[1,134],i0=[1,129],Q8=[1,133],F8=[1,131],g9=[8,9,10,11,27,32,34,36,38,42,58,81,82,83,84,85,86,99,102,103,106,108,111,112,113,118,119,120,121],t9=[1,149],H9=[8,9,11],f9=[8,9,10,11,14,42,58,86,102,103,106,108,111,112,113],t0=[1,169],T9=[1,165],l9=[1,166],O9=[1,170],w9=[1,167],M9=[1,168],c9=[75,113,116],q9=[8,9,10,11,12,14,27,29,32,42,58,73,81,82,83,84,85,86,87,102,106,108,111,112,113],z8=[10,103],N9=[31,47,49,51,53,55,60,62,64,65,67,69,113,114,115],y9=[1,235],N8=[1,233],CJ=[1,237],e9=[1,231],_Z=[1,232],GZ=[1,234],xJ=[1,236],JJ=[1,238],j7=[1,255],AZ=[8,9,11,103],lZ=[8,9,10,11,58,81,102,103,106,107,108,109],a6={trace:R(function c7(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,link:39,node:40,styledVertex:41,AMP:42,vertex:43,STYLE_SEPARATOR:44,idString:45,DOUBLECIRCLESTART:46,DOUBLECIRCLEEND:47,PS:48,PE:49,"(-":50,"-)":51,STADIUMSTART:52,STADIUMEND:53,SUBROUTINESTART:54,SUBROUTINEEND:55,VERTEX_WITH_PROPS_START:56,"NODE_STRING[field]":57,COLON:58,"NODE_STRING[value]":59,PIPE:60,CYLINDERSTART:61,CYLINDEREND:62,DIAMOND_START:63,DIAMOND_STOP:64,TAGEND:65,TRAPSTART:66,TRAPEND:67,INVTRAPSTART:68,INVTRAPEND:69,linkStatement:70,arrowText:71,TESTSTR:72,START_LINK:73,edgeText:74,LINK:75,edgeTextToken:76,STR:77,MD_STR:78,textToken:79,keywords:80,STYLE:81,LINKSTYLE:82,CLASSDEF:83,CLASS:84,CLICK:85,DOWN:86,UP:87,textNoTagsToken:88,stylesOpt:89,"idString[vertex]":90,"idString[class]":91,CALLBACKNAME:92,CALLBACKARGS:93,HREF:94,LINK_TARGET:95,"STR[link]":96,"STR[tooltip]":97,alphaNum:98,DEFAULT:99,numList:100,INTERPOLATE:101,NUM:102,COMMA:103,style:104,styleComponent:105,NODE_STRING:106,UNIT:107,BRKT:108,PCT:109,idStringToken:110,MINUS:111,MULT:112,UNICODE_TEXT:113,TEXT:114,TAGSTART:115,EDGE_TEXT:116,alphaNumToken:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",42:"AMP",44:"STYLE_SEPARATOR",46:"DOUBLECIRCLESTART",47:"DOUBLECIRCLEEND",48:"PS",49:"PE",50:"(-",51:"-)",52:"STADIUMSTART",53:"STADIUMEND",54:"SUBROUTINESTART",55:"SUBROUTINEEND",56:"VERTEX_WITH_PROPS_START",57:"NODE_STRING[field]",58:"COLON",59:"NODE_STRING[value]",60:"PIPE",61:"CYLINDERSTART",62:"CYLINDEREND",63:"DIAMOND_START",64:"DIAMOND_STOP",65:"TAGEND",66:"TRAPSTART",67:"TRAPEND",68:"INVTRAPSTART",69:"INVTRAPEND",72:"TESTSTR",73:"START_LINK",75:"LINK",77:"STR",78:"MD_STR",81:"STYLE",82:"LINKSTYLE",83:"CLASSDEF",84:"CLASS",85:"CLICK",86:"DOWN",87:"UP",90:"idString[vertex]",91:"idString[class]",92:"CALLBACKNAME",93:"CALLBACKARGS",94:"HREF",95:"LINK_TARGET",96:"STR[link]",97:"STR[tooltip]",99:"DEFAULT",101:"INTERPOLATE",102:"NUM",103:"COMMA",106:"NODE_STRING",107:"UNIT",108:"BRKT",109:"PCT",111:"MINUS",112:"MULT",113:"UNICODE_TEXT",114:"TEXT",115:"TAGSTART",116:"EDGE_TEXT",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[20,3],[20,4],[20,2],[20,1],[40,1],[40,5],[41,1],[41,3],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,8],[43,4],[43,4],[43,4],[43,6],[43,4],[43,4],[43,4],[43,4],[43,4],[43,1],[39,2],[39,3],[39,3],[39,1],[39,3],[74,1],[74,2],[74,1],[74,1],[70,1],[71,3],[30,1],[30,2],[30,1],[30,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[80,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[100,1],[100,3],[89,1],[89,3],[104,1],[104,2],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[105,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[110,1],[79,1],[79,1],[79,1],[79,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[88,1],[76,1],[76,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[45,1],[45,2],[98,1],[98,2],[33,1],[33,1],[33,1],[33,1]],performAction:R(function c7(U9,A9,x9,o0,a9,R0,wK){var I0=R0.length-1;switch(a9){case 2:this.$=[];break;case 3:if(!Array.isArray(R0[I0])||R0[I0].length>0)R0[I0-1].push(R0[I0]);this.$=R0[I0-1];break;case 4:case 176:this.$=R0[I0];break;case 11:o0.setDirection("TB"),this.$="TB";break;case 12:o0.setDirection(R0[I0-1]),this.$=R0[I0-1];break;case 27:this.$=R0[I0-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=o0.addSubGraph(R0[I0-6],R0[I0-1],R0[I0-4]);break;case 34:this.$=o0.addSubGraph(R0[I0-3],R0[I0-1],R0[I0-3]);break;case 35:this.$=o0.addSubGraph(void 0,R0[I0-1],void 0);break;case 37:this.$=R0[I0].trim(),o0.setAccTitle(this.$);break;case 38:case 39:this.$=R0[I0].trim(),o0.setAccDescription(this.$);break;case 43:o0.addLink(R0[I0-2].stmt,R0[I0],R0[I0-1]),this.$={stmt:R0[I0],nodes:R0[I0].concat(R0[I0-2].nodes)};break;case 44:o0.addLink(R0[I0-3].stmt,R0[I0-1],R0[I0-2]),this.$={stmt:R0[I0-1],nodes:R0[I0-1].concat(R0[I0-3].nodes)};break;case 45:this.$={stmt:R0[I0-1],nodes:R0[I0-1]};break;case 46:this.$={stmt:R0[I0],nodes:R0[I0]};break;case 47:this.$=[R0[I0]];break;case 48:this.$=R0[I0-4].concat(R0[I0]);break;case 49:this.$=R0[I0];break;case 50:this.$=R0[I0-2],o0.setClass(R0[I0-2],R0[I0]);break;case 51:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"square");break;case 52:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"doublecircle");break;case 53:this.$=R0[I0-5],o0.addVertex(R0[I0-5],R0[I0-2],"circle");break;case 54:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"ellipse");break;case 55:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"stadium");break;case 56:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"subroutine");break;case 57:this.$=R0[I0-7],o0.addVertex(R0[I0-7],R0[I0-1],"rect",void 0,void 0,void 0,Object.fromEntries([[R0[I0-5],R0[I0-3]]]));break;case 58:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"cylinder");break;case 59:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"round");break;case 60:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"diamond");break;case 61:this.$=R0[I0-5],o0.addVertex(R0[I0-5],R0[I0-2],"hexagon");break;case 62:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"odd");break;case 63:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"trapezoid");break;case 64:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"inv_trapezoid");break;case 65:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"lean_right");break;case 66:this.$=R0[I0-3],o0.addVertex(R0[I0-3],R0[I0-1],"lean_left");break;case 67:this.$=R0[I0],o0.addVertex(R0[I0]);break;case 68:R0[I0-1].text=R0[I0],this.$=R0[I0-1];break;case 69:case 70:R0[I0-2].text=R0[I0-1],this.$=R0[I0-2];break;case 71:this.$=R0[I0];break;case 72:var YJ=o0.destructLink(R0[I0],R0[I0-2]);this.$={type:YJ.type,stroke:YJ.stroke,length:YJ.length,text:R0[I0-1]};break;case 73:this.$={text:R0[I0],type:"text"};break;case 74:this.$={text:R0[I0-1].text+""+R0[I0],type:R0[I0-1].type};break;case 75:this.$={text:R0[I0],type:"string"};break;case 76:this.$={text:R0[I0],type:"markdown"};break;case 77:var YJ=o0.destructLink(R0[I0]);this.$={type:YJ.type,stroke:YJ.stroke,length:YJ.length};break;case 78:this.$=R0[I0-1];break;case 79:this.$={text:R0[I0],type:"text"};break;case 80:this.$={text:R0[I0-1].text+""+R0[I0],type:R0[I0-1].type};break;case 81:this.$={text:R0[I0],type:"string"};break;case 82:case 97:this.$={text:R0[I0],type:"markdown"};break;case 94:this.$={text:R0[I0],type:"text"};break;case 95:this.$={text:R0[I0-1].text+""+R0[I0],type:R0[I0-1].type};break;case 96:this.$={text:R0[I0],type:"text"};break;case 98:this.$=R0[I0-4],o0.addClass(R0[I0-2],R0[I0]);break;case 99:this.$=R0[I0-4],o0.setClass(R0[I0-2],R0[I0]);break;case 100:case 108:this.$=R0[I0-1],o0.setClickEvent(R0[I0-1],R0[I0]);break;case 101:case 109:this.$=R0[I0-3],o0.setClickEvent(R0[I0-3],R0[I0-2]),o0.setTooltip(R0[I0-3],R0[I0]);break;case 102:this.$=R0[I0-2],o0.setClickEvent(R0[I0-2],R0[I0-1],R0[I0]);break;case 103:this.$=R0[I0-4],o0.setClickEvent(R0[I0-4],R0[I0-3],R0[I0-2]),o0.setTooltip(R0[I0-4],R0[I0]);break;case 104:this.$=R0[I0-2],o0.setLink(R0[I0-2],R0[I0]);break;case 105:this.$=R0[I0-4],o0.setLink(R0[I0-4],R0[I0-2]),o0.setTooltip(R0[I0-4],R0[I0]);break;case 106:this.$=R0[I0-4],o0.setLink(R0[I0-4],R0[I0-2],R0[I0]);break;case 107:this.$=R0[I0-6],o0.setLink(R0[I0-6],R0[I0-4],R0[I0]),o0.setTooltip(R0[I0-6],R0[I0-2]);break;case 110:this.$=R0[I0-1],o0.setLink(R0[I0-1],R0[I0]);break;case 111:this.$=R0[I0-3],o0.setLink(R0[I0-3],R0[I0-2]),o0.setTooltip(R0[I0-3],R0[I0]);break;case 112:this.$=R0[I0-3],o0.setLink(R0[I0-3],R0[I0-2],R0[I0]);break;case 113:this.$=R0[I0-5],o0.setLink(R0[I0-5],R0[I0-4],R0[I0]),o0.setTooltip(R0[I0-5],R0[I0-2]);break;case 114:this.$=R0[I0-4],o0.addVertex(R0[I0-2],void 0,void 0,R0[I0]);break;case 115:this.$=R0[I0-4],o0.updateLink([R0[I0-2]],R0[I0]);break;case 116:this.$=R0[I0-4],o0.updateLink(R0[I0-2],R0[I0]);break;case 117:this.$=R0[I0-8],o0.updateLinkInterpolate([R0[I0-6]],R0[I0-2]),o0.updateLink([R0[I0-6]],R0[I0]);break;case 118:this.$=R0[I0-8],o0.updateLinkInterpolate(R0[I0-6],R0[I0-2]),o0.updateLink(R0[I0-6],R0[I0]);break;case 119:this.$=R0[I0-6],o0.updateLinkInterpolate([R0[I0-4]],R0[I0]);break;case 120:this.$=R0[I0-6],o0.updateLinkInterpolate(R0[I0-4],R0[I0]);break;case 121:case 123:this.$=[R0[I0]];break;case 122:case 124:R0[I0-2].push(R0[I0]),this.$=R0[I0-2];break;case 126:this.$=R0[I0-1]+R0[I0];break;case 174:this.$=R0[I0];break;case 175:this.$=R0[I0-1]+""+R0[I0];break;case 177:this.$=R0[I0-1]+""+R0[I0];break;case 178:this.$={stmt:"dir",value:"TB"};break;case 179:this.$={stmt:"dir",value:"BT"};break;case 180:this.$={stmt:"dir",value:"RL"};break;case 181:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:J,10:Q,12:K},{1:[3]},Z(X,U,{5:6}),{4:7,9:J,10:Q,12:K},{4:8,9:J,10:Q,12:K},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:Y,9:q,10:z,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:H,33:24,34:W,36:F,38:M,40:28,41:38,42:B,43:39,45:40,58:O,81:A,82:L,83:I,84:D,85:w,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$,118:f,119:h,120:v,121:b},Z(X,[2,9]),Z(X,[2,10]),Z(X,[2,11]),{8:[1,54],9:[1,55],10:y,15:53,18:56},Z(k,[2,3]),Z(k,[2,4]),Z(k,[2,5]),Z(k,[2,6]),Z(k,[2,7]),Z(k,[2,8]),{8:g,9:u,11:i,21:58,39:59,70:63,73:[1,64],75:[1,65]},{8:g,9:u,11:i,21:66},{8:g,9:u,11:i,21:67},{8:g,9:u,11:i,21:68},{8:g,9:u,11:i,21:69},{8:g,9:u,11:i,21:70},{8:g,9:u,10:[1,71],11:i,21:72},Z(k,[2,36]),{35:[1,73]},{37:[1,74]},Z(k,[2,39]),Z(e,[2,46],{18:75,10:y}),{10:[1,76]},{10:[1,77]},{10:[1,78]},{10:[1,79]},{14:J0,42:z0,58:t,77:[1,83],86:B0,92:[1,80],94:[1,81],98:82,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0,117:84},Z(k,[2,178]),Z(k,[2,179]),Z(k,[2,180]),Z(k,[2,181]),Z(r,[2,47]),Z(r,[2,49],{44:[1,96]}),Z(v0,[2,67],{110:109,29:[1,97],42:B,46:[1,98],48:[1,99],50:[1,100],52:[1,101],54:[1,102],56:[1,103],58:O,61:[1,104],63:[1,105],65:[1,106],66:[1,107],68:[1,108],86:N,99:E,102:j,103:P,106:C,108:T,111:V,112:S,113:$}),Z(Y0,[2,174]),Z(Y0,[2,135]),Z(Y0,[2,136]),Z(Y0,[2,137]),Z(Y0,[2,138]),Z(Y0,[2,139]),Z(Y0,[2,140]),Z(Y0,[2,141]),Z(Y0,[2,142]),Z(Y0,[2,143]),Z(Y0,[2,144]),Z(Y0,[2,145]),Z(X,[2,12]),Z(X,[2,18]),Z(X,[2,19]),{9:[1,110]},Z(k0,[2,26],{18:111,10:y}),Z(k,[2,27]),{40:112,41:38,42:B,43:39,45:40,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},Z(k,[2,40]),Z(k,[2,41]),Z(k,[2,42]),Z(h0,[2,71],{71:113,60:[1,115],72:[1,114]}),{74:116,76:117,77:[1,118],78:[1,119],113:V0,116:l0},Z([42,58,60,72,86,99,102,103,106,108,111,112,113],[2,77]),Z(k,[2,28]),Z(k,[2,29]),Z(k,[2,30]),Z(k,[2,31]),Z(k,[2,32]),{10:b0,12:S0,14:H0,27:l,28:122,32:q0,42:G0,58:n,73:U0,77:[1,124],78:[1,125],80:135,81:M0,82:F0,83:x0,84:_0,85:y0,86:m0,87:d0,88:123,102:u0,106:E0,108:Z9,111:i0,112:Q8,113:F8},Z(g9,U,{5:148}),Z(k,[2,37]),Z(k,[2,38]),Z(e,[2,45],{42:t9}),{42:B,45:150,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},{99:[1,151],100:152,102:[1,153]},{42:B,45:154,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},{42:B,45:155,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},Z(H9,[2,100],{10:[1,156],93:[1,157]}),{77:[1,158]},Z(H9,[2,108],{117:160,10:[1,159],14:J0,42:z0,58:t,86:B0,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0}),Z(H9,[2,110],{10:[1,161]}),Z(f9,[2,176]),Z(f9,[2,163]),Z(f9,[2,164]),Z(f9,[2,165]),Z(f9,[2,166]),Z(f9,[2,167]),Z(f9,[2,168]),Z(f9,[2,169]),Z(f9,[2,170]),Z(f9,[2,171]),Z(f9,[2,172]),Z(f9,[2,173]),{42:B,45:162,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},{30:163,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:171,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:173,48:[1,172],65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:174,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:175,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:176,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{106:[1,177]},{30:178,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:179,63:[1,180],65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:181,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:182,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{30:183,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},Z(Y0,[2,175]),Z(X,[2,20]),Z(k0,[2,25]),Z(e,[2,43],{18:184,10:y}),Z(h0,[2,68],{10:[1,185]}),{10:[1,186]},{30:187,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{75:[1,188],76:189,113:V0,116:l0},Z(c9,[2,73]),Z(c9,[2,75]),Z(c9,[2,76]),Z(c9,[2,161]),Z(c9,[2,162]),{8:g,9:u,10:b0,11:i,12:S0,14:H0,21:191,27:l,29:[1,190],32:q0,42:G0,58:n,73:U0,80:135,81:M0,82:F0,83:x0,84:_0,85:y0,86:m0,87:d0,88:192,102:u0,106:E0,108:Z9,111:i0,112:Q8,113:F8},Z(q9,[2,94]),Z(q9,[2,96]),Z(q9,[2,97]),Z(q9,[2,150]),Z(q9,[2,151]),Z(q9,[2,152]),Z(q9,[2,153]),Z(q9,[2,154]),Z(q9,[2,155]),Z(q9,[2,156]),Z(q9,[2,157]),Z(q9,[2,158]),Z(q9,[2,159]),Z(q9,[2,160]),Z(q9,[2,83]),Z(q9,[2,84]),Z(q9,[2,85]),Z(q9,[2,86]),Z(q9,[2,87]),Z(q9,[2,88]),Z(q9,[2,89]),Z(q9,[2,90]),Z(q9,[2,91]),Z(q9,[2,92]),Z(q9,[2,93]),{6:11,7:12,8:Y,9:q,10:z,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:H,32:[1,193],33:24,34:W,36:F,38:M,40:28,41:38,42:B,43:39,45:40,58:O,81:A,82:L,83:I,84:D,85:w,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$,118:f,119:h,120:v,121:b},{10:y,18:194},{10:[1,195],42:B,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:109,111:V,112:S,113:$},{10:[1,196]},{10:[1,197],103:[1,198]},Z(z8,[2,121]),{10:[1,199],42:B,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:109,111:V,112:S,113:$},{10:[1,200],42:B,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:109,111:V,112:S,113:$},{77:[1,201]},Z(H9,[2,102],{10:[1,202]}),Z(H9,[2,104],{10:[1,203]}),{77:[1,204]},Z(f9,[2,177]),{77:[1,205],95:[1,206]},Z(r,[2,50],{110:109,42:B,58:O,86:N,99:E,102:j,103:P,106:C,108:T,111:V,112:S,113:$}),{31:[1,207],65:t0,79:208,113:O9,114:w9,115:M9},Z(N9,[2,79]),Z(N9,[2,81]),Z(N9,[2,82]),Z(N9,[2,146]),Z(N9,[2,147]),Z(N9,[2,148]),Z(N9,[2,149]),{47:[1,209],65:t0,79:208,113:O9,114:w9,115:M9},{30:210,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{49:[1,211],65:t0,79:208,113:O9,114:w9,115:M9},{51:[1,212],65:t0,79:208,113:O9,114:w9,115:M9},{53:[1,213],65:t0,79:208,113:O9,114:w9,115:M9},{55:[1,214],65:t0,79:208,113:O9,114:w9,115:M9},{58:[1,215]},{62:[1,216],65:t0,79:208,113:O9,114:w9,115:M9},{64:[1,217],65:t0,79:208,113:O9,114:w9,115:M9},{30:218,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},{31:[1,219],65:t0,79:208,113:O9,114:w9,115:M9},{65:t0,67:[1,220],69:[1,221],79:208,113:O9,114:w9,115:M9},{65:t0,67:[1,223],69:[1,222],79:208,113:O9,114:w9,115:M9},Z(e,[2,44],{42:t9}),Z(h0,[2,70]),Z(h0,[2,69]),{60:[1,224],65:t0,79:208,113:O9,114:w9,115:M9},Z(h0,[2,72]),Z(c9,[2,74]),{30:225,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},Z(g9,U,{5:226}),Z(q9,[2,95]),Z(k,[2,35]),{41:227,42:B,43:39,45:40,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},{10:y9,58:N8,81:CJ,89:228,102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},{10:y9,58:N8,81:CJ,89:239,101:[1,240],102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},{10:y9,58:N8,81:CJ,89:241,101:[1,242],102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},{102:[1,243]},{10:y9,58:N8,81:CJ,89:244,102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},{42:B,45:245,58:O,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$},Z(H9,[2,101]),{77:[1,246]},{77:[1,247],95:[1,248]},Z(H9,[2,109]),Z(H9,[2,111],{10:[1,249]}),Z(H9,[2,112]),Z(v0,[2,51]),Z(N9,[2,80]),Z(v0,[2,52]),{49:[1,250],65:t0,79:208,113:O9,114:w9,115:M9},Z(v0,[2,59]),Z(v0,[2,54]),Z(v0,[2,55]),Z(v0,[2,56]),{106:[1,251]},Z(v0,[2,58]),Z(v0,[2,60]),{64:[1,252],65:t0,79:208,113:O9,114:w9,115:M9},Z(v0,[2,62]),Z(v0,[2,63]),Z(v0,[2,65]),Z(v0,[2,64]),Z(v0,[2,66]),Z([10,42,58,86,99,102,103,106,108,111,112,113],[2,78]),{31:[1,253],65:t0,79:208,113:O9,114:w9,115:M9},{6:11,7:12,8:Y,9:q,10:z,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:H,32:[1,254],33:24,34:W,36:F,38:M,40:28,41:38,42:B,43:39,45:40,58:O,81:A,82:L,83:I,84:D,85:w,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$,118:f,119:h,120:v,121:b},Z(r,[2,48]),Z(H9,[2,114],{103:j7}),Z(AZ,[2,123],{105:256,10:y9,58:N8,81:CJ,102:e9,106:_Z,107:GZ,108:xJ,109:JJ}),Z(lZ,[2,125]),Z(lZ,[2,127]),Z(lZ,[2,128]),Z(lZ,[2,129]),Z(lZ,[2,130]),Z(lZ,[2,131]),Z(lZ,[2,132]),Z(lZ,[2,133]),Z(lZ,[2,134]),Z(H9,[2,115],{103:j7}),{10:[1,257]},Z(H9,[2,116],{103:j7}),{10:[1,258]},Z(z8,[2,122]),Z(H9,[2,98],{103:j7}),Z(H9,[2,99],{110:109,42:B,58:O,86:N,99:E,102:j,103:P,106:C,108:T,111:V,112:S,113:$}),Z(H9,[2,103]),Z(H9,[2,105],{10:[1,259]}),Z(H9,[2,106]),{95:[1,260]},{49:[1,261]},{60:[1,262]},{64:[1,263]},{8:g,9:u,11:i,21:264},Z(k,[2,34]),{10:y9,58:N8,81:CJ,102:e9,104:265,105:230,106:_Z,107:GZ,108:xJ,109:JJ},Z(lZ,[2,126]),{14:J0,42:z0,58:t,86:B0,98:266,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0,117:84},{14:J0,42:z0,58:t,86:B0,98:267,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0,117:84},{95:[1,268]},Z(H9,[2,113]),Z(v0,[2,53]),{30:269,65:t0,77:T9,78:l9,79:164,113:O9,114:w9,115:M9},Z(v0,[2,61]),Z(g9,U,{5:270}),Z(AZ,[2,124],{105:256,10:y9,58:N8,81:CJ,102:e9,106:_Z,107:GZ,108:xJ,109:JJ}),Z(H9,[2,119],{117:160,10:[1,271],14:J0,42:z0,58:t,86:B0,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0}),Z(H9,[2,120],{117:160,10:[1,272],14:J0,42:z0,58:t,86:B0,102:X0,103:d,106:o,108:a,111:Q0,112:K0,113:A0}),Z(H9,[2,107]),{31:[1,273],65:t0,79:208,113:O9,114:w9,115:M9},{6:11,7:12,8:Y,9:q,10:z,11:G,20:17,22:18,23:19,24:20,25:21,26:22,27:H,32:[1,274],33:24,34:W,36:F,38:M,40:28,41:38,42:B,43:39,45:40,58:O,81:A,82:L,83:I,84:D,85:w,86:N,99:E,102:j,103:P,106:C,108:T,110:41,111:V,112:S,113:$,118:f,119:h,120:v,121:b},{10:y9,58:N8,81:CJ,89:275,102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},{10:y9,58:N8,81:CJ,89:276,102:e9,104:229,105:230,106:_Z,107:GZ,108:xJ,109:JJ},Z(v0,[2,57]),Z(k,[2,33]),Z(H9,[2,117],{103:j7}),Z(H9,[2,118],{103:j7})],defaultActions:{},parseError:R(function c7(U9,A9){if(A9.recoverable)this.trace(U9);else{var x9=new Error(U9);throw x9.hash=A9,x9}},"parseError"),parse:R(function c7(U9){var A9=this,x9=[0],o0=[],a9=[null],R0=[],wK=this.table,I0="",YJ=0,jK=0,AG=0,fM=2,LG=1,IG=R0.slice.call(arguments,1),dZ=Object.create(this.lexer),t6={yy:{}};for(var h5 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,h5))t6.yy[h5]=this.yy[h5];if(dZ.setInput(U9,t6.yy),t6.yy.lexer=dZ,t6.yy.parser=this,typeof dZ.yylloc=="undefined")dZ.yylloc={};var E6=dZ.yylloc;R0.push(E6);var y5=dZ.options&&dZ.options.ranges;if(typeof t6.yy.parseError==="function")this.parseError=t6.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function DG(C7){x9.length=x9.length-2*C7,a9.length=a9.length-C7,R0.length=R0.length-C7}R(DG,"popStack");function Gq(){var C7=o0.pop()||dZ.lex()||LG;if(typeof C7!=="number"){if(C7 instanceof Array)o0=C7,C7=o0.pop();C7=A9.symbols_[C7]||C7}return C7}R(Gq,"lex");var hJ,CK,PK,l7,qJ,I4,u5={},GU,w6,NG,HU;while(!0){if(PK=x9[x9.length-1],this.defaultActions[PK])l7=this.defaultActions[PK];else{if(hJ===null||typeof hJ=="undefined")hJ=Gq();l7=wK[PK]&&wK[PK][hJ]}if(typeof l7==="undefined"||!l7.length||!l7[0]){var EG="";HU=[];for(GU in wK[PK])if(this.terminals_[GU]&&GU>fM)HU.push("'"+this.terminals_[GU]+"'");if(dZ.showPosition)EG="Parse error on line "+(YJ+1)+":\n"+dZ.showPosition()+"\nExpecting "+HU.join(", ")+", got '"+(this.terminals_[hJ]||hJ)+"'";else EG="Parse error on line "+(YJ+1)+": Unexpected "+(hJ==LG?"end of input":"'"+(this.terminals_[hJ]||hJ)+"'");this.parseError(EG,{text:dZ.match,token:this.terminals_[hJ]||hJ,line:dZ.yylineno,loc:E6,expected:HU})}if(l7[0]instanceof Array&&l7.length>1)throw new Error("Parse Error: multiple actions possible at state: "+PK+", token: "+hJ);switch(l7[0]){case 1:if(x9.push(hJ),a9.push(dZ.yytext),R0.push(dZ.yylloc),x9.push(l7[1]),hJ=null,!CK){if(jK=dZ.yyleng,I0=dZ.yytext,YJ=dZ.yylineno,E6=dZ.yylloc,AG>0)AG--}else hJ=CK,CK=null;break;case 2:if(w6=this.productions_[l7[1]][1],u5.$=a9[a9.length-w6],u5._$={first_line:R0[R0.length-(w6||1)].first_line,last_line:R0[R0.length-1].last_line,first_column:R0[R0.length-(w6||1)].first_column,last_column:R0[R0.length-1].last_column},y5)u5._$.range=[R0[R0.length-(w6||1)].range[0],R0[R0.length-1].range[1]];if(I4=this.performAction.apply(u5,[I0,jK,YJ,t6.yy,l7[1],a9,R0].concat(IG)),typeof I4!=="undefined")return I4;if(w6)x9=x9.slice(0,-1*w6*2),a9=a9.slice(0,-1*w6),R0=R0.slice(0,-1*w6);x9.push(this.productions_[l7[1]][0]),a9.push(u5.$),R0.push(u5._$),NG=wK[x9[x9.length-2]][x9[x9.length-1]],x9.push(NG);break;case 3:return!0}}return!0},"parse")},o6=function(){var c7={EOF:1,parseError:R(function U9(A9,x9){if(this.yy.parser)this.yy.parser.parseError(A9,x9);else throw new Error(A9)},"parseError"),setInput:R(function(U9,A9){if(this.yy=A9||this.yy||{},this._input=U9,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var U9=this._input[0];this.yytext+=U9,this.yyleng++,this.offset++,this.match+=U9,this.matched+=U9;var A9=U9.match(/(?:\r\n?|\n).*/g);if(A9)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),U9},"input"),unput:R(function(U9){var A9=U9.length,x9=U9.split(/(?:\r\n?|\n)/g);this._input=U9+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A9),this.offset-=A9;var o0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),x9.length-1)this.yylineno-=x9.length-1;var a9=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:x9?(x9.length===o0.length?this.yylloc.first_column:0)+o0[o0.length-x9.length].length-x9[0].length:this.yylloc.first_column-A9},this.options.ranges)this.yylloc.range=[a9[0],a9[0]+this.yyleng-A9];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(U9){this.unput(this.match.slice(U9))},"less"),pastInput:R(function(){var U9=this.matched.substr(0,this.matched.length-this.match.length);return(U9.length>20?"...":"")+U9.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var U9=this.match;if(U9.length<20)U9+=this._input.substr(0,20-U9.length);return(U9.substr(0,20)+(U9.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var U9=this.pastInput(),A9=new Array(U9.length+1).join("-");return U9+this.upcomingInput()+"\n"+A9+"^"},"showPosition"),test_match:R(function(U9,A9){var x9,o0,a9;if(this.options.backtrack_lexer){if(a9={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)a9.yylloc.range=this.yylloc.range.slice(0)}if(o0=U9[0].match(/(?:\r\n?|\n).*/g),o0)this.yylineno+=o0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o0?o0[o0.length-1].length-o0[o0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+U9[0].length},this.yytext+=U9[0],this.match+=U9[0],this.matches=U9,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(U9[0].length),this.matched+=U9[0],x9=this.performAction.call(this,this.yy,this,A9,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(x9)return x9;else if(this._backtrack){for(var R0 in a9)this[R0]=a9[R0];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var U9,A9,x9,o0;if(!this._more)this.yytext="",this.match="";var a9=this._currentRules();for(var R0=0;R0<a9.length;R0++)if(x9=this._input.match(this.rules[a9[R0]]),x9&&(!A9||x9[0].length>A9[0].length)){if(A9=x9,o0=R0,this.options.backtrack_lexer)if(U9=this.test_match(x9,a9[R0]),U9!==!1)return U9;else if(this._backtrack){A9=!1;continue}else return!1;else if(!this.options.flex)break}if(A9){if(U9=this.test_match(A9,a9[o0]),U9!==!1)return U9;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function U9(){var A9=this.next();if(A9)return A9;else return this.lex()},"lex"),begin:R(function U9(A9){this.conditionStack.push(A9)},"begin"),popState:R(function U9(){var A9=this.conditionStack.length-1;if(A9>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function U9(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function U9(A9){if(A9=this.conditionStack.length-1-Math.abs(A9||0),A9>=0)return this.conditionStack[A9];else return"INITIAL"},"topState"),pushState:R(function U9(A9){this.begin(A9)},"pushState"),stateStackSize:R(function U9(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:R(function U9(A9,x9,o0,a9){var R0=a9;switch(o0){case 0:return this.begin("acc_title"),34;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),36;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:this.begin("callbackname");break;case 8:this.popState();break;case 9:this.popState(),this.begin("callbackargs");break;case 10:return 92;case 11:this.popState();break;case 12:return 93;case 13:return"MD_STR";case 14:this.popState();break;case 15:this.begin("md_string");break;case 16:return"STR";case 17:this.popState();break;case 18:this.pushState("string");break;case 19:return 81;case 20:return 99;case 21:return 82;case 22:return 101;case 23:return 83;case 24:return 84;case 25:return 94;case 26:this.begin("click");break;case 27:this.popState();break;case 28:return 85;case 29:if(A9.lex.firstGraph())this.begin("dir");return 12;case 30:if(A9.lex.firstGraph())this.begin("dir");return 12;case 31:if(A9.lex.firstGraph())this.begin("dir");return 12;case 32:return 27;case 33:return 32;case 34:return 95;case 35:return 95;case 36:return 95;case 37:return 95;case 38:return this.popState(),13;break;case 39:return this.popState(),14;break;case 40:return this.popState(),14;break;case 41:return this.popState(),14;break;case 42:return this.popState(),14;break;case 43:return this.popState(),14;break;case 44:return this.popState(),14;break;case 45:return this.popState(),14;break;case 46:return this.popState(),14;break;case 47:return this.popState(),14;break;case 48:return this.popState(),14;break;case 49:return 118;case 50:return 119;case 51:return 120;case 52:return 121;case 53:return 102;case 54:return 108;case 55:return 44;case 56:return 58;case 57:return 42;case 58:return 8;case 59:return 103;case 60:return 112;case 61:return this.popState(),75;break;case 62:return this.pushState("edgeText"),73;break;case 63:return 116;case 64:return this.popState(),75;break;case 65:return this.pushState("thickEdgeText"),73;break;case 66:return 116;case 67:return this.popState(),75;break;case 68:return this.pushState("dottedEdgeText"),73;break;case 69:return 116;case 70:return 75;case 71:return this.popState(),51;break;case 72:return"TEXT";case 73:return this.pushState("ellipseText"),50;break;case 74:return this.popState(),53;break;case 75:return this.pushState("text"),52;break;case 76:return this.popState(),55;break;case 77:return this.pushState("text"),54;break;case 78:return 56;case 79:return this.pushState("text"),65;break;case 80:return this.popState(),62;break;case 81:return this.pushState("text"),61;break;case 82:return this.popState(),47;break;case 83:return this.pushState("text"),46;break;case 84:return this.popState(),67;break;case 85:return this.popState(),69;break;case 86:return 114;case 87:return this.pushState("trapText"),66;break;case 88:return this.pushState("trapText"),68;break;case 89:return 115;case 90:return 65;case 91:return 87;case 92:return"SEP";case 93:return 86;case 94:return 112;case 95:return 108;case 96:return 42;case 97:return 106;case 98:return 111;case 99:return 113;case 100:return this.popState(),60;break;case 101:return this.pushState("text"),60;break;case 102:return this.popState(),49;break;case 103:return this.pushState("text"),48;break;case 104:return this.popState(),31;break;case 105:return this.pushState("text"),29;break;case 106:return this.popState(),64;break;case 107:return this.pushState("text"),63;break;case 108:return"TEXT";case 109:return"QUOTE";case 110:return 9;case 111:return 10;case 112:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{callbackargs:{rules:[11,12,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},callbackname:{rules:[8,9,10,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},href:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},click:{rules:[15,18,27,28,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dottedEdgeText:{rules:[15,18,67,69,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},thickEdgeText:{rules:[15,18,64,66,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},edgeText:{rules:[15,18,61,63,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},trapText:{rules:[15,18,70,73,75,77,81,83,84,85,86,87,88,101,103,105,107],inclusive:!1},ellipseText:{rules:[15,18,70,71,72,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},text:{rules:[15,18,70,73,74,75,76,77,80,81,82,83,87,88,100,101,102,103,104,105,106,107,108],inclusive:!1},vertex:{rules:[15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},dir:{rules:[15,18,38,39,40,41,42,43,44,45,46,47,48,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr_multiline:{rules:[5,6,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_descr:{rules:[3,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},acc_title:{rules:[1,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},md_string:{rules:[13,14,15,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},string:{rules:[15,16,17,18,70,73,75,77,81,83,87,88,101,103,105,107],inclusive:!1},INITIAL:{rules:[0,2,4,7,15,18,19,20,21,22,23,24,25,26,29,30,31,32,33,34,35,36,37,49,50,51,52,53,54,55,56,57,58,59,60,61,62,64,65,67,68,70,73,75,77,78,79,81,83,87,88,89,90,91,92,93,94,95,96,97,98,99,101,103,105,107,109,110,111,112],inclusive:!0}}};return c7}();a6.lexer=o6;function $Q(){this.yy={}}return R($Q,"Parser"),$Q.prototype=a6,a6.Parser=$Q,new $Q}();_V.parser=_V;LC0=_V,IC0=R((Z,J)=>{const Q=TG,K=Q(Z,"r"),X=Q(Z,"g"),U=Q(Z,"b");return j6(K,X,U,J)},"fade"),DC0=R((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span {
    color: ${Z.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    p {
      background-color: ${Z.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${IC0(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${Z.clusterBkg};
    stroke: ${Z.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
`,"getStyles"),NC0=DC0,EC0={parser:LC0,db:kV,renderer:AC0,styles:NC0,init:R((Z)=>{if(!Z.flowchart)Z.flowchart={};if(Z.layout)iN({layout:Z.layout});Z.flowchart.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,iN({flowchart:{arrowMarkerAbsolute:Z.arrowMarkerAbsolute}}),kV.clear(),kV.setGen("gen-2")},"init")}});var ao;var oo=_(()=>{ao=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function wC0(Z){return typeof Z==="string"&&ao.test(Z)}var to;var eo=_(()=>{oo();to=wC0});function Zt(Z,J=0){return oJ[Z[J+0]]+oJ[Z[J+1]]+oJ[Z[J+2]]+oJ[Z[J+3]]+"-"+oJ[Z[J+4]]+oJ[Z[J+5]]+"-"+oJ[Z[J+6]]+oJ[Z[J+7]]+"-"+oJ[Z[J+8]]+oJ[Z[J+9]]+"-"+oJ[Z[J+10]]+oJ[Z[J+11]]+oJ[Z[J+12]]+oJ[Z[J+13]]+oJ[Z[J+14]]+oJ[Z[J+15]]}var oJ;var Jt=_(()=>{oJ=[];for(let Z=0;Z<256;++Z)oJ.push((Z+256).toString(16).slice(1))});function jC0(Z){if(!to(Z))throw TypeError("Invalid UUID");let J;const Q=new Uint8Array(16);return Q[0]=(J=parseInt(Z.slice(0,8),16))>>>24,Q[1]=J>>>16&255,Q[2]=J>>>8&255,Q[3]=J&255,Q[4]=(J=parseInt(Z.slice(9,13),16))>>>8,Q[5]=J&255,Q[6]=(J=parseInt(Z.slice(14,18),16))>>>8,Q[7]=J&255,Q[8]=(J=parseInt(Z.slice(19,23),16))>>>8,Q[9]=J&255,Q[10]=(J=parseInt(Z.slice(24,36),16))/1099511627776&255,Q[11]=J/4294967296&255,Q[12]=J>>>24&255,Q[13]=J>>>16&255,Q[14]=J>>>8&255,Q[15]=J&255,Q}var Qt;var Kt=_(()=>{eo();Qt=jC0});function CC0(Z){Z=unescape(encodeURIComponent(Z));const J=[];for(let Q=0;Q<Z.length;++Q)J.push(Z.charCodeAt(Q));return J}function yV(Z,J,Q){function K(X,U,Y,q){var z;if(typeof X==="string")X=CC0(X);if(typeof U==="string")U=Qt(U);if(((z=U)===null||z===void 0?void 0:z.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let G=new Uint8Array(16+X.length);if(G.set(U),G.set(X,U.length),G=Q(G),G[6]=G[6]&15|J,G[8]=G[8]&63|128,Y){q=q||0;for(let H=0;H<16;++H)Y[q+H]=G[H];return Y}return Zt(G)}try{K.name=Z}catch(X){}return K.DNS=PC0,K.URL=VC0,K}var PC0="6ba7b810-9dad-11d1-80b4-00c04fd430c8",VC0="6ba7b811-9dad-11d1-80b4-00c04fd430c8";var Xt=_(()=>{Jt();Kt()});function SC0(Z,J,Q,K){switch(Z){case 0:return J&Q^~J&K;case 1:return J^Q^K;case 2:return J&Q^J&K^Q&K;case 3:return J^Q^K}}function uV(Z,J){return Z<<J|Z>>>32-J}function TC0(Z){const J=[1518500249,1859775393,2400959708,3395469782],Q=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof Z==="string"){const Y=unescape(encodeURIComponent(Z));Z=[];for(let q=0;q<Y.length;++q)Z.push(Y.charCodeAt(q))}else if(!Array.isArray(Z))Z=Array.prototype.slice.call(Z);Z.push(128);const K=Z.length/4+2,X=Math.ceil(K/16),U=new Array(X);for(let Y=0;Y<X;++Y){const q=new Uint32Array(16);for(let z=0;z<16;++z)q[z]=Z[Y*64+z*4]<<24|Z[Y*64+z*4+1]<<16|Z[Y*64+z*4+2]<<8|Z[Y*64+z*4+3];U[Y]=q}U[X-1][14]=(Z.length-1)*8/Math.pow(2,32),U[X-1][14]=Math.floor(U[X-1][14]),U[X-1][15]=(Z.length-1)*8&4294967295;for(let Y=0;Y<X;++Y){const q=new Uint32Array(80);for(let M=0;M<16;++M)q[M]=U[Y][M];for(let M=16;M<80;++M)q[M]=uV(q[M-3]^q[M-8]^q[M-14]^q[M-16],1);let z=Q[0],G=Q[1],H=Q[2],W=Q[3],F=Q[4];for(let M=0;M<80;++M){const B=Math.floor(M/20),O=uV(z,5)+SC0(B,G,H,W)+F+J[B]+q[M]>>>0;F=W,W=H,H=uV(G,30)>>>0,G=z,z=O}Q[0]=Q[0]+z>>>0,Q[1]=Q[1]+G>>>0,Q[2]=Q[2]+H>>>0,Q[3]=Q[3]+W>>>0,Q[4]=Q[4]+F>>>0}return[Q[0]>>24&255,Q[0]>>16&255,Q[0]>>8&255,Q[0]&255,Q[1]>>24&255,Q[1]>>16&255,Q[1]>>8&255,Q[1]&255,Q[2]>>24&255,Q[2]>>16&255,Q[2]>>8&255,Q[2]&255,Q[3]>>24&255,Q[3]>>16&255,Q[3]>>8&255,Q[3]&255,Q[4]>>24&255,Q[4]>>16&255,Q[4]>>8&255,Q[4]&255]}var Ut;var Yt=_(()=>{Ut=TC0});var fC0,mV;var qt=_(()=>{Xt();Yt();fC0=yV("v5",80,Ut),mV=fC0});var zt=_(()=>{qt()});var Mt={};q8(Mt,{diagram:()=>eC0});function Ft(Z="",J=""){const Q=Z.replace(gC0,"");return`${pV(J)}${pV(Q)}${mV(Z,nC0)}`}function pV(Z=""){return Z.length>0?`${Z}-`:""}var gV,vC0,YY,cV,kC0,$C0,Ht,_C0,bC0,xC0,hC0,yC0,uC0,eQ,mC0,Z4,gC0,FJ,wW,pC0,cC0,lC0,dC0,Wt,iC0,Gt=0,sC0,rC0,nC0="28e9f9db-3c8d-5aa5-9faf-44286ae5937c",aC0,oC0,tC0,eC0;var Bt=_(()=>{FZ();X8();aJ();i9();ZY();zt();gV=function(){var Z=R(function(P,C,T,V){for(T=T||{},V=P.length;V--;T[P[V]]=C);return T},"o"),J=[6,8,10,20,22,24,26,27,28],Q=[1,10],K=[1,11],X=[1,12],U=[1,13],Y=[1,14],q=[1,15],z=[1,21],G=[1,22],H=[1,23],W=[1,24],F=[1,25],M=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],B=[1,34],O=[27,28,46,47],A=[41,42,43,44,45],L=[17,34],I=[1,54],D=[1,53],w=[17,34,36,38],N={trace:R(function P(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:R(function P(C,T,V,S,$,f,h){var v=f.length-1;switch($){case 1:break;case 2:this.$=[];break;case 3:f[v-1].push(f[v]),this.$=f[v-1];break;case 4:case 5:this.$=f[v];break;case 6:case 7:this.$=[];break;case 8:S.addEntity(f[v-4]),S.addEntity(f[v-2]),S.addRelationship(f[v-4],f[v],f[v-2],f[v-3]);break;case 9:S.addEntity(f[v-3]),S.addAttributes(f[v-3],f[v-1]);break;case 10:S.addEntity(f[v-2]);break;case 11:S.addEntity(f[v]);break;case 12:S.addEntity(f[v-6],f[v-4]),S.addAttributes(f[v-6],f[v-1]);break;case 13:S.addEntity(f[v-5],f[v-3]);break;case 14:S.addEntity(f[v-3],f[v-1]);break;case 15:case 16:this.$=f[v].trim(),S.setAccTitle(this.$);break;case 17:case 18:this.$=f[v].trim(),S.setAccDescription(this.$);break;case 19:case 43:this.$=f[v];break;case 20:case 41:case 42:this.$=f[v].replace(/"/g,"");break;case 21:case 29:this.$=[f[v]];break;case 22:f[v].push(f[v-1]),this.$=f[v];break;case 23:this.$={attributeType:f[v-1],attributeName:f[v]};break;case 24:this.$={attributeType:f[v-2],attributeName:f[v-1],attributeKeyTypeList:f[v]};break;case 25:this.$={attributeType:f[v-2],attributeName:f[v-1],attributeComment:f[v]};break;case 26:this.$={attributeType:f[v-3],attributeName:f[v-2],attributeKeyTypeList:f[v-1],attributeComment:f[v]};break;case 27:case 28:case 31:this.$=f[v];break;case 30:f[v-2].push(f[v]),this.$=f[v-2];break;case 32:this.$=f[v].replace(/"/g,"");break;case 33:this.$={cardA:f[v],relType:f[v-1],cardB:f[v-2]};break;case 34:this.$=S.Cardinality.ZERO_OR_ONE;break;case 35:this.$=S.Cardinality.ZERO_OR_MORE;break;case 36:this.$=S.Cardinality.ONE_OR_MORE;break;case 37:this.$=S.Cardinality.ONLY_ONE;break;case 38:this.$=S.Cardinality.MD_PARENT;break;case 39:this.$=S.Identification.NON_IDENTIFYING;break;case 40:this.$=S.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:Q,22:K,24:X,26:U,27:Y,28:q},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:16,11:9,20:Q,22:K,24:X,26:U,27:Y,28:q},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:z,42:G,43:H,44:W,45:F}),{21:[1,26]},{23:[1,27]},{25:[1,28]},Z(J,[2,18]),Z(M,[2,19]),Z(M,[2,20]),Z(J,[2,4]),{11:29,27:Y,28:q},{16:30,17:[1,31],29:32,30:33,34:B},{11:35,27:Y,28:q},{40:36,46:[1,37],47:[1,38]},Z(O,[2,34]),Z(O,[2,35]),Z(O,[2,36]),Z(O,[2,37]),Z(O,[2,38]),Z(J,[2,15]),Z(J,[2,16]),Z(J,[2,17]),{13:[1,39]},{17:[1,40]},Z(J,[2,10]),{16:41,17:[2,21],29:32,30:33,34:B},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:z,42:G,43:H,44:W,45:F},Z(A,[2,39]),Z(A,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},Z(J,[2,9]),{17:[2,22]},Z(L,[2,23],{32:50,33:51,35:52,37:I,38:D}),Z([17,34,37,38],[2,28]),Z(J,[2,14],{15:[1,55]}),Z([27,28],[2,33]),Z(J,[2,8]),Z(J,[2,41]),Z(J,[2,42]),Z(J,[2,43]),Z(L,[2,24],{33:56,36:[1,57],38:D}),Z(L,[2,25]),Z(w,[2,29]),Z(L,[2,32]),Z(w,[2,31]),{16:58,17:[1,59],29:32,30:33,34:B},Z(L,[2,26]),{35:60,37:I},{17:[1,61]},Z(J,[2,13]),Z(w,[2,30]),Z(J,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:R(function P(C,T){if(T.recoverable)this.trace(C);else{var V=new Error(C);throw V.hash=T,V}},"parseError"),parse:R(function P(C){var T=this,V=[0],S=[],$=[null],f=[],h=this.table,v="",b=0,y=0,k=0,g=2,u=1,i=f.slice.call(arguments,1),e=Object.create(this.lexer),J0={yy:{}};for(var z0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,z0))J0.yy[z0]=this.yy[z0];if(e.setInput(C,J0.yy),J0.yy.lexer=e,J0.yy.parser=this,typeof e.yylloc=="undefined")e.yylloc={};var t=e.yylloc;f.push(t);var B0=e.options&&e.options.ranges;if(typeof J0.yy.parseError==="function")this.parseError=J0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function X0(b0){V.length=V.length-2*b0,$.length=$.length-b0,f.length=f.length-b0}R(X0,"popStack");function d(){var b0=S.pop()||e.lex()||u;if(typeof b0!=="number"){if(b0 instanceof Array)S=b0,b0=S.pop();b0=T.symbols_[b0]||b0}return b0}R(d,"lex");var o,a,Q0,K0,A0,r,v0={},Y0,k0,h0,V0;while(!0){if(Q0=V[V.length-1],this.defaultActions[Q0])K0=this.defaultActions[Q0];else{if(o===null||typeof o=="undefined")o=d();K0=h[Q0]&&h[Q0][o]}if(typeof K0==="undefined"||!K0.length||!K0[0]){var l0="";V0=[];for(Y0 in h[Q0])if(this.terminals_[Y0]&&Y0>g)V0.push("'"+this.terminals_[Y0]+"'");if(e.showPosition)l0="Parse error on line "+(b+1)+":\n"+e.showPosition()+"\nExpecting "+V0.join(", ")+", got '"+(this.terminals_[o]||o)+"'";else l0="Parse error on line "+(b+1)+": Unexpected "+(o==u?"end of input":"'"+(this.terminals_[o]||o)+"'");this.parseError(l0,{text:e.match,token:this.terminals_[o]||o,line:e.yylineno,loc:t,expected:V0})}if(K0[0]instanceof Array&&K0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Q0+", token: "+o);switch(K0[0]){case 1:if(V.push(o),$.push(e.yytext),f.push(e.yylloc),V.push(K0[1]),o=null,!a){if(y=e.yyleng,v=e.yytext,b=e.yylineno,t=e.yylloc,k>0)k--}else o=a,a=null;break;case 2:if(k0=this.productions_[K0[1]][1],v0.$=$[$.length-k0],v0._$={first_line:f[f.length-(k0||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(k0||1)].first_column,last_column:f[f.length-1].last_column},B0)v0._$.range=[f[f.length-(k0||1)].range[0],f[f.length-1].range[1]];if(r=this.performAction.apply(v0,[v,y,b,J0.yy,K0[1],$,f].concat(i)),typeof r!=="undefined")return r;if(k0)V=V.slice(0,-1*k0*2),$=$.slice(0,-1*k0),f=f.slice(0,-1*k0);V.push(this.productions_[K0[1]][0]),$.push(v0.$),f.push(v0._$),h0=h[V[V.length-2]][V[V.length-1]],V.push(h0);break;case 3:return!0}}return!0},"parse")},E=function(){var P={EOF:1,parseError:R(function C(T,V){if(this.yy.parser)this.yy.parser.parseError(T,V);else throw new Error(T)},"parseError"),setInput:R(function(C,T){if(this.yy=T||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var T=C.match(/(?:\r\n?|\n).*/g);if(T)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),C},"input"),unput:R(function(C){var T=C.length,V=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-T),this.offset-=T;var S=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1)this.yylineno-=V.length-1;var $=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===S.length?this.yylloc.first_column:0)+S[S.length-V.length].length-V[0].length:this.yylloc.first_column-T},this.options.ranges)this.yylloc.range=[$[0],$[0]+this.yyleng-T];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(C){this.unput(this.match.slice(C))},"less"),pastInput:R(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var C=this.match;if(C.length<20)C+=this._input.substr(0,20-C.length);return(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var C=this.pastInput(),T=new Array(C.length+1).join("-");return C+this.upcomingInput()+"\n"+T+"^"},"showPosition"),test_match:R(function(C,T){var V,S,$;if(this.options.backtrack_lexer){if($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)$.yylloc.range=this.yylloc.range.slice(0)}if(S=C[0].match(/(?:\r\n?|\n).*/g),S)this.yylineno+=S.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:S?S[S.length-1].length-S[S.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],V=this.performAction.call(this,this.yy,this,T,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(V)return V;else if(this._backtrack){for(var f in $)this[f]=$[f];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var C,T,V,S;if(!this._more)this.yytext="",this.match="";var $=this._currentRules();for(var f=0;f<$.length;f++)if(V=this._input.match(this.rules[$[f]]),V&&(!T||V[0].length>T[0].length)){if(T=V,S=f,this.options.backtrack_lexer)if(C=this.test_match(V,$[f]),C!==!1)return C;else if(this._backtrack){T=!1;continue}else return!1;else if(!this.options.flex)break}if(T){if(C=this.test_match(T,$[S]),C!==!1)return C;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function C(){var T=this.next();if(T)return T;else return this.lex()},"lex"),begin:R(function C(T){this.conditionStack.push(T)},"begin"),popState:R(function C(){var T=this.conditionStack.length-1;if(T>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function C(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function C(T){if(T=this.conditionStack.length-1-Math.abs(T||0),T>=0)return this.conditionStack[T];else return"INITIAL"},"topState"),pushState:R(function C(T){this.begin(T)},"pushState"),stateStackSize:R(function C(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function C(T,V,S,$){var f=$;switch(S){case 0:return this.begin("acc_title"),22;break;case 1:return this.popState(),"acc_title_value";break;case 2:return this.begin("acc_descr"),24;break;case 3:return this.popState(),"acc_descr_value";break;case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;break;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;break;case 22:return V.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return V.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return P}();N.lexer=E;function j(){this.yy={}}return R(j,"Parser"),j.prototype=N,N.Parser=j,new j}();gV.parser=gV;vC0=gV,YY=new Map,cV=[],kC0={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},$C0={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},Ht=R(function(Z,J=void 0){if(!YY.has(Z))YY.set(Z,{attributes:[],alias:J}),p.info("Added new entity :",Z);else if(!YY.get(Z).alias&&J)YY.get(Z).alias=J,p.info(`Add alias '${J}' to entity '${Z}'`);return YY.get(Z)},"addEntity"),_C0=R(()=>YY,"getEntities"),bC0=R(function(Z,J){let Q=Ht(Z),K;for(K=J.length-1;K>=0;K--)Q.attributes.push(J[K]),p.debug("Added attribute ",J[K].attributeName)},"addAttributes"),xC0=R(function(Z,J,Q,K){let X={entityA:Z,roleA:J,entityB:Q,relSpec:K};cV.push(X),p.debug("Added new relationship :",X)},"addRelationship"),hC0=R(()=>cV,"getRelationships"),yC0=R(function(){YY=new Map,cV=[],O8()},"clear"),uC0={Cardinality:kC0,Identification:$C0,getConfig:R(()=>W0().er,"getConfig"),addEntity:Ht,addAttributes:bC0,getEntities:_C0,addRelationship:xC0,getRelationships:hC0,clear:yC0,setAccTitle:E8,getAccTitle:f8,setAccDescription:v8,getAccDescription:k8,setDiagramTitle:o8,getDiagramTitle:m8},eQ={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},mC0=R(function(Z,J){let Q;Z.append("defs").append("marker").attr("id",eQ.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",eQ.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",eQ.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),Z.append("defs").append("marker").attr("id",eQ.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),Q=Z.append("defs").append("marker").attr("id",eQ.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),Q.append("circle").attr("stroke",J.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),Q.append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M9,0 L9,18"),Q=Z.append("defs").append("marker").attr("id",eQ.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),Q.append("circle").attr("stroke",J.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),Q.append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M21,0 L21,18"),Z.append("defs").append("marker").attr("id",eQ.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),Z.append("defs").append("marker").attr("id",eQ.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),Q=Z.append("defs").append("marker").attr("id",eQ.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),Q.append("circle").attr("stroke",J.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),Q.append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),Q=Z.append("defs").append("marker").attr("id",eQ.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),Q.append("circle").attr("stroke",J.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),Q.append("path").attr("stroke",J.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18");return},"insertMarkers"),Z4={ERMarkers:eQ,insertMarkers:mC0},gC0=/[^\dA-Za-z](\W)*/g,FJ={},wW=new Map,pC0=R(function(Z){const J=Object.keys(Z);for(let Q of J)FJ[Q]=Z[Q]},"setConf"),cC0=R((Z,J,Q)=>{const K=FJ.entityPadding/3,X=FJ.entityPadding/3,U=FJ.fontSize*0.85,Y=J.node().getBBox(),q=[];let z=!1,G=!1,H=0,W=0,F=0,M=0,B=Y.height+K*2,O=1;Q.forEach((D)=>{if(D.attributeKeyTypeList!==void 0&&D.attributeKeyTypeList.length>0)z=!0;if(D.attributeComment!==void 0)G=!0}),Q.forEach((D)=>{const w=`${J.node().id}-attr-${O}`;let N=0;const E=s5(D.attributeType),j=Z.append("text").classed("er entityLabel",!0).attr("id",`${w}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",W0().fontFamily).style("font-size",U+"px").text(E),P=Z.append("text").classed("er entityLabel",!0).attr("id",`${w}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",W0().fontFamily).style("font-size",U+"px").text(D.attributeName),C={};C.tn=j,C.nn=P;const T=j.node().getBBox(),V=P.node().getBBox();if(H=Math.max(H,T.width),W=Math.max(W,V.width),N=Math.max(T.height,V.height),z){const S=D.attributeKeyTypeList!==void 0?D.attributeKeyTypeList.join(","):"",$=Z.append("text").classed("er entityLabel",!0).attr("id",`${w}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",W0().fontFamily).style("font-size",U+"px").text(S);C.kn=$;const f=$.node().getBBox();F=Math.max(F,f.width),N=Math.max(N,f.height)}if(G){const S=Z.append("text").classed("er entityLabel",!0).attr("id",`${w}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",W0().fontFamily).style("font-size",U+"px").text(D.attributeComment||"");C.cn=S;const $=S.node().getBBox();M=Math.max(M,$.width),N=Math.max(N,$.height)}C.height=N,q.push(C),B+=N+K*2,O+=1});let A=4;if(z)A+=2;if(G)A+=2;const L=H+W+F+M,I={width:Math.max(FJ.minEntityWidth,Math.max(Y.width+FJ.entityPadding*2,L+X*A)),height:Q.length>0?B:Math.max(FJ.minEntityHeight,Y.height+FJ.entityPadding*2)};if(Q.length>0){const D=Math.max(0,(I.width-L-X*A)/(A/2));J.attr("transform","translate("+I.width/2+","+(K+Y.height/2)+")");let w=Y.height+K*2,N="attributeBoxOdd";q.forEach((E)=>{const j=w+K+E.height/2;E.tn.attr("transform","translate("+X+","+j+")");const P=Z.insert("rect","#"+E.tn.node().id).classed(`er ${N}`,!0).attr("x",0).attr("y",w).attr("width",H+X*2+D).attr("height",E.height+K*2),C=parseFloat(P.attr("x"))+parseFloat(P.attr("width"));E.nn.attr("transform","translate("+(C+X)+","+j+")");const T=Z.insert("rect","#"+E.nn.node().id).classed(`er ${N}`,!0).attr("x",C).attr("y",w).attr("width",W+X*2+D).attr("height",E.height+K*2);let V=parseFloat(T.attr("x"))+parseFloat(T.attr("width"));if(z){E.kn.attr("transform","translate("+(V+X)+","+j+")");const S=Z.insert("rect","#"+E.kn.node().id).classed(`er ${N}`,!0).attr("x",V).attr("y",w).attr("width",F+X*2+D).attr("height",E.height+K*2);V=parseFloat(S.attr("x"))+parseFloat(S.attr("width"))}if(G)E.cn.attr("transform","translate("+(V+X)+","+j+")"),Z.insert("rect","#"+E.cn.node().id).classed(`er ${N}`,"true").attr("x",V).attr("y",w).attr("width",M+X*2+D).attr("height",E.height+K*2);w+=E.height+K*2,N=N==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else I.height=Math.max(FJ.minEntityHeight,B),J.attr("transform","translate("+I.width/2+","+I.height/2+")");return I},"drawAttributes"),lC0=R(function(Z,J,Q){const K=[...J.keys()];let X;return K.forEach(function(U){const Y=Ft(U,"entity");wW.set(U,Y);const q=Z.append("g").attr("id",Y);X=X===void 0?Y:X;const z="text-"+Y,G=q.append("text").classed("er entityLabel",!0).attr("id",z).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",W0().fontFamily).style("font-size",FJ.fontSize+"px").text(J.get(U).alias??U),{width:H,height:W}=cC0(q,G,J.get(U).attributes),M=q.insert("rect","#"+z).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",H).attr("height",W).node().getBBox();Q.setNode(Y,{width:M.width,height:M.height,shape:"rect",id:Y})}),X},"drawEntities"),dC0=R(function(Z,J){J.nodes().forEach(function(Q){if(Q!==void 0&&J.node(Q)!==void 0)Z.select("#"+Q).attr("transform","translate("+(J.node(Q).x-J.node(Q).width/2)+","+(J.node(Q).y-J.node(Q).height/2)+" )")})},"adjustEntities"),Wt=R(function(Z){return(Z.entityA+Z.roleA+Z.entityB).replace(/\s/g,"")},"getEdgeName"),iC0=R(function(Z,J){return Z.forEach(function(Q){J.setEdge(wW.get(Q.entityA),wW.get(Q.entityB),{relationship:Q},Wt(Q))}),Z},"addRelationships"),sC0=R(function(Z,J,Q,K,X){Gt++;const U=Q.edge(wW.get(J.entityA),wW.get(J.entityB),Wt(J)),Y=pJ().x(function(B){return B.x}).y(function(B){return B.y}).curve(o7),q=Z.insert("path","#"+K).classed("er relationshipLine",!0).attr("d",Y(U.points)).style("stroke",FJ.stroke).style("fill","none");if(J.relSpec.relType===X.db.Identification.NON_IDENTIFYING)q.attr("stroke-dasharray","8,8");let z="";if(FJ.arrowMarkerAbsolute)z=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,z=z.replace(/\(/g,"\\("),z=z.replace(/\)/g,"\\)");switch(J.relSpec.cardA){case X.db.Cardinality.ZERO_OR_ONE:q.attr("marker-end","url("+z+"#"+Z4.ERMarkers.ZERO_OR_ONE_END+")");break;case X.db.Cardinality.ZERO_OR_MORE:q.attr("marker-end","url("+z+"#"+Z4.ERMarkers.ZERO_OR_MORE_END+")");break;case X.db.Cardinality.ONE_OR_MORE:q.attr("marker-end","url("+z+"#"+Z4.ERMarkers.ONE_OR_MORE_END+")");break;case X.db.Cardinality.ONLY_ONE:q.attr("marker-end","url("+z+"#"+Z4.ERMarkers.ONLY_ONE_END+")");break;case X.db.Cardinality.MD_PARENT:q.attr("marker-end","url("+z+"#"+Z4.ERMarkers.MD_PARENT_END+")");break}switch(J.relSpec.cardB){case X.db.Cardinality.ZERO_OR_ONE:q.attr("marker-start","url("+z+"#"+Z4.ERMarkers.ZERO_OR_ONE_START+")");break;case X.db.Cardinality.ZERO_OR_MORE:q.attr("marker-start","url("+z+"#"+Z4.ERMarkers.ZERO_OR_MORE_START+")");break;case X.db.Cardinality.ONE_OR_MORE:q.attr("marker-start","url("+z+"#"+Z4.ERMarkers.ONE_OR_MORE_START+")");break;case X.db.Cardinality.ONLY_ONE:q.attr("marker-start","url("+z+"#"+Z4.ERMarkers.ONLY_ONE_START+")");break;case X.db.Cardinality.MD_PARENT:q.attr("marker-start","url("+z+"#"+Z4.ERMarkers.MD_PARENT_START+")");break}const G=q.node().getTotalLength(),H=q.node().getPointAtLength(G*0.5),W="rel"+Gt,M=Z.append("text").classed("er relationshipLabel",!0).attr("id",W).attr("x",H.x).attr("y",H.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",W0().fontFamily).style("font-size",FJ.fontSize+"px").text(J.roleA).node().getBBox();Z.insert("rect","#"+W).classed("er relationshipLabelBox",!0).attr("x",H.x-M.width/2).attr("y",H.y-M.height/2).attr("width",M.width).attr("height",M.height)},"drawRelationshipFromLayout"),rC0=R(function(Z,J,Q,K){FJ=W0().er,p.info("Drawing ER diagram");const X=W0().securityLevel;let U;if(X==="sandbox")U=$0("#i"+J);const q=(X==="sandbox"?$0(U.nodes()[0].contentDocument.body):$0("body")).select(`[id='${J}']`);Z4.insertMarkers(q,FJ);let z;z=new J8({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:FJ.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const G=lC0(q,K.db.getEntities(),z),H=iC0(K.db.getRelationships(),z);g6(z),dC0(q,z),H.forEach(function(O){sC0(q,O,z,G,K)});const W=FJ.diagramPadding;B9.insertTitle(q,"entityTitleText",FJ.titleTopMargin,K.db.getDiagramTitle());const F=q.node().getBBox(),M=F.width+W*2,B=F.height+W*2;R8(q,B,M,FJ.useMaxWidth),q.attr("viewBox",`${F.x-W} ${F.y-W} ${M} ${B}`)},"draw");R(Ft,"generateId");R(pV,"strWithHyphen");aC0={setConf:pC0,draw:rC0},oC0=R((Z)=>`
  .entityBox {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${Z.attributeBackgroundColorOdd};
    stroke: ${Z.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${Z.attributeBackgroundColorEven};
    stroke: ${Z.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${Z.tertiaryColor};
    opacity: 0.7;
    background-color: ${Z.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${Z.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${Z.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${Z.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),tC0=oC0,eC0={parser:vC0,db:uC0,renderer:aC0,styles:tC0}});function qY(Z,J){if(Z.accDescr)J.setAccDescription?.(Z.accDescr);if(Z.accTitle)J.setAccTitle?.(Z.accTitle);if(Z.title)J.setDiagramTitle?.(Z.title)}var OA=_(()=>{X8();R(qY,"populateCommonDb")});var AA;var lV=_(()=>{X8();AA=class{constructor(Z){this.init=Z,this.records=this.init()}static{R(this,"ImperativeState")}reset(){this.records=this.init()}}});function kZ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$type==="string"}function tJ(Z){return typeof Z==="object"&&Z!==null&&typeof Z.$refText==="string"}function dV(Z){return typeof Z==="object"&&Z!==null&&typeof Z.name==="string"&&typeof Z.type==="string"&&typeof Z.path==="string"}function zY(Z){return typeof Z==="object"&&Z!==null&&kZ(Z.container)&&tJ(Z.reference)&&typeof Z.message==="string"}function l6(Z){return typeof Z==="object"&&Z!==null&&Array.isArray(Z.content)}function $X(Z){return typeof Z==="object"&&Z!==null&&typeof Z.tokenType==="object"}function jW(Z){return l6(Z)&&typeof Z.fullText==="string"}class h1{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(Z,J){return kZ(Z)&&this.isSubtype(Z.$type,J)}isSubtype(Z,J){if(Z===J)return!0;let Q=this.subtypes[Z];if(!Q)Q=this.subtypes[Z]={};const K=Q[J];if(K!==void 0)return K;else{const X=this.computeIsSubtype(Z,J);return Q[J]=X,X}}getAllSubTypes(Z){const J=this.allSubtypes[Z];if(J)return J;else{const Q=this.getAllTypes(),K=[];for(let X of Q)if(this.isSubtype(X,Z))K.push(X);return this.allSubtypes[Z]=K,K}}}function ZP0(Z){if(typeof Z==="string")return Z;if(typeof Z==="undefined")return"undefined";if(typeof Z.toString==="function")return Z.toString();return Object.prototype.toString.call(Z)}function LA(Z){return!!Z&&typeof Z[Symbol.iterator]==="function"}function _8(...Z){if(Z.length===1){const J=Z[0];if(J instanceof MJ)return J;if(LA(J))return new MJ(()=>J[Symbol.iterator](),(Q)=>Q.next());if(typeof J.length==="number")return new MJ(()=>({index:0}),(Q)=>{if(Q.index<J.length)return{done:!1,value:J[Q.index++]};else return b7})}if(Z.length>1)return new MJ(()=>({collIndex:0,arrIndex:0}),(J)=>{do{if(J.iterator){const Q=J.iterator.next();if(!Q.done)return Q;J.iterator=void 0}if(J.array){if(J.arrIndex<J.array.length)return{done:!1,value:J.array[J.arrIndex++]};J.array=void 0,J.arrIndex=0}if(J.collIndex<Z.length){const Q=Z[J.collIndex++];if(LA(Q))J.iterator=Q[Symbol.iterator]();else if(Q&&typeof Q.length==="number")J.array=Q}}while(J.iterator||J.array||J.collIndex<Z.length);return b7});return CW}var MJ,CW,b7,G5,y1;var z6=_(()=>{MJ=class MJ{constructor(Z,J){this.startFn=Z,this.nextFn=J}iterator(){const Z={state:this.startFn(),next:()=>this.nextFn(Z.state),[Symbol.iterator]:()=>Z};return Z}[Symbol.iterator](){return this.iterator()}isEmpty(){const Z=this.iterator();return Boolean(Z.next().done)}count(){const Z=this.iterator();let J=0,Q=Z.next();while(!Q.done)J++,Q=Z.next();return J}toArray(){const Z=[],J=this.iterator();let Q;do if(Q=J.next(),Q.value!==void 0)Z.push(Q.value);while(!Q.done);return Z}toSet(){return new Set(this)}toMap(Z,J){const Q=this.map((K)=>[Z?Z(K):K,J?J(K):K]);return new Map(Q)}toString(){return this.join()}concat(Z){const J=Z[Symbol.iterator]();return new MJ(()=>({first:this.startFn(),firstDone:!1}),(Q)=>{let K;if(!Q.firstDone){do if(K=this.nextFn(Q.first),!K.done)return K;while(!K.done);Q.firstDone=!0}do if(K=J.next(),!K.done)return K;while(!K.done);return b7})}join(Z=","){const J=this.iterator();let Q="",K,X=!1;do{if(K=J.next(),!K.done){if(X)Q+=Z;Q+=ZP0(K.value)}X=!0}while(!K.done);return Q}indexOf(Z,J=0){const Q=this.iterator();let K=0,X=Q.next();while(!X.done){if(K>=J&&X.value===Z)return K;X=Q.next(),K++}return-1}every(Z){const J=this.iterator();let Q=J.next();while(!Q.done){if(!Z(Q.value))return!1;Q=J.next()}return!0}some(Z){const J=this.iterator();let Q=J.next();while(!Q.done){if(Z(Q.value))return!0;Q=J.next()}return!1}forEach(Z){const J=this.iterator();let Q=0,K=J.next();while(!K.done)Z(K.value,Q),K=J.next(),Q++}map(Z){return new MJ(this.startFn,(J)=>{const{done:Q,value:K}=this.nextFn(J);if(Q)return b7;else return{done:!1,value:Z(K)}})}filter(Z){return new MJ(this.startFn,(J)=>{let Q;do if(Q=this.nextFn(J),!Q.done&&Z(Q.value))return Q;while(!Q.done);return b7})}nonNullable(){return this.filter((Z)=>Z!==void 0&&Z!==null)}reduce(Z,J){const Q=this.iterator();let K=J,X=Q.next();while(!X.done){if(K===void 0)K=X.value;else K=Z(K,X.value);X=Q.next()}return K}reduceRight(Z,J){return this.recursiveReduce(this.iterator(),Z,J)}recursiveReduce(Z,J,Q){const K=Z.next();if(K.done)return Q;const X=this.recursiveReduce(Z,J,Q);if(X===void 0)return K.value;return J(X,K.value)}find(Z){const J=this.iterator();let Q=J.next();while(!Q.done){if(Z(Q.value))return Q.value;Q=J.next()}return}findIndex(Z){const J=this.iterator();let Q=0,K=J.next();while(!K.done){if(Z(K.value))return Q;K=J.next(),Q++}return-1}includes(Z){const J=this.iterator();let Q=J.next();while(!Q.done){if(Q.value===Z)return!0;Q=J.next()}return!1}flatMap(Z){return new MJ(()=>({this:this.startFn()}),(J)=>{do{if(J.iterator){const X=J.iterator.next();if(X.done)J.iterator=void 0;else return X}const{done:Q,value:K}=this.nextFn(J.this);if(!Q){const X=Z(K);if(LA(X))J.iterator=X[Symbol.iterator]();else return{done:!1,value:X}}}while(J.iterator);return b7})}flat(Z){if(Z===void 0)Z=1;if(Z<=0)return this;const J=Z>1?this.flat(Z-1):this;return new MJ(()=>({this:J.startFn()}),(Q)=>{do{if(Q.iterator){const U=Q.iterator.next();if(U.done)Q.iterator=void 0;else return U}const{done:K,value:X}=J.nextFn(Q.this);if(!K)if(LA(X))Q.iterator=X[Symbol.iterator]();else return{done:!1,value:X}}while(Q.iterator);return b7})}head(){const J=this.iterator().next();if(J.done)return;return J.value}tail(Z=1){return new MJ(()=>{const J=this.startFn();for(let Q=0;Q<Z;Q++)if(this.nextFn(J).done)return J;return J},this.nextFn)}limit(Z){return new MJ(()=>({size:0,state:this.startFn()}),(J)=>{if(J.size++,J.size>Z)return b7;return this.nextFn(J.state)})}distinct(Z){const J=new Set;return this.filter((Q)=>{const K=Z?Z(Q):Q;if(J.has(K))return!1;else return J.add(K),!0})}exclude(Z,J){const Q=new Set;for(let K of Z){const X=J?J(K):K;Q.add(X)}return this.filter((K)=>{const X=J?J(K):K;return!Q.has(X)})}};CW=new MJ(()=>{return},()=>b7),b7=Object.freeze({done:!0,value:void 0});G5=class G5 extends MJ{constructor(Z,J,Q){super(()=>({iterators:(Q===null||Q===void 0?void 0:Q.includeRoot)?[[Z][Symbol.iterator]()]:[J(Z)[Symbol.iterator]()],pruned:!1}),(K)=>{if(K.pruned)K.iterators.pop(),K.pruned=!1;while(K.iterators.length>0){const U=K.iterators[K.iterators.length-1].next();if(U.done)K.iterators.pop();else return K.iterators.push(J(U.value)[Symbol.iterator]()),U}return b7})}iterator(){const Z={state:this.startFn(),next:()=>this.nextFn(Z.state),prune:()=>{Z.state.pruned=!0},[Symbol.iterator]:()=>Z};return Z}};(function(Z){function J(U){return U.reduce((Y,q)=>Y+q,0)}Z.sum=J;function Q(U){return U.reduce((Y,q)=>Y*q,0)}Z.product=Q;function K(U){return U.reduce((Y,q)=>Math.min(Y,q))}Z.min=K;function X(U){return U.reduce((Y,q)=>Math.max(Y,q))}Z.max=X})(y1||(y1={}))});var DA={};q8(DA,{tokenToRange:()=>u1,toDocumentSegment:()=>HY,streamCst:()=>GY,isCommentNode:()=>iV,isChildNode:()=>sV,inRange:()=>rV,getStartlineNode:()=>XP0,getPreviousNode:()=>It,getNextNode:()=>KP0,getInteriorNodes:()=>UP0,flattenCst:()=>JP0,findLeafNodeBeforeOffset:()=>At,findLeafNodeAtOffset:()=>aV,findDeclarationNodeAtOffset:()=>QP0,findCommentNode:()=>nV,compareRange:()=>Ot,RangeComparison:()=>H5,DefaultNameRegexp:()=>IA});function GY(Z){return new G5(Z,(J)=>{if(l6(J))return J.content;else return[]},{includeRoot:!0})}function JP0(Z){return GY(Z).filter($X)}function sV(Z,J){while(Z.container)if(Z=Z.container,Z===J)return!0;return!1}function u1(Z){return{start:{character:Z.startColumn-1,line:Z.startLine-1},end:{character:Z.endColumn,line:Z.endLine-1}}}function HY(Z){if(!Z)return;const{offset:J,end:Q,range:K}=Z;return{range:K,offset:J,end:Q,length:Q-J}}function Ot(Z,J){if(Z.end.line<J.start.line||Z.end.line===J.start.line&&Z.end.character<Z.start.character)return H5.Before;else if(Z.start.line>J.end.line||Z.start.line===J.end.line&&Z.start.character>J.end.character)return H5.After;const Q=Z.start.line>J.start.line||Z.start.line===J.start.line&&Z.start.character>=J.start.character,K=Z.end.line<J.end.line||Z.end.line===J.end.line&&Z.end.character<=J.end.character;if(Q&&K)return H5.Inside;else if(Q)return H5.OverlapBack;else return H5.OverlapFront}function rV(Z,J){return Ot(Z,J)>H5.After}function QP0(Z,J,Q=IA){if(Z){if(J>0){const K=J-Z.offset,X=Z.text.charAt(K);if(!Q.test(X))J--}return aV(Z,J)}return}function nV(Z,J){if(Z){const Q=It(Z,!0);if(Q&&iV(Q,J))return Q;if(jW(Z)){const K=Z.content.findIndex((X)=>!X.hidden);for(let X=K-1;X>=0;X--){const U=Z.content[X];if(iV(U,J))return U}}}return}function iV(Z,J){return $X(Z)&&J.includes(Z.tokenType.name)}function aV(Z,J){if($X(Z))return Z;else if(l6(Z)){const Q=Lt(Z,J,!1);if(Q)return aV(Q,J)}return}function At(Z,J){if($X(Z))return Z;else if(l6(Z)){const Q=Lt(Z,J,!0);if(Q)return At(Q,J)}return}function Lt(Z,J,Q){let K=0,X=Z.content.length-1,U=void 0;while(K<=X){const Y=Math.floor((K+X)/2),q=Z.content[Y];if(q.offset<=J&&q.end>J)return q;if(q.end<=J)U=Q?q:void 0,K=Y+1;else X=Y-1}return U}function It(Z,J=!0){while(Z.container){const Q=Z.container;let K=Q.content.indexOf(Z);while(K>0){K--;const X=Q.content[K];if(J||!X.hidden)return X}Z=Q}return}function KP0(Z,J=!0){while(Z.container){const Q=Z.container;let K=Q.content.indexOf(Z);const X=Q.content.length-1;while(K<X){K++;const U=Q.content[K];if(J||!U.hidden)return U}Z=Q}return}function XP0(Z){if(Z.range.start.character===0)return Z;const J=Z.range.start.line;let Q=Z,K;while(Z.container){const X=Z.container,U=K!==null&&K!==void 0?K:X.content.indexOf(Z);if(U===0)Z=X,K=void 0;else K=U-1,Z=X.content[K];if(Z.range.start.line!==J)break;Q=Z}return Q}function UP0(Z,J){const Q=YP0(Z,J);if(!Q)return[];return Q.parent.content.slice(Q.a+1,Q.b)}function YP0(Z,J){const Q=Rt(Z),K=Rt(J);let X;for(let U=0;U<Q.length&&U<K.length;U++){const Y=Q[U],q=K[U];if(Y.parent===q.parent)X={parent:Y.parent,a:Y.index,b:q.index};else break}return X}function Rt(Z){const J=[];while(Z.container){const Q=Z.container,K=Q.content.indexOf(Z);J.push({parent:Q,index:K}),Z=Q}return J.reverse()}var H5,IA;var J4=_(()=>{z6();(function(Z){Z[Z.Before=0]="Before",Z[Z.After=1]="After",Z[Z.OverlapFront=2]="OverlapFront",Z[Z.OverlapBack=3]="OverlapBack",Z[Z.Inside=4]="Inside"})(H5||(H5={}));IA=/^[\w\p{L}]$/u});function _X(Z){throw new Error("Error! The input value was not handled.")}var m1;var NA=_(()=>{m1=class m1 extends Error{constructor(Z,J){super(Z?`${J} at ${Z.range.start.line}:${Z.range.start.character}`:J)}}});var vW={};q8(vW,{reflection:()=>m9,isWildcard:()=>aS,isValueLiteral:()=>MP0,isUntilToken:()=>rS,isUnorderedGroup:()=>fA,isUnionType:()=>CS,isTypeDefinition:()=>FP0,isTypeAttribute:()=>NP0,isType:()=>TW,isTerminalRuleCall:()=>TA,isTerminalRule:()=>EQ,isTerminalGroup:()=>lS,isTerminalAlternatives:()=>pS,isStringLiteral:()=>DP0,isSimpleType:()=>VA,isRuleCall:()=>K4,isReturnType:()=>DS,isRegexToken:()=>uS,isReferenceType:()=>IS,isPrimitiveType:()=>Dt,isParserRule:()=>R7,isParameterReference:()=>OS,isParameter:()=>IP0,isNumberLiteral:()=>LP0,isNegation:()=>FS,isNegatedToken:()=>hS,isNamedArgument:()=>AP0,isKeyword:()=>wQ,isInterface:()=>PA,isInferredType:()=>CA,isGroup:()=>bX,isGrammarImport:()=>OP0,isGrammar:()=>RP0,isFeatureName:()=>WP0,isEndOfFile:()=>$S,isDisjunction:()=>qS,isCrossReference:()=>WY,isConjunction:()=>US,isCondition:()=>HP0,isCharacterRange:()=>fS,isBooleanLiteral:()=>KS,isAssignment:()=>Q4,isArrayType:()=>JS,isArrayLiteral:()=>BP0,isAlternatives:()=>SA,isAction:()=>W5,isAbstractType:()=>GP0,isAbstractRule:()=>zP0,isAbstractElement:()=>SW,Wildcard:()=>nS,ValueLiteral:()=>wA,UntilToken:()=>sS,UnorderedGroup:()=>iS,UnionType:()=>jS,TypeDefinition:()=>oV,TypeAttribute:()=>jt,Type:()=>wS,TerminalRuleCall:()=>dS,TerminalRule:()=>jA,TerminalGroup:()=>cS,TerminalAlternatives:()=>gS,StringLiteral:()=>ES,SimpleType:()=>NS,RuleCall:()=>mS,ReturnType:()=>wt,RegexToken:()=>yS,ReferenceType:()=>LS,ParserRule:()=>AS,ParameterReference:()=>RS,Parameter:()=>BS,NumberLiteral:()=>MS,Negation:()=>WS,NegatedToken:()=>xS,NamedArgument:()=>Et,LangiumGrammarTerminals:()=>qP0,LangiumGrammarAstReflection:()=>fW,Keyword:()=>bS,Interface:()=>HS,InferredType:()=>GS,Group:()=>_S,GrammarImport:()=>Nt,Grammar:()=>zS,EndOfFile:()=>kS,Disjunction:()=>YS,CrossReference:()=>vS,Conjunction:()=>XS,Condition:()=>EA,CharacterRange:()=>TS,BooleanLiteral:()=>QS,Assignment:()=>SS,ArrayType:()=>ZS,ArrayLiteral:()=>eV,Alternatives:()=>VS,Action:()=>PS,AbstractType:()=>VW,AbstractRule:()=>PW,AbstractElement:()=>tV});function zP0(Z){return m9.isInstance(Z,PW)}function GP0(Z){return m9.isInstance(Z,VW)}function HP0(Z){return m9.isInstance(Z,EA)}function WP0(Z){return Dt(Z)||Z==="current"||Z==="entry"||Z==="extends"||Z==="false"||Z==="fragment"||Z==="grammar"||Z==="hidden"||Z==="import"||Z==="interface"||Z==="returns"||Z==="terminal"||Z==="true"||Z==="type"||Z==="infer"||Z==="infers"||Z==="with"||typeof Z==="string"&&/\^?[_a-zA-Z][\w_]*/.test(Z)}function Dt(Z){return Z==="string"||Z==="number"||Z==="boolean"||Z==="Date"||Z==="bigint"}function FP0(Z){return m9.isInstance(Z,oV)}function MP0(Z){return m9.isInstance(Z,wA)}function SW(Z){return m9.isInstance(Z,tV)}function BP0(Z){return m9.isInstance(Z,eV)}function JS(Z){return m9.isInstance(Z,ZS)}function KS(Z){return m9.isInstance(Z,QS)}function US(Z){return m9.isInstance(Z,XS)}function qS(Z){return m9.isInstance(Z,YS)}function RP0(Z){return m9.isInstance(Z,zS)}function OP0(Z){return m9.isInstance(Z,Nt)}function CA(Z){return m9.isInstance(Z,GS)}function PA(Z){return m9.isInstance(Z,HS)}function AP0(Z){return m9.isInstance(Z,Et)}function FS(Z){return m9.isInstance(Z,WS)}function LP0(Z){return m9.isInstance(Z,MS)}function IP0(Z){return m9.isInstance(Z,BS)}function OS(Z){return m9.isInstance(Z,RS)}function R7(Z){return m9.isInstance(Z,AS)}function IS(Z){return m9.isInstance(Z,LS)}function DS(Z){return m9.isInstance(Z,wt)}function VA(Z){return m9.isInstance(Z,NS)}function DP0(Z){return m9.isInstance(Z,ES)}function EQ(Z){return m9.isInstance(Z,jA)}function TW(Z){return m9.isInstance(Z,wS)}function NP0(Z){return m9.isInstance(Z,jt)}function CS(Z){return m9.isInstance(Z,jS)}function W5(Z){return m9.isInstance(Z,PS)}function SA(Z){return m9.isInstance(Z,VS)}function Q4(Z){return m9.isInstance(Z,SS)}function fS(Z){return m9.isInstance(Z,TS)}function WY(Z){return m9.isInstance(Z,vS)}function $S(Z){return m9.isInstance(Z,kS)}function bX(Z){return m9.isInstance(Z,_S)}function wQ(Z){return m9.isInstance(Z,bS)}function hS(Z){return m9.isInstance(Z,xS)}function uS(Z){return m9.isInstance(Z,yS)}function K4(Z){return m9.isInstance(Z,mS)}function pS(Z){return m9.isInstance(Z,gS)}function lS(Z){return m9.isInstance(Z,cS)}function TA(Z){return m9.isInstance(Z,dS)}function fA(Z){return m9.isInstance(Z,iS)}function rS(Z){return m9.isInstance(Z,sS)}function aS(Z){return m9.isInstance(Z,nS)}var qP0,PW="AbstractRule",VW="AbstractType",EA="Condition",oV="TypeDefinition",wA="ValueLiteral",tV="AbstractElement",eV="ArrayLiteral",ZS="ArrayType",QS="BooleanLiteral",XS="Conjunction",YS="Disjunction",zS="Grammar",Nt="GrammarImport",GS="InferredType",HS="Interface",Et="NamedArgument",WS="Negation",MS="NumberLiteral",BS="Parameter",RS="ParameterReference",AS="ParserRule",LS="ReferenceType",wt="ReturnType",NS="SimpleType",ES="StringLiteral",jA="TerminalRule",wS="Type",jt="TypeAttribute",jS="UnionType",PS="Action",VS="Alternatives",SS="Assignment",TS="CharacterRange",vS="CrossReference",kS="EndOfFile",_S="Group",bS="Keyword",xS="NegatedToken",yS="RegexToken",mS="RuleCall",gS="TerminalAlternatives",cS="TerminalGroup",dS="TerminalRuleCall",iS="UnorderedGroup",sS="UntilToken",nS="Wildcard",fW,m9;var QK=_(()=>{qP0={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/};fW=class fW extends h1{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(Z,J){switch(Z){case PS:case VS:case SS:case TS:case vS:case kS:case _S:case bS:case xS:case yS:case mS:case gS:case cS:case dS:case iS:case sS:case nS:return this.isSubtype(tV,J);case eV:case MS:case ES:return this.isSubtype(wA,J);case ZS:case LS:case NS:case jS:return this.isSubtype(oV,J);case QS:return this.isSubtype(EA,J)||this.isSubtype(wA,J);case XS:case YS:case WS:case RS:return this.isSubtype(EA,J);case GS:case HS:case wS:return this.isSubtype(VW,J);case AS:return this.isSubtype(PW,J)||this.isSubtype(VW,J);case jA:return this.isSubtype(PW,J);default:return!1}}getReferenceType(Z){const J=`${Z.container.$type}:${Z.property}`;switch(J){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return VW;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return PW;case"Grammar:usedGrammars":return zS;case"NamedArgument:parameter":case"ParameterReference:parameter":return BS;case"TerminalRuleCall:rule":return jA;default:throw new Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:Z,properties:[]}}}};m9=new fW});var kA={};q8(kA,{streamReferences:()=>g1,streamContents:()=>kW,streamAst:()=>jQ,streamAllContents:()=>KK,linkContentToContainer:()=>vA,hasContainerOfType:()=>EP0,getDocument:()=>BJ,getContainerOfType:()=>FY,findRootNode:()=>Ct,findLocalReferences:()=>wP0,copyAstNode:()=>tS,assignMandatoryProperties:()=>eS});function vA(Z){for(let[J,Q]of Object.entries(Z))if(!J.startsWith("$")){if(Array.isArray(Q))Q.forEach((K,X)=>{if(kZ(K))K.$container=Z,K.$containerProperty=J,K.$containerIndex=X});else if(kZ(Q))Q.$container=Z,Q.$containerProperty=J}}function FY(Z,J){let Q=Z;while(Q){if(J(Q))return Q;Q=Q.$container}return}function EP0(Z,J){let Q=Z;while(Q){if(J(Q))return!0;Q=Q.$container}return!1}function BJ(Z){const Q=Ct(Z).$document;if(!Q)throw new Error("AST node has no document.");return Q}function Ct(Z){while(Z.$container)Z=Z.$container;return Z}function kW(Z,J){if(!Z)throw new Error("Node must be an AstNode.");const Q=J===null||J===void 0?void 0:J.range;return new MJ(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(K)=>{while(K.keyIndex<K.keys.length){const X=K.keys[K.keyIndex];if(!X.startsWith("$")){const U=Z[X];if(kZ(U)){if(K.keyIndex++,oS(U,Q))return{done:!1,value:U}}else if(Array.isArray(U)){while(K.arrayIndex<U.length){const Y=K.arrayIndex++,q=U[Y];if(kZ(q)&&oS(q,Q))return{done:!1,value:q}}K.arrayIndex=0}}K.keyIndex++}return b7})}function KK(Z,J){if(!Z)throw new Error("Root node must be an AstNode.");return new G5(Z,(Q)=>kW(Q,J))}function jQ(Z,J){if(!Z)throw new Error("Root node must be an AstNode.");else if((J===null||J===void 0?void 0:J.range)&&!oS(Z,J.range))return new G5(Z,()=>[]);return new G5(Z,(Q)=>kW(Q,J),{includeRoot:!0})}function oS(Z,J){var Q;if(!J)return!0;const K=(Q=Z.$cstNode)===null||Q===void 0?void 0:Q.range;if(!K)return!1;return rV(K,J)}function g1(Z){return new MJ(()=>({keys:Object.keys(Z),keyIndex:0,arrayIndex:0}),(J)=>{while(J.keyIndex<J.keys.length){const Q=J.keys[J.keyIndex];if(!Q.startsWith("$")){const K=Z[Q];if(tJ(K))return J.keyIndex++,{done:!1,value:{reference:K,container:Z,property:Q}};else if(Array.isArray(K)){while(J.arrayIndex<K.length){const X=J.arrayIndex++,U=K[X];if(tJ(U))return{done:!1,value:{reference:U,container:Z,property:Q,index:X}}}J.arrayIndex=0}}J.keyIndex++}return b7})}function wP0(Z,J=BJ(Z).parseResult.value){const Q=[];return jQ(J).forEach((K)=>{g1(K).forEach((X)=>{if(X.reference.ref===Z)Q.push(X.reference)})}),_8(Q)}function eS(Z,J){const Q=Z.getTypeMetaData(J.$type),K=J;for(let X of Q.properties)if(X.defaultValue!==void 0&&K[X.name]===void 0)K[X.name]=Pt(X.defaultValue)}function Pt(Z){if(Array.isArray(Z))return[...Z.map(Pt)];else return Z}function tS(Z,J){const Q={$type:Z.$type};for(let[K,X]of Object.entries(Z))if(!K.startsWith("$"))if(kZ(X))Q[K]=tS(X,J);else if(tJ(X))Q[K]=J(Q,K,X.$refNode,X.$refText);else if(Array.isArray(X)){const U=[];for(let Y of X)if(kZ(Y))U.push(tS(Y,J));else if(tJ(Y))U.push(J(Q,K,Y.$refNode,Y.$refText));else U.push(Y);Q[K]=U}else Q[K]=X;return vA(Q),Q}var x7=_(()=>{z6();J4()});function h9(Z){return Z.charCodeAt(0)}function $A(Z,J){if(Array.isArray(Z))Z.forEach(function(Q){J.push(Q)});else J.push(Z)}function p1(Z,J){if(Z[J]===!0)throw"duplicate flag "+J;const Q=Z[J];Z[J]=!0}function MY(Z){if(Z===void 0)throw Error("Internal Error - Should never get here!");return!0}function $W(){throw Error("Internal Error - Should never get here!")}function ZT(Z){return Z.type==="Character"}var _W,bW,JT;var Vt=_(()=>{_W=[];for(let Z=h9("0");Z<=h9("9");Z++)_W.push(Z);bW=[h9("_")].concat(_W);for(let Z=h9("a");Z<=h9("z");Z++)bW.push(Z);for(let Z=h9("A");Z<=h9("Z");Z++)bW.push(Z);JT=[h9(" "),h9("\f"),h9("\n"),h9("\r"),h9("\t"),h9("\v"),h9("\t"),h9("\xA0"),h9("\u1680"),h9("\u2000"),h9("\u2001"),h9("\u2002"),h9("\u2003"),h9("\u2004"),h9("\u2005"),h9("\u2006"),h9("\u2007"),h9("\u2008"),h9("\u2009"),h9("\u200A"),h9("\u2028"),h9("\u2029"),h9("\u202F"),h9("\u205F"),h9("\u3000"),h9("\uFEFF")]});class c1{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(Z){this.idx=Z.idx,this.input=Z.input,this.groupIdx=Z.groupIdx}pattern(Z){this.idx=0,this.input=Z,this.groupIdx=0,this.consumeChar("/");const J=this.disjunction();this.consumeChar("/");const Q={type:"Flags",loc:{begin:this.idx,end:Z.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":p1(Q,"global");break;case"i":p1(Q,"ignoreCase");break;case"m":p1(Q,"multiLine");break;case"u":p1(Q,"unicode");break;case"y":p1(Q,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:Q,value:J,loc:this.loc(0)}}disjunction(){const Z=[],J=this.idx;Z.push(this.alternative());while(this.peekChar()==="|")this.consumeChar("|"),Z.push(this.alternative());return{type:"Disjunction",value:Z,loc:this.loc(J)}}alternative(){const Z=[],J=this.idx;while(this.isTerm())Z.push(this.term());return{type:"Alternative",value:Z,loc:this.loc(J)}}term(){if(this.isAssertion())return this.assertion();else return this.atom()}assertion(){const Z=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(Z)};case"$":return{type:"EndAnchor",loc:this.loc(Z)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(Z)};case"B":return{type:"NonWordBoundary",loc:this.loc(Z)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let J;switch(this.popChar()){case"=":J="Lookahead";break;case"!":J="NegativeLookahead";break}MY(J);const Q=this.disjunction();return this.consumeChar(")"),{type:J,value:Q,loc:this.loc(Z)}}return $W()}quantifier(Z=!1){let J=void 0;const Q=this.idx;switch(this.popChar()){case"*":J={atLeast:0,atMost:1/0};break;case"+":J={atLeast:1,atMost:1/0};break;case"?":J={atLeast:0,atMost:1};break;case"{":const K=this.integerIncludingZero();switch(this.popChar()){case"}":J={atLeast:K,atMost:K};break;case",":let X;if(this.isDigit())X=this.integerIncludingZero(),J={atLeast:K,atMost:X};else J={atLeast:K,atMost:1/0};this.consumeChar("}");break}if(Z===!0&&J===void 0)return;MY(J);break}if(Z===!0&&J===void 0)return;if(MY(J)){if(this.peekChar(0)==="?")this.consumeChar("?"),J.greedy=!1;else J.greedy=!0;return J.type="Quantifier",J.loc=this.loc(Q),J}}atom(){let Z;const J=this.idx;switch(this.peekChar()){case".":Z=this.dotAll();break;case"\\":Z=this.atomEscape();break;case"[":Z=this.characterClass();break;case"(":Z=this.group();break}if(Z===void 0&&this.isPatternCharacter())Z=this.patternCharacter();if(MY(Z)){if(Z.loc=this.loc(J),this.isQuantifier())Z.quantifier=this.quantifier();return Z}return $W()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[h9("\n"),h9("\r"),h9("\u2028"),h9("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let Z,J=!1;switch(this.popChar()){case"d":Z=_W;break;case"D":Z=_W,J=!0;break;case"s":Z=JT;break;case"S":Z=JT,J=!0;break;case"w":Z=bW;break;case"W":Z=bW,J=!0;break}if(MY(Z))return{type:"Set",value:Z,complement:J};return $W()}controlEscapeAtom(){let Z;switch(this.popChar()){case"f":Z=h9("\f");break;case"n":Z=h9("\n");break;case"r":Z=h9("\r");break;case"t":Z=h9("\t");break;case"v":Z=h9("\v");break}if(MY(Z))return{type:"Character",value:Z};return $W()}controlLetterEscapeAtom(){this.consumeChar("c");const Z=this.popChar();if(/[a-zA-Z]/.test(Z)===!1)throw Error("Invalid ");return{type:"Character",value:Z.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:h9("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const Z=this.popChar();return{type:"Character",value:h9(Z)}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const Z=this.popChar();return{type:"Character",value:h9(Z)}}}characterClass(){const Z=[];let J=!1;if(this.consumeChar("["),this.peekChar(0)==="^")this.consumeChar("^"),J=!0;while(this.isClassAtom()){const Q=this.classAtom(),K=Q.type==="Character";if(ZT(Q)&&this.isRangeDash()){this.consumeChar("-");const X=this.classAtom(),U=X.type==="Character";if(ZT(X)){if(X.value<Q.value)throw Error("Range out of order in character class");Z.push({from:Q.value,to:X.value})}else $A(Q.value,Z),Z.push(h9("-")),$A(X.value,Z)}else $A(Q.value,Z)}return this.consumeChar("]"),{type:"Set",complement:J,value:Z}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:h9("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let Z=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),Z=!1;break;default:this.groupIdx++;break}const J=this.disjunction();this.consumeChar(")");const Q={type:"Group",capturing:Z,value:J};if(Z)Q.idx=this.groupIdx;return Q}positiveInteger(){let Z=this.popChar();if(CP0.test(Z)===!1)throw Error("Expecting a positive integer");while(_A.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}integerIncludingZero(){let Z=this.popChar();if(_A.test(Z)===!1)throw Error("Expecting an integer");while(_A.test(this.peekChar(0)))Z+=this.popChar();return parseInt(Z,10)}patternCharacter(){const Z=this.popChar();switch(Z){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:h9(Z)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return _A.test(this.peekChar(0))}isClassAtom(Z=0){switch(this.peekChar(Z)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const Z=this.saveState();try{return this.quantifier(!0)!==void 0}catch(J){return!1}finally{this.restoreState(Z)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(Z){let J="";for(let K=0;K<Z;K++){const X=this.popChar();if(jP0.test(X)===!1)throw Error("Expecting a HexDecimal digits");J+=X}return{type:"Character",value:parseInt(J,16)}}peekChar(Z=0){return this.input[this.idx+Z]}popChar(){const Z=this.peekChar(0);return this.consumeChar(void 0),Z}consumeChar(Z){if(Z!==void 0&&this.input[this.idx]!==Z)throw Error("Expected: '"+Z+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(Z){return{begin:Z,end:this.idx}}}var jP0,_A,CP0;var St=_(()=>{Vt();jP0=/[0-9a-fA-F]/,_A=/[0-9]/,CP0=/[1-9]/});class F5{visitChildren(Z){for(let J in Z){const Q=Z[J];if(Z.hasOwnProperty(J)){if(Q.type!==void 0)this.visit(Q);else if(Array.isArray(Q))Q.forEach((K)=>{this.visit(K)},this)}}}visit(Z){switch(Z.type){case"Pattern":this.visitPattern(Z);break;case"Flags":this.visitFlags(Z);break;case"Disjunction":this.visitDisjunction(Z);break;case"Alternative":this.visitAlternative(Z);break;case"StartAnchor":this.visitStartAnchor(Z);break;case"EndAnchor":this.visitEndAnchor(Z);break;case"WordBoundary":this.visitWordBoundary(Z);break;case"NonWordBoundary":this.visitNonWordBoundary(Z);break;case"Lookahead":this.visitLookahead(Z);break;case"NegativeLookahead":this.visitNegativeLookahead(Z);break;case"Character":this.visitCharacter(Z);break;case"Set":this.visitSet(Z);break;case"Group":this.visitGroup(Z);break;case"GroupBackReference":this.visitGroupBackReference(Z);break;case"Quantifier":this.visitQuantifier(Z);break}this.visitChildren(Z)}visitPattern(Z){}visitFlags(Z){}visitDisjunction(Z){}visitAlternative(Z){}visitStartAnchor(Z){}visitEndAnchor(Z){}visitWordBoundary(Z){}visitNonWordBoundary(Z){}visitLookahead(Z){}visitNegativeLookahead(Z){}visitCharacter(Z){}visitSet(Z){}visitGroup(Z){}visitGroupBackReference(Z){}visitQuantifier(Z){}}var xW=_(()=>{St()});var xA={};q8(xA,{partialRegExp:()=>vt,partialMatches:()=>UT,isWhitespace:()=>bA,isMultilineComment:()=>KT,getTerminalParts:()=>PP0,getCaseInsensitivePattern:()=>XT,escapeRegExp:()=>RY,NEWLINE_REGEXP:()=>QT});function PP0(Z){try{if(typeof Z!=="string")Z=Z.source;Z=`/${Z}/`;const J=Tt.pattern(Z),Q=[];for(let K of J.value.value)BY.reset(Z),BY.visit(K),Q.push({start:BY.startRegexp,end:BY.endRegex});return Q}catch(J){return[]}}function KT(Z){try{if(typeof Z==="string")Z=new RegExp(Z);return Z=Z.toString(),BY.reset(Z),BY.visit(Tt.pattern(Z)),BY.multiline}catch(J){return!1}}function bA(Z){return(typeof Z==="string"?new RegExp(Z):Z).test(" ")}function RY(Z){return Z.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function XT(Z){return Array.prototype.map.call(Z,(J)=>/\w/.test(J)?`[${J.toLowerCase()}${J.toUpperCase()}]`:RY(J)).join("")}function UT(Z,J){const Q=vt(Z),K=J.match(Q);return!!K&&K[0].length>0}function vt(Z){if(typeof Z==="string")Z=new RegExp(Z);const J=Z,Q=Z.source;let K=0;function X(){let U="",Y;function q(G){U+=Q.substr(K,G),K+=G}function z(G){U+="(?:"+Q.substr(K,G)+"|$)",K+=G}while(K<Q.length)switch(Q[K]){case"\\":switch(Q[K+1]){case"c":z(3);break;case"x":z(4);break;case"u":if(J.unicode)if(Q[K+2]==="{")z(Q.indexOf("}",K)-K+1);else z(6);else z(2);break;case"p":case"P":if(J.unicode)z(Q.indexOf("}",K)-K+1);else z(2);break;case"k":z(Q.indexOf(">",K)-K+1);break;default:z(2);break}break;case"[":Y=/\[(?:\\.|.)*?\]/g,Y.lastIndex=K,Y=Y.exec(Q)||[],z(Y[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":q(1);break;case"{":if(Y=/\{\d+,?\d*\}/g,Y.lastIndex=K,Y=Y.exec(Q),Y)q(Y[0].length);else z(1);break;case"(":if(Q[K+1]==="?")switch(Q[K+2]){case":":U+="(?:",K+=3,U+=X()+"|$)";break;case"=":U+="(?=",K+=3,U+=X()+")";break;case"!":Y=K,K+=3,X(),U+=Q.substr(Y,K-Y);break;case"<":switch(Q[K+3]){case"=":case"!":Y=K,K+=4,X(),U+=Q.substr(Y,K-Y);break;default:q(Q.indexOf(">",K)-K+1),U+=X()+"|$)";break}break}else q(1),U+=X()+"|$)";break;case")":return++K,U;default:z(1);break}return U}return new RegExp(X(),Z.flags)}var QT,Tt,ft,BY;var l1=_(()=>{xW();QT=/\r?\n/gm,Tt=new c1;ft=class ft extends F5{constructor(){super(...arguments);this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(Z){this.multiline=!1,this.regex=Z,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(Z){if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[]}visitCharacter(Z){const J=String.fromCharCode(Z.value);if(!this.multiline&&J==="\n")this.multiline=!0;if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const Q=RY(J);if(this.endRegexpStack.push(Q),this.isStarting)this.startRegexp+=Q}}visitSet(Z){if(!this.multiline){const J=this.regex.substring(Z.loc.begin,Z.loc.end),Q=new RegExp(J);this.multiline=Boolean("\n".match(Q))}if(Z.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{const J=this.regex.substring(Z.loc.begin,Z.loc.end);if(this.endRegexpStack.push(J),this.isStarting)this.startRegexp+=J}}visitChildren(Z){if(Z.type==="Group"){if(Z.quantifier)return}super.visitChildren(Z)}};BY=new ft});var yA={};q8(yA,{terminalRegex:()=>d1,isOptionalCardinality:()=>SP0,isDataTypeRule:()=>uW,isDataType:()=>vP0,isCommentTerminal:()=>GT,isArrayOperator:()=>fP0,isArrayCardinality:()=>TP0,getTypeName:()=>OY,getRuleType:()=>OT,getHiddenRules:()=>$t,getExplicitRuleType:()=>RT,getEntryRule:()=>kt,getCrossReferenceTerminal:()=>zT,getAllReachableRules:()=>hW,getActionType:()=>yt,getActionAtElement:()=>xt,findNodesForProperty:()=>HT,findNodesForKeywordInternal:()=>MT,findNodesForKeyword:()=>VP0,findNodeForProperty:()=>yW,findNodeForKeyword:()=>FT,findNameAssignment:()=>hA,findAssignment:()=>BT});function kt(Z){return Z.rules.find((J)=>R7(J)&&J.entry)}function $t(Z){return Z.rules.filter((J)=>EQ(J)&&J.hidden)}function hW(Z,J){const Q=new Set,K=kt(Z);if(!K)return new Set(Z.rules);const X=[K].concat($t(Z));for(let Y of X)_t(Y,Q,J);const U=new Set;for(let Y of Z.rules)if(Q.has(Y.name)||EQ(Y)&&Y.hidden)U.add(Y);return U}function _t(Z,J,Q){J.add(Z.name),KK(Z).forEach((K)=>{if(K4(K)||Q&&TA(K)){const X=K.rule.ref;if(X&&!J.has(X.name))_t(X,J,Q)}})}function zT(Z){if(Z.terminal)return Z.terminal;else if(Z.type.ref){const J=hA(Z.type.ref);return J===null||J===void 0?void 0:J.terminal}return}function GT(Z){return Z.hidden&&!d1(Z).test(" ")}function HT(Z,J){if(!Z||!J)return[];return WT(Z,J,Z.astNode,!0)}function yW(Z,J,Q){if(!Z||!J)return;const K=WT(Z,J,Z.astNode,!0);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function WT(Z,J,Q,K){if(!K){const X=FY(Z.grammarSource,Q4);if(X&&X.feature===J)return[Z]}if(l6(Z)&&Z.astNode===Q)return Z.content.flatMap((X)=>WT(X,J,Q,!1));return[]}function VP0(Z,J){if(!Z)return[];return MT(Z,J,Z===null||Z===void 0?void 0:Z.astNode)}function FT(Z,J,Q){if(!Z)return;const K=MT(Z,J,Z===null||Z===void 0?void 0:Z.astNode);if(K.length===0)return;if(Q!==void 0)Q=Math.max(0,Math.min(Q,K.length-1));else Q=0;return K[Q]}function MT(Z,J,Q){if(Z.astNode!==Q)return[];if(wQ(Z.grammarSource)&&Z.grammarSource.value===J)return[Z];const K=GY(Z).iterator();let X;const U=[];do if(X=K.next(),!X.done){const Y=X.value;if(Y.astNode===Q){if(wQ(Y.grammarSource)&&Y.grammarSource.value===J)U.push(Y)}else K.prune()}while(!X.done);return U}function BT(Z){var J;const Q=Z.astNode;while(Q===((J=Z.container)===null||J===void 0?void 0:J.astNode)){const K=FY(Z.grammarSource,Q4);if(K)return K;Z=Z.container}return}function hA(Z){let J=Z;if(CA(J))if(W5(J.$container))J=J.$container.$container;else if(R7(J.$container))J=J.$container;else _X(J.$container);return bt(Z,J,new Map)}function bt(Z,J,Q){var K;function X(U,Y){let q=void 0;if(!FY(U,Q4))q=bt(Y,Y,Q);return Q.set(Z,q),q}if(Q.has(Z))return Q.get(Z);Q.set(Z,void 0);for(let U of KK(J))if(Q4(U)&&U.feature.toLowerCase()==="name")return Q.set(Z,U),U;else if(K4(U)&&R7(U.rule.ref))return X(U,U.rule.ref);else if(VA(U)&&((K=U.typeRef)===null||K===void 0?void 0:K.ref))return X(U,U.typeRef.ref);return}function xt(Z){const J=Z.$container;if(bX(J)){const Q=J.elements,K=Q.indexOf(Z);for(let X=K-1;X>=0;X--){const U=Q[X];if(W5(U))return U;else{const Y=KK(Q[X]).find(W5);if(Y)return Y}}}if(SW(J))return xt(J);else return}function SP0(Z,J){return Z==="?"||Z==="*"||bX(J)&&Boolean(J.guardCondition)}function TP0(Z){return Z==="*"||Z==="+"}function fP0(Z){return Z==="+="}function uW(Z){return ht(Z,new Set)}function ht(Z,J){if(J.has(Z))return!0;else J.add(Z);for(let Q of KK(Z))if(K4(Q)){if(!Q.rule.ref)return!1;if(R7(Q.rule.ref)&&!ht(Q.rule.ref,J))return!1}else if(Q4(Q))return!1;else if(W5(Q))return!1;return Boolean(Z.definition)}function vP0(Z){return qT(Z.type,new Set)}function qT(Z,J){if(J.has(Z))return!0;else J.add(Z);if(JS(Z))return!1;else if(IS(Z))return!1;else if(CS(Z))return Z.types.every((Q)=>qT(Q,J));else if(VA(Z))if(Z.primitiveType!==void 0)return!0;else if(Z.stringType!==void 0)return!0;else if(Z.typeRef!==void 0){const Q=Z.typeRef.ref;if(TW(Q))return qT(Q.type,J);else return!1}else return!1;else return!1}function RT(Z){if(Z.inferredType)return Z.inferredType.name;else if(Z.dataType)return Z.dataType;else if(Z.returnType){const J=Z.returnType.ref;if(J){if(R7(J))return J.name;else if(PA(J)||TW(J))return J.name}}return}function OY(Z){var J;if(R7(Z))return uW(Z)?Z.name:(J=RT(Z))!==null&&J!==void 0?J:Z.name;else if(PA(Z)||TW(Z)||DS(Z))return Z.name;else if(W5(Z)){const Q=yt(Z);if(Q)return Q}else if(CA(Z))return Z.name;throw new Error("Cannot get name of Unknown Type")}function yt(Z){var J;if(Z.inferredType)return Z.inferredType.name;else if((J=Z.type)===null||J===void 0?void 0:J.ref)return OY(Z.type.ref);return}function OT(Z){var J,Q,K;if(EQ(Z))return(Q=(J=Z.type)===null||J===void 0?void 0:J.name)!==null&&Q!==void 0?Q:"string";else return uW(Z)?Z.name:(K=RT(Z))!==null&&K!==void 0?K:Z.name}function d1(Z){const J={s:!1,i:!1,u:!1},Q=i1(Z.definition,J),K=Object.entries(J).filter(([,X])=>X).map(([X])=>X).join("");return new RegExp(Q,K)}function i1(Z,J){if(pS(Z))return kP0(Z);else if(lS(Z))return $P0(Z);else if(fS(Z))return xP0(Z);else if(TA(Z)){const Q=Z.rule.ref;if(!Q)throw new Error("Missing rule reference.");return M5(i1(Q.definition),{cardinality:Z.cardinality,lookahead:Z.lookahead})}else if(hS(Z))return bP0(Z);else if(rS(Z))return _P0(Z);else if(uS(Z)){const Q=Z.regex.lastIndexOf("/"),K=Z.regex.substring(1,Q),X=Z.regex.substring(Q+1);if(J)J.i=X.includes("i"),J.s=X.includes("s"),J.u=X.includes("u");return M5(K,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}else if(aS(Z))return M5(AT,{cardinality:Z.cardinality,lookahead:Z.lookahead});else throw new Error(`Invalid terminal element: ${Z===null||Z===void 0?void 0:Z.$type}`)}function kP0(Z){return M5(Z.elements.map((J)=>i1(J)).join("|"),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function $P0(Z){return M5(Z.elements.map((J)=>i1(J)).join(""),{cardinality:Z.cardinality,lookahead:Z.lookahead})}function _P0(Z){return M5(`${AT}*?${i1(Z.terminal)}`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function bP0(Z){return M5(`(?!${i1(Z.terminal)})${AT}*?`,{cardinality:Z.cardinality,lookahead:Z.lookahead})}function xP0(Z){if(Z.right)return M5(`[${YT(Z.left)}-${YT(Z.right)}]`,{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1});return M5(YT(Z.left),{cardinality:Z.cardinality,lookahead:Z.lookahead,wrap:!1})}function YT(Z){return RY(Z.value)}function M5(Z,J){var Q;if(J.wrap!==!1||J.lookahead)Z=`(${(Q=J.lookahead)!==null&&Q!==void 0?Q:""}${Z})`;if(J.cardinality)return`${Z}${J.cardinality}`;return Z}var AT;var X4=_(()=>{NA();QK();x7();J4();l1();AT=/[\s\S]/.source});function LT(Z){const J=[],Q=Z.Grammar;for(let K of Q.rules)if(EQ(K)&&GT(K)&&KT(d1(K)))J.push(K.name);return{multilineCommentRules:J,nameRegexp:IA}}var IT=_(()=>{J4();X4();l1();QK()});function s1(Z){if(console&&console.error)console.error(`Error: ${Z}`)}function mW(Z){if(console&&console.warn)console.warn(`Warning: ${Z}`)}function gW(Z){const J=new Date().getTime(),Q=Z();return{time:new Date().getTime()-J,value:Q}}function pW(Z){function J(){}J.prototype=Z;const Q=new J;function K(){return typeof Q.bar}return K(),K(),Z;(0,eval)(Z)}var r1=()=>{};function hP0(Z){if(yP0(Z))return Z.LABEL;else return Z.name}function yP0(Z){return nZ(Z.LABEL)&&Z.LABEL!==""}function uA(Z){return p0(Z,n1)}function n1(Z){function J(Q){return p0(Q,n1)}if(Z instanceof p8){const Q={type:"NonTerminal",name:Z.nonTerminalName,idx:Z.idx};if(nZ(Z.label))Q.label=Z.label;return Q}else if(Z instanceof MZ)return{type:"Alternative",definition:J(Z.definition)};else if(Z instanceof c8)return{type:"Option",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof BZ)return{type:"RepetitionMandatory",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof RZ)return{type:"RepetitionMandatoryWithSeparator",idx:Z.idx,separator:n1(new U8({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof UZ)return{type:"RepetitionWithSeparator",idx:Z.idx,separator:n1(new U8({terminalType:Z.separator})),definition:J(Z.definition)};else if(Z instanceof W8)return{type:"Repetition",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof YZ)return{type:"Alternation",idx:Z.idx,definition:J(Z.definition)};else if(Z instanceof U8){const Q={type:"Terminal",name:Z.terminalType.name,label:hP0(Z.terminalType),idx:Z.idx};if(nZ(Z.label))Q.terminalLabel=Z.label;const K=Z.terminalType.PATTERN;if(Z.terminalType.PATTERN)Q.pattern=BQ(K)?K.source:K;return Q}else if(Z instanceof G6)return{type:"Rule",name:Z.name,orgText:Z.orgText,definition:J(Z.definition)};else throw Error("non exhaustive match")}class CQ{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){this._definition=Z}accept(Z){Z.visit(this),D0(this.definition,(J)=>{J.accept(Z)})}}class U8{constructor(Z){this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}accept(Z){Z.visit(this)}}var p8,G6,MZ,c8,BZ,RZ,W8,UZ,YZ;var mA=_(()=>{E9();p8=class p8 extends CQ{constructor(Z){super([]);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}set definition(Z){}get definition(){if(this.referencedRule!==void 0)return this.referencedRule.definition;return[]}accept(Z){Z.visit(this)}};G6=class G6 extends CQ{constructor(Z){super(Z.definition);this.orgText="",sJ(this,Y6(Z,(J)=>J!==void 0))}};MZ=class MZ extends CQ{constructor(Z){super(Z.definition);this.ignoreAmbiguities=!1,sJ(this,Y6(Z,(J)=>J!==void 0))}};c8=class c8 extends CQ{constructor(Z){super(Z.definition);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}};BZ=class BZ extends CQ{constructor(Z){super(Z.definition);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}};RZ=class RZ extends CQ{constructor(Z){super(Z.definition);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}};W8=class W8 extends CQ{constructor(Z){super(Z.definition);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}};UZ=class UZ extends CQ{constructor(Z){super(Z.definition);this.idx=1,sJ(this,Y6(Z,(J)=>J!==void 0))}};YZ=class YZ extends CQ{get definition(){return this._definition}set definition(Z){this._definition=Z}constructor(Z){super(Z.definition);this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,sJ(this,Y6(Z,(J)=>J!==void 0))}}});class H6{visit(Z){const J=Z;switch(J.constructor){case p8:return this.visitNonTerminal(J);case MZ:return this.visitAlternative(J);case c8:return this.visitOption(J);case BZ:return this.visitRepetitionMandatory(J);case RZ:return this.visitRepetitionMandatoryWithSeparator(J);case UZ:return this.visitRepetitionWithSeparator(J);case W8:return this.visitRepetition(J);case YZ:return this.visitAlternation(J);case U8:return this.visitTerminal(J);case G6:return this.visitRule(J);default:throw Error("non exhaustive match")}}visitNonTerminal(Z){}visitAlternative(Z){}visitOption(Z){}visitRepetition(Z){}visitRepetitionMandatory(Z){}visitRepetitionMandatoryWithSeparator(Z){}visitRepetitionWithSeparator(Z){}visitAlternation(Z){}visitTerminal(Z){}visitRule(Z){}}var ut=_(()=>{mA()});function DT(Z){return Z instanceof MZ||Z instanceof c8||Z instanceof W8||Z instanceof BZ||Z instanceof RZ||Z instanceof UZ||Z instanceof U8||Z instanceof G6}function AY(Z,J=[]){if(Z instanceof c8||Z instanceof W8||Z instanceof UZ)return!0;if(Z instanceof YZ)return UW(Z.definition,(K)=>{return AY(K,J)});else if(Z instanceof p8&&DZ(J,Z))return!1;else if(Z instanceof CQ){if(Z instanceof p8)J.push(Z);return M7(Z.definition,(K)=>{return AY(K,J)})}else return!1}function NT(Z){return Z instanceof YZ}function W6(Z){if(Z instanceof p8)return"SUBRULE";else if(Z instanceof c8)return"OPTION";else if(Z instanceof YZ)return"OR";else if(Z instanceof BZ)return"AT_LEAST_ONE";else if(Z instanceof RZ)return"AT_LEAST_ONE_SEP";else if(Z instanceof UZ)return"MANY_SEP";else if(Z instanceof W8)return"MANY";else if(Z instanceof U8)return"CONSUME";else throw Error("non exhaustive match")}var mt=_(()=>{E9();mA()});var h7=_(()=>{mA();ut();mt()});function gt(Z,J,Q){return[new c8({definition:[new U8({terminalType:Z.separator})].concat(Z.definition)})].concat(J,Q)}class xX{walk(Z,J=[]){D0(Z.definition,(Q,K)=>{const X=rZ(Z.definition,K+1);if(Q instanceof p8)this.walkProdRef(Q,X,J);else if(Q instanceof U8)this.walkTerminal(Q,X,J);else if(Q instanceof MZ)this.walkFlat(Q,X,J);else if(Q instanceof c8)this.walkOption(Q,X,J);else if(Q instanceof BZ)this.walkAtLeastOne(Q,X,J);else if(Q instanceof RZ)this.walkAtLeastOneSep(Q,X,J);else if(Q instanceof UZ)this.walkManySep(Q,X,J);else if(Q instanceof W8)this.walkMany(Q,X,J);else if(Q instanceof YZ)this.walkOr(Q,X,J);else throw Error("non exhaustive match")})}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){}walkFlat(Z,J,Q){const K=J.concat(Q);this.walk(Z,K)}walkOption(Z,J,Q){const K=J.concat(Q);this.walk(Z,K)}walkAtLeastOne(Z,J,Q){const K=[new c8({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkAtLeastOneSep(Z,J,Q){const K=gt(Z,J,Q);this.walk(Z,K)}walkMany(Z,J,Q){const K=[new c8({definition:Z.definition})].concat(J,Q);this.walk(Z,K)}walkManySep(Z,J,Q){const K=gt(Z,J,Q);this.walk(Z,K)}walkOr(Z,J,Q){const K=J.concat(Q);D0(Z.definition,(X)=>{const U=new MZ({definition:[X]});this.walk(U,K)})}}var gA=_(()=>{E9();h7()});function LY(Z){if(Z instanceof p8)return LY(Z.referencedRule);else if(Z instanceof U8)return gP0(Z);else if(DT(Z))return uP0(Z);else if(NT(Z))return mP0(Z);else throw Error("non exhaustive match")}function uP0(Z){let J=[];const Q=Z.definition;let K=0,X=Q.length>K,U,Y=!0;while(X&&Y)U=Q[K],Y=AY(U),J=J.concat(LY(U)),K=K+1,X=Q.length>K;return S1(J)}function mP0(Z){const J=p0(Z.definition,(Q)=>{return LY(Q)});return S1(j8(J))}function gP0(Z){return[Z.terminalType]}var ET=_(()=>{E9();h7()});var pA="_~IN~_";function ct(Z){const J={};return D0(Z,(Q)=>{const K=new pt(Q).startWalking();sJ(J,K)}),J}function pP0(Z,J){return Z.name+J+pA}var pt;var lt=_(()=>{gA();ET();E9();h7();pt=class pt extends xX{constructor(Z){super();this.topProd=Z,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(Z,J,Q){}walkProdRef(Z,J,Q){const K=pP0(Z.referencedRule,Z.idx)+this.topProd.name,X=J.concat(Q),U=new MZ({definition:X}),Y=LY(U);this.follows[K]=Y}}});function a1(Z){const J=Z.toString();if(cA.hasOwnProperty(J))return cA[J];else{const Q=cP0.pattern(J);return cA[J]=Q,Q}}function dt(){cA={}}var cA,cP0;var lA=_(()=>{xW();cA={},cP0=new c1});function rt(Z,J=!1){try{const Q=a1(Z);return wT(Q.value,{},Q.flags.ignoreCase)}catch(Q){if(Q.message===st){if(J)mW(`${cW}\tUnable to optimize: < ${Z.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`)}else{let K="";if(J)K="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.";s1(`${cW}\n\tFailed parsing: < ${Z.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+K)}}return[]}function wT(Z,J,Q){switch(Z.type){case"Disjunction":for(let X=0;X<Z.value.length;X++)wT(Z.value[X],J,Q);break;case"Alternative":const K=Z.value;for(let X=0;X<K.length;X++){const U=K[X];switch(U.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const Y=U;switch(Y.type){case"Character":dA(Y.value,J,Q);break;case"Set":if(Y.complement===!0)throw Error(st);D0(Y.value,(z)=>{if(typeof z==="number")dA(z,J,Q);else{const G=z;if(Q===!0)for(let H=G.from;H<=G.to;H++)dA(H,J,Q);else{for(let H=G.from;H<=G.to&&H<o1;H++)dA(H,J,Q);if(G.to>=o1){const H=G.from>=o1?G.from:o1,W=G.to,F=XK(H),M=XK(W);for(let B=F;B<=M;B++)J[B]=B}}}});break;case"Group":wT(Y.value,J,Q);break;default:throw Error("Non Exhaustive Match")}const q=Y.quantifier!==void 0&&Y.quantifier.atLeast===0;if(Y.type==="Group"&&jT(Y)===!1||Y.type!=="Group"&&q===!1)break}break;default:throw Error("non exhaustive match!")}return Z8(J)}function dA(Z,J,Q){const K=XK(Z);if(J[K]=K,Q===!0)lP0(Z,J)}function lP0(Z,J){const Q=String.fromCharCode(Z),K=Q.toUpperCase();if(K!==Q){const X=XK(K.charCodeAt(0));J[X]=X}else{const X=Q.toLowerCase();if(X!==Q){const U=XK(X.charCodeAt(0));J[U]=U}}}function it(Z,J){return $7(Z.value,(Q)=>{if(typeof Q==="number")return DZ(J,Q);else{const K=Q;return $7(J,(X)=>K.from<=X&&X<=K.to)!==void 0}})}function jT(Z){const J=Z.quantifier;if(J&&J.atLeast===0)return!0;if(!Z.value)return!1;return G9(Z.value)?M7(Z.value,jT):jT(Z.value)}function iA(Z,J){if(J instanceof RegExp){const Q=a1(J),K=new nt(Z);return K.visit(Q),K.found}else return $7(J,(Q)=>{return DZ(Z,Q.charCodeAt(0))})!==void 0}var st="Complement Sets are not supported for first char optimization",cW='Unable to use "first char" lexer optimizations:\n',nt;var at=_(()=>{xW();E9();r1();lA();CT();nt=class nt extends F5{constructor(Z){super();this.targetCharCodes=Z,this.found=!1}visitChildren(Z){if(this.found===!0)return;switch(Z.type){case"Lookahead":this.visitLookahead(Z);return;case"NegativeLookahead":this.visitNegativeLookahead(Z);return}super.visitChildren(Z)}visitCharacter(Z){if(DZ(this.targetCharCodes,Z.value))this.found=!0}visitSet(Z){if(Z.complement){if(it(Z,this.targetCharCodes)===void 0)this.found=!0}else if(it(Z,this.targetCharCodes)!==void 0)this.found=!0}}});function et(Z,J){J=wX(J,{useSticky:VT,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(I,D)=>D()});const Q=J.tracer;Q("initCharCodeToOptimizedIndexMap",()=>{zV0()});let K;Q("Reject Lexer.NA",()=>{K=CX(Z,(I)=>{return I[IY]===aZ.NA})});let X=!1,U;Q("Transform Patterns",()=>{X=!1,U=p0(K,(I)=>{const D=I[IY];if(BQ(D)){const w=D.source;if(w.length===1&&w!=="^"&&w!=="$"&&w!=="."&&!D.ignoreCase)return w;else if(w.length===2&&w[0]==="\\"&&!DZ(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],w[1]))return w[1];else return J.useSticky?tt(D):ot(D)}else if(KJ(D))return X=!0,{exec:D};else if(typeof D==="object")return X=!0,D;else if(typeof D==="string")if(D.length===1)return D;else{const w=D.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),N=new RegExp(w);return J.useSticky?tt(N):ot(N)}else throw Error("non exhaustive match")})});let Y,q,z,G,H;Q("misc mapping",()=>{Y=p0(K,(I)=>I.tokenTypeIdx),q=p0(K,(I)=>{const D=I.GROUP;if(D===aZ.SKIPPED)return;else if(nZ(D))return D;else if(s9(D))return!1;else throw Error("non exhaustive match")}),z=p0(K,(I)=>{const D=I.LONGER_ALT;if(D)return G9(D)?p0(D,(N)=>jO(K,N)):[jO(K,D)]}),G=p0(K,(I)=>I.PUSH_MODE),H=p0(K,(I)=>c0(I,"POP_MODE"))});let W;Q("Line Terminator Handling",()=>{const I=qe(J.lineTerminatorCharacters);if(W=p0(K,(D)=>!1),J.positionTracking!=="onlyOffset")W=p0(K,(D)=>{if(c0(D,"LINE_BREAKS"))return!!D.LINE_BREAKS;else return Ye(D,I)===!1&&iA(I,D.PATTERN)})});let F,M,B,O;Q("Misc Mapping #2",()=>{F=p0(K,Xe),M=p0(U,YV0),B=P8(K,(I,D)=>{const w=D.GROUP;if(nZ(w)&&w!==aZ.SKIPPED)I[w]=[];return I},{}),O=p0(U,(I,D)=>{return{pattern:U[D],longerAlt:z[D],canLineTerminator:W[D],isCustom:F[D],short:M[D],group:q[D],push:G[D],pop:H[D],tokenTypeIdx:Y[D],tokenType:K[D]}})});let A=!0,L=[];if(!J.safeMode)Q("First Char Optimization",()=>{L=P8(K,(I,D,w)=>{if(typeof D.PATTERN==="string"){const N=D.PATTERN.charCodeAt(0),E=XK(N);PT(I,E,O[w])}else if(G9(D.START_CHARS_HINT)){let N;D0(D.START_CHARS_HINT,(E)=>{const j=typeof E==="string"?E.charCodeAt(0):E,P=XK(j);if(N!==P)N=P,PT(I,P,O[w])})}else if(BQ(D.PATTERN))if(D.PATTERN.unicode){if(A=!1,J.ensureOptimizations)s1(`${cW}\tUnable to analyze < ${D.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`)}else{const N=rt(D.PATTERN,J.ensureOptimizations);if(p9(N))A=!1;D0(N,(E)=>{PT(I,E,O[w])})}else{if(J.ensureOptimizations)s1(`${cW}\tTokenType: <${D.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`);A=!1}return I},[])});return{emptyGroups:B,patternIdxToConfig:O,charCodeToPatternIdxToConfig:L,hasCustom:X,canBeOptimized:A}}function Ze(Z,J){let Q=[];const K=iP0(Z);Q=Q.concat(K.errors);const X=sP0(K.valid),U=X.valid;return Q=Q.concat(X.errors),Q=Q.concat(dP0(U)),Q=Q.concat(JV0(U)),Q=Q.concat(QV0(U,J)),Q=Q.concat(KV0(U)),Q}function dP0(Z){let J=[];const Q=C8(Z,(K)=>BQ(K[IY]));return J=J.concat(nP0(Q)),J=J.concat(tP0(Q)),J=J.concat(eP0(Q)),J=J.concat(ZV0(Q)),J=J.concat(aP0(Q)),J}function iP0(Z){const J=C8(Z,(X)=>{return!c0(X,IY)}),Q=p0(J,(X)=>{return{message:"Token Type: ->"+X.name+"<- missing static 'PATTERN' property",type:jZ.MISSING_PATTERN,tokenTypes:[X]}}),K=jX(Z,J);return{errors:Q,valid:K}}function sP0(Z){const J=C8(Z,(X)=>{const U=X[IY];return!BQ(U)&&!KJ(U)&&!c0(U,"exec")&&!nZ(U)}),Q=p0(J,(X)=>{return{message:"Token Type: ->"+X.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:jZ.INVALID_PATTERN,tokenTypes:[X]}}),K=jX(Z,J);return{errors:Q,valid:K}}function nP0(Z){class J extends F5{constructor(){super(...arguments);this.found=!1}visitEndAnchor(X){this.found=!0}}const Q=C8(Z,(X)=>{const U=X.PATTERN;try{const Y=a1(U),q=new J;return q.visit(Y),q.found}catch(Y){return rP0.test(U.source)}});return p0(Q,(X)=>{return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+X.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:jZ.EOI_ANCHOR_FOUND,tokenTypes:[X]}})}function aP0(Z){const J=C8(Z,(K)=>{return K.PATTERN.test("")});return p0(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' must not match an empty string",type:jZ.EMPTY_MATCH_PATTERN,tokenTypes:[K]}})}function tP0(Z){class J extends F5{constructor(){super(...arguments);this.found=!1}visitStartAnchor(X){this.found=!0}}const Q=C8(Z,(X)=>{const U=X.PATTERN;try{const Y=a1(U),q=new J;return q.visit(Y),q.found}catch(Y){return oP0.test(U.source)}});return p0(Q,(X)=>{return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+X.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:jZ.SOI_ANCHOR_FOUND,tokenTypes:[X]}})}function eP0(Z){const J=C8(Z,(K)=>{const X=K[IY];return X instanceof RegExp&&(X.multiline||X.global)});return p0(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:jZ.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[K]}})}function ZV0(Z){const J=[];let Q=p0(Z,(U)=>{return P8(Z,(Y,q)=>{if(U.PATTERN.source===q.PATTERN.source&&!DZ(J,q)&&q.PATTERN!==aZ.NA)return J.push(q),Y.push(q),Y;return Y},[])});Q=n4(Q);const K=C8(Q,(U)=>{return U.length>1});return p0(K,(U)=>{const Y=p0(U,(z)=>{return z.name});return{message:`The same RegExp pattern ->${kJ(U).PATTERN}<-has been used in all of the following Token Types: ${Y.join(", ")} <-`,type:jZ.DUPLICATE_PATTERNS_FOUND,tokenTypes:U}})}function JV0(Z){const J=C8(Z,(K)=>{if(!c0(K,"GROUP"))return!1;const X=K.GROUP;return X!==aZ.SKIPPED&&X!==aZ.NA&&!nZ(X)});return p0(J,(K)=>{return{message:"Token Type: ->"+K.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:jZ.INVALID_GROUP_TYPE_FOUND,tokenTypes:[K]}})}function QV0(Z,J){const Q=C8(Z,(X)=>{return X.PUSH_MODE!==void 0&&!DZ(J,X.PUSH_MODE)});return p0(Q,(X)=>{return{message:`Token Type: ->${X.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${X.PUSH_MODE}<-which does not exist`,type:jZ.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[X]}})}function KV0(Z){const J=[],Q=P8(Z,(K,X,U)=>{const Y=X.PATTERN;if(Y===aZ.NA)return K;if(nZ(Y))K.push({str:Y,idx:U,tokenType:X});else if(BQ(Y)&&UV0(Y))K.push({str:Y.source,idx:U,tokenType:X});return K},[]);return D0(Z,(K,X)=>{D0(Q,({str:U,idx:Y,tokenType:q})=>{if(X<Y&&XV0(U,K.PATTERN)){const z=`Token: ->${q.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${K.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;J.push({message:z,type:jZ.UNREACHABLE_PATTERN,tokenTypes:[K,q]})}})}),J}function XV0(Z,J){if(BQ(J)){const Q=J.exec(Z);return Q!==null&&Q.index===0}else if(KJ(J))return J(Z,0,[],{});else if(c0(J,"exec"))return J.exec(Z,0,[],{});else if(typeof J==="string")return J===Z;else throw Error("non exhaustive match")}function UV0(Z){return $7([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(Q)=>Z.source.indexOf(Q)!==-1)===void 0}function ot(Z){const J=Z.ignoreCase?"i":"";return new RegExp(`^(?:${Z.source})`,J)}function tt(Z){const J=Z.ignoreCase?"iy":"y";return new RegExp(`${Z.source}`,J)}function Je(Z,J,Q){const K=[];if(!c0(Z,t1))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+t1+"> property in its definition\n",type:jZ.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE});if(!c0(Z,sA))K.push({message:"A MultiMode Lexer cannot be initialized without a <"+sA+"> property in its definition\n",type:jZ.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY});if(c0(Z,sA)&&c0(Z,t1)&&!c0(Z.modes,Z.defaultMode))K.push({message:`A MultiMode Lexer cannot be initialized with a ${t1}: <${Z.defaultMode}>which does not exist\n`,type:jZ.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST});if(c0(Z,sA))D0(Z.modes,(X,U)=>{D0(X,(Y,q)=>{if(s9(Y))K.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${U}> at index: <${q}>\n`,type:jZ.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(c0(Y,"LONGER_ALT")){const z=G9(Y.LONGER_ALT)?Y.LONGER_ALT:[Y.LONGER_ALT];D0(z,(G)=>{if(!s9(G)&&!DZ(X,G))K.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${G.name}> on token <${Y.name}> outside of mode <${U}>\n`,type:jZ.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})});return K}function Qe(Z,J,Q){const K=[];let X=!1;const U=n4(j8(Z8(Z.modes))),Y=CX(U,(z)=>z[IY]===aZ.NA),q=qe(Q);if(J)D0(Y,(z)=>{const G=Ye(z,q);if(G!==!1){const W={message:qV0(z,G),type:G.issue,tokenType:z};K.push(W)}else if(c0(z,"LINE_BREAKS")){if(z.LINE_BREAKS===!0)X=!0}else if(iA(q,z.PATTERN))X=!0});if(J&&!X)K.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:jZ.NO_LINE_BREAKS_FLAGS});return K}function Ke(Z){const J={},Q=A8(Z);return D0(Q,(K)=>{const X=Z[K];if(G9(X))J[K]=[];else throw Error("non exhaustive match")}),J}function Xe(Z){const J=Z.PATTERN;if(BQ(J))return!1;else if(KJ(J))return!0;else if(c0(J,"exec"))return!0;else if(nZ(J))return!1;else throw Error("non exhaustive match")}function YV0(Z){if(nZ(Z)&&Z.length===1)return Z.charCodeAt(0);else return!1}function Ye(Z,J){if(c0(Z,"LINE_BREAKS"))return!1;else if(BQ(Z.PATTERN)){try{iA(J,Z.PATTERN)}catch(Q){return{issue:jZ.IDENTIFY_TERMINATOR,errMsg:Q.message}}return!1}else if(nZ(Z.PATTERN))return!1;else if(Xe(Z))return{issue:jZ.CUSTOM_LINE_BREAK};else throw Error("non exhaustive match")}function qV0(Z,J){if(J.issue===jZ.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${Z.name}> Token Type\n\t Root cause: ${J.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;else if(J.issue===jZ.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${Z.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;else throw Error("non exhaustive match")}function qe(Z){return p0(Z,(Q)=>{if(nZ(Q))return Q.charCodeAt(0);else return Q})}function PT(Z,J,Q){if(Z[J]===void 0)Z[J]=[Q];else Z[J].push(Q)}function XK(Z){return Z<o1?Z:rA[Z]}function zV0(){if(p9(rA)){rA=new Array(65536);for(let Z=0;Z<65536;Z++)rA[Z]=Z>255?255+~~(Z/255):Z}}var IY="PATTERN",t1="defaultMode",sA="modes",VT,rP0,oP0,Ue,o1=256,rA;var CT=_(()=>{xW();lW();E9();r1();at();lA();VT=typeof new RegExp("(?:)").sticky==="boolean",rP0=/[^\\][$]/,oP0=/[^\\[][\^]|^\^/,Ue={test:function(Z){const J=Z.length;for(let Q=this.lastIndex;Q<J;Q++){const K=Z.charCodeAt(Q);if(K===10)return this.lastIndex=Q+1,!0;else if(K===13){if(Z.charCodeAt(Q+1)===10)this.lastIndex=Q+2;else this.lastIndex=Q+1;return!0}}return!1},lastIndex:0},rA=[]});function B5(Z,J){const Q=Z.tokenTypeIdx;if(Q===J.tokenTypeIdx)return!0;else return J.isParent===!0&&J.categoryMatchesMap[Q]===!0}function e1(Z,J){return Z.tokenTypeIdx===J.tokenTypeIdx}function R5(Z){const J=GV0(Z);HV0(J),FV0(J),WV0(J),D0(J,(Q)=>{Q.isParent=Q.categoryMatches.length>0})}function GV0(Z){let J=x8(Z),Q=Z,K=!0;while(K){Q=n4(j8(p0(Q,(U)=>U.CATEGORIES)));const X=jX(Q,J);if(J=J.concat(X),p9(X))K=!1;else Q=X}return J}function HV0(Z){D0(Z,(J)=>{if(!ST(J))He[ze]=J,J.tokenTypeIdx=ze++;if(Ge(J)&&!G9(J.CATEGORIES))J.CATEGORIES=[J.CATEGORIES];if(!Ge(J))J.CATEGORIES=[];if(!MV0(J))J.categoryMatches=[];if(!BV0(J))J.categoryMatchesMap={}})}function WV0(Z){D0(Z,(J)=>{J.categoryMatches=[],D0(J.categoryMatchesMap,(Q,K)=>{J.categoryMatches.push(He[K].tokenTypeIdx)})})}function FV0(Z){D0(Z,(J)=>{We([],J)})}function We(Z,J){D0(Z,(Q)=>{J.categoryMatchesMap[Q.tokenTypeIdx]=!0}),D0(J.CATEGORIES,(Q)=>{const K=Z.concat(J);if(!DZ(K,Q))We(K,Q)})}function ST(Z){return c0(Z,"tokenTypeIdx")}function Ge(Z){return c0(Z,"CATEGORIES")}function MV0(Z){return c0(Z,"categoryMatches")}function BV0(Z){return c0(Z,"categoryMatchesMap")}function Fe(Z){return c0(Z,"tokenTypeIdx")}var ze=1,He;var DY=_(()=>{E9();He={}});var TT;var fT=_(()=>{TT={buildUnableToPopLexerModeMessage(Z){return`Unable to pop Lexer Mode after encountering Token ->${Z.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(Z,J,Q,K,X){return`unexpected character: ->${Z.charAt(J)}<- at offset: ${J}, skipped ${Q} characters.`}}});class aZ{constructor(Z,J=dW){if(this.lexerDefinition=Z,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(K,X)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const U=new Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${U}--> <${K}>`);const{time:Y,value:q}=gW(X),z=Y>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)z(`${U}<-- <${K}> time: ${Y}ms`);return this.traceInitIndent--,q}else return X()},typeof J==="boolean")throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=sJ({},dW,J);const Q=this.config.traceInitPerf;if(Q===!0)this.traceInitMaxIdent=1/0,this.traceInitPerf=!0;else if(typeof Q==="number")this.traceInitMaxIdent=Q,this.traceInitPerf=!0;this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let K,X=!0;if(this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===dW.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Ue;else if(this.config.lineTerminatorCharacters===dW.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(J.safeMode&&J.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');if(this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),G9(Z))K={modes:{defaultMode:x8(Z)},defaultMode:t1};else X=!1,K=x8(Z)}),this.config.skipValidations===!1)this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Je(K,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Qe(K,this.trackStartLines,this.config.lineTerminatorCharacters))});K.modes=K.modes?K.modes:{},D0(K.modes,(Y,q)=>{K.modes[q]=CX(Y,(z)=>s9(z))});const U=A8(K.modes);if(D0(K.modes,(Y,q)=>{this.TRACE_INIT(`Mode: <${q}> processing`,()=>{if(this.modes.push(q),this.config.skipValidations===!1)this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Ze(Y,U))});if(p9(this.lexerDefinitionErrors)){R5(Y);let z;this.TRACE_INIT("analyzeTokenTypes",()=>{z=et(Y,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:J.positionTracking,ensureOptimizations:J.ensureOptimizations,safeMode:J.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[q]=z.patternIdxToConfig,this.charCodeToPatternIdxToConfig[q]=z.charCodeToPatternIdxToConfig,this.emptyGroups=sJ({},this.emptyGroups,z.emptyGroups),this.hasCustom=z.hasCustom||this.hasCustom,this.canModeBeOptimized[q]=z.canBeOptimized}})}),this.defaultMode=K.defaultMode,!p9(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const q=p0(this.lexerDefinitionErrors,(z)=>{return z.message}).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+q)}D0(this.lexerDefinitionWarning,(Y)=>{mW(Y.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(VT)this.chopInput=vJ,this.match=this.matchWithTest;else this.updateLastIndex=vZ,this.match=this.matchWithExec;if(X)this.handleModes=vZ;if(this.trackStartLines===!1)this.computeNewColumn=vJ;if(this.trackEndLines===!1)this.updateTokenEndLineColumnLocation=vZ;if(/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);if(this.hasCustom)this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom;else this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const Y=P8(this.canModeBeOptimized,(q,z,G)=>{if(z===!1)q.push(G);return q},[]);if(J.ensureOptimizations&&!p9(Y))throw Error(`Lexer Modes: < ${Y.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{dt()}),this.TRACE_INIT("toFastProperties",()=>{pW(this)})})}tokenize(Z,J=this.defaultMode){if(!p9(this.lexerDefinitionErrors)){const K=p0(this.lexerDefinitionErrors,(X)=>{return X.message}).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+K)}return this.tokenizeInternal(Z,J)}tokenizeInternal(Z,J){let Q,K,X,U,Y,q,z,G,H,W,F,M,B,O,A,L;const I=Z,D=I.length;let w=0,N=0;const E=this.hasCustom?0:Math.floor(Z.length/10),j=new Array(E),P=[];let C=this.trackStartLines?1:void 0,T=this.trackStartLines?1:void 0;const V=Ke(this.emptyGroups),S=this.trackStartLines,$=this.config.lineTerminatorsPattern;let f=0,h=[],v=[];const b=[],y=[];Object.freeze(y);let k;function g(){return h}function u(t){const B0=XK(t),X0=v[B0];if(X0===void 0)return y;else return X0}const i=(t)=>{if(b.length===1&&t.tokenType.PUSH_MODE===void 0){const B0=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(t);P.push({offset:t.startOffset,line:t.startLine,column:t.startColumn,length:t.image.length,message:B0})}else{b.pop();const B0=rJ(b);h=this.patternIdxToConfig[B0],v=this.charCodeToPatternIdxToConfig[B0],f=h.length;const X0=this.canModeBeOptimized[B0]&&this.config.safeMode===!1;if(v&&X0)k=u;else k=g}};function e(t){b.push(t),v=this.charCodeToPatternIdxToConfig[t],h=this.patternIdxToConfig[t],f=h.length,f=h.length;const B0=this.canModeBeOptimized[t]&&this.config.safeMode===!1;if(v&&B0)k=u;else k=g}e.call(this,J);let J0;const z0=this.config.recoveryEnabled;while(w<D){q=null;const t=I.charCodeAt(w),B0=k(t),X0=B0.length;for(Q=0;Q<X0;Q++){J0=B0[Q];const d=J0.pattern;z=null;const o=J0.short;if(o!==!1){if(t===o)q=d}else if(J0.isCustom===!0)if(L=d.exec(I,w,j,V),L!==null){if(q=L[0],L.payload!==void 0)z=L.payload}else q=null;else this.updateLastIndex(d,w),q=this.match(d,Z,w);if(q!==null){if(Y=J0.longerAlt,Y!==void 0){const a=Y.length;for(X=0;X<a;X++){const Q0=h[Y[X]],K0=Q0.pattern;if(G=null,Q0.isCustom===!0)if(L=K0.exec(I,w,j,V),L!==null){if(U=L[0],L.payload!==void 0)G=L.payload}else U=null;else this.updateLastIndex(K0,w),U=this.match(K0,Z,w);if(U&&U.length>q.length){q=U,z=G,J0=Q0;break}}}break}}if(q!==null){if(H=q.length,W=J0.group,W!==void 0)if(F=J0.tokenTypeIdx,M=this.createTokenInstance(q,w,F,J0.tokenType,C,T,H),this.handlePayload(M,z),W===!1)N=this.addToken(j,N,M);else V[W].push(M);if(Z=this.chopInput(Z,H),w=w+H,T=this.computeNewColumn(T,H),S===!0&&J0.canLineTerminator===!0){let d=0,o,a;$.lastIndex=0;do if(o=$.test(q),o===!0)a=$.lastIndex-1,d++;while(o===!0);if(d!==0)C=C+d,T=H-a,this.updateTokenEndLineColumnLocation(M,W,a,d,C,T,H)}this.handleModes(J0,i,e,M)}else{const d=w,o=C,a=T;let Q0=z0===!1;while(Q0===!1&&w<D){Z=this.chopInput(Z,1),w++;for(K=0;K<f;K++){const K0=h[K],A0=K0.pattern,r=K0.short;if(r!==!1){if(I.charCodeAt(w)===r)Q0=!0}else if(K0.isCustom===!0)Q0=A0.exec(I,w,j,V)!==null;else this.updateLastIndex(A0,w),Q0=A0.exec(Z)!==null;if(Q0===!0)break}}if(B=w-d,T=this.computeNewColumn(T,B),A=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(I,d,B,o,a),P.push({offset:d,line:o,column:a,length:B,message:A}),z0===!1)break}}if(!this.hasCustom)j.length=N;return{tokens:j,groups:V,errors:P}}handleModes(Z,J,Q,K){if(Z.pop===!0){const X=Z.push;if(J(K),X!==void 0)Q.call(this,X)}else if(Z.push!==void 0)Q.call(this,Z.push)}chopInput(Z,J){return Z.substring(J)}updateLastIndex(Z,J){Z.lastIndex=J}updateTokenEndLineColumnLocation(Z,J,Q,K,X,U,Y){let q,z;if(J!==void 0){if(q=Q===Y-1,z=q?-1:0,!(K===1&&q===!0))Z.endLine=X+z,Z.endColumn=U-1+-z}}computeNewColumn(Z,J){return Z+J}createOffsetOnlyToken(Z,J,Q,K){return{image:Z,startOffset:J,tokenTypeIdx:Q,tokenType:K}}createStartOnlyToken(Z,J,Q,K,X,U){return{image:Z,startOffset:J,startLine:X,startColumn:U,tokenTypeIdx:Q,tokenType:K}}createFullToken(Z,J,Q,K,X,U,Y){return{image:Z,startOffset:J,endOffset:J+Y-1,startLine:X,endLine:X,startColumn:U,endColumn:U+Y-1,tokenTypeIdx:Q,tokenType:K}}addTokenUsingPush(Z,J,Q){return Z.push(Q),J}addTokenUsingMemberAccess(Z,J,Q){return Z[J]=Q,J++,J}handlePayloadNoCustom(Z,J){}handlePayloadWithCustom(Z,J){if(J!==null)Z.payload=J}matchWithTest(Z,J,Q){if(Z.test(J)===!0)return J.substring(Q,Z.lastIndex);return null}matchWithExec(Z,J){const Q=Z.exec(J);return Q!==null?Q[0]:null}}var jZ,dW;var lW=_(()=>{CT();E9();r1();DY();fT();lA();(function(Z){Z[Z.MISSING_PATTERN=0]="MISSING_PATTERN",Z[Z.INVALID_PATTERN=1]="INVALID_PATTERN",Z[Z.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",Z[Z.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",Z[Z.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",Z[Z.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",Z[Z.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",Z[Z.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",Z[Z.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",Z[Z.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",Z[Z.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",Z[Z.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",Z[Z.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",Z[Z.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",Z[Z.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",Z[Z.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",Z[Z.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",Z[Z.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(jZ||(jZ={}));dW={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:TT,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(dW);aZ.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";aZ.NA=/NOT_APPLICABLE/});function O5(Z){if(vT(Z))return Z.LABEL;else return Z.name}function vT(Z){return nZ(Z.LABEL)&&Z.LABEL!==""}function nA(Z){return OV0(Z)}function OV0(Z){const J=Z.pattern,Q={};if(Q.name=Z.name,!s9(J))Q.PATTERN=J;if(c0(Z,RV0))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";if(c0(Z,Me))Q.CATEGORIES=Z[Me];if(R5([Q]),c0(Z,Be))Q.LABEL=Z[Be];if(c0(Z,Re))Q.GROUP=Z[Re];if(c0(Z,Ae))Q.POP_MODE=Z[Ae];if(c0(Z,Oe))Q.PUSH_MODE=Z[Oe];if(c0(Z,Le))Q.LONGER_ALT=Z[Le];if(c0(Z,Ie))Q.LINE_BREAKS=Z[Ie];if(c0(Z,De))Q.START_CHARS_HINT=Z[De];return Q}function NY(Z,J,Q,K,X,U,Y,q){return{image:J,startOffset:Q,endOffset:K,startLine:X,endLine:U,startColumn:Y,endColumn:q,tokenTypeIdx:Z.tokenTypeIdx,tokenType:Z}}function iW(Z,J){return B5(Z,J)}var RV0="parent",Me="categories",Be="label",Re="group",Oe="push_mode",Ae="pop_mode",Le="longer_alt",Ie="line_breaks",De="start_chars_hint",d6;var EY=_(()=>{E9();lW();DY();d6=nA({name:"EOF",pattern:aZ.NA});R5([d6])});var A5,Ne,U4;var Zz=_(()=>{EY();E9();h7();A5={buildMismatchTokenMessage({expected:Z,actual:J,previous:Q,ruleName:K}){return`Expecting ${vT(Z)?`--> ${O5(Z)} <--`:`token of type --> ${Z.name} <--`} but found --> '${J.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:J}){return"Redundant input, expecting EOF but found: "+Z.image},buildNoViableAltMessage({expectedPathsPerAlt:Z,actual:J,previous:Q,customUserDescription:K,ruleName:X}){const q="\nbut found: '"+kJ(J).image+"'";if(K)return"Expecting: "+K+q;else{const z=P8(Z,(F,M)=>F.concat(M),[]),G=p0(z,(F)=>`[${p0(F,(M)=>O5(M)).join(", ")}]`);return`Expecting: one of these possible Token sequences:\n${p0(G,(F,M)=>`  ${M+1}. ${F}`).join("\n")}`+q}},buildEarlyExitMessage({expectedIterationPaths:Z,actual:J,customUserDescription:Q,ruleName:K}){const Y="\nbut found: '"+kJ(J).image+"'";if(Q)return"Expecting: "+Q+Y;else return`Expecting: expecting at least one iteration which starts with one of these possible Token sequences::\n  <${p0(Z,(G)=>`[${p0(G,(H)=>O5(H)).join(",")}]`).join(" ,")}>`+Y}};Object.freeze(A5);Ne={buildRuleNotFoundError(Z,J){return"Invalid grammar, reference to a rule which is not defined: ->"+J.nonTerminalName+"<-\ninside top level rule: ->"+Z.name+"<-"}},U4={buildDuplicateFoundError(Z,J){function Q(H){if(H instanceof U8)return H.terminalType.name;else if(H instanceof p8)return H.nonTerminalName;else return""}const K=Z.name,X=kJ(J),U=X.idx,Y=W6(X),q=Q(X),z=U>0;let G=`->${Y}${z?U:""}<- ${q?`with argument: ->${q}<-`:""}
                  appears more than once (${J.length} times) in the top level rule: ->${K}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return G=G.replace(/[ \t]+/g," "),G=G.replace(/\s\s+/g,"\n"),G},buildNamespaceConflictError(Z){return`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${Z.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(Z){const J=p0(Z.prefixPath,(X)=>O5(X)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx;return`Ambiguous alternatives: <${Z.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${Q}> inside <${Z.topLevelRule.name}> Rule,\n<${J}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(Z){const J=p0(Z.prefixPath,(X)=>O5(X)).join(", "),Q=Z.alternation.idx===0?"":Z.alternation.idx;let K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(" ,")}> in <OR${Q}> inside <${Z.topLevelRule.name}> Rule,\n<${J}> may appears as a prefix path in all these alternatives.\n`;return K=K+"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",K},buildEmptyRepetitionError(Z){let J=W6(Z.repetition);if(Z.repetition.idx!==0)J+=Z.repetition.idx;return`The repetition <${J}> within Rule <${Z.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError(Z){return"deprecated"},buildEmptyAlternationError(Z){return`Ambiguous empty alternative: <${Z.emptyChoiceIdx+1}> in <OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`},buildTooManyAlternativesError(Z){return`An Alternation cannot have more than 256 alternatives:\n<OR${Z.alternation.idx}> inside <${Z.topLevelRule.name}> Rule.\n has ${Z.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(Z){const J=Z.topLevelRule.name,Q=p0(Z.leftRecursionPath,(U)=>U.name),K=`${J} --> ${Q.concat([J]).join(" --> ")}`;return`Left Recursion found in grammar.\nrule: <${J}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${K}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(Z){return"deprecated"},buildDuplicateRuleNameError(Z){let J;if(Z.topLevelRule instanceof G6)J=Z.topLevelRule.name;else J=Z.topLevelRule;return`Duplicate definition, rule: ->${J}<- is already defined in the grammar: ->${Z.grammarName}<-`}}});function Ee(Z,J){const Q=new we(Z,J);return Q.resolveRefs(),Q.errors}var we;var je=_(()=>{F6();E9();h7();we=class we extends H6{constructor(Z,J){super();this.nameToTopRule=Z,this.errMsgProvider=J,this.errors=[]}resolveRefs(){D0(Z8(this.nameToTopRule),(Z)=>{this.currTopLevel=Z,Z.accept(this)})}visitNonTerminal(Z){const J=this.nameToTopRule[Z.nonTerminalName];if(!J){const Q=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,Z);this.errors.push({message:Q,type:RJ.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:Z.nonTerminalName})}else Z.referencedRule=J}}});function tA(Z,J,Q=[]){Q=x8(Q);let K=[],X=0;function U(q){return q.concat(rZ(Z,X+1))}function Y(q){const z=tA(U(q),J,Q);return K.concat(z)}while(Q.length<J&&X<Z.length){const q=Z[X];if(q instanceof MZ)return Y(q.definition);else if(q instanceof p8)return Y(q.definition);else if(q instanceof c8)K=Y(q.definition);else if(q instanceof BZ){const z=q.definition.concat([new W8({definition:q.definition})]);return Y(z)}else if(q instanceof RZ){const z=[new MZ({definition:q.definition}),new W8({definition:[new U8({terminalType:q.separator})].concat(q.definition)})];return Y(z)}else if(q instanceof UZ){const z=q.definition.concat([new W8({definition:[new U8({terminalType:q.separator})].concat(q.definition)})]);K=Y(z)}else if(q instanceof W8){const z=q.definition.concat([new W8({definition:q.definition})]);K=Y(z)}else if(q instanceof YZ)return D0(q.definition,(z)=>{if(p9(z.definition)===!1)K=Y(z.definition)}),K;else if(q instanceof U8)Q.push(q.terminalType);else throw Error("non exhaustive match");X++}return K.push({partialPath:Q,suffixDef:rZ(Z,X)}),K}function eA(Z,J,Q,K){const U=["EXIT_NONE_TERMINAL"];let q=!1;const z=J.length,G=z-K-1,H=[],W=[];W.push({idx:-1,def:Z,ruleStack:[],occurrenceStack:[]});while(!p9(W)){const F=W.pop();if(F==="EXIT_ALTERNATIVE"){if(q&&rJ(W).idx<=G)W.pop();continue}const{def:M,idx:B,ruleStack:O,occurrenceStack:A}=F;if(p9(M))continue;const L=M[0];if(L==="EXIT_NONE_TERMINAL"){const I={idx:B,def:rZ(M),ruleStack:X5(O),occurrenceStack:X5(A)};W.push(I)}else if(L instanceof U8)if(B<z-1){const I=B+1,D=J[I];if(Q(D,L.terminalType)){const w={idx:I,def:rZ(M),ruleStack:O,occurrenceStack:A};W.push(w)}}else if(B===z-1)H.push({nextTokenType:L.terminalType,nextTokenOccurrence:L.idx,ruleStack:O,occurrenceStack:A}),q=!0;else throw Error("non exhaustive match");else if(L instanceof p8){const I=x8(O);I.push(L.nonTerminalName);const D=x8(A);D.push(L.idx);const w={idx:B,def:L.definition.concat(U,rZ(M)),ruleStack:I,occurrenceStack:D};W.push(w)}else if(L instanceof c8){const I={idx:B,def:rZ(M),ruleStack:O,occurrenceStack:A};W.push(I),W.push("EXIT_ALTERNATIVE");const D={idx:B,def:L.definition.concat(rZ(M)),ruleStack:O,occurrenceStack:A};W.push(D)}else if(L instanceof BZ){const I=new W8({definition:L.definition,idx:L.idx}),D=L.definition.concat([I],rZ(M)),w={idx:B,def:D,ruleStack:O,occurrenceStack:A};W.push(w)}else if(L instanceof RZ){const I=new U8({terminalType:L.separator}),D=new W8({definition:[I].concat(L.definition),idx:L.idx}),w=L.definition.concat([D],rZ(M)),N={idx:B,def:w,ruleStack:O,occurrenceStack:A};W.push(N)}else if(L instanceof UZ){const I={idx:B,def:rZ(M),ruleStack:O,occurrenceStack:A};W.push(I),W.push("EXIT_ALTERNATIVE");const D=new U8({terminalType:L.separator}),w=new W8({definition:[D].concat(L.definition),idx:L.idx}),N=L.definition.concat([w],rZ(M)),E={idx:B,def:N,ruleStack:O,occurrenceStack:A};W.push(E)}else if(L instanceof W8){const I={idx:B,def:rZ(M),ruleStack:O,occurrenceStack:A};W.push(I),W.push("EXIT_ALTERNATIVE");const D=new W8({definition:L.definition,idx:L.idx}),w=L.definition.concat([D],rZ(M)),N={idx:B,def:w,ruleStack:O,occurrenceStack:A};W.push(N)}else if(L instanceof YZ)for(let I=L.definition.length-1;I>=0;I--){const D=L.definition[I],w={idx:B,def:D.definition.concat(rZ(M)),ruleStack:O,occurrenceStack:A};W.push(w),W.push("EXIT_ALTERNATIVE")}else if(L instanceof MZ)W.push({idx:B,def:L.definition.concat(rZ(M)),ruleStack:O,occurrenceStack:A});else if(L instanceof G6)W.push(AV0(L,B,O,A));else throw Error("non exhaustive match")}return H}function AV0(Z,J,Q,K){const X=x8(Q);X.push(Z.name);const U=x8(K);return U.push(1),{idx:J,def:Z.definition,ruleStack:X,occurrenceStack:U}}var Ce,kT,sW,$T,aA,_T,oA;var rW=_(()=>{E9();ET();gA();h7();Ce=class Ce extends xX{constructor(Z,J){super();this.topProd=Z,this.path=J,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=x8(this.path.ruleStack).reverse(),this.occurrenceStack=x8(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(Z,J=[]){if(!this.found)super.walk(Z,J)}walkProdRef(Z,J,Q){if(Z.referencedRule.name===this.nextProductionName&&Z.idx===this.nextProductionOccurrence){const K=J.concat(Q);this.updateExpectedNext(),this.walk(Z.referencedRule,K)}}updateExpectedNext(){if(p9(this.ruleStack))this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0;else this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop()}};kT=class kT extends Ce{constructor(Z,J){super(Z,J);this.path=J,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(Z,J,Q){if(this.isAtEndOfPath&&Z.terminalType.name===this.nextTerminalName&&Z.idx===this.nextTerminalOccurrence&&!this.found){const K=J.concat(Q),X=new MZ({definition:K});this.possibleTokTypes=LY(X),this.found=!0}}};sW=class sW extends xX{constructor(Z,J){super();this.topRule=Z,this.occurrence=J,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}};$T=class $T extends sW{walkMany(Z,J,Q){if(Z.idx===this.occurrence){const K=kJ(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof U8)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkMany(Z,J,Q)}};aA=class aA extends sW{walkManySep(Z,J,Q){if(Z.idx===this.occurrence){const K=kJ(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof U8)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkManySep(Z,J,Q)}};_T=class _T extends sW{walkAtLeastOne(Z,J,Q){if(Z.idx===this.occurrence){const K=kJ(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof U8)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOne(Z,J,Q)}};oA=class oA extends sW{walkAtLeastOneSep(Z,J,Q){if(Z.idx===this.occurrence){const K=kJ(J.concat(Q));if(this.result.isEndOfRule=K===void 0,K instanceof U8)this.result.token=K.terminalType,this.result.occurrence=K.idx}else super.walkAtLeastOneSep(Z,J,Q)}}});function nW(Z){if(Z instanceof c8||Z==="Option")return CZ.OPTION;else if(Z instanceof W8||Z==="Repetition")return CZ.REPETITION;else if(Z instanceof BZ||Z==="RepetitionMandatory")return CZ.REPETITION_MANDATORY;else if(Z instanceof RZ||Z==="RepetitionMandatoryWithSeparator")return CZ.REPETITION_MANDATORY_WITH_SEPARATOR;else if(Z instanceof UZ||Z==="RepetitionWithSeparator")return CZ.REPETITION_WITH_SEPARATOR;else if(Z instanceof YZ||Z==="Alternation")return CZ.ALTERNATION;else throw Error("non exhaustive match")}function ZL(Z){const{occurrence:J,rule:Q,prodType:K,maxLookahead:X}=Z,U=nW(K);if(U===CZ.ALTERNATION)return Jz(J,Q,X);else return Qz(J,Q,U,X)}function Ve(Z,J,Q,K,X,U){const Y=Jz(Z,J,Q),q=_e(Y)?e1:B5;return U(Y,K,q,X)}function Se(Z,J,Q,K,X,U){const Y=Qz(Z,J,X,Q),q=_e(Y)?e1:B5;return U(Y[0],q,K)}function Te(Z,J,Q,K){const X=Z.length,U=M7(Z,(Y)=>{return M7(Y,(q)=>{return q.length===1})});if(J)return function(Y){const q=p0(Y,(z)=>z.GATE);for(let z=0;z<X;z++){const G=Z[z],H=G.length,W=q[z];if(W!==void 0&&W.call(this)===!1)continue;Z:for(let F=0;F<H;F++){const M=G[F],B=M.length;for(let O=0;O<B;O++){const A=this.LA(O+1);if(Q(A,M[O])===!1)continue Z}return z}}return};else if(U&&!K){const Y=p0(Z,(z)=>{return j8(z)}),q=P8(Y,(z,G,H)=>{return D0(G,(W)=>{if(!c0(z,W.tokenTypeIdx))z[W.tokenTypeIdx]=H;D0(W.categoryMatches,(F)=>{if(!c0(z,F))z[F]=H})}),z},{});return function(){const z=this.LA(1);return q[z.tokenTypeIdx]}}else return function(){for(let Y=0;Y<X;Y++){const q=Z[Y],z=q.length;Z:for(let G=0;G<z;G++){const H=q[G],W=H.length;for(let F=0;F<W;F++){const M=this.LA(F+1);if(Q(M,H[F])===!1)continue Z}return Y}}return}}function fe(Z,J,Q){const K=M7(Z,(U)=>{return U.length===1}),X=Z.length;if(K&&!Q){const U=j8(Z);if(U.length===1&&p9(U[0].categoryMatches)){const q=U[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===q}}else{const Y=P8(U,(q,z,G)=>{return q[z.tokenTypeIdx]=!0,D0(z.categoryMatches,(H)=>{q[H]=!0}),q},[]);return function(){const q=this.LA(1);return Y[q.tokenTypeIdx]===!0}}}else return function(){Z:for(let U=0;U<X;U++){const Y=Z[U],q=Y.length;for(let z=0;z<q;z++){const G=this.LA(z+1);if(J(G,Y[z])===!1)continue Z}return!0}return!1}}function Pe(Z){const J=new Array(Z);for(let Q=0;Q<Z;Q++)J[Q]=[];return J}function bT(Z){let J=[""];for(let Q=0;Q<Z.length;Q++){const K=Z[Q],X=[];for(let U=0;U<J.length;U++){const Y=J[U];X.push(Y+"_"+K.tokenTypeIdx);for(let q=0;q<K.categoryMatches.length;q++){const z="_"+K.categoryMatches[q];X.push(Y+z)}}J=X}return J}function LV0(Z,J,Q){for(let K=0;K<Z.length;K++){if(K===Q)continue;const X=Z[K];for(let U=0;U<J.length;U++){const Y=J[U];if(X[Y]===!0)return!1}}return!0}function ke(Z,J){const Q=p0(Z,(Y)=>tA([Y],1)),K=Pe(Q.length),X=p0(Q,(Y)=>{const q={};return D0(Y,(z)=>{const G=bT(z.partialPath);D0(G,(H)=>{q[H]=!0})}),q});let U=Q;for(let Y=1;Y<=J;Y++){const q=U;U=Pe(q.length);for(let z=0;z<q.length;z++){const G=q[z];for(let H=0;H<G.length;H++){const W=G[H].partialPath,F=G[H].suffixDef,M=bT(W);if(LV0(X,M,z)||p9(F)||W.length===J){const O=K[z];if(JL(O,W)===!1){O.push(W);for(let A=0;A<M.length;A++){const L=M[A];X[z][L]=!0}}}else{const O=tA(F,Y+1,W);U[z]=U[z].concat(O),D0(O,(A)=>{const L=bT(A.partialPath);D0(L,(I)=>{X[z][I]=!0})})}}}}return K}function Jz(Z,J,Q,K){const X=new xT(Z,CZ.ALTERNATION,K);return J.accept(X),ke(X.result,Q)}function Qz(Z,J,Q,K){const X=new xT(Z,Q);J.accept(X);const U=X.result,q=new ve(J,Z,Q).startWalking(),z=new MZ({definition:U}),G=new MZ({definition:q});return ke([z,G],K)}function JL(Z,J){Z:for(let Q=0;Q<Z.length;Q++){const K=Z[Q];if(K.length!==J.length)continue;for(let X=0;X<K.length;X++){const U=J[X],Y=K[X];if((U===Y||Y.categoryMatchesMap[U.tokenTypeIdx]!==void 0)===!1)continue Z}return!0}return!1}function $e(Z,J){return Z.length<J.length&&M7(Z,(Q,K)=>{const X=J[K];return Q===X||X.categoryMatchesMap[Q.tokenTypeIdx]})}function _e(Z){return M7(Z,(J)=>M7(J,(Q)=>M7(Q,(K)=>p9(K.categoryMatches))))}var CZ,ve,xT;var Kz=_(()=>{E9();rW();gA();DY();h7();(function(Z){Z[Z.OPTION=0]="OPTION",Z[Z.REPETITION=1]="REPETITION",Z[Z.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",Z[Z.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",Z[Z.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",Z[Z.ALTERNATION=5]="ALTERNATION"})(CZ||(CZ={}));ve=class ve extends xX{constructor(Z,J,Q){super();this.topProd=Z,this.targetOccurrence=J,this.targetProdType=Q}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(Z,J,Q,K){if(Z.idx===this.targetOccurrence&&this.targetProdType===J)return this.restDef=Q.concat(K),!0;return!1}walkOption(Z,J,Q){if(!this.checkIsTarget(Z,CZ.OPTION,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOne(Z,J,Q){if(!this.checkIsTarget(Z,CZ.REPETITION_MANDATORY,J,Q))super.walkOption(Z,J,Q)}walkAtLeastOneSep(Z,J,Q){if(!this.checkIsTarget(Z,CZ.REPETITION_MANDATORY_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}walkMany(Z,J,Q){if(!this.checkIsTarget(Z,CZ.REPETITION,J,Q))super.walkOption(Z,J,Q)}walkManySep(Z,J,Q){if(!this.checkIsTarget(Z,CZ.REPETITION_WITH_SEPARATOR,J,Q))super.walkOption(Z,J,Q)}};xT=class xT extends H6{constructor(Z,J,Q){super();this.targetOccurrence=Z,this.targetProdType=J,this.targetRef=Q,this.result=[]}checkIsTarget(Z,J){if(Z.idx===this.targetOccurrence&&this.targetProdType===J&&(this.targetRef===void 0||Z===this.targetRef))this.result=Z.definition}visitOption(Z){this.checkIsTarget(Z,CZ.OPTION)}visitRepetition(Z){this.checkIsTarget(Z,CZ.REPETITION)}visitRepetitionMandatory(Z){this.checkIsTarget(Z,CZ.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(Z){this.checkIsTarget(Z,CZ.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(Z){this.checkIsTarget(Z,CZ.REPETITION_WITH_SEPARATOR)}visitAlternation(Z){this.checkIsTarget(Z,CZ.ALTERNATION)}}});function be(Z){const J=Z.lookaheadStrategy.validate({rules:Z.rules,tokenTypes:Z.tokenTypes,grammarName:Z.grammarName});return p0(J,(Q)=>Object.assign({type:RJ.CUSTOM_LOOKAHEAD_VALIDATION},Q))}function xe(Z,J,Q,K){const X=nJ(Z,(z)=>IV0(z,Q)),U=CV0(Z,J,Q),Y=nJ(Z,(z)=>EV0(z,Q)),q=nJ(Z,(z)=>NV0(z,Z,K,Q));return X.concat(U,Y,q)}function IV0(Z,J){const Q=new ye;Z.accept(Q);const K=Q.allProductions,X=bP(K,DV0),U=Y6(X,(q)=>{return q.length>1});return p0(Z8(U),(q)=>{const z=kJ(q),G=J.buildDuplicateFoundError(Z,q),H=W6(z),W={message:G,type:RJ.DUPLICATE_PRODUCTIONS,ruleName:Z.name,dslName:H,occurrence:z.idx},F=he(z);if(F)W.parameter=F;return W})}function DV0(Z){return`${W6(Z)}_#_${Z.idx}_#_${he(Z)}`}function he(Z){if(Z instanceof U8)return Z.terminalType.name;else if(Z instanceof p8)return Z.nonTerminalName;else return""}function NV0(Z,J,Q,K){const X=[];if(P8(J,(Y,q)=>{if(q.name===Z.name)return Y+1;return Y},0)>1){const Y=K.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:Q});X.push({message:Y,type:RJ.DUPLICATE_RULE_NAME,ruleName:Z.name})}return X}function ue(Z,J,Q){const K=[];let X;if(!DZ(J,Z))X=`Invalid rule override, rule: ->${Z}<- cannot be overridden in the grammar: ->${Q}<-as it is not defined in any of the super grammars `,K.push({message:X,type:RJ.INVALID_RULE_OVERRIDE,ruleName:Z});return K}function hT(Z,J,Q,K=[]){const X=[],U=QL(J.definition);if(p9(U))return[];else{const Y=Z.name;if(DZ(U,Z))X.push({message:Q.buildLeftRecursionError({topLevelRule:Z,leftRecursionPath:K}),type:RJ.LEFT_RECURSION,ruleName:Y});const z=jX(U,K.concat([Z])),G=nJ(z,(H)=>{const W=x8(K);return W.push(H),hT(Z,H,Q,W)});return X.concat(G)}}function QL(Z){let J=[];if(p9(Z))return J;const Q=kJ(Z);if(Q instanceof p8)J.push(Q.referencedRule);else if(Q instanceof MZ||Q instanceof c8||Q instanceof BZ||Q instanceof RZ||Q instanceof UZ||Q instanceof W8)J=J.concat(QL(Q.definition));else if(Q instanceof YZ)J=j8(p0(Q.definition,(U)=>QL(U.definition)));else if(Q instanceof U8);else throw Error("non exhaustive match");const K=AY(Q),X=Z.length>1;if(K&&X){const U=rZ(Z);return J.concat(QL(U))}else return J}function me(Z,J){const Q=new KL;Z.accept(Q);const K=Q.alternations;return nJ(K,(U)=>{const Y=X5(U.definition);return nJ(Y,(q,z)=>{const G=eA([q],[],B5,1);if(p9(G))return[{message:J.buildEmptyAlternationError({topLevelRule:Z,alternation:U,emptyChoiceIdx:z}),type:RJ.NONE_LAST_EMPTY_ALT,ruleName:Z.name,occurrence:U.idx,alternative:z+1}];else return[]})})}function ge(Z,J,Q){const K=new KL;Z.accept(K);let X=K.alternations;return X=CX(X,(Y)=>Y.ignoreAmbiguities===!0),nJ(X,(Y)=>{const q=Y.idx,z=Y.maxLookahead||J,G=Jz(q,Z,z,Y),H=wV0(G,Y,Z,Q),W=jV0(G,Y,Z,Q);return H.concat(W)})}function EV0(Z,J){const Q=new KL;Z.accept(Q);const K=Q.alternations;return nJ(K,(U)=>{if(U.definition.length>255)return[{message:J.buildTooManyAlternativesError({topLevelRule:Z,alternation:U}),type:RJ.TOO_MANY_ALTS,ruleName:Z.name,occurrence:U.idx}];else return[]})}function ce(Z,J,Q){const K=[];return D0(Z,(X)=>{const U=new pe;X.accept(U);const Y=U.allProductions;D0(Y,(q)=>{const z=nW(q),G=q.maxLookahead||J,H=q.idx,F=Qz(H,X,z,G)[0];if(p9(j8(F))){const M=Q.buildEmptyRepetitionError({topLevelRule:X,repetition:q});K.push({message:M,type:RJ.NO_NON_EMPTY_LOOKAHEAD,ruleName:X.name})}})}),K}function wV0(Z,J,Q,K){const X=[],U=P8(Z,(q,z,G)=>{if(J.definition[G].ignoreAmbiguities===!0)return q;return D0(z,(H)=>{const W=[G];if(D0(Z,(F,M)=>{if(G!==M&&JL(F,H)&&J.definition[M].ignoreAmbiguities!==!0)W.push(M)}),W.length>1&&!JL(X,H))X.push(H),q.push({alts:W,path:H})}),q},[]);return p0(U,(q)=>{const z=p0(q.alts,(H)=>H+1);return{message:K.buildAlternationAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:z,prefixPath:q.path}),type:RJ.AMBIGUOUS_ALTS,ruleName:Q.name,occurrence:J.idx,alternatives:q.alts}})}function jV0(Z,J,Q,K){const X=P8(Z,(Y,q,z)=>{const G=p0(q,(H)=>{return{idx:z,path:H}});return Y.concat(G)},[]);return n4(nJ(X,(Y)=>{if(J.definition[Y.idx].ignoreAmbiguities===!0)return[];const{idx:z,path:G}=Y,H=C8(X,(F)=>{return J.definition[F.idx].ignoreAmbiguities!==!0&&F.idx<z&&$e(F.path,G)});return p0(H,(F)=>{const M=[F.idx+1,z+1],B=J.idx===0?"":J.idx;return{message:K.buildAlternationPrefixAmbiguityError({topLevelRule:Q,alternation:J,ambiguityIndices:M,prefixPath:F.path}),type:RJ.AMBIGUOUS_PREFIX_ALTS,ruleName:Q.name,occurrence:B,alternatives:M}})}))}function CV0(Z,J,Q){const K=[],X=p0(J,(U)=>U.name);return D0(Z,(U)=>{const Y=U.name;if(DZ(X,Y)){const q=Q.buildNamespaceConflictError(U);K.push({message:q,type:RJ.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:Y})}}),K}var ye,KL,pe;var aW=_(()=>{E9();F6();h7();Kz();rW();DY();ye=class ye extends H6{constructor(){super(...arguments);this.allProductions=[]}visitNonTerminal(Z){this.allProductions.push(Z)}visitOption(Z){this.allProductions.push(Z)}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}visitAlternation(Z){this.allProductions.push(Z)}visitTerminal(Z){this.allProductions.push(Z)}};KL=class KL extends H6{constructor(){super(...arguments);this.alternations=[]}visitAlternation(Z){this.alternations.push(Z)}};pe=class pe extends H6{constructor(){super(...arguments);this.allProductions=[]}visitRepetitionWithSeparator(Z){this.allProductions.push(Z)}visitRepetitionMandatory(Z){this.allProductions.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.allProductions.push(Z)}visitRepetition(Z){this.allProductions.push(Z)}}});function le(Z){const J=wX(Z,{errMsgProvider:Ne}),Q={};return D0(Z.rules,(K)=>{Q[K.name]=K}),Ee(Q,J.errMsgProvider)}function de(Z){return Z=wX(Z,{errMsgProvider:U4}),xe(Z.rules,Z.tokenTypes,Z.errMsgProvider,Z.grammarName)}var ie=_(()=>{E9();je();aW();Zz()});function hX(Z){return DZ(oe,Z.name)}var se="MismatchedTokenException",re="NoViableAltException",ne="EarlyExitException",ae="NotAllInputParsedException",oe,oW,Xz,XL,UL,YL;var Uz=_(()=>{E9();oe=[se,re,ne,ae];Object.freeze(oe);oW=class oW extends Error{constructor(Z,J){super(Z);if(this.token=J,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}};Xz=class Xz extends oW{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=se}};XL=class XL extends oW{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=re}};UL=class UL extends oW{constructor(Z,J){super(Z,J);this.name=ae}};YL=class YL extends oW{constructor(Z,J,Q){super(Z,J);this.previousToken=Q,this.name=ne}}});function PV0(Z,J,Q,K,X,U,Y){const q=this.getKeyForAutomaticLookahead(K,X);let z=this.firstAfterRepMap[q];if(z===void 0){const F=this.getCurrRuleFullName(),M=this.getGAstProductions()[F];z=new U(M,X).startWalking(),this.firstAfterRepMap[q]=z}let{token:G,occurrence:H}=z;const W=z.isEndOfRule;if(this.RULE_STACK.length===1&&W&&G===void 0)G=d6,H=1;if(G===void 0||H===void 0)return;if(this.shouldInRepetitionRecoveryBeTried(G,H,Y))this.tryInRepetitionRecovery(Z,J,Q,G)}class mT{initRecoverable(Z){if(this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=c0(Z,"recoveryEnabled")?Z.recoveryEnabled:y7.recoveryEnabled,this.recoveryEnabled)this.attemptInRepetitionRecovery=PV0}getTokenToInsert(Z){const J=NY(Z,"",NaN,NaN,NaN,NaN,NaN,NaN);return J.isInsertedInRecovery=!0,J}canTokenTypeBeInsertedInRecovery(Z){return!0}canTokenTypeBeDeletedInRecovery(Z){return!0}tryInRepetitionRecovery(Z,J,Q,K){const X=this.findReSyncTokenType(),U=this.exportLexerState(),Y=[];let q=!1;const z=this.LA(1);let G=this.LA(1);const H=()=>{const W=this.LA(0),F=this.errorMessageProvider.buildMismatchTokenMessage({expected:K,actual:z,previous:W,ruleName:this.getCurrRuleFullName()}),M=new Xz(F,z,this.LA(0));M.resyncedTokens=X5(Y),this.SAVE_ERROR(M)};while(!q)if(this.tokenMatcher(G,K)){H();return}else if(Q.call(this)){H(),Z.apply(this,J);return}else if(this.tokenMatcher(G,X))q=!0;else G=this.SKIP_TOKEN(),this.addToResyncTokens(G,Y);this.importLexerState(U)}shouldInRepetitionRecoveryBeTried(Z,J,Q){if(Q===!1)return!1;if(this.tokenMatcher(this.LA(1),Z))return!1;if(this.isBackTracking())return!1;if(this.canPerformInRuleRecovery(Z,this.getFollowsForInRuleRecovery(Z,J)))return!1;return!0}getFollowsForInRuleRecovery(Z,J){const Q=this.getCurrentGrammarPath(Z,J);return this.getNextPossibleTokenTypes(Q)}tryInRuleRecovery(Z,J){if(this.canRecoverWithSingleTokenInsertion(Z,J))return this.getTokenToInsert(Z);if(this.canRecoverWithSingleTokenDeletion(Z)){const Q=this.SKIP_TOKEN();return this.consumeToken(),Q}throw new te("sad sad panda")}canPerformInRuleRecovery(Z,J){return this.canRecoverWithSingleTokenInsertion(Z,J)||this.canRecoverWithSingleTokenDeletion(Z)}canRecoverWithSingleTokenInsertion(Z,J){if(!this.canTokenTypeBeInsertedInRecovery(Z))return!1;if(p9(J))return!1;const Q=this.LA(1);return $7(J,(X)=>{return this.tokenMatcher(Q,X)})!==void 0}canRecoverWithSingleTokenDeletion(Z){if(!this.canTokenTypeBeDeletedInRecovery(Z))return!1;return this.tokenMatcher(this.LA(2),Z)}isInCurrentRuleReSyncSet(Z){const J=this.getCurrFollowKey(),Q=this.getFollowSetFromFollowKey(J);return DZ(Q,Z)}findReSyncTokenType(){const Z=this.flattenFollowSet();let J=this.LA(1),Q=2;while(!0){const K=$7(Z,(X)=>{return iW(J,X)});if(K!==void 0)return K;J=this.LA(Q),Q++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return yT;const Z=this.getLastExplicitRuleShortName(),J=this.getLastExplicitRuleOccurrenceIndex(),Q=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(Z),idxInCallingRule:J,inRule:this.shortRuleNameToFullName(Q)}}buildFullFollowKeyStack(){const Z=this.RULE_STACK,J=this.RULE_OCCURRENCE_STACK;return p0(Z,(Q,K)=>{if(K===0)return yT;return{ruleName:this.shortRuleNameToFullName(Q),idxInCallingRule:J[K],inRule:this.shortRuleNameToFullName(Z[K-1])}})}flattenFollowSet(){const Z=p0(this.buildFullFollowKeyStack(),(J)=>{return this.getFollowSetFromFollowKey(J)});return j8(Z)}getFollowSetFromFollowKey(Z){if(Z===yT)return[d6];const J=Z.ruleName+Z.idxInCallingRule+pA+Z.inRule;return this.resyncFollows[J]}addToResyncTokens(Z,J){if(!this.tokenMatcher(Z,d6))J.push(Z);return J}reSyncTo(Z){const J=[];let Q=this.LA(1);while(this.tokenMatcher(Q,Z)===!1)Q=this.SKIP_TOKEN(),this.addToResyncTokens(Q,J);return X5(J)}attemptInRepetitionRecovery(Z,J,Q,K,X,U,Y){}getCurrentGrammarPath(Z,J){const Q=this.getHumanReadableRuleStack(),K=x8(this.RULE_OCCURRENCE_STACK);return{ruleStack:Q,occurrenceStack:K,lastTok:Z,lastTokOccurrence:J}}getHumanReadableRuleStack(){return p0(this.RULE_STACK,(Z)=>this.shortRuleNameToFullName(Z))}}var yT,uT="InRuleRecoveryException",te;var gT=_(()=>{EY();E9();Uz();F6();yT={};te=class te extends Error{constructor(Z){super(Z);this.name=uT}}});function HL(Z,J,Q){return Q|J|Z}var ee=4,qL=8,zL=256,GL=512,tW=768,eW=1024,ZF=1280,Yz=1536;class yX{constructor(Z){var J;this.maxLookahead=(J=Z===null||Z===void 0?void 0:Z.maxLookahead)!==null&&J!==void 0?J:y7.maxLookahead}validate(Z){const J=this.validateNoLeftRecursion(Z.rules);if(p9(J)){const Q=this.validateEmptyOrAlternatives(Z.rules),K=this.validateAmbiguousAlternationAlternatives(Z.rules,this.maxLookahead),X=this.validateSomeNonEmptyLookaheadPath(Z.rules,this.maxLookahead);return[...J,...Q,...K,...X]}return J}validateNoLeftRecursion(Z){return nJ(Z,(J)=>hT(J,J,U4))}validateEmptyOrAlternatives(Z){return nJ(Z,(J)=>me(J,U4))}validateAmbiguousAlternationAlternatives(Z,J){return nJ(Z,(Q)=>ge(Q,J,U4))}validateSomeNonEmptyLookaheadPath(Z,J){return ce(Z,J,U4)}buildLookaheadForAlternation(Z){return Ve(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.hasPredicates,Z.dynamicTokensEnabled,Te)}buildLookaheadForOptional(Z){return Se(Z.prodOccurrence,Z.rule,Z.maxLookahead,Z.dynamicTokensEnabled,nW(Z.prodType),fe)}}var pT=_(()=>{E9();Zz();F6();aW();Kz()});function VV0(Z){WL.reset(),Z.accept(WL);const J=WL.dslMethods;return WL.reset(),J}class cT{initLooksAhead(Z){this.dynamicTokensEnabled=c0(Z,"dynamicTokensEnabled")?Z.dynamicTokensEnabled:y7.dynamicTokensEnabled,this.maxLookahead=c0(Z,"maxLookahead")?Z.maxLookahead:y7.maxLookahead,this.lookaheadStrategy=c0(Z,"lookaheadStrategy")?Z.lookaheadStrategy:new yX({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(Z){D0(Z,(J)=>{this.TRACE_INIT(`${J.name} Rule Lookahead`,()=>{const{alternation:Q,repetition:K,option:X,repetitionMandatory:U,repetitionMandatoryWithSeparator:Y,repetitionWithSeparator:q}=VV0(J);D0(Q,(z)=>{const G=z.idx===0?"":z.idx;this.TRACE_INIT(`${W6(z)}${G}`,()=>{const H=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:z.idx,rule:J,maxLookahead:z.maxLookahead||this.maxLookahead,hasPredicates:z.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),W=HL(this.fullRuleNameToShort[J.name],zL,z.idx);this.setLaFuncCache(W,H)})}),D0(K,(z)=>{this.computeLookaheadFunc(J,z.idx,tW,"Repetition",z.maxLookahead,W6(z))}),D0(X,(z)=>{this.computeLookaheadFunc(J,z.idx,GL,"Option",z.maxLookahead,W6(z))}),D0(U,(z)=>{this.computeLookaheadFunc(J,z.idx,eW,"RepetitionMandatory",z.maxLookahead,W6(z))}),D0(Y,(z)=>{this.computeLookaheadFunc(J,z.idx,Yz,"RepetitionMandatoryWithSeparator",z.maxLookahead,W6(z))}),D0(q,(z)=>{this.computeLookaheadFunc(J,z.idx,ZF,"RepetitionWithSeparator",z.maxLookahead,W6(z))})})})}computeLookaheadFunc(Z,J,Q,K,X,U){this.TRACE_INIT(`${U}${J===0?"":J}`,()=>{const Y=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:J,rule:Z,maxLookahead:X||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:K}),q=HL(this.fullRuleNameToShort[Z.name],Q,J);this.setLaFuncCache(q,Y)})}getKeyForAutomaticLookahead(Z,J){const Q=this.getLastExplicitRuleShortName();return HL(Q,Z,J)}getLaFuncFromCache(Z){return this.lookAheadFuncsCache.get(Z)}setLaFuncCache(Z,J){this.lookAheadFuncsCache.set(Z,J)}}var Z00,WL;var J00=_(()=>{E9();F6();h7();pT();Z00=class Z00 extends H6{constructor(){super(...arguments);this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(Z){this.dslMethods.option.push(Z)}visitRepetitionWithSeparator(Z){this.dslMethods.repetitionWithSeparator.push(Z)}visitRepetitionMandatory(Z){this.dslMethods.repetitionMandatory.push(Z)}visitRepetitionMandatoryWithSeparator(Z){this.dslMethods.repetitionMandatoryWithSeparator.push(Z)}visitRepetition(Z){this.dslMethods.repetition.push(Z)}visitAlternation(Z){this.dslMethods.alternation.push(Z)}};WL=new Z00});function lT(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.endOffset=J.endOffset;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset}function dT(Z,J){if(isNaN(Z.startOffset)===!0)Z.startOffset=J.startOffset,Z.startColumn=J.startColumn,Z.startLine=J.startLine,Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine;else if(Z.endOffset<J.endOffset===!0)Z.endOffset=J.endOffset,Z.endColumn=J.endColumn,Z.endLine=J.endLine}function Q00(Z,J,Q){if(Z.children[Q]===void 0)Z.children[Q]=[J];else Z.children[Q].push(J)}function K00(Z,J,Q){if(Z.children[J]===void 0)Z.children[J]=[Q];else Z.children[J].push(Q)}function iT(Z,J){Object.defineProperty(Z,"name",{enumerable:!1,configurable:!0,writable:!1,value:J})}function SV0(Z,J){const Q=A8(Z),K=Q.length;for(let X=0;X<K;X++){const U=Q[X],Y=Z[U],q=Y.length;for(let z=0;z<q;z++){const G=Y[z];if(G.tokenTypeIdx===void 0)this[G.name](G.children,J)}}}function X00(Z,J){const Q=function(){};iT(Q,Z+"BaseSemantics");const K={visit:function(X,U){if(G9(X))X=X[0];if(s9(X))return;return this[X.name](X.children,U)},validateVisitor:function(){const X=TV0(this,J);if(!p9(X)){const U=p0(X,(Y)=>Y.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${U.join("\n\n").replace(/\n/g,"\n\t")}`)}}};return Q.prototype=K,Q.prototype.constructor=Q,Q._RULE_NAMES=J,Q}function U00(Z,J,Q){const K=function(){};iT(K,Z+"BaseSemanticsWithDefaults");const X=Object.create(Q.prototype);return D0(J,(U)=>{X[U]=SV0}),K.prototype=X,K.prototype.constructor=K,K}function TV0(Z,J){return fV0(Z,J)}function fV0(Z,J){const Q=C8(J,(X)=>{return KJ(Z[X])===!1}),K=p0(Q,(X)=>{return{msg:`Missing visitor method: <${X}> on ${Z.constructor.name} CST Visitor.`,type:sT.MISSING_METHOD,methodName:X}});return n4(K)}var sT;var Y00=_(()=>{E9();(function(Z){Z[Z.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",Z[Z.MISSING_METHOD=1]="MISSING_METHOD"})(sT||(sT={}))});class rT{initTreeBuilder(Z){if(this.CST_STACK=[],this.outputCst=Z.outputCst,this.nodeLocationTracking=c0(Z,"nodeLocationTracking")?Z.nodeLocationTracking:y7.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=vZ,this.cstFinallyStateUpdate=vZ,this.cstPostTerminal=vZ,this.cstPostNonTerminal=vZ,this.cstPostRule=vZ;else if(/full/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=dT,this.setNodeLocationFromNode=dT,this.cstPostRule=vZ,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery;else this.setNodeLocationFromToken=vZ,this.setNodeLocationFromNode=vZ,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular;else if(/onlyOffset/i.test(this.nodeLocationTracking))if(this.recoveryEnabled)this.setNodeLocationFromToken=lT,this.setNodeLocationFromNode=lT,this.cstPostRule=vZ,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery;else this.setNodeLocationFromToken=vZ,this.setNodeLocationFromNode=vZ,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular;else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=vZ,this.setNodeLocationFromNode=vZ,this.cstPostRule=vZ,this.setInitialNodeLocation=vZ;else throw Error(`Invalid <nodeLocationTracking> config option: "${Z.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(Z){Z.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(Z){Z.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(Z){Z.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(Z){const J=this.LA(1);Z.location={startOffset:J.startOffset,startLine:J.startLine,startColumn:J.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(Z){const J={name:Z,children:Object.create(null)};this.setInitialNodeLocation(J),this.CST_STACK.push(J)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(Z){const J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset,Q.endLine=J.endLine,Q.endColumn=J.endColumn;else Q.startOffset=NaN,Q.startLine=NaN,Q.startColumn=NaN}cstPostRuleOnlyOffset(Z){const J=this.LA(0),Q=Z.location;if(Q.startOffset<=J.startOffset===!0)Q.endOffset=J.endOffset;else Q.startOffset=NaN}cstPostTerminal(Z,J){const Q=this.CST_STACK[this.CST_STACK.length-1];Q00(Q,J,Z),this.setNodeLocationFromToken(Q.location,J)}cstPostNonTerminal(Z,J){const Q=this.CST_STACK[this.CST_STACK.length-1];K00(Q,J,Z),this.setNodeLocationFromNode(Q.location,Z.location)}getBaseCstVisitorConstructor(){if(s9(this.baseCstVisitorConstructor)){const Z=X00(this.className,A8(this.gastProductionsCache));return this.baseCstVisitorConstructor=Z,Z}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(s9(this.baseCstVisitorWithDefaultsConstructor)){const Z=U00(this.className,A8(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=Z,Z}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const Z=this.RULE_STACK;return Z[Z.length-1]}getPreviousExplicitRuleShortName(){const Z=this.RULE_STACK;return Z[Z.length-2]}getLastExplicitRuleOccurrenceIndex(){const Z=this.RULE_OCCURRENCE_STACK;return Z[Z.length-1]}}var q00=_(()=>{E9();Y00();F6()});class nT{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(Z){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=Z,this.tokVectorLength=Z.length}get input(){return this.tokVector}SKIP_TOKEN(){if(this.currIdx<=this.tokVector.length-2)return this.consumeToken(),this.LA(1);else return qz}LA(Z){const J=this.currIdx+Z;if(J<0||this.tokVectorLength<=J)return qz;else return this.tokVector[J]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(Z){this.currIdx=Z}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}var z00=_(()=>{F6()});class aT{ACTION(Z){return Z.call(this)}consume(Z,J,Q){return this.consumeInternal(J,Z,Q)}subrule(Z,J,Q){return this.subruleInternal(J,Z,Q)}option(Z,J){return this.optionInternal(J,Z)}or(Z,J){return this.orInternal(J,Z)}many(Z,J){return this.manyInternal(Z,J)}atLeastOne(Z,J){return this.atLeastOneInternal(Z,J)}CONSUME(Z,J){return this.consumeInternal(Z,0,J)}CONSUME1(Z,J){return this.consumeInternal(Z,1,J)}CONSUME2(Z,J){return this.consumeInternal(Z,2,J)}CONSUME3(Z,J){return this.consumeInternal(Z,3,J)}CONSUME4(Z,J){return this.consumeInternal(Z,4,J)}CONSUME5(Z,J){return this.consumeInternal(Z,5,J)}CONSUME6(Z,J){return this.consumeInternal(Z,6,J)}CONSUME7(Z,J){return this.consumeInternal(Z,7,J)}CONSUME8(Z,J){return this.consumeInternal(Z,8,J)}CONSUME9(Z,J){return this.consumeInternal(Z,9,J)}SUBRULE(Z,J){return this.subruleInternal(Z,0,J)}SUBRULE1(Z,J){return this.subruleInternal(Z,1,J)}SUBRULE2(Z,J){return this.subruleInternal(Z,2,J)}SUBRULE3(Z,J){return this.subruleInternal(Z,3,J)}SUBRULE4(Z,J){return this.subruleInternal(Z,4,J)}SUBRULE5(Z,J){return this.subruleInternal(Z,5,J)}SUBRULE6(Z,J){return this.subruleInternal(Z,6,J)}SUBRULE7(Z,J){return this.subruleInternal(Z,7,J)}SUBRULE8(Z,J){return this.subruleInternal(Z,8,J)}SUBRULE9(Z,J){return this.subruleInternal(Z,9,J)}OPTION(Z){return this.optionInternal(Z,0)}OPTION1(Z){return this.optionInternal(Z,1)}OPTION2(Z){return this.optionInternal(Z,2)}OPTION3(Z){return this.optionInternal(Z,3)}OPTION4(Z){return this.optionInternal(Z,4)}OPTION5(Z){return this.optionInternal(Z,5)}OPTION6(Z){return this.optionInternal(Z,6)}OPTION7(Z){return this.optionInternal(Z,7)}OPTION8(Z){return this.optionInternal(Z,8)}OPTION9(Z){return this.optionInternal(Z,9)}OR(Z){return this.orInternal(Z,0)}OR1(Z){return this.orInternal(Z,1)}OR2(Z){return this.orInternal(Z,2)}OR3(Z){return this.orInternal(Z,3)}OR4(Z){return this.orInternal(Z,4)}OR5(Z){return this.orInternal(Z,5)}OR6(Z){return this.orInternal(Z,6)}OR7(Z){return this.orInternal(Z,7)}OR8(Z){return this.orInternal(Z,8)}OR9(Z){return this.orInternal(Z,9)}MANY(Z){this.manyInternal(0,Z)}MANY1(Z){this.manyInternal(1,Z)}MANY2(Z){this.manyInternal(2,Z)}MANY3(Z){this.manyInternal(3,Z)}MANY4(Z){this.manyInternal(4,Z)}MANY5(Z){this.manyInternal(5,Z)}MANY6(Z){this.manyInternal(6,Z)}MANY7(Z){this.manyInternal(7,Z)}MANY8(Z){this.manyInternal(8,Z)}MANY9(Z){this.manyInternal(9,Z)}MANY_SEP(Z){this.manySepFirstInternal(0,Z)}MANY_SEP1(Z){this.manySepFirstInternal(1,Z)}MANY_SEP2(Z){this.manySepFirstInternal(2,Z)}MANY_SEP3(Z){this.manySepFirstInternal(3,Z)}MANY_SEP4(Z){this.manySepFirstInternal(4,Z)}MANY_SEP5(Z){this.manySepFirstInternal(5,Z)}MANY_SEP6(Z){this.manySepFirstInternal(6,Z)}MANY_SEP7(Z){this.manySepFirstInternal(7,Z)}MANY_SEP8(Z){this.manySepFirstInternal(8,Z)}MANY_SEP9(Z){this.manySepFirstInternal(9,Z)}AT_LEAST_ONE(Z){this.atLeastOneInternal(0,Z)}AT_LEAST_ONE1(Z){return this.atLeastOneInternal(1,Z)}AT_LEAST_ONE2(Z){this.atLeastOneInternal(2,Z)}AT_LEAST_ONE3(Z){this.atLeastOneInternal(3,Z)}AT_LEAST_ONE4(Z){this.atLeastOneInternal(4,Z)}AT_LEAST_ONE5(Z){this.atLeastOneInternal(5,Z)}AT_LEAST_ONE6(Z){this.atLeastOneInternal(6,Z)}AT_LEAST_ONE7(Z){this.atLeastOneInternal(7,Z)}AT_LEAST_ONE8(Z){this.atLeastOneInternal(8,Z)}AT_LEAST_ONE9(Z){this.atLeastOneInternal(9,Z)}AT_LEAST_ONE_SEP(Z){this.atLeastOneSepFirstInternal(0,Z)}AT_LEAST_ONE_SEP1(Z){this.atLeastOneSepFirstInternal(1,Z)}AT_LEAST_ONE_SEP2(Z){this.atLeastOneSepFirstInternal(2,Z)}AT_LEAST_ONE_SEP3(Z){this.atLeastOneSepFirstInternal(3,Z)}AT_LEAST_ONE_SEP4(Z){this.atLeastOneSepFirstInternal(4,Z)}AT_LEAST_ONE_SEP5(Z){this.atLeastOneSepFirstInternal(5,Z)}AT_LEAST_ONE_SEP6(Z){this.atLeastOneSepFirstInternal(6,Z)}AT_LEAST_ONE_SEP7(Z){this.atLeastOneSepFirstInternal(7,Z)}AT_LEAST_ONE_SEP8(Z){this.atLeastOneSepFirstInternal(8,Z)}AT_LEAST_ONE_SEP9(Z){this.atLeastOneSepFirstInternal(9,Z)}RULE(Z,J,Q=zz){if(DZ(this.definedRulesNames,Z)){const U={message:U4.buildDuplicateRuleNameError({topLevelRule:Z,grammarName:this.className}),type:RJ.DUPLICATE_RULE_NAME,ruleName:Z};this.definitionErrors.push(U)}this.definedRulesNames.push(Z);const K=this.defineRule(Z,J,Q);return this[Z]=K,K}OVERRIDE_RULE(Z,J,Q=zz){const K=ue(Z,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(K);const X=this.defineRule(Z,J,Q);return this[Z]=X,X}BACKTRACK(Z,J){return function(){this.isBackTrackingStack.push(1);const Q=this.saveRecogState();try{return Z.apply(this,J),!0}catch(K){if(hX(K))return!1;else throw K}finally{this.reloadRecogState(Q),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return uA(Z8(this.gastProductionsCache))}}var G00=_(()=>{E9();Uz();F6();Zz();aW();h7()});class oT{initRecognizerEngine(Z,J){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=e1,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},c0(J,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(G9(Z)){if(p9(Z))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if(typeof Z[0].startOffset==="number")throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(G9(Z))this.tokensMap=P8(Z,(X,U)=>{return X[U.name]=U,X},{});else if(c0(Z,"modes")&&M7(j8(Z8(Z.modes)),Fe)){const X=j8(Z8(Z.modes)),U=S1(X);this.tokensMap=P8(U,(Y,q)=>{return Y[q.name]=q,Y},{})}else if(e8(Z))this.tokensMap=x8(Z);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=d6;const Q=c0(Z,"modes")?j8(Z8(Z.modes)):Z8(Z),K=M7(Q,(X)=>p9(X.categoryMatches));this.tokenMatcher=K?e1:B5,R5(Z8(this.tokensMap))}defineRule(Z,J,Q){if(this.selfAnalysisDone)throw Error(`Grammar rule <${Z}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const K=c0(Q,"resyncEnabled")?Q.resyncEnabled:zz.resyncEnabled,X=c0(Q,"recoveryValueFunc")?Q.recoveryValueFunc:zz.recoveryValueFunc,U=this.ruleShortNameIdx<<ee+qL;this.ruleShortNameIdx++,this.shortRuleNameToFull[U]=Z,this.fullRuleNameToShort[Z]=U;let Y;if(this.outputCst===!0)Y=function z(...G){try{this.ruleInvocationStateUpdate(U,Z,this.subruleIdx),J.apply(this,G);const H=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(H),H}catch(H){return this.invokeRuleCatch(H,K,X)}finally{this.ruleFinallyStateUpdate()}};else Y=function z(...G){try{return this.ruleInvocationStateUpdate(U,Z,this.subruleIdx),J.apply(this,G)}catch(H){return this.invokeRuleCatch(H,K,X)}finally{this.ruleFinallyStateUpdate()}};return Object.assign(Y,{ruleName:Z,originalGrammarAction:J})}invokeRuleCatch(Z,J,Q){const K=this.RULE_STACK.length===1,X=J&&!this.isBackTracking()&&this.recoveryEnabled;if(hX(Z)){const U=Z;if(X){const Y=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(Y))if(U.resyncedTokens=this.reSyncTo(Y),this.outputCst){const q=this.CST_STACK[this.CST_STACK.length-1];return q.recoveredNode=!0,q}else return Q(Z);else{if(this.outputCst){const q=this.CST_STACK[this.CST_STACK.length-1];q.recoveredNode=!0,U.partialCstResult=q}throw U}}else if(K)return this.moveToTerminatedState(),Q(Z);else throw U}else throw Z}optionInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(GL,J);return this.optionInternalLogic(Z,J,Q)}optionInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof Z!=="function"){X=Z.DEF;const U=Z.GATE;if(U!==void 0){const Y=K;K=()=>{return U.call(this)&&Y.call(this)}}}else X=Z;if(K.call(this)===!0)return X.call(this);return}atLeastOneInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(eW,Z);return this.atLeastOneInternalLogic(Z,J,Q)}atLeastOneInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof J!=="function"){X=J.DEF;const U=J.GATE;if(U!==void 0){const Y=K;K=()=>{return U.call(this)&&Y.call(this)}}}else X=J;if(K.call(this)===!0){let U=this.doSingleRepetition(X);while(K.call(this)===!0&&U===!0)U=this.doSingleRepetition(X)}else throw this.raiseEarlyExitException(Z,CZ.REPETITION_MANDATORY,J.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[Z,J],K,eW,Z,_T)}atLeastOneSepFirstInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(Yz,Z);this.atLeastOneSepFirstInternalLogic(Z,J,Q)}atLeastOneSepFirstInternalLogic(Z,J,Q){const{DEF:K,SEP:X}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);const Y=()=>{return this.tokenMatcher(this.LA(1),X)};while(this.tokenMatcher(this.LA(1),X)===!0)this.CONSUME(X),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,X,Y,K,oA],Y,Yz,Z,oA)}else throw this.raiseEarlyExitException(Z,CZ.REPETITION_MANDATORY_WITH_SEPARATOR,J.ERR_MSG)}manyInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(tW,Z);return this.manyInternalLogic(Z,J,Q)}manyInternalLogic(Z,J,Q){let K=this.getLaFuncFromCache(Q),X;if(typeof J!=="function"){X=J.DEF;const Y=J.GATE;if(Y!==void 0){const q=K;K=()=>{return Y.call(this)&&q.call(this)}}}else X=J;let U=!0;while(K.call(this)===!0&&U===!0)U=this.doSingleRepetition(X);this.attemptInRepetitionRecovery(this.manyInternal,[Z,J],K,tW,Z,$T,U)}manySepFirstInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(ZF,Z);this.manySepFirstInternalLogic(Z,J,Q)}manySepFirstInternalLogic(Z,J,Q){const{DEF:K,SEP:X}=J;if(this.getLaFuncFromCache(Q).call(this)===!0){K.call(this);const Y=()=>{return this.tokenMatcher(this.LA(1),X)};while(this.tokenMatcher(this.LA(1),X)===!0)this.CONSUME(X),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,X,Y,K,aA],Y,ZF,Z,aA)}}repetitionSepSecondInternal(Z,J,Q,K,X){while(Q())this.CONSUME(J),K.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[Z,J,Q,K,X],Q,Yz,Z,X)}doSingleRepetition(Z){const J=this.getLexerPosition();return Z.call(this),this.getLexerPosition()>J}orInternal(Z,J){const Q=this.getKeyForAutomaticLookahead(zL,J),K=G9(Z)?Z:Z.DEF,U=this.getLaFuncFromCache(Q).call(this,K);if(U!==void 0)return K[U].ALT.call(this);this.raiseNoAltException(J,Z.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const Z=this.LA(1),J=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:Z,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new UL(J,Z))}}subruleInternal(Z,J,Q){let K;try{const X=Q!==void 0?Q.ARGS:void 0;return this.subruleIdx=J,K=Z.apply(this,X),this.cstPostNonTerminal(K,Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.ruleName),K}catch(X){throw this.subruleInternalError(X,Q,Z.ruleName)}}subruleInternalError(Z,J,Q){if(hX(Z)&&Z.partialCstResult!==void 0)this.cstPostNonTerminal(Z.partialCstResult,J!==void 0&&J.LABEL!==void 0?J.LABEL:Q),delete Z.partialCstResult;throw Z}consumeInternal(Z,J,Q){let K;try{const X=this.LA(1);if(this.tokenMatcher(X,Z)===!0)this.consumeToken(),K=X;else this.consumeInternalError(Z,X,Q)}catch(X){K=this.consumeInternalRecovery(Z,J,X)}return this.cstPostTerminal(Q!==void 0&&Q.LABEL!==void 0?Q.LABEL:Z.name,K),K}consumeInternalError(Z,J,Q){let K;const X=this.LA(0);if(Q!==void 0&&Q.ERR_MSG)K=Q.ERR_MSG;else K=this.errorMessageProvider.buildMismatchTokenMessage({expected:Z,actual:J,previous:X,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Xz(K,J,X))}consumeInternalRecovery(Z,J,Q){if(this.recoveryEnabled&&Q.name==="MismatchedTokenException"&&!this.isBackTracking()){const K=this.getFollowsForInRuleRecovery(Z,J);try{return this.tryInRuleRecovery(Z,K)}catch(X){if(X.name===uT)throw Q;else throw X}}else throw Q}saveRecogState(){const Z=this.errors,J=x8(this.RULE_STACK);return{errors:Z,lexerState:this.exportLexerState(),RULE_STACK:J,CST_STACK:this.CST_STACK}}reloadRecogState(Z){this.errors=Z.errors,this.importLexerState(Z.lexerState),this.RULE_STACK=Z.RULE_STACK}ruleInvocationStateUpdate(Z,J,Q){this.RULE_OCCURRENCE_STACK.push(Q),this.RULE_STACK.push(Z),this.cstInvocationStateUpdate(J)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const Z=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[Z]}shortRuleNameToFullName(Z){return this.shortRuleNameToFull[Z]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),d6)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}var H00=_(()=>{E9();Uz();Kz();rW();F6();gT();EY();DY()});class tT{initErrorHandler(Z){this._errors=[],this.errorMessageProvider=c0(Z,"errorMessageProvider")?Z.errorMessageProvider:y7.errorMessageProvider}SAVE_ERROR(Z){if(hX(Z))return Z.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:x8(this.RULE_OCCURRENCE_STACK)},this._errors.push(Z),Z;else throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return x8(this._errors)}set errors(Z){this._errors=Z}raiseEarlyExitException(Z,J,Q){const K=this.getCurrRuleFullName(),X=this.getGAstProductions()[K],Y=Qz(Z,X,J,this.maxLookahead)[0],q=[];for(let G=1;G<=this.maxLookahead;G++)q.push(this.LA(G));const z=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:Y,actual:q,previous:this.LA(0),customUserDescription:Q,ruleName:K});throw this.SAVE_ERROR(new YL(z,this.LA(1),this.LA(0)))}raiseNoAltException(Z,J){const Q=this.getCurrRuleFullName(),K=this.getGAstProductions()[Q],X=Jz(Z,K,this.maxLookahead),U=[];for(let z=1;z<=this.maxLookahead;z++)U.push(this.LA(z));const Y=this.LA(0),q=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:X,actual:U,previous:Y,customUserDescription:J,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new XL(q,this.LA(1),Y))}}var W00=_(()=>{Uz();E9();Kz();F6()});class eT{initContentAssist(){}computeContentAssist(Z,J){const Q=this.gastProductionsCache[Z];if(s9(Q))throw Error(`Rule ->${Z}<- does not exist in this grammar.`);return eA([Q],J,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(Z){const J=kJ(Z.ruleStack),K=this.getGAstProductions()[J];return new kT(K,Z).startWalking()}}var F00=_(()=>{rW();E9()});function JF(Z,J,Q,K=!1){FL(Q);const X=rJ(this.recordingProdStack),U=KJ(J)?J:J.DEF,Y=new Z({definition:[],idx:Q});if(K)Y.separator=J.SEP;if(c0(J,"MAX_LOOKAHEAD"))Y.maxLookahead=J.MAX_LOOKAHEAD;return this.recordingProdStack.push(Y),U.call(this),X.definition.push(Y),this.recordingProdStack.pop(),ML}function kV0(Z,J){FL(J);const Q=rJ(this.recordingProdStack),K=G9(Z)===!1,X=K===!1?Z:Z.DEF,U=new YZ({definition:[],idx:J,ignoreAmbiguities:K&&Z.IGNORE_AMBIGUITIES===!0});if(c0(Z,"MAX_LOOKAHEAD"))U.maxLookahead=Z.MAX_LOOKAHEAD;const Y=UW(X,(q)=>KJ(q.GATE));return U.hasPredicates=Y,Q.definition.push(U),D0(X,(q)=>{const z=new MZ({definition:[]});if(U.definition.push(z),c0(q,"IGNORE_AMBIGUITIES"))z.ignoreAmbiguities=q.IGNORE_AMBIGUITIES;else if(c0(q,"GATE"))z.ignoreAmbiguities=!0;this.recordingProdStack.push(z),q.ALT.call(this),this.recordingProdStack.pop()}),ML}function R00(Z){return Z===0?"":`${Z}`}function FL(Z){if(Z<0||Z>B00){const J=new Error(`Invalid DSL Method idx value: <${Z}>\n\tIdx value must be a none negative value smaller than ${B00+1}`);throw J.KNOWN_RECORDER_ERROR=!0,J}}class Zf{initGastRecorder(Z){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let Z=0;Z<10;Z++){const J=Z>0?Z:"";this[`CONSUME${J}`]=function(Q,K){return this.consumeInternalRecord(Q,Z,K)},this[`SUBRULE${J}`]=function(Q,K){return this.subruleInternalRecord(Q,Z,K)},this[`OPTION${J}`]=function(Q){return this.optionInternalRecord(Q,Z)},this[`OR${J}`]=function(Q){return this.orInternalRecord(Q,Z)},this[`MANY${J}`]=function(Q){this.manyInternalRecord(Z,Q)},this[`MANY_SEP${J}`]=function(Q){this.manySepFirstInternalRecord(Z,Q)},this[`AT_LEAST_ONE${J}`]=function(Q){this.atLeastOneInternalRecord(Z,Q)},this[`AT_LEAST_ONE_SEP${J}`]=function(Q){this.atLeastOneSepFirstInternalRecord(Z,Q)}}this.consume=function(Z,J,Q){return this.consumeInternalRecord(J,Z,Q)},this.subrule=function(Z,J,Q){return this.subruleInternalRecord(J,Z,Q)},this.option=function(Z,J){return this.optionInternalRecord(J,Z)},this.or=function(Z,J){return this.orInternalRecord(J,Z)},this.many=function(Z,J){this.manyInternalRecord(Z,J)},this.atLeastOne=function(Z,J){this.atLeastOneInternalRecord(Z,J)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const Z=this;for(let J=0;J<10;J++){const Q=J>0?J:"";delete Z[`CONSUME${Q}`],delete Z[`SUBRULE${Q}`],delete Z[`OPTION${Q}`],delete Z[`OR${Q}`],delete Z[`MANY${Q}`],delete Z[`MANY_SEP${Q}`],delete Z[`AT_LEAST_ONE${Q}`],delete Z[`AT_LEAST_ONE_SEP${Q}`]}delete Z.consume,delete Z.subrule,delete Z.option,delete Z.or,delete Z.many,delete Z.atLeastOne,delete Z.ACTION,delete Z.BACKTRACK,delete Z.LA})}ACTION_RECORD(Z){}BACKTRACK_RECORD(Z,J){return()=>!0}LA_RECORD(Z){return qz}topLevelRuleRecord(Z,J){try{const Q=new G6({definition:[],name:Z});return Q.name=Z,this.recordingProdStack.push(Q),J.call(this),this.recordingProdStack.pop(),Q}catch(Q){if(Q.KNOWN_RECORDER_ERROR!==!0)try{Q.message=Q.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(K){throw Q}throw Q}}optionInternalRecord(Z,J){return JF.call(this,c8,Z,J)}atLeastOneInternalRecord(Z,J){JF.call(this,BZ,J,Z)}atLeastOneSepFirstInternalRecord(Z,J){JF.call(this,RZ,J,Z,M00)}manyInternalRecord(Z,J){JF.call(this,W8,J,Z)}manySepFirstInternalRecord(Z,J){JF.call(this,UZ,J,Z,M00)}orInternalRecord(Z,J){return kV0.call(this,Z,J)}subruleInternalRecord(Z,J,Q){if(FL(J),!Z||c0(Z,"ruleName")===!1){const Y=new Error(`<SUBRULE${R00(J)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(Z)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw Y.KNOWN_RECORDER_ERROR=!0,Y}const K=rJ(this.recordingProdStack),X=Z.ruleName,U=new p8({idx:J,nonTerminalName:X,label:Q===null||Q===void 0?void 0:Q.LABEL,referencedRule:void 0});return K.definition.push(U),this.outputCst?vV0:ML}consumeInternalRecord(Z,J,Q){if(FL(J),!ST(Z)){const U=new Error(`<CONSUME${R00(J)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(Z)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw U.KNOWN_RECORDER_ERROR=!0,U}const K=rJ(this.recordingProdStack),X=new U8({idx:J,terminalType:Z,label:Q===null||Q===void 0?void 0:Q.LABEL});return K.definition.push(X),A00}}var ML,M00=!0,B00,O00,A00,vV0;var L00=_(()=>{E9();h7();lW();DY();EY();F6();ML={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ML);B00=Math.pow(2,qL)-1,O00=nA({name:"RECORDING_PHASE_TOKEN",pattern:aZ.NA});R5([O00]);A00=NY(O00,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(A00);vV0={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}}});class Jf{initPerformanceTracer(Z){if(c0(Z,"traceInitPerf")){const J=Z.traceInitPerf,Q=typeof J==="number";this.traceInitMaxIdent=Q?J:1/0,this.traceInitPerf=Q?J>0:J}else this.traceInitMaxIdent=0,this.traceInitPerf=y7.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(Z,J){if(this.traceInitPerf===!0){this.traceInitIndent++;const Q=new Array(this.traceInitIndent+1).join("\t");if(this.traceInitIndent<this.traceInitMaxIdent)console.log(`${Q}--> <${Z}>`);const{time:K,value:X}=gW(J),U=K>10?console.warn:console.log;if(this.traceInitIndent<this.traceInitMaxIdent)U(`${Q}<-- <${Z}> time: ${K}ms`);return this.traceInitIndent--,X}else return J()}}var I00=_(()=>{E9();r1();F6()});function D00(Z,J){J.forEach((Q)=>{const K=Q.prototype;Object.getOwnPropertyNames(K).forEach((X)=>{if(X==="constructor")return;const U=Object.getOwnPropertyDescriptor(K,X);if(U&&(U.get||U.set))Object.defineProperty(Z.prototype,X,U);else Z.prototype[X]=Q.prototype[X]})})}function BL(Z=void 0){return function(){return Z}}class QF{static performSelfAnalysis(Z){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let Z;this.selfAnalysisDone=!0;const J=this.className;this.TRACE_INIT("toFastProps",()=>{pW(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),D0(this.definedRulesNames,(K)=>{const U=this[K].originalGrammarAction;let Y;this.TRACE_INIT(`${K} Rule`,()=>{Y=this.topLevelRuleRecord(K,U)}),this.gastProductionsCache[K]=Y})}finally{this.disableRecording()}});let Q=[];if(this.TRACE_INIT("Grammar Resolving",()=>{Q=le({rules:Z8(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(Q)}),this.TRACE_INIT("Grammar Validations",()=>{if(p9(Q)&&this.skipValidations===!1){const K=de({rules:Z8(this.gastProductionsCache),tokenTypes:Z8(this.tokensMap),errMsgProvider:U4,grammarName:J}),X=be({lookaheadStrategy:this.lookaheadStrategy,rules:Z8(this.gastProductionsCache),tokenTypes:Z8(this.tokensMap),grammarName:J});this.definitionErrors=this.definitionErrors.concat(K,X)}}),p9(this.definitionErrors)){if(this.recoveryEnabled)this.TRACE_INIT("computeAllProdsFollows",()=>{const K=ct(Z8(this.gastProductionsCache));this.resyncFollows=K});this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var K,X;(X=(K=this.lookaheadStrategy).initialize)===null||X===void 0||X.call(K,{rules:Z8(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Z8(this.gastProductionsCache))})}if(!QF.DEFER_DEFINITION_ERRORS_HANDLING&&!p9(this.definitionErrors))throw Z=p0(this.definitionErrors,(K)=>K.message),new Error(`Parser Definition Errors detected:\n ${Z.join("\n-------------------------------\n")}`)})}constructor(Z,J){this.definitionErrors=[],this.selfAnalysisDone=!1;const Q=this;if(Q.initErrorHandler(J),Q.initLexerAdapter(),Q.initLooksAhead(J),Q.initRecognizerEngine(Z,J),Q.initRecoverable(J),Q.initTreeBuilder(J),Q.initContentAssist(),Q.initGastRecorder(J),Q.initPerformanceTracer(J),c0(J,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=c0(J,"skipValidations")?J.skipValidations:y7.skipValidations}}var qz,y7,zz,RJ,RL;var F6=_(()=>{E9();r1();lt();EY();Zz();ie();gT();J00();q00();z00();G00();H00();W00();F00();L00();I00();aW();qz=NY(d6,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(qz);y7=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:A5,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),zz=Object.freeze({recoveryValueFunc:()=>{return},resyncEnabled:!0});(function(Z){Z[Z.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",Z[Z.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",Z[Z.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",Z[Z.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",Z[Z.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",Z[Z.LEFT_RECURSION=5]="LEFT_RECURSION",Z[Z.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",Z[Z.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",Z[Z.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",Z[Z.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",Z[Z.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",Z[Z.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",Z[Z.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",Z[Z.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(RJ||(RJ={}));QF.DEFER_DEFINITION_ERRORS_HANDLING=!1;D00(QF,[mT,cT,rT,nT,oT,aT,tT,eT,Zf,Jf]);RL=class RL extends QF{constructor(Z,J=y7){const Q=x8(J);Q.outputCst=!1;super(Z,Q)}}});var N00=_(()=>{h7()});var E00=()=>{};var w00=_(()=>{N00();E00()});var j00=()=>{};var wY=_(()=>{F6();lW();EY();Kz();pT();Zz();Uz();fT();h7();h7();w00();j00()});function jY(Z,J,Q){return`${Z.name}_${J}_${Q}`}function S00(Z){const J={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};uV0(J,Z);const Q=Z.length;for(let K=0;K<Q;K++){const X=Z[K],U=CY(J,X,X);if(U===void 0)continue;aV0(J,X,U)}return J}function uV0(Z,J){const Q=J.length;for(let K=0;K<Q;K++){const X=J[K],U=_J(Z,X,void 0,{type:_V0}),Y=_J(Z,X,void 0,{type:Gz});U.stop=Y,Z.ruleToStartState.set(X,U),Z.ruleToStopState.set(X,Y)}}function T00(Z,J,Q){if(Q instanceof U8)return Qf(Z,J,Q.terminalType,Q);else if(Q instanceof p8)return nV0(Z,J,Q);else if(Q instanceof YZ)return lV0(Z,J,Q);else if(Q instanceof c8)return dV0(Z,J,Q);else if(Q instanceof W8)return mV0(Z,J,Q);else if(Q instanceof UZ)return gV0(Z,J,Q);else if(Q instanceof BZ)return pV0(Z,J,Q);else if(Q instanceof RZ)return cV0(Z,J,Q);else return CY(Z,J,Q)}function mV0(Z,J,Q){const K=_J(Z,J,Q,{type:P00});mX(Z,K);const X=Hz(Z,J,K,Q,CY(Z,J,Q));return v00(Z,J,Q,X)}function gV0(Z,J,Q){const K=_J(Z,J,Q,{type:P00});mX(Z,K);const X=Hz(Z,J,K,Q,CY(Z,J,Q)),U=Qf(Z,J,Q.separator,Q);return v00(Z,J,Q,X,U)}function pV0(Z,J,Q){const K=_J(Z,J,Q,{type:C00});mX(Z,K);const X=Hz(Z,J,K,Q,CY(Z,J,Q));return f00(Z,J,Q,X)}function cV0(Z,J,Q){const K=_J(Z,J,Q,{type:C00});mX(Z,K);const X=Hz(Z,J,K,Q,CY(Z,J,Q)),U=Qf(Z,J,Q.separator,Q);return f00(Z,J,Q,X,U)}function lV0(Z,J,Q){const K=_J(Z,J,Q,{type:uX});mX(Z,K);const X=p0(Q.definition,(Y)=>T00(Z,J,Y));return Hz(Z,J,K,Q,...X)}function dV0(Z,J,Q){const K=_J(Z,J,Q,{type:uX});mX(Z,K);const X=Hz(Z,J,K,Q,CY(Z,J,Q));return iV0(Z,J,Q,X)}function CY(Z,J,Q){const K=C8(p0(Q.definition,(X)=>T00(Z,J,X)),(X)=>X!==void 0);if(K.length===1)return K[0];else if(K.length===0)return;else return rV0(Z,K)}function f00(Z,J,Q,K,X){const{left:U,right:Y}=K,q=_J(Z,J,Q,{type:yV0});mX(Z,q);const z=_J(Z,J,Q,{type:V00});if(U.loopback=q,z.loopback=q,Z.decisionMap[jY(J,X?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",Q.idx)]=q,UJ(Y,q),X===void 0)UJ(q,U),UJ(q,z);else UJ(q,z),UJ(q,X.left),UJ(X.right,U);return{left:U,right:z}}function v00(Z,J,Q,K,X){const{left:U,right:Y}=K,q=_J(Z,J,Q,{type:hV0});mX(Z,q);const z=_J(Z,J,Q,{type:V00}),G=_J(Z,J,Q,{type:xV0});if(q.loopback=G,z.loopback=G,UJ(q,U),UJ(q,z),UJ(Y,G),X!==void 0)UJ(G,z),UJ(G,X.left),UJ(X.right,U);else UJ(G,q);return Z.decisionMap[jY(J,X?"RepetitionWithSeparator":"Repetition",Q.idx)]=q,{left:q,right:z}}function iV0(Z,J,Q,K){const{left:X,right:U}=K;return UJ(X,U),Z.decisionMap[jY(J,"Option",Q.idx)]=X,K}function mX(Z,J){return Z.decisionStates.push(J),J.decision=Z.decisionStates.length-1,J.decision}function Hz(Z,J,Q,K,...X){const U=_J(Z,J,K,{type:bV0,start:Q});Q.end=U;for(let q of X)if(q!==void 0)UJ(Q,q.left),UJ(q.right,U);else UJ(Q,U);const Y={left:Q,right:U};return Z.decisionMap[jY(J,sV0(K),K.idx)]=Q,Y}function sV0(Z){if(Z instanceof YZ)return"Alternation";else if(Z instanceof c8)return"Option";else if(Z instanceof W8)return"Repetition";else if(Z instanceof UZ)return"RepetitionWithSeparator";else if(Z instanceof BZ)return"RepetitionMandatory";else if(Z instanceof RZ)return"RepetitionMandatoryWithSeparator";else throw new Error("Invalid production type encountered")}function rV0(Z,J){const Q=J.length;for(let U=0;U<Q-1;U++){const Y=J[U];let q;if(Y.left.transitions.length===1)q=Y.left.transitions[0];const z=q instanceof XF,G=q,H=J[U+1].left;if(Y.left.type===uX&&Y.right.type===uX&&q!==void 0&&(z&&G.followState===Y.right||q.target===Y.right)){if(z)G.followState=H;else q.target=H;oV0(Z,Y.right)}else UJ(Y.right,H)}const K=J[0],X=J[Q-1];return{left:K.left,right:X.right}}function Qf(Z,J,Q,K){const X=_J(Z,J,K,{type:uX}),U=_J(Z,J,K,{type:uX});return Kf(X,new KF(U,Q)),{left:X,right:U}}function nV0(Z,J,Q){const K=Q.referencedRule,X=Z.ruleToStartState.get(K),U=_J(Z,J,Q,{type:uX}),Y=_J(Z,J,Q,{type:uX}),q=new XF(X,K,Y);return Kf(U,q),{left:U,right:Y}}function aV0(Z,J,Q){const K=Z.ruleToStartState.get(J);UJ(K,Q.left);const X=Z.ruleToStopState.get(J);return UJ(Q.right,X),{left:K,right:X}}function UJ(Z,J){const Q=new AL(J);Kf(Z,Q)}function _J(Z,J,Q,K){const X=Object.assign({atn:Z,production:Q,epsilonOnlyTransitions:!1,rule:J,transitions:[],nextTokenWithinRule:[],stateNumber:Z.states.length},K);return Z.states.push(X),X}function Kf(Z,J){if(Z.transitions.length===0)Z.epsilonOnlyTransitions=J.isEpsilon();Z.transitions.push(J)}function oV0(Z,J){Z.states.splice(Z.states.indexOf(J),1)}class OL{constructor(Z){this.target=Z}isEpsilon(){return!1}}var uX=1,_V0=2,C00=4,P00=5,Gz=7,bV0=8,xV0=9,hV0=10,yV0=11,V00=12,KF,AL,XF;var k00=_(()=>{C1();fP();wY();KF=class KF extends OL{constructor(Z,J){super(Z);this.tokenType=J}};AL=class AL extends OL{constructor(Z){super(Z)}isEpsilon(){return!0}};XF=class XF extends OL{constructor(Z,J,Q){super(Z);this.rule=J,this.followState=Q}isEpsilon(){return!0}}});function Xf(Z,J=!0){return`${J?`a${Z.alt}`:""}s${Z.state.stateNumber}:${Z.stack.map((Q)=>Q.stateNumber.toString()).join("_")}`}class YF{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(Z){const J=Xf(Z);if(!(J in this.map))this.map[J]=this.configs.length,this.configs.push(Z)}get elements(){return this.configs}get alts(){return p0(this.configs,(Z)=>Z.alt)}get key(){let Z="";for(let J in this.map)Z+=J+":";return Z}}var UF;var $00=_(()=>{C1();UF={}});function tV0(Z,J){const Q={};return(K)=>{const X=K.toString();let U=Q[X];if(U!==void 0)return U;else return U={atnStartState:Z,decision:J,states:{}},Q[X]=U,U}}function b00(Z,J=!0){const Q=new Set;for(let K of Z){const X=new Set;for(let U of K){if(U===void 0)if(J)break;else return!1;const Y=[U.tokenTypeIdx].concat(U.categoryMatches);for(let q of Y)if(Q.has(q)){if(!X.has(q))return!1}else Q.add(q),X.add(q)}}return!0}function eV0(Z){const J=Z.decisionStates.length,Q=Array(J);for(let K=0;K<J;K++)Q[K]=tV0(Z.decisionStates[K],K);return Q}function Uf(Z,J,Q,K){const X=Z[J](Q);let U=X.start;if(U===void 0){const q=HS0(X.atnStartState);U=y00(X,h00(q)),X.start=U}return ZS0.apply(this,[X,U,Q,K])}function ZS0(Z,J,Q,K){let X=J,U=1;const Y=[];let q=this.LA(U++);while(!0){let z=YS0(X,q);if(z===void 0)z=JS0.apply(this,[Z,X,q,U,Q,K]);if(z===UF)return US0(Y,X,q);if(z.isAcceptState===!0)return z.prediction;X=z,Y.push(q),q=this.LA(U++)}}function JS0(Z,J,Q,K,X,U){const Y=qS0(J.configs,Q,X);if(Y.size===0)return x00(Z,J,Q,UF),UF;let q=h00(Y);const z=GS0(Y,X);if(z!==void 0)q.isAcceptState=!0,q.prediction=z,q.configs.uniqueAlt=z;else if(BS0(Y)){const G=nQ(Y.alts);q.isAcceptState=!0,q.prediction=G,q.configs.uniqueAlt=G,QS0.apply(this,[Z,K,Y.alts,U])}return q=x00(Z,J,Q,q),q}function QS0(Z,J,Q,K){const X=[];for(let G=1;G<=J;G++)X.push(this.LA(G).tokenType);const U=Z.atnStartState,Y=U.rule,q=U.production,z=KS0({topLevelRule:Y,ambiguityIndices:Q,production:q,prefixPath:X});K(z)}function KS0(Z){const J=p0(Z.prefixPath,(X)=>O5(X)).join(", "),Q=Z.production.idx===0?"":Z.production.idx;let K=`Ambiguous Alternatives Detected: <${Z.ambiguityIndices.join(", ")}> in <${XS0(Z.production)}${Q}> inside <${Z.topLevelRule.name}> Rule,\n<${J}> may appears as a prefix path in all these alternatives.\n`;return K=K+"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",K}function XS0(Z){if(Z instanceof p8)return"SUBRULE";else if(Z instanceof c8)return"OPTION";else if(Z instanceof YZ)return"OR";else if(Z instanceof BZ)return"AT_LEAST_ONE";else if(Z instanceof RZ)return"AT_LEAST_ONE_SEP";else if(Z instanceof UZ)return"MANY_SEP";else if(Z instanceof W8)return"MANY";else if(Z instanceof U8)return"CONSUME";else throw Error("non exhaustive match")}function US0(Z,J,Q){const K=nJ(J.configs.elements,(U)=>U.state.transitions),X=Yn(K.filter((U)=>U instanceof KF).map((U)=>U.tokenType),(U)=>U.tokenTypeIdx);return{actualToken:Q,possibleTokenTypes:X,tokenPath:Z}}function YS0(Z,J){return Z.edges[J.tokenTypeIdx]}function qS0(Z,J,Q){const K=new YF,X=[];for(let Y of Z.elements){if(Q.is(Y.alt)===!1)continue;if(Y.state.type===Gz){X.push(Y);continue}const q=Y.state.transitions.length;for(let z=0;z<q;z++){const G=Y.state.transitions[z],H=zS0(G,J);if(H!==void 0)K.add({state:H,alt:Y.alt,stack:Y.stack})}}let U;if(X.length===0&&K.size===1)U=K;if(U===void 0){U=new YF;for(let Y of K.elements)LL(Y,U)}if(X.length>0&&!FS0(U))for(let Y of X)U.add(Y);return U}function zS0(Z,J){if(Z instanceof KF&&iW(J,Z.tokenType))return Z.target;return}function GS0(Z,J){let Q;for(let K of Z.elements)if(J.is(K.alt)===!0){if(Q===void 0)Q=K.alt;else if(Q!==K.alt)return}return Q}function h00(Z){return{configs:Z,edges:{},isAcceptState:!1,prediction:-1}}function x00(Z,J,Q,K){return K=y00(Z,K),J.edges[Q.tokenTypeIdx]=K,K}function y00(Z,J){if(J===UF)return J;const Q=J.configs.key,K=Z.states[Q];if(K!==void 0)return K;return J.configs.finalize(),Z.states[Q]=J,J}function HS0(Z){const J=new YF,Q=Z.transitions.length;for(let K=0;K<Q;K++){const U={state:Z.transitions[K].target,alt:K,stack:[]};LL(U,J)}return J}function LL(Z,J){const Q=Z.state;if(Q.type===Gz){if(Z.stack.length>0){const X=[...Z.stack],Y={state:X.pop(),alt:Z.alt,stack:X};LL(Y,J)}else J.add(Z);return}if(!Q.epsilonOnlyTransitions)J.add(Z);const K=Q.transitions.length;for(let X=0;X<K;X++){const U=Q.transitions[X],Y=WS0(Z,U);if(Y!==void 0)LL(Y,J)}}function WS0(Z,J){if(J instanceof AL)return{state:J.target,alt:Z.alt,stack:Z.stack};else if(J instanceof XF){const Q=[...Z.stack,J.followState];return{state:J.target,alt:Z.alt,stack:Q}}return}function FS0(Z){for(let J of Z.elements)if(J.state.type===Gz)return!0;return!1}function MS0(Z){for(let J of Z.elements)if(J.state.type!==Gz)return!1;return!0}function BS0(Z){if(MS0(Z))return!0;const J=RS0(Z.elements);return OS0(J)&&!AS0(J)}function RS0(Z){const J=new Map;for(let Q of Z){const K=Xf(Q,!1);let X=J.get(K);if(X===void 0)X={},J.set(K,X);X[Q.alt]=!0}return J}function OS0(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length>1)return!0;return!1}function AS0(Z){for(let J of Array.from(Z.values()))if(Object.keys(J).length===1)return!0;return!1}class Yf{constructor(){this.predicates=[]}is(Z){return Z>=this.predicates.length||this.predicates[Z]}set(Z,J){this.predicates[Z]=J}toString(){let Z="";const J=this.predicates.length;for(let Q=0;Q<J;Q++)Z+=this.predicates[Q]===!0?"1":"0";return Z}}var _00,IL;var u00=_(()=>{wY();k00();$00();yP();kP();qn();C1();dR();DO();CO();pP();_00=new Yf;IL=class IL extends yX{constructor(Z){var J;super();this.logging=(J=Z===null||Z===void 0?void 0:Z.logging)!==null&&J!==void 0?J:(Q)=>console.log(Q)}initialize(Z){this.atn=S00(Z.rules),this.dfas=eV0(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(Z){const{prodOccurrence:J,rule:Q,hasPredicates:K,dynamicTokensEnabled:X}=Z,U=this.dfas,Y=this.logging,q=jY(Q,"Alternation",J),G=this.atn.decisionMap[q].decision,H=p0(ZL({maxLookahead:1,occurrence:J,prodType:"Alternation",rule:Q}),(W)=>p0(W,(F)=>F[0]));if(b00(H,!1)&&!X){const W=P8(H,(F,M,B)=>{return D0(M,(O)=>{if(O)F[O.tokenTypeIdx]=B,D0(O.categoryMatches,(A)=>{F[A]=B})}),F},{});if(K)return function(F){var M;const B=this.LA(1),O=W[B.tokenTypeIdx];if(F!==void 0&&O!==void 0){const A=(M=F[O])===null||M===void 0?void 0:M.GATE;if(A!==void 0&&A.call(this)===!1)return}return O};else return function(){const F=this.LA(1);return W[F.tokenTypeIdx]}}else if(K)return function(W){const F=new Yf,M=W===void 0?0:W.length;for(let O=0;O<M;O++){const A=W===null||W===void 0?void 0:W[O].GATE;F.set(O,A===void 0||A.call(this))}const B=Uf.call(this,U,G,F,Y);return typeof B==="number"?B:void 0};else return function(){const W=Uf.call(this,U,G,_00,Y);return typeof W==="number"?W:void 0}}buildLookaheadForOptional(Z){const{prodOccurrence:J,rule:Q,prodType:K,dynamicTokensEnabled:X}=Z,U=this.dfas,Y=this.logging,q=jY(Q,K,J),G=this.atn.decisionMap[q].decision,H=p0(ZL({maxLookahead:1,occurrence:J,prodType:K,rule:Q}),(W)=>{return p0(W,(F)=>F[0])});if(b00(H)&&H[0][0]&&!X){const W=H[0],F=j8(W);if(F.length===1&&p9(F[0].categoryMatches)){const B=F[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===B}}else{const M=P8(F,(B,O)=>{if(O!==void 0)B[O.tokenTypeIdx]=!0,D0(O.categoryMatches,(A)=>{B[A]=!0});return B},{});return function(){const B=this.LA(1);return M[B.tokenTypeIdx]===!0}}}return function(){const W=Uf.call(this,U,G,_00,Y);return typeof W==="object"?!1:W===0}}}});var m00=_(()=>{u00()});class p90{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){let J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){this._content=Z.text,this._version=J,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let Z=[],J=this._content,Q=!0;for(let K=0;K<J.length;K++){if(Q)Z.push(K),Q=!1;let X=J.charAt(K);if(Q=X==="\r"||X==="\n",X==="\r"&&K+1<J.length&&J.charAt(K+1)==="\n")K++}if(Q&&J.length>0)Z.push(J.length);this._lineOffsets=Z}return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);let J=this.getLineOffsets(),Q=0,K=J.length;if(K===0)return V8.create(0,Z);while(Q<K){let U=Math.floor((Q+K)/2);if(J[U]>Z)K=U;else Q=U+1}let X=Q-1;return V8.create(X,Z-J[X])}offsetAt(Z){let J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;let Q=J[Z.line],K=Z.line+1<J.length?J[Z.line+1]:this._content.length;return Math.max(Math.min(Q+Z.character,K),Q)}get lineCount(){return this.getLineOffsets().length}}var g00,qf,p00,DL,V8,G8,NL,c00,zf,l00,d00,i00,s00,Gf,r00,n00,a00,EL,Wz,Fz,Hf,Mz,o00,Wf,Ff,Mf,Bf,Rf,t00,e00,Of,Z90,Af,qF,J90,Q90,K90,X90,U90,Y90,q90,z90,wL,G90,H90,W90,F90,M90,B90,R90,O90,A90,L90,I90,jL,D90,N90,E90,w90,j90,C90,P90,V90,S90,T90,f90,v90,k90,Lf,If,$90,_90,b90,x90,h90,y90,u90,m90,g90,f0;var Df=_(()=>{(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(g00||(g00={}));(function(Z){function J(Q){return typeof Q==="string"}Z.is=J})(qf||(qf={}));(function(Z){Z.MIN_VALUE=-2147483648,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(p00||(p00={}));(function(Z){Z.MIN_VALUE=0,Z.MAX_VALUE=2147483647;function J(Q){return typeof Q==="number"&&Z.MIN_VALUE<=Q&&Q<=Z.MAX_VALUE}Z.is=J})(DL||(DL={}));(function(Z){function J(K,X){if(K===Number.MAX_VALUE)K=DL.MAX_VALUE;if(X===Number.MAX_VALUE)X=DL.MAX_VALUE;return{line:K,character:X}}Z.create=J;function Q(K){let X=K;return f0.objectLiteral(X)&&f0.uinteger(X.line)&&f0.uinteger(X.character)}Z.is=Q})(V8||(V8={}));(function(Z){function J(K,X,U,Y){if(f0.uinteger(K)&&f0.uinteger(X)&&f0.uinteger(U)&&f0.uinteger(Y))return{start:V8.create(K,X),end:V8.create(U,Y)};else if(V8.is(K)&&V8.is(X))return{start:K,end:X};else throw new Error(`Range#create called with invalid arguments[${K}, ${X}, ${U}, ${Y}]`)}Z.create=J;function Q(K){let X=K;return f0.objectLiteral(X)&&V8.is(X.start)&&V8.is(X.end)}Z.is=Q})(G8||(G8={}));(function(Z){function J(K,X){return{uri:K,range:X}}Z.create=J;function Q(K){let X=K;return f0.objectLiteral(X)&&G8.is(X.range)&&(f0.string(X.uri)||f0.undefined(X.uri))}Z.is=Q})(NL||(NL={}));(function(Z){function J(K,X,U,Y){return{targetUri:K,targetRange:X,targetSelectionRange:U,originSelectionRange:Y}}Z.create=J;function Q(K){let X=K;return f0.objectLiteral(X)&&G8.is(X.targetRange)&&f0.string(X.targetUri)&&G8.is(X.targetSelectionRange)&&(G8.is(X.originSelectionRange)||f0.undefined(X.originSelectionRange))}Z.is=Q})(c00||(c00={}));(function(Z){function J(K,X,U,Y){return{red:K,green:X,blue:U,alpha:Y}}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&f0.numberRange(X.red,0,1)&&f0.numberRange(X.green,0,1)&&f0.numberRange(X.blue,0,1)&&f0.numberRange(X.alpha,0,1)}Z.is=Q})(zf||(zf={}));(function(Z){function J(K,X){return{range:K,color:X}}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&G8.is(X.range)&&zf.is(X.color)}Z.is=Q})(l00||(l00={}));(function(Z){function J(K,X,U){return{label:K,textEdit:X,additionalTextEdits:U}}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&f0.string(X.label)&&(f0.undefined(X.textEdit)||Fz.is(X))&&(f0.undefined(X.additionalTextEdits)||f0.typedArray(X.additionalTextEdits,Fz.is))}Z.is=Q})(d00||(d00={}));(function(Z){Z.Comment="comment",Z.Imports="imports",Z.Region="region"})(i00||(i00={}));(function(Z){function J(K,X,U,Y,q,z){const G={startLine:K,endLine:X};if(f0.defined(U))G.startCharacter=U;if(f0.defined(Y))G.endCharacter=Y;if(f0.defined(q))G.kind=q;if(f0.defined(z))G.collapsedText=z;return G}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&f0.uinteger(X.startLine)&&f0.uinteger(X.startLine)&&(f0.undefined(X.startCharacter)||f0.uinteger(X.startCharacter))&&(f0.undefined(X.endCharacter)||f0.uinteger(X.endCharacter))&&(f0.undefined(X.kind)||f0.string(X.kind))}Z.is=Q})(s00||(s00={}));(function(Z){function J(K,X){return{location:K,message:X}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&NL.is(X.location)&&f0.string(X.message)}Z.is=Q})(Gf||(Gf={}));(function(Z){Z.Error=1,Z.Warning=2,Z.Information=3,Z.Hint=4})(r00||(r00={}));(function(Z){Z.Unnecessary=1,Z.Deprecated=2})(n00||(n00={}));(function(Z){function J(Q){const K=Q;return f0.objectLiteral(K)&&f0.string(K.href)}Z.is=J})(a00||(a00={}));(function(Z){function J(K,X,U,Y,q,z){let G={range:K,message:X};if(f0.defined(U))G.severity=U;if(f0.defined(Y))G.code=Y;if(f0.defined(q))G.source=q;if(f0.defined(z))G.relatedInformation=z;return G}Z.create=J;function Q(K){var X;let U=K;return f0.defined(U)&&G8.is(U.range)&&f0.string(U.message)&&(f0.number(U.severity)||f0.undefined(U.severity))&&(f0.integer(U.code)||f0.string(U.code)||f0.undefined(U.code))&&(f0.undefined(U.codeDescription)||f0.string((X=U.codeDescription)===null||X===void 0?void 0:X.href))&&(f0.string(U.source)||f0.undefined(U.source))&&(f0.undefined(U.relatedInformation)||f0.typedArray(U.relatedInformation,Gf.is))}Z.is=Q})(EL||(EL={}));(function(Z){function J(K,X,...U){let Y={title:K,command:X};if(f0.defined(U)&&U.length>0)Y.arguments=U;return Y}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.string(X.title)&&f0.string(X.command)}Z.is=Q})(Wz||(Wz={}));(function(Z){function J(U,Y){return{range:U,newText:Y}}Z.replace=J;function Q(U,Y){return{range:{start:U,end:U},newText:Y}}Z.insert=Q;function K(U){return{range:U,newText:""}}Z.del=K;function X(U){const Y=U;return f0.objectLiteral(Y)&&f0.string(Y.newText)&&G8.is(Y.range)}Z.is=X})(Fz||(Fz={}));(function(Z){function J(K,X,U){const Y={label:K};if(X!==void 0)Y.needsConfirmation=X;if(U!==void 0)Y.description=U;return Y}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&f0.string(X.label)&&(f0.boolean(X.needsConfirmation)||X.needsConfirmation===void 0)&&(f0.string(X.description)||X.description===void 0)}Z.is=Q})(Hf||(Hf={}));(function(Z){function J(Q){const K=Q;return f0.string(K)}Z.is=J})(Mz||(Mz={}));(function(Z){function J(U,Y,q){return{range:U,newText:Y,annotationId:q}}Z.replace=J;function Q(U,Y,q){return{range:{start:U,end:U},newText:Y,annotationId:q}}Z.insert=Q;function K(U,Y){return{range:U,newText:"",annotationId:Y}}Z.del=K;function X(U){const Y=U;return Fz.is(Y)&&(Hf.is(Y.annotationId)||Mz.is(Y.annotationId))}Z.is=X})(o00||(o00={}));(function(Z){function J(K,X){return{textDocument:K,edits:X}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&Of.is(X.textDocument)&&Array.isArray(X.edits)}Z.is=Q})(Wf||(Wf={}));(function(Z){function J(K,X,U){let Y={kind:"create",uri:K};if(X!==void 0&&(X.overwrite!==void 0||X.ignoreIfExists!==void 0))Y.options=X;if(U!==void 0)Y.annotationId=U;return Y}Z.create=J;function Q(K){let X=K;return X&&X.kind==="create"&&f0.string(X.uri)&&(X.options===void 0||(X.options.overwrite===void 0||f0.boolean(X.options.overwrite))&&(X.options.ignoreIfExists===void 0||f0.boolean(X.options.ignoreIfExists)))&&(X.annotationId===void 0||Mz.is(X.annotationId))}Z.is=Q})(Ff||(Ff={}));(function(Z){function J(K,X,U,Y){let q={kind:"rename",oldUri:K,newUri:X};if(U!==void 0&&(U.overwrite!==void 0||U.ignoreIfExists!==void 0))q.options=U;if(Y!==void 0)q.annotationId=Y;return q}Z.create=J;function Q(K){let X=K;return X&&X.kind==="rename"&&f0.string(X.oldUri)&&f0.string(X.newUri)&&(X.options===void 0||(X.options.overwrite===void 0||f0.boolean(X.options.overwrite))&&(X.options.ignoreIfExists===void 0||f0.boolean(X.options.ignoreIfExists)))&&(X.annotationId===void 0||Mz.is(X.annotationId))}Z.is=Q})(Mf||(Mf={}));(function(Z){function J(K,X,U){let Y={kind:"delete",uri:K};if(X!==void 0&&(X.recursive!==void 0||X.ignoreIfNotExists!==void 0))Y.options=X;if(U!==void 0)Y.annotationId=U;return Y}Z.create=J;function Q(K){let X=K;return X&&X.kind==="delete"&&f0.string(X.uri)&&(X.options===void 0||(X.options.recursive===void 0||f0.boolean(X.options.recursive))&&(X.options.ignoreIfNotExists===void 0||f0.boolean(X.options.ignoreIfNotExists)))&&(X.annotationId===void 0||Mz.is(X.annotationId))}Z.is=Q})(Bf||(Bf={}));(function(Z){function J(Q){let K=Q;return K&&(K.changes!==void 0||K.documentChanges!==void 0)&&(K.documentChanges===void 0||K.documentChanges.every((X)=>{if(f0.string(X.kind))return Ff.is(X)||Mf.is(X)||Bf.is(X);else return Wf.is(X)}))}Z.is=J})(Rf||(Rf={}));(function(Z){function J(K){return{uri:K}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.string(X.uri)}Z.is=Q})(t00||(t00={}));(function(Z){function J(K,X){return{uri:K,version:X}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.string(X.uri)&&f0.integer(X.version)}Z.is=Q})(e00||(e00={}));(function(Z){function J(K,X){return{uri:K,version:X}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.string(X.uri)&&(X.version===null||f0.integer(X.version))}Z.is=Q})(Of||(Of={}));(function(Z){function J(K,X,U,Y){return{uri:K,languageId:X,version:U,text:Y}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.string(X.uri)&&f0.string(X.languageId)&&f0.integer(X.version)&&f0.string(X.text)}Z.is=Q})(Z90||(Z90={}));(function(Z){Z.PlainText="plaintext",Z.Markdown="markdown";function J(Q){const K=Q;return K===Z.PlainText||K===Z.Markdown}Z.is=J})(Af||(Af={}));(function(Z){function J(Q){const K=Q;return f0.objectLiteral(Q)&&Af.is(K.kind)&&f0.string(K.value)}Z.is=J})(qF||(qF={}));(function(Z){Z.Text=1,Z.Method=2,Z.Function=3,Z.Constructor=4,Z.Field=5,Z.Variable=6,Z.Class=7,Z.Interface=8,Z.Module=9,Z.Property=10,Z.Unit=11,Z.Value=12,Z.Enum=13,Z.Keyword=14,Z.Snippet=15,Z.Color=16,Z.File=17,Z.Reference=18,Z.Folder=19,Z.EnumMember=20,Z.Constant=21,Z.Struct=22,Z.Event=23,Z.Operator=24,Z.TypeParameter=25})(J90||(J90={}));(function(Z){Z.PlainText=1,Z.Snippet=2})(Q90||(Q90={}));(function(Z){Z.Deprecated=1})(K90||(K90={}));(function(Z){function J(K,X,U){return{newText:K,insert:X,replace:U}}Z.create=J;function Q(K){const X=K;return X&&f0.string(X.newText)&&G8.is(X.insert)&&G8.is(X.replace)}Z.is=Q})(X90||(X90={}));(function(Z){Z.asIs=1,Z.adjustIndentation=2})(U90||(U90={}));(function(Z){function J(Q){const K=Q;return K&&(f0.string(K.detail)||K.detail===void 0)&&(f0.string(K.description)||K.description===void 0)}Z.is=J})(Y90||(Y90={}));(function(Z){function J(Q){return{label:Q}}Z.create=J})(q90||(q90={}));(function(Z){function J(Q,K){return{items:Q?Q:[],isIncomplete:!!K}}Z.create=J})(z90||(z90={}));(function(Z){function J(K){return K.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}Z.fromPlainText=J;function Q(K){const X=K;return f0.string(X)||f0.objectLiteral(X)&&f0.string(X.language)&&f0.string(X.value)}Z.is=Q})(wL||(wL={}));(function(Z){function J(Q){let K=Q;return!!K&&f0.objectLiteral(K)&&(qF.is(K.contents)||wL.is(K.contents)||f0.typedArray(K.contents,wL.is))&&(Q.range===void 0||G8.is(Q.range))}Z.is=J})(G90||(G90={}));(function(Z){function J(Q,K){return K?{label:Q,documentation:K}:{label:Q}}Z.create=J})(H90||(H90={}));(function(Z){function J(Q,K,...X){let U={label:Q};if(f0.defined(K))U.documentation=K;if(f0.defined(X))U.parameters=X;else U.parameters=[];return U}Z.create=J})(W90||(W90={}));(function(Z){Z.Text=1,Z.Read=2,Z.Write=3})(F90||(F90={}));(function(Z){function J(Q,K){let X={range:Q};if(f0.number(K))X.kind=K;return X}Z.create=J})(M90||(M90={}));(function(Z){Z.File=1,Z.Module=2,Z.Namespace=3,Z.Package=4,Z.Class=5,Z.Method=6,Z.Property=7,Z.Field=8,Z.Constructor=9,Z.Enum=10,Z.Interface=11,Z.Function=12,Z.Variable=13,Z.Constant=14,Z.String=15,Z.Number=16,Z.Boolean=17,Z.Array=18,Z.Object=19,Z.Key=20,Z.Null=21,Z.EnumMember=22,Z.Struct=23,Z.Event=24,Z.Operator=25,Z.TypeParameter=26})(B90||(B90={}));(function(Z){Z.Deprecated=1})(R90||(R90={}));(function(Z){function J(Q,K,X,U,Y){let q={name:Q,kind:K,location:{uri:U,range:X}};if(Y)q.containerName=Y;return q}Z.create=J})(O90||(O90={}));(function(Z){function J(Q,K,X,U){return U!==void 0?{name:Q,kind:K,location:{uri:X,range:U}}:{name:Q,kind:K,location:{uri:X}}}Z.create=J})(A90||(A90={}));(function(Z){function J(K,X,U,Y,q,z){let G={name:K,detail:X,kind:U,range:Y,selectionRange:q};if(z!==void 0)G.children=z;return G}Z.create=J;function Q(K){let X=K;return X&&f0.string(X.name)&&f0.number(X.kind)&&G8.is(X.range)&&G8.is(X.selectionRange)&&(X.detail===void 0||f0.string(X.detail))&&(X.deprecated===void 0||f0.boolean(X.deprecated))&&(X.children===void 0||Array.isArray(X.children))&&(X.tags===void 0||Array.isArray(X.tags))}Z.is=Q})(L90||(L90={}));(function(Z){Z.Empty="",Z.QuickFix="quickfix",Z.Refactor="refactor",Z.RefactorExtract="refactor.extract",Z.RefactorInline="refactor.inline",Z.RefactorRewrite="refactor.rewrite",Z.Source="source",Z.SourceOrganizeImports="source.organizeImports",Z.SourceFixAll="source.fixAll"})(I90||(I90={}));(function(Z){Z.Invoked=1,Z.Automatic=2})(jL||(jL={}));(function(Z){function J(K,X,U){let Y={diagnostics:K};if(X!==void 0&&X!==null)Y.only=X;if(U!==void 0&&U!==null)Y.triggerKind=U;return Y}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.typedArray(X.diagnostics,EL.is)&&(X.only===void 0||f0.typedArray(X.only,f0.string))&&(X.triggerKind===void 0||X.triggerKind===jL.Invoked||X.triggerKind===jL.Automatic)}Z.is=Q})(D90||(D90={}));(function(Z){function J(K,X,U){let Y={title:K},q=!0;if(typeof X==="string")q=!1,Y.kind=X;else if(Wz.is(X))Y.command=X;else Y.edit=X;if(q&&U!==void 0)Y.kind=U;return Y}Z.create=J;function Q(K){let X=K;return X&&f0.string(X.title)&&(X.diagnostics===void 0||f0.typedArray(X.diagnostics,EL.is))&&(X.kind===void 0||f0.string(X.kind))&&(X.edit!==void 0||X.command!==void 0)&&(X.command===void 0||Wz.is(X.command))&&(X.isPreferred===void 0||f0.boolean(X.isPreferred))&&(X.edit===void 0||Rf.is(X.edit))}Z.is=Q})(N90||(N90={}));(function(Z){function J(K,X){let U={range:K};if(f0.defined(X))U.data=X;return U}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&G8.is(X.range)&&(f0.undefined(X.command)||Wz.is(X.command))}Z.is=Q})(E90||(E90={}));(function(Z){function J(K,X){return{tabSize:K,insertSpaces:X}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&f0.uinteger(X.tabSize)&&f0.boolean(X.insertSpaces)}Z.is=Q})(w90||(w90={}));(function(Z){function J(K,X,U){return{range:K,target:X,data:U}}Z.create=J;function Q(K){let X=K;return f0.defined(X)&&G8.is(X.range)&&(f0.undefined(X.target)||f0.string(X.target))}Z.is=Q})(j90||(j90={}));(function(Z){function J(K,X){return{range:K,parent:X}}Z.create=J;function Q(K){let X=K;return f0.objectLiteral(X)&&G8.is(X.range)&&(X.parent===void 0||Z.is(X.parent))}Z.is=Q})(C90||(C90={}));(function(Z){Z.namespace="namespace",Z.type="type",Z.class="class",Z.enum="enum",Z.interface="interface",Z.struct="struct",Z.typeParameter="typeParameter",Z.parameter="parameter",Z.variable="variable",Z.property="property",Z.enumMember="enumMember",Z.event="event",Z.function="function",Z.method="method",Z.macro="macro",Z.keyword="keyword",Z.modifier="modifier",Z.comment="comment",Z.string="string",Z.number="number",Z.regexp="regexp",Z.operator="operator",Z.decorator="decorator"})(P90||(P90={}));(function(Z){Z.declaration="declaration",Z.definition="definition",Z.readonly="readonly",Z.static="static",Z.deprecated="deprecated",Z.abstract="abstract",Z.async="async",Z.modification="modification",Z.documentation="documentation",Z.defaultLibrary="defaultLibrary"})(V90||(V90={}));(function(Z){function J(Q){const K=Q;return f0.objectLiteral(K)&&(K.resultId===void 0||typeof K.resultId==="string")&&Array.isArray(K.data)&&(K.data.length===0||typeof K.data[0]==="number")}Z.is=J})(S90||(S90={}));(function(Z){function J(K,X){return{range:K,text:X}}Z.create=J;function Q(K){const X=K;return X!==void 0&&X!==null&&G8.is(X.range)&&f0.string(X.text)}Z.is=Q})(T90||(T90={}));(function(Z){function J(K,X,U){return{range:K,variableName:X,caseSensitiveLookup:U}}Z.create=J;function Q(K){const X=K;return X!==void 0&&X!==null&&G8.is(X.range)&&f0.boolean(X.caseSensitiveLookup)&&(f0.string(X.variableName)||X.variableName===void 0)}Z.is=Q})(f90||(f90={}));(function(Z){function J(K,X){return{range:K,expression:X}}Z.create=J;function Q(K){const X=K;return X!==void 0&&X!==null&&G8.is(X.range)&&(f0.string(X.expression)||X.expression===void 0)}Z.is=Q})(v90||(v90={}));(function(Z){function J(K,X){return{frameId:K,stoppedLocation:X}}Z.create=J;function Q(K){const X=K;return f0.defined(X)&&G8.is(K.stoppedLocation)}Z.is=Q})(k90||(k90={}));(function(Z){Z.Type=1,Z.Parameter=2;function J(Q){return Q===1||Q===2}Z.is=J})(Lf||(Lf={}));(function(Z){function J(K){return{value:K}}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&(X.tooltip===void 0||f0.string(X.tooltip)||qF.is(X.tooltip))&&(X.location===void 0||NL.is(X.location))&&(X.command===void 0||Wz.is(X.command))}Z.is=Q})(If||(If={}));(function(Z){function J(K,X,U){const Y={position:K,label:X};if(U!==void 0)Y.kind=U;return Y}Z.create=J;function Q(K){const X=K;return f0.objectLiteral(X)&&V8.is(X.position)&&(f0.string(X.label)||f0.typedArray(X.label,If.is))&&(X.kind===void 0||Lf.is(X.kind))&&X.textEdits===void 0||f0.typedArray(X.textEdits,Fz.is)&&(X.tooltip===void 0||f0.string(X.tooltip)||qF.is(X.tooltip))&&(X.paddingLeft===void 0||f0.boolean(X.paddingLeft))&&(X.paddingRight===void 0||f0.boolean(X.paddingRight))}Z.is=Q})($90||($90={}));(function(Z){function J(Q){return{kind:"snippet",value:Q}}Z.createSnippet=J})(_90||(_90={}));(function(Z){function J(Q,K,X,U){return{insertText:Q,filterText:K,range:X,command:U}}Z.create=J})(b90||(b90={}));(function(Z){function J(Q){return{items:Q}}Z.create=J})(x90||(x90={}));(function(Z){Z.Invoked=0,Z.Automatic=1})(h90||(h90={}));(function(Z){function J(Q,K){return{range:Q,text:K}}Z.create=J})(y90||(y90={}));(function(Z){function J(Q,K){return{triggerKind:Q,selectedCompletionInfo:K}}Z.create=J})(u90||(u90={}));(function(Z){function J(Q){const K=Q;return f0.objectLiteral(K)&&qf.is(K.uri)&&f0.string(K.name)}Z.is=J})(m90||(m90={}));(function(Z){function J(U,Y,q,z){return new p90(U,Y,q,z)}Z.create=J;function Q(U){let Y=U;return f0.defined(Y)&&f0.string(Y.uri)&&(f0.undefined(Y.languageId)||f0.string(Y.languageId))&&f0.uinteger(Y.lineCount)&&f0.func(Y.getText)&&f0.func(Y.positionAt)&&f0.func(Y.offsetAt)?!0:!1}Z.is=Q;function K(U,Y){let q=U.getText(),z=X(Y,(H,W)=>{let F=H.range.start.line-W.range.start.line;if(F===0)return H.range.start.character-W.range.start.character;return F}),G=q.length;for(let H=z.length-1;H>=0;H--){let W=z[H],F=U.offsetAt(W.range.start),M=U.offsetAt(W.range.end);if(M<=G)q=q.substring(0,F)+W.newText+q.substring(M,q.length);else throw new Error("Overlapping edit");G=F}return q}Z.applyEdits=K;function X(U,Y){if(U.length<=1)return U;const q=U.length/2|0,z=U.slice(0,q),G=U.slice(q);X(z,Y),X(G,Y);let H=0,W=0,F=0;while(H<z.length&&W<G.length)if(Y(z[H],G[W])<=0)U[F++]=z[H++];else U[F++]=G[W++];while(H<z.length)U[F++]=z[H++];while(W<G.length)U[F++]=G[W++];return U}})(g90||(g90={}));(function(Z){const J=Object.prototype.toString;function Q(M){return typeof M!=="undefined"}Z.defined=Q;function K(M){return typeof M==="undefined"}Z.undefined=K;function X(M){return M===!0||M===!1}Z.boolean=X;function U(M){return J.call(M)==="[object String]"}Z.string=U;function Y(M){return J.call(M)==="[object Number]"}Z.number=Y;function q(M,B,O){return J.call(M)==="[object Number]"&&B<=M&&M<=O}Z.numberRange=q;function z(M){return J.call(M)==="[object Number]"&&-2147483648<=M&&M<=2147483647}Z.integer=z;function G(M){return J.call(M)==="[object Number]"&&0<=M&&M<=2147483647}Z.uinteger=G;function H(M){return J.call(M)==="[object Function]"}Z.func=H;function W(M){return M!==null&&typeof M==="object"}Z.objectLiteral=W;function F(M,B){return Array.isArray(M)&&M.every(B)}Z.typedArray=F})(f0||(f0={}))});class CL{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(Z){return this.rootNode=new zF(Z),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(Z){const J=new Rz;return J.grammarSource=Z,J.root=this.rootNode,this.current.content.push(J),this.nodeStack.push(J),J}buildLeafNode(Z,J){const Q=new Bz(Z.startOffset,Z.image.length,u1(Z),Z.tokenType,!1);return Q.grammarSource=J,Q.root=this.rootNode,this.current.content.push(Q),Q}removeNode(Z){const J=Z.container;if(J){const Q=J.content.indexOf(Z);if(Q>=0)J.content.splice(Q,1)}}construct(Z){const J=this.current;if(typeof Z.$type==="string")this.current.astNode=Z;Z.$cstNode=J;const Q=this.nodeStack.pop();if((Q===null||Q===void 0?void 0:Q.content.length)===0)this.removeNode(Q)}addHiddenTokens(Z){for(let J of Z){const Q=new Bz(J.startOffset,J.image.length,u1(J),J.tokenType,!0);Q.root=this.rootNode,this.addHiddenToken(this.rootNode,Q)}}addHiddenToken(Z,J){const{offset:Q,end:K}=J;for(let X=0;X<Z.content.length;X++){const U=Z.content[X],{offset:Y,end:q}=U;if(l6(U)&&Q>Y&&K<q){this.addHiddenToken(U,J);return}else if(K<=Y){Z.content.splice(X,0,J);return}}Z.content.push(J)}}class PL{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var Z,J;const Q=typeof((Z=this._astNode)===null||Z===void 0?void 0:Z.$type)==="string"?this._astNode:(J=this.container)===null||J===void 0?void 0:J.astNode;if(!Q)throw new Error("This node has no associated AST element");return Q}set astNode(Z){this._astNode=Z}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}var Bz,Rz,Nf,zF;var VL=_(()=>{Df();J4();Bz=class Bz extends PL{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(Z,J,Q,K,X=!1){super();this._hidden=X,this._offset=Z,this._tokenType=K,this._length=J,this._range=Q}};Rz=class Rz extends PL{constructor(){super(...arguments);this.content=new Nf(this)}get children(){return this.content}get offset(){var Z,J;return(J=(Z=this.firstNonHiddenNode)===null||Z===void 0?void 0:Z.offset)!==null&&J!==void 0?J:0}get length(){return this.end-this.offset}get end(){var Z,J;return(J=(Z=this.lastNonHiddenNode)===null||Z===void 0?void 0:Z.end)!==null&&J!==void 0?J:0}get range(){const Z=this.firstNonHiddenNode,J=this.lastNonHiddenNode;if(Z&&J){if(this._rangeCache===void 0){const{range:Q}=Z,{range:K}=J;this._rangeCache={start:Q.start,end:K.end.line<Q.start.line?Q.start:K.end}}return this._rangeCache}else return{start:V8.create(0,0),end:V8.create(0,0)}}get firstNonHiddenNode(){for(let Z of this.content)if(!Z.hidden)return Z;return this.content[0]}get lastNonHiddenNode(){for(let Z=this.content.length-1;Z>=0;Z--){const J=this.content[Z];if(!J.hidden)return J}return this.content[this.content.length-1]}};Nf=class Nf extends Array{constructor(Z){super();this.parent=Z,Object.setPrototypeOf(this,Nf.prototype)}push(...Z){return this.addParents(Z),super.push(...Z)}unshift(...Z){return this.addParents(Z),super.unshift(...Z)}splice(Z,J,...Q){return this.addParents(Q),super.splice(Z,J,...Q)}addParents(Z){for(let J of Z)J.container=this.parent}};zF=class zF extends Rz{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(Z){super();this._text="",this._text=Z!==null&&Z!==void 0?Z:""}}});function Ef(Z){return Z.$type===SL}class TL{constructor(Z){this._unorderedGroups=new Map,this.lexer=Z.parser.Lexer;const J=this.lexer.definition;this.wrapper=new d90(J,Object.assign(Object.assign({},Z.parser.ParserConfig),{errorMessageProvider:Z.parser.ParserErrorMessageProvider}))}alternatives(Z,J){this.wrapper.wrapOr(Z,J)}optional(Z,J){this.wrapper.wrapOption(Z,J)}many(Z,J){this.wrapper.wrapMany(Z,J)}atLeastOne(Z,J){this.wrapper.wrapAtLeastOne(Z,J)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class wf{buildMismatchTokenMessage(Z){return A5.buildMismatchTokenMessage(Z)}buildNotAllInputParsedMessage(Z){return A5.buildNotAllInputParsedMessage(Z)}buildNoViableAltMessage(Z){return A5.buildNoViableAltMessage(Z)}buildEarlyExitMessage(Z){return A5.buildEarlyExitMessage(Z)}}var SL,c90="\u200B",l90=(Z)=>Z.endsWith(c90)?Z:Z+c90,fL,GF,vL,LS0,d90;var HF=_(()=>{wY();m00();QK();X4();x7();VL();SL=Symbol("Datatype");fL=class fL extends TL{get current(){return this.stack[this.stack.length-1]}constructor(Z){super(Z);this.nodeBuilder=new CL,this.stack=[],this.assignmentMap=new Map,this.linker=Z.references.Linker,this.converter=Z.parser.ValueConverter,this.astReflection=Z.shared.AstReflection}rule(Z,J){const Q=Z.fragment?void 0:uW(Z)?SL:OY(Z),K=this.wrapper.DEFINE_RULE(l90(Z.name),this.startImplementation(Q,J).bind(this));if(Z.entry)this.mainRule=K;return K}parse(Z){this.nodeBuilder.buildRootNode(Z);const J=this.lexer.tokenize(Z);this.wrapper.input=J.tokens;const Q=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(J.hidden),this.unorderedGroups.clear(),{value:Q,lexerErrors:J.errors,parserErrors:this.wrapper.errors}}startImplementation(Z,J){return(Q)=>{if(!this.isRecording()){const X={$type:Z};if(this.stack.push(X),Z===SL)X.value=""}let K;try{K=J(Q)}catch(X){K=void 0}if(!this.isRecording()&&K===void 0)K=this.construct();return K}}consume(Z,J,Q){const K=this.wrapper.wrapConsume(Z,J);if(!this.isRecording()&&this.isValidToken(K)){const X=this.nodeBuilder.buildLeafNode(K,Q),{assignment:U,isCrossRef:Y}=this.getAssignment(Q),q=this.current;if(U){const z=wQ(Q)?K.image:this.converter.convert(K.image,X);this.assign(U.operator,U.feature,z,X,Y)}else if(Ef(q)){let z=K.image;if(!wQ(Q))z=this.converter.convert(z,X).toString();q.value+=z}}}isValidToken(Z){return!Z.isInsertedInRecovery&&!isNaN(Z.startOffset)&&typeof Z.endOffset==="number"&&!isNaN(Z.endOffset)}subrule(Z,J,Q,K){let X;if(!this.isRecording())X=this.nodeBuilder.buildCompositeNode(Q);const U=this.wrapper.wrapSubrule(Z,J,K);if(!this.isRecording()&&X&&X.length>0)this.performSubruleAssignment(U,Q,X)}performSubruleAssignment(Z,J,Q){const{assignment:K,isCrossRef:X}=this.getAssignment(J);if(K)this.assign(K.operator,K.feature,Z,Q,X);else if(!K){const U=this.current;if(Ef(U))U.value+=Z.toString();else if(typeof Z==="object"&&Z){const Y=Z.$type,q=this.assignWithoutOverride(Z,U);if(Y)q.$type=Y;const z=q;this.stack.pop(),this.stack.push(z)}}}action(Z,J){if(!this.isRecording()){let Q=this.current;if(!Q.$cstNode&&J.feature&&J.operator){Q=this.construct(!1);const X=Q.$cstNode.feature;this.nodeBuilder.buildCompositeNode(X)}const K={$type:Z};if(this.stack.pop(),this.stack.push(K),J.feature&&J.operator)this.assign(J.operator,J.feature,Q,Q.$cstNode,!1)}}construct(Z=!0){if(this.isRecording())return;const J=this.current;if(vA(J),this.nodeBuilder.construct(J),Z)this.stack.pop();if(Ef(J))return this.converter.convert(J.value,J.$cstNode);else eS(this.astReflection,J);return J}getAssignment(Z){if(!this.assignmentMap.has(Z)){const J=FY(Z,Q4);this.assignmentMap.set(Z,{assignment:J,isCrossRef:J?WY(J.terminal):!1})}return this.assignmentMap.get(Z)}assign(Z,J,Q,K,X){const U=this.current;let Y;if(X&&typeof Q==="string")Y=this.linker.buildReference(U,J,K,Q);else Y=Q;switch(Z){case"=":{U[J]=Y;break}case"?=":{U[J]=!0;break}case"+=":{if(!Array.isArray(U[J]))U[J]=[];U[J].push(Y)}}}assignWithoutOverride(Z,J){for(let[Q,K]of Object.entries(J)){const X=Z[Q];if(X===void 0)Z[Q]=K;else if(Array.isArray(X)&&Array.isArray(K))K.push(...X),Z[Q]=K}return Z}get definitionErrors(){return this.wrapper.definitionErrors}};GF=class GF extends wf{buildMismatchTokenMessage({expected:Z,actual:J}){return`Expecting ${Z.LABEL?"`"+Z.LABEL+"`":Z.name.endsWith(":KW")?`keyword '${Z.name.substring(0,Z.name.length-3)}'`:`token of type '${Z.name}'`} but found \`${J.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:Z}){return`Expecting end of file but found \`${Z.image}\`.`}};vL=class vL extends TL{constructor(){super(...arguments);this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){return}parse(Z){this.resetState();const J=this.lexer.tokenize(Z);return this.tokens=J.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(Z,J){const Q=this.wrapper.DEFINE_RULE(l90(Z.name),this.startImplementation(J).bind(this));if(Z.entry)this.mainRule=Q;return Q}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(Z){return(J)=>{const Q=this.keepStackSize();try{Z(J)}finally{this.resetStackSize(Q)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){const Z=this.elementStack.length;return this.stackSize=Z,Z}resetStackSize(Z){this.removeUnexpectedElements(),this.stackSize=Z}consume(Z,J,Q){if(this.wrapper.wrapConsume(Z,J),!this.isRecording())this.lastElementStack=[...this.elementStack,Q],this.nextTokenIndex=this.currIdx+1}subrule(Z,J,Q,K){this.before(Q),this.wrapper.wrapSubrule(Z,J,K),this.after(Q)}before(Z){if(!this.isRecording())this.elementStack.push(Z)}after(Z){if(!this.isRecording()){const J=this.elementStack.lastIndexOf(Z);if(J>=0)this.elementStack.splice(J)}}get currIdx(){return this.wrapper.currIdx}};LS0={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new GF};d90=class d90 extends RL{constructor(Z,J){const Q=J&&"maxLookahead"in J;super(Z,Object.assign(Object.assign(Object.assign({},LS0),{lookaheadStrategy:Q?new yX({maxLookahead:J.maxLookahead}):new IL}),J))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(Z,J){return this.RULE(Z,J)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(Z,J){return this.consume(Z,J)}wrapSubrule(Z,J,Q){return this.subrule(Z,J,{ARGS:[Q]})}wrapOr(Z,J){this.or(Z,J)}wrapOption(Z,J){this.option(Z,J)}wrapMany(Z,J){this.many(Z,J)}wrapAtLeastOne(Z,J){this.atLeastOne(Z,J)}}});function $L(Z,J,Q){return IS0({parser:J,tokens:Q,rules:new Map,ruleNames:new Map},Z),J}function IS0(Z,J){const Q=hW(J,!1),K=_8(J.rules).filter(R7).filter((X)=>Q.has(X));for(let X of K){const U=Object.assign(Object.assign({},Z),{consume:1,optional:1,subrule:1,many:1,or:1});U.rules.set(X.name,Z.parser.rule(X,PY(U,X.definition)))}}function PY(Z,J,Q=!1){let K;if(wQ(J))K=PS0(Z,J);else if(W5(J))K=DS0(Z,J);else if(Q4(J))K=PY(Z,J.terminal);else if(WY(J))K=i90(Z,J);else if(K4(J))K=NS0(Z,J);else if(SA(J))K=wS0(Z,J);else if(fA(J))K=jS0(Z,J);else if(bX(J))K=CS0(Z,J);else if($S(J)){const X=Z.consume++;K=()=>Z.parser.consume(X,d6,J)}else throw new m1(J.$cstNode,`Unexpected element type: ${J.$type}`);return s90(Z,Q?void 0:kL(J),K,J.cardinality)}function DS0(Z,J){const Q=OY(J);return()=>Z.parser.action(Q,J)}function NS0(Z,J){const Q=J.rule.ref;if(R7(Q)){const K=Z.subrule++,X=J.arguments.length>0?ES0(Q,J.arguments):()=>({});return(U)=>Z.parser.subrule(K,r90(Z,Q),J,X(U))}else if(EQ(Q)){const K=Z.consume++,X=jf(Z,Q.name);return()=>Z.parser.consume(K,X,J)}else if(!Q)throw new m1(J.$cstNode,`Undefined rule type: ${J.$type}`);else _X(Q)}function ES0(Z,J){const Q=J.map((K)=>L5(K.value));return(K)=>{const X={};for(let U=0;U<Q.length;U++){const Y=Z.parameters[U],q=Q[U];X[Y.name]=q(K)}return X}}function L5(Z){if(qS(Z)){const J=L5(Z.left),Q=L5(Z.right);return(K)=>J(K)||Q(K)}else if(US(Z)){const J=L5(Z.left),Q=L5(Z.right);return(K)=>J(K)&&Q(K)}else if(FS(Z)){const J=L5(Z.value);return(Q)=>!J(Q)}else if(OS(Z)){const J=Z.parameter.ref.name;return(Q)=>Q!==void 0&&Q[J]===!0}else if(KS(Z)){const J=Boolean(Z.true);return()=>J}_X(Z)}function wS0(Z,J){if(J.elements.length===1)return PY(Z,J.elements[0]);else{const Q=[];for(let X of J.elements){const U={ALT:PY(Z,X,!0)},Y=kL(X);if(Y)U.GATE=L5(Y);Q.push(U)}const K=Z.or++;return(X)=>Z.parser.alternatives(K,Q.map((U)=>{const Y={ALT:()=>U.ALT(X)},q=U.GATE;if(q)Y.GATE=()=>q(X);return Y}))}}function jS0(Z,J){if(J.elements.length===1)return PY(Z,J.elements[0]);const Q=[];for(let q of J.elements){const z={ALT:PY(Z,q,!0)},G=kL(q);if(G)z.GATE=L5(G);Q.push(z)}const K=Z.or++,X=(q,z)=>{const G=z.getRuleStack().join("-");return`uGroup_${q}_${G}`},U=(q)=>Z.parser.alternatives(K,Q.map((z,G)=>{const H={ALT:()=>!0},W=Z.parser;H.ALT=()=>{if(z.ALT(q),!W.isRecording()){const M=X(K,W);if(!W.unorderedGroups.get(M))W.unorderedGroups.set(M,[]);const B=W.unorderedGroups.get(M);if(typeof(B===null||B===void 0?void 0:B[G])==="undefined")B[G]=!0}};const F=z.GATE;if(F)H.GATE=()=>F(q);else H.GATE=()=>{const M=W.unorderedGroups.get(X(K,W));return!(M===null||M===void 0?void 0:M[G])};return H})),Y=s90(Z,kL(J),U,"*");return(q)=>{if(Y(q),!Z.parser.isRecording())Z.parser.unorderedGroups.delete(X(K,Z.parser))}}function CS0(Z,J){const Q=J.elements.map((K)=>PY(Z,K));return(K)=>Q.forEach((X)=>X(K))}function kL(Z){if(bX(Z))return Z.guardCondition;return}function i90(Z,J,Q=J.terminal){if(!Q){if(!J.type.ref)throw new Error("Could not resolve reference to type: "+J.type.$refText);const K=hA(J.type.ref),X=K===null||K===void 0?void 0:K.terminal;if(!X)throw new Error("Could not find name assignment for type: "+OY(J.type.ref));return i90(Z,J,X)}else if(K4(Q)&&R7(Q.rule.ref)){const K=Z.subrule++;return(X)=>Z.parser.subrule(K,r90(Z,Q.rule.ref),J,X)}else if(K4(Q)&&EQ(Q.rule.ref)){const K=Z.consume++,X=jf(Z,Q.rule.ref.name);return()=>Z.parser.consume(K,X,J)}else if(wQ(Q)){const K=Z.consume++,X=jf(Z,Q.value);return()=>Z.parser.consume(K,X,J)}else throw new Error("Could not build cross reference parser")}function PS0(Z,J){const Q=Z.consume++,K=Z.tokens[J.value];if(!K)throw new Error("Could not find token for keyword: "+J.value);return()=>Z.parser.consume(Q,K,J)}function s90(Z,J,Q,K){const X=J&&L5(J);if(!K)if(X){const U=Z.or++;return(Y)=>Z.parser.alternatives(U,[{ALT:()=>Q(Y),GATE:()=>X(Y)},{ALT:BL(),GATE:()=>!X(Y)}])}else return Q;if(K==="*"){const U=Z.many++;return(Y)=>Z.parser.many(U,{DEF:()=>Q(Y),GATE:X?()=>X(Y):void 0})}else if(K==="+"){const U=Z.many++;if(X){const Y=Z.or++;return(q)=>Z.parser.alternatives(Y,[{ALT:()=>Z.parser.atLeastOne(U,{DEF:()=>Q(q)}),GATE:()=>X(q)},{ALT:BL(),GATE:()=>!X(q)}])}else return(Y)=>Z.parser.atLeastOne(U,{DEF:()=>Q(Y)})}else if(K==="?"){const U=Z.optional++;return(Y)=>Z.parser.optional(U,{DEF:()=>Q(Y),GATE:X?()=>X(Y):void 0})}else _X(K)}function r90(Z,J){const Q=VS0(Z,J),K=Z.rules.get(Q);if(!K)throw new Error(`Rule "${Q}" not found."`);return K}function VS0(Z,J){if(R7(J))return J.name;else if(Z.ruleNames.has(J))return Z.ruleNames.get(J);else{let Q=J,K=Q.$container,X=J.$type;while(!R7(K)){if(bX(K)||SA(K)||fA(K))X=K.elements.indexOf(Q).toString()+":"+X;Q=K,K=K.$container}return X=K.name+":"+X,Z.ruleNames.set(J,X),X}}function jf(Z,J){const Q=Z.tokens[J];if(!Q)throw new Error(`Token "${J}" not found."`);return Q}var Cf=_(()=>{wY();QK();NA();z6();X4()});function Pf(Z){const J=Z.Grammar,Q=Z.parser.Lexer,K=new vL(Z);return $L(J,K,Q.definition),K.finalize(),K}var Vf=_(()=>{HF();Cf()});function Sf(Z){const J=n90(Z);return J.finalize(),J}function n90(Z){const J=Z.Grammar,Q=Z.parser.Lexer,K=new fL(Z);return $L(J,K,Q.definition)}var Tf=_(()=>{HF();Cf()});class Oz{buildTokens(Z,J){const Q=_8(hW(Z,!1)),K=this.buildTerminalTokens(Q),X=this.buildKeywordTokens(Q,K,J);return K.forEach((U)=>{const Y=U.PATTERN;if(typeof Y==="object"&&Y&&"test"in Y&&bA(Y))X.unshift(U);else X.push(U)}),X}buildTerminalTokens(Z){return Z.filter(EQ).filter((J)=>!J.fragment).map((J)=>this.buildTerminalToken(J)).toArray()}buildTerminalToken(Z){const J=d1(Z),Q=this.requiresCustomPattern(J)?this.regexPatternFunction(J):J,K={name:Z.name,PATTERN:Q,LINE_BREAKS:!0};if(Z.hidden)K.GROUP=bA(J)?aZ.SKIPPED:"hidden";return K}requiresCustomPattern(Z){if(Z.flags.includes("u"))return!0;else if(Z.source.includes("?<=")||Z.source.includes("?<!"))return!0;else return!1}regexPatternFunction(Z){const J=new RegExp(Z,Z.flags+"y");return(Q,K)=>{return J.lastIndex=K,J.exec(Q)}}buildKeywordTokens(Z,J,Q){return Z.filter(R7).flatMap((K)=>KK(K).filter(wQ)).distinct((K)=>K.value).toArray().sort((K,X)=>X.value.length-K.value.length).map((K)=>this.buildKeywordToken(K,J,Boolean(Q===null||Q===void 0?void 0:Q.caseInsensitive)))}buildKeywordToken(Z,J,Q){return{name:Z.value,PATTERN:this.buildKeywordPattern(Z,Q),LONGER_ALT:this.findLongerAlt(Z,J)}}buildKeywordPattern(Z,J){return J?new RegExp(XT(Z.value)):Z.value}findLongerAlt(Z,J){return J.reduce((Q,K)=>{const X=K===null||K===void 0?void 0:K.PATTERN;if((X===null||X===void 0?void 0:X.source)&&UT("^"+X.source+"$",Z.value))Q.push(K);return Q},[])}}var ff=_(()=>{wY();QK();x7();X4();l1();z6()});class Az{convert(Z,J){let Q=J.grammarSource;if(WY(Q))Q=zT(Q);if(K4(Q)){const K=Q.rule.ref;if(!K)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(K,Z,J)}return Z}runConverter(Z,J,Q){var K;switch(Z.name.toUpperCase()){case"INT":return UK.convertInt(J);case"STRING":return UK.convertString(J);case"ID":return UK.convertID(J)}switch((K=OT(Z))===null||K===void 0?void 0:K.toLowerCase()){case"number":return UK.convertNumber(J);case"boolean":return UK.convertBoolean(J);case"bigint":return UK.convertBigint(J);case"date":return UK.convertDate(J);default:return J}}}var UK;var vf=_(()=>{QK();X4();(function(Z){function J(G){let H="";for(let W=1;W<G.length-1;W++){const F=G.charAt(W);if(F==="\\"){const M=G.charAt(++W);H+=Q(M)}else H+=F}return H}Z.convertString=J;function Q(G){switch(G){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return G}}function K(G){if(G.charAt(0)==="^")return G.substring(1);else return G}Z.convertID=K;function X(G){return parseInt(G)}Z.convertInt=X;function U(G){return BigInt(G)}Z.convertBigint=U;function Y(G){return new Date(G)}Z.convertDate=Y;function q(G){return Number(G)}Z.convertNumber=q;function z(G){return G.toLowerCase()==="true"}Z.convertBoolean=z})(UK||(UK={}))});var _f=i7((a90)=>{function $f(){if(kf===void 0)throw new Error("No runtime abstraction layer installed");return kf}Object.defineProperty(a90,"__esModule",{value:!0});var kf;(function(Z){function J(Q){if(Q===void 0)throw new Error("No runtime abstraction layer provided");kf=Q}Z.install=J})($f||($f={}));a90.default=$f});var J80=i7((e90)=>{function TS0(Z){return Z===!0||Z===!1}function o90(Z){return typeof Z==="string"||Z instanceof String}function fS0(Z){return typeof Z==="number"||Z instanceof Number}function vS0(Z){return Z instanceof Error}function kS0(Z){return typeof Z==="function"}function t90(Z){return Array.isArray(Z)}function $S0(Z){return t90(Z)&&Z.every((J)=>o90(J))}Object.defineProperty(e90,"__esModule",{value:!0});e90.stringArray=e90.array=e90.func=e90.error=e90.number=e90.string=e90.boolean=void 0;e90.boolean=TS0;e90.string=o90;e90.number=fS0;e90.error=vS0;e90.func=kS0;e90.array=t90;e90.stringArray=$S0});var bf=i7((X80)=>{Object.defineProperty(X80,"__esModule",{value:!0});X80.Emitter=X80.Event=void 0;var mS0=_f(),Q80;(function(Z){const J={dispose(){}};Z.None=function(){return J}})(Q80||(X80.Event=Q80={}));class K80{add(Z,J=null,Q){if(!this._callbacks)this._callbacks=[],this._contexts=[];if(this._callbacks.push(Z),this._contexts.push(J),Array.isArray(Q))Q.push({dispose:()=>this.remove(Z,J)})}remove(Z,J=null){if(!this._callbacks)return;let Q=!1;for(let K=0,X=this._callbacks.length;K<X;K++)if(this._callbacks[K]===Z)if(this._contexts[K]===J){this._callbacks.splice(K,1),this._contexts.splice(K,1);return}else Q=!0;if(Q)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...Z){if(!this._callbacks)return[];const J=[],Q=this._callbacks.slice(0),K=this._contexts.slice(0);for(let X=0,U=Q.length;X<U;X++)try{J.push(Q[X].apply(K[X],Z))}catch(Y){mS0.default().console.error(Y)}return J}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class _L{constructor(Z){this._options=Z}get event(){if(!this._event)this._event=(Z,J,Q)=>{if(!this._callbacks)this._callbacks=new K80;if(this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty())this._options.onFirstListenerAdd(this);this._callbacks.add(Z,J);const K={dispose:()=>{if(!this._callbacks)return;if(this._callbacks.remove(Z,J),K.dispose=_L._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty())this._options.onLastListenerRemove(this)}};if(Array.isArray(Q))Q.push(K);return K};return this._event}fire(Z){if(this._callbacks)this._callbacks.invoke.call(this._callbacks,Z)}dispose(){if(this._callbacks)this._callbacks.dispose(),this._callbacks=void 0}}X80.Emitter=_L;_L._noop=function(){}});var G80=i7((q80)=>{Object.defineProperty(q80,"__esModule",{value:!0});q80.CancellationTokenSource=q80.CancellationToken=void 0;var pS0=_f(),cS0=J80(),xf=bf(),bL;(function(Z){Z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:xf.Event.None}),Z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:xf.Event.None});function J(Q){const K=Q;return K&&(K===Z.None||K===Z.Cancelled||cS0.boolean(K.isCancellationRequested)&&!!K.onCancellationRequested)}Z.is=J})(bL||(q80.CancellationToken=bL={}));var lS0=Object.freeze(function(Z,J){const Q=pS0.default().timer.setTimeout(Z.bind(J),0);return{dispose(){Q.dispose()}}});class hf{constructor(){this._isCancelled=!1}cancel(){if(!this._isCancelled){if(this._isCancelled=!0,this._emitter)this._emitter.fire(void 0),this.dispose()}}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){if(this._isCancelled)return lS0;if(!this._emitter)this._emitter=new xf.Emitter;return this._emitter.event}dispose(){if(this._emitter)this._emitter.dispose(),this._emitter=void 0}}class Y80{get token(){if(!this._token)this._token=new hf;return this._token}cancel(){if(!this._token)this._token=bL.Cancelled;else this._token.cancel()}dispose(){if(!this._token)this._token=bL.None;else if(this._token instanceof hf)this._token.dispose()}}q80.CancellationTokenSource=Y80});var Y8={};var PQ=_(()=>{K8(Y8,z7(G80(),1))});function uf(){return new Promise((Z)=>{if(typeof setImmediate==="undefined")setTimeout(Z,0);else setImmediate(Z)})}function W80(){return yf=Date.now(),new Y8.CancellationTokenSource}function F80(Z){H80=Z}function gX(Z){return Z===YK}async function OJ(Z){if(Z===Y8.CancellationToken.None)return;const J=Date.now();if(J-yf>=H80)yf=J,await uf();if(Z.isCancellationRequested)throw YK}class M6{constructor(){this.promise=new Promise((Z,J)=>{this.resolve=(Q)=>{return Z(Q),this},this.reject=(Q)=>{return J(Q),this}})}}var yf=0,H80=10,YK;var VQ=_(()=>{PQ();YK=Symbol("OperationCancelled")});function mf(Z,J){if(Z.length<=1)return Z;const Q=Z.length/2|0,K=Z.slice(0,Q),X=Z.slice(Q);mf(K,J),mf(X,J);let U=0,Y=0,q=0;while(U<K.length&&Y<X.length)if(J(K[U],X[Y])<=0)Z[q++]=K[U++];else Z[q++]=X[Y++];while(U<K.length)Z[q++]=K[U++];while(Y<X.length)Z[q++]=X[Y++];return Z}function M80(Z,J,Q=0){const K=J?[Q]:[];for(let X=0;X<Z.length;X++){const U=Z.charCodeAt(X);if(B80(U)){if(U===13&&X+1<Z.length&&Z.charCodeAt(X+1)===10)X++;K.push(Q+X+1)}}return K}function B80(Z){return Z===13||Z===10}function R80(Z){const{start:J,end:Q}=Z;if(J.line>Q.line||J.line===Q.line&&J.character>Q.character)return{start:Q,end:J};return Z}function iS0(Z){const J=R80(Z.range);if(J!==Z.range)return{newText:Z.newText,range:J};return Z}class WF{constructor(Z,J,Q,K){this._uri=Z,this._languageId=J,this._version=Q,this._content=K,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(Z){if(Z){const J=this.offsetAt(Z.start),Q=this.offsetAt(Z.end);return this._content.substring(J,Q)}return this._content}update(Z,J){for(let Q of Z)if(WF.isIncremental(Q)){const K=R80(Q.range),X=this.offsetAt(K.start),U=this.offsetAt(K.end);this._content=this._content.substring(0,X)+Q.text+this._content.substring(U,this._content.length);const Y=Math.max(K.start.line,0),q=Math.max(K.end.line,0);let z=this._lineOffsets;const G=M80(Q.text,!1,X);if(q-Y===G.length)for(let W=0,F=G.length;W<F;W++)z[W+Y+1]=G[W];else if(G.length<1e4)z.splice(Y+1,q-Y,...G);else this._lineOffsets=z=z.slice(0,Y+1).concat(G,z.slice(q+1));const H=Q.text.length-(U-X);if(H!==0)for(let W=Y+1+G.length,F=z.length;W<F;W++)z[W]=z[W]+H}else if(WF.isFull(Q))this._content=Q.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=J}getLineOffsets(){if(this._lineOffsets===void 0)this._lineOffsets=M80(this._content,!0);return this._lineOffsets}positionAt(Z){Z=Math.max(Math.min(Z,this._content.length),0);const J=this.getLineOffsets();let Q=0,K=J.length;if(K===0)return{line:0,character:Z};while(Q<K){const U=Math.floor((Q+K)/2);if(J[U]>Z)K=U;else Q=U+1}const X=Q-1;return Z=this.ensureBeforeEOL(Z,J[X]),{line:X,character:Z-J[X]}}offsetAt(Z){const J=this.getLineOffsets();if(Z.line>=J.length)return this._content.length;else if(Z.line<0)return 0;const Q=J[Z.line];if(Z.character<=0)return Q;const K=Z.line+1<J.length?J[Z.line+1]:this._content.length,X=Math.min(Q+Z.character,K);return this.ensureBeforeEOL(X,Q)}ensureBeforeEOL(Z,J){while(Z>J&&B80(this._content.charCodeAt(Z-1)))Z--;return Z}get lineCount(){return this.getLineOffsets().length}static isIncremental(Z){const J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range!==void 0&&(J.rangeLength===void 0||typeof J.rangeLength==="number")}static isFull(Z){const J=Z;return J!==void 0&&J!==null&&typeof J.text==="string"&&J.range===void 0&&J.rangeLength===void 0}}var Lz;var O80=_(()=>{(function(Z){function J(X,U,Y,q){return new WF(X,U,Y,q)}Z.create=J;function Q(X,U,Y){if(X instanceof WF)return X.update(U,Y),X;else throw new Error("TextDocument.update: document must be created by TextDocument.create")}Z.update=Q;function K(X,U){const Y=X.getText(),q=mf(U.map(iS0),(H,W)=>{const F=H.range.start.line-W.range.start.line;if(F===0)return H.range.start.character-W.range.start.character;return F});let z=0;const G=[];for(let H of q){const W=X.offsetAt(H.range.start);if(W<z)throw new Error("Overlapping edit");else if(W>z)G.push(Y.substring(z,W));if(H.newText.length)G.push(H.newText);z=X.offsetAt(H.range.end)}return G.push(Y.substr(z)),G.join("")}Z.applyEdits=K})(Lz||(Lz={}))});var A80,B6,Iz;var gf=_(()=>{(()=>{var Z={470:(X)=>{function U(z){if(typeof z!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(z))}function Y(z,G){for(var H,W="",F=0,M=-1,B=0,O=0;O<=z.length;++O){if(O<z.length)H=z.charCodeAt(O);else{if(H===47)break;H=47}if(H===47){if(M===O-1||B===1);else if(M!==O-1&&B===2){if(W.length<2||F!==2||W.charCodeAt(W.length-1)!==46||W.charCodeAt(W.length-2)!==46){if(W.length>2){var A=W.lastIndexOf("/");if(A!==W.length-1){A===-1?(W="",F=0):F=(W=W.slice(0,A)).length-1-W.lastIndexOf("/"),M=O,B=0;continue}}else if(W.length===2||W.length===1){W="",F=0,M=O,B=0;continue}}G&&(W.length>0?W+="/..":W="..",F=2)}else W.length>0?W+="/"+z.slice(M+1,O):W=z.slice(M+1,O),F=O-M-1;M=O,B=0}else H===46&&B!==-1?++B:B=-1}return W}var q={resolve:function(){for(var z,G="",H=!1,W=arguments.length-1;W>=-1&&!H;W--){var F;W>=0?F=arguments[W]:(z===void 0&&(z=process.cwd()),F=z),U(F),F.length!==0&&(G=F+"/"+G,H=F.charCodeAt(0)===47)}return G=Y(G,!H),H?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(z){if(U(z),z.length===0)return".";var G=z.charCodeAt(0)===47,H=z.charCodeAt(z.length-1)===47;return(z=Y(z,!G)).length!==0||G||(z="."),z.length>0&&H&&(z+="/"),G?"/"+z:z},isAbsolute:function(z){return U(z),z.length>0&&z.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var z,G=0;G<arguments.length;++G){var H=arguments[G];U(H),H.length>0&&(z===void 0?z=H:z+="/"+H)}return z===void 0?".":q.normalize(z)},relative:function(z,G){if(U(z),U(G),z===G)return"";if((z=q.resolve(z))===(G=q.resolve(G)))return"";for(var H=1;H<z.length&&z.charCodeAt(H)===47;++H);for(var W=z.length,F=W-H,M=1;M<G.length&&G.charCodeAt(M)===47;++M);for(var B=G.length-M,O=F<B?F:B,A=-1,L=0;L<=O;++L){if(L===O){if(B>O){if(G.charCodeAt(M+L)===47)return G.slice(M+L+1);if(L===0)return G.slice(M+L)}else F>O&&(z.charCodeAt(H+L)===47?A=L:L===0&&(A=0));break}var I=z.charCodeAt(H+L);if(I!==G.charCodeAt(M+L))break;I===47&&(A=L)}var D="";for(L=H+A+1;L<=W;++L)L!==W&&z.charCodeAt(L)!==47||(D.length===0?D+="..":D+="/..");return D.length>0?D+G.slice(M+A):(M+=A,G.charCodeAt(M)===47&&++M,G.slice(M))},_makeLong:function(z){return z},dirname:function(z){if(U(z),z.length===0)return".";for(var G=z.charCodeAt(0),H=G===47,W=-1,F=!0,M=z.length-1;M>=1;--M)if((G=z.charCodeAt(M))===47){if(!F){W=M;break}}else F=!1;return W===-1?H?"/":".":H&&W===1?"//":z.slice(0,W)},basename:function(z,G){if(G!==void 0&&typeof G!="string")throw new TypeError('"ext" argument must be a string');U(z);var H,W=0,F=-1,M=!0;if(G!==void 0&&G.length>0&&G.length<=z.length){if(G.length===z.length&&G===z)return"";var B=G.length-1,O=-1;for(H=z.length-1;H>=0;--H){var A=z.charCodeAt(H);if(A===47){if(!M){W=H+1;break}}else O===-1&&(M=!1,O=H+1),B>=0&&(A===G.charCodeAt(B)?--B==-1&&(F=H):(B=-1,F=O))}return W===F?F=O:F===-1&&(F=z.length),z.slice(W,F)}for(H=z.length-1;H>=0;--H)if(z.charCodeAt(H)===47){if(!M){W=H+1;break}}else F===-1&&(M=!1,F=H+1);return F===-1?"":z.slice(W,F)},extname:function(z){U(z);for(var G=-1,H=0,W=-1,F=!0,M=0,B=z.length-1;B>=0;--B){var O=z.charCodeAt(B);if(O!==47)W===-1&&(F=!1,W=B+1),O===46?G===-1?G=B:M!==1&&(M=1):G!==-1&&(M=-1);else if(!F){H=B+1;break}}return G===-1||W===-1||M===0||M===1&&G===W-1&&G===H+1?"":z.slice(G,W)},format:function(z){if(z===null||typeof z!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof z);return function(G,H){var W=H.dir||H.root,F=H.base||(H.name||"")+(H.ext||"");return W?W===H.root?W+F:W+"/"+F:F}(0,z)},parse:function(z){U(z);var G={root:"",dir:"",base:"",ext:"",name:""};if(z.length===0)return G;var H,W=z.charCodeAt(0),F=W===47;F?(G.root="/",H=1):H=0;for(var M=-1,B=0,O=-1,A=!0,L=z.length-1,I=0;L>=H;--L)if((W=z.charCodeAt(L))!==47)O===-1&&(A=!1,O=L+1),W===46?M===-1?M=L:I!==1&&(I=1):M!==-1&&(I=-1);else if(!A){B=L+1;break}return M===-1||O===-1||I===0||I===1&&M===O-1&&M===B+1?O!==-1&&(G.base=G.name=B===0&&F?z.slice(1,O):z.slice(B,O)):(B===0&&F?(G.name=z.slice(1,M),G.base=z.slice(1,O)):(G.name=z.slice(B,M),G.base=z.slice(B,O)),G.ext=z.slice(M,O)),B>0?G.dir=z.slice(0,B-1):F&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};q.posix=q,X.exports=q}},J={};function Q(X){var U=J[X];if(U!==void 0)return U.exports;var Y=J[X]={exports:{}};return Z[X](Y,Y.exports,Q),Y.exports}Q.d=(X,U)=>{for(var Y in U)Q.o(U,Y)&&!Q.o(X,Y)&&Object.defineProperty(X,Y,{enumerable:!0,get:U[Y]})},Q.o=(X,U)=>Object.prototype.hasOwnProperty.call(X,U),Q.r=(X)=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})};var K={};(()=>{let X;if(Q.r(K),Q.d(K,{URI:()=>F,Utils:()=>T}),typeof process=="object")X=process.platform==="win32";else if(typeof navigator=="object")X=navigator.userAgent.indexOf("Windows")>=0;const U=/^\w[\w\d+.-]*$/,Y=/^\//,q=/^\/\//;function z(V,S){if(!V.scheme&&S)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!U.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!Y.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(q.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const G="",H="/",W=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class F{static isUri(V){return V instanceof F||!!V&&typeof V.authority=="string"&&typeof V.fragment=="string"&&typeof V.path=="string"&&typeof V.query=="string"&&typeof V.scheme=="string"&&typeof V.fsPath=="string"&&typeof V.with=="function"&&typeof V.toString=="function"}scheme;authority;path;query;fragment;constructor(V,S,$,f,h,v=!1){typeof V=="object"?(this.scheme=V.scheme||G,this.authority=V.authority||G,this.path=V.path||G,this.query=V.query||G,this.fragment=V.fragment||G):(this.scheme=function(b,y){return b||y?b:"file"}(V,v),this.authority=S||G,this.path=function(b,y){switch(b){case"https":case"http":case"file":y?y[0]!==H&&(y=H+y):y=H}return y}(this.scheme,$||G),this.query=f||G,this.fragment=h||G,z(this,v))}get fsPath(){return I(this,!1)}with(V){if(!V)return this;let{scheme:S,authority:$,path:f,query:h,fragment:v}=V;return S===void 0?S=this.scheme:S===null&&(S=G),$===void 0?$=this.authority:$===null&&($=G),f===void 0?f=this.path:f===null&&(f=G),h===void 0?h=this.query:h===null&&(h=G),v===void 0?v=this.fragment:v===null&&(v=G),S===this.scheme&&$===this.authority&&f===this.path&&h===this.query&&v===this.fragment?this:new B(S,$,f,h,v)}static parse(V,S=!1){const $=W.exec(V);return $?new B($[2]||G,E($[4]||G),E($[5]||G),E($[7]||G),E($[9]||G),S):new B(G,G,G,G,G)}static file(V){let S=G;if(X&&(V=V.replace(/\\/g,H)),V[0]===H&&V[1]===H){const $=V.indexOf(H,2);$===-1?(S=V.substring(2),V=H):(S=V.substring(2,$),V=V.substring($)||H)}return new B("file",S,V,G,G)}static from(V){const S=new B(V.scheme,V.authority,V.path,V.query,V.fragment);return z(S,!0),S}toString(V=!1){return D(this,V)}toJSON(){return this}static revive(V){if(V){if(V instanceof F)return V;{const S=new B(V);return S._formatted=V.external,S._fsPath=V._sep===M?V.fsPath:null,S}}return V}}const M=X?1:void 0;class B extends F{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath}toString(V=!1){return V?D(this,!0):(this._formatted||(this._formatted=D(this,!1)),this._formatted)}toJSON(){const V={$mid:1};return this._fsPath&&(V.fsPath=this._fsPath,V._sep=M),this._formatted&&(V.external=this._formatted),this.path&&(V.path=this.path),this.scheme&&(V.scheme=this.scheme),this.authority&&(V.authority=this.authority),this.query&&(V.query=this.query),this.fragment&&(V.fragment=this.fragment),V}}const O={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function A(V,S,$){let f,h=-1;for(let v=0;v<V.length;v++){const b=V.charCodeAt(v);if(b>=97&&b<=122||b>=65&&b<=90||b>=48&&b<=57||b===45||b===46||b===95||b===126||S&&b===47||$&&b===91||$&&b===93||$&&b===58)h!==-1&&(f+=encodeURIComponent(V.substring(h,v)),h=-1),f!==void 0&&(f+=V.charAt(v));else{f===void 0&&(f=V.substr(0,v));const y=O[b];y!==void 0?(h!==-1&&(f+=encodeURIComponent(V.substring(h,v)),h=-1),f+=y):h===-1&&(h=v)}}return h!==-1&&(f+=encodeURIComponent(V.substring(h))),f!==void 0?f:V}function L(V){let S;for(let $=0;$<V.length;$++){const f=V.charCodeAt($);f===35||f===63?(S===void 0&&(S=V.substr(0,$)),S+=O[f]):S!==void 0&&(S+=V[$])}return S!==void 0?S:V}function I(V,S){let $;return $=V.authority&&V.path.length>1&&V.scheme==="file"?`//${V.authority}${V.path}`:V.path.charCodeAt(0)===47&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&V.path.charCodeAt(2)===58?S?V.path.substr(1):V.path[1].toLowerCase()+V.path.substr(2):V.path,X&&($=$.replace(/\//g,"\\")),$}function D(V,S){const $=S?L:A;let f="",{scheme:h,authority:v,path:b,query:y,fragment:k}=V;if(h&&(f+=h,f+=":"),(v||h==="file")&&(f+=H,f+=H),v){let g=v.indexOf("@");if(g!==-1){const u=v.substr(0,g);v=v.substr(g+1),g=u.lastIndexOf(":"),g===-1?f+=$(u,!1,!1):(f+=$(u.substr(0,g),!1,!1),f+=":",f+=$(u.substr(g+1),!1,!0)),f+="@"}v=v.toLowerCase(),g=v.lastIndexOf(":"),g===-1?f+=$(v,!1,!0):(f+=$(v.substr(0,g),!1,!0),f+=v.substr(g))}if(b){if(b.length>=3&&b.charCodeAt(0)===47&&b.charCodeAt(2)===58){const g=b.charCodeAt(1);g>=65&&g<=90&&(b=`/${String.fromCharCode(g+32)}:${b.substr(3)}`)}else if(b.length>=2&&b.charCodeAt(1)===58){const g=b.charCodeAt(0);g>=65&&g<=90&&(b=`${String.fromCharCode(g+32)}:${b.substr(2)}`)}f+=$(b,!0,!1)}return y&&(f+="?",f+=$(y,!1,!1)),k&&(f+="#",f+=S?k:A(k,!1,!1)),f}function w(V){try{return decodeURIComponent(V)}catch{return V.length>3?V.substr(0,3)+w(V.substr(3)):V}}const N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function E(V){return V.match(N)?V.replace(N,(S)=>w(S)):V}var j=Q(470);const P=j.posix||j,C="/";var T;(function(V){V.joinPath=function(S,...$){return S.with({path:P.join(S.path,...$)})},V.resolvePath=function(S,...$){let f=S.path,h=!1;f[0]!==C&&(f=C+f,h=!0);let v=P.resolve(f,...$);return h&&v[0]===C&&!S.authority&&(v=v.substring(1)),S.with({path:v})},V.dirname=function(S){if(S.path.length===0||S.path===C)return S;let $=P.dirname(S.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),S.with({path:$})},V.basename=function(S){return P.basename(S.path)},V.extname=function(S){return P.extname(S.path)}})(T||(T={}))})(),A80=K})();({URI:B6,Utils:Iz}=A80)});var u7;var qK=_(()=>{gf();(function(Z){Z.basename=Iz.basename,Z.dirname=Iz.dirname,Z.extname=Iz.extname,Z.joinPath=Iz.joinPath,Z.resolvePath=Iz.resolvePath;function J(K,X){return(K===null||K===void 0?void 0:K.toString())===(X===null||X===void 0?void 0:X.toString())}Z.equals=J;function Q(K,X){const U=typeof K==="string"?K:K.path,Y=typeof X==="string"?X:X.path,q=U.split("/").filter((F)=>F.length>0),z=Y.split("/").filter((F)=>F.length>0);let G=0;for(;G<q.length;G++)if(q[G]!==z[G])break;const H="../".repeat(q.length-G),W=z.slice(G).join("/");return H+W}Z.relative=Q})(u7||(u7={}))});class xL{constructor(Z){this.serviceRegistry=Z.ServiceRegistry,this.textDocuments=Z.workspace.TextDocuments,this.fileSystemProvider=Z.workspace.FileSystemProvider}async fromUri(Z,J=Y8.CancellationToken.None){const Q=await this.fileSystemProvider.readFile(Z);return this.createAsync(Z,Q,J)}fromTextDocument(Z,J,Q){if(J=J!==null&&J!==void 0?J:B6.parse(Z.uri),Q)return this.createAsync(J,Z,Q);else return this.create(J,Z)}fromString(Z,J,Q){if(Q)return this.createAsync(J,Z,Q);else return this.create(J,Z)}fromModel(Z,J){return this.create(J,{$model:Z})}create(Z,J){if(typeof J==="string"){const Q=this.parse(Z,J);return this.createLangiumDocument(Q,Z,void 0,J)}else if("$model"in J){const Q={value:J.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(Q,Z)}else{const Q=this.parse(Z,J.getText());return this.createLangiumDocument(Q,Z,J)}}async createAsync(Z,J,Q){if(typeof J==="string"){const K=await this.parseAsync(Z,J,Q);return this.createLangiumDocument(K,Z,void 0,J)}else{const K=await this.parseAsync(Z,J.getText(),Q);return this.createLangiumDocument(K,Z,J)}}createLangiumDocument(Z,J,Q,K){let X;if(Q)X={parseResult:Z,uri:J,state:ZZ.Parsed,references:[],textDocument:Q};else{const U=this.createTextDocumentGetter(J,K);X={parseResult:Z,uri:J,state:ZZ.Parsed,references:[],get textDocument(){return U()}}}return Z.value.$document=X,X}async update(Z,J){var Q,K;const X=(Q=Z.parseResult.value.$cstNode)===null||Q===void 0?void 0:Q.root.fullText,U=(K=this.textDocuments)===null||K===void 0?void 0:K.get(Z.uri.toString()),Y=U?U.getText():await this.fileSystemProvider.readFile(Z.uri);if(U)Object.defineProperty(Z,"textDocument",{value:U});else{const q=this.createTextDocumentGetter(Z.uri,Y);Object.defineProperty(Z,"textDocument",{get:q})}if(X!==Y)Z.parseResult=await this.parseAsync(Z.uri,Y,J),Z.parseResult.value.$document=Z;return Z.state=ZZ.Parsed,Z}parse(Z,J){return this.serviceRegistry.getServices(Z).parser.LangiumParser.parse(J)}parseAsync(Z,J,Q){return this.serviceRegistry.getServices(Z).parser.AsyncParser.parse(J,Q)}createTextDocumentGetter(Z,J){const Q=this.serviceRegistry;let K=void 0;return()=>{return K!==null&&K!==void 0?K:K=Lz.create(Z.toString(),Q.getServices(Z).LanguageMetaData.languageId,0,J!==null&&J!==void 0?J:"")}}}class hL{constructor(Z){this.documentMap=new Map,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory}get all(){return _8(this.documentMap.values())}addDocument(Z){const J=Z.uri.toString();if(this.documentMap.has(J))throw new Error(`A document with the URI '${J}' is already present.`);this.documentMap.set(J,Z)}getDocument(Z){const J=Z.toString();return this.documentMap.get(J)}async getOrCreateDocument(Z,J){let Q=this.getDocument(Z);if(Q)return Q;return Q=await this.langiumDocumentFactory.fromUri(Z,J),this.addDocument(Q),Q}createDocument(Z,J,Q){if(Q)return this.langiumDocumentFactory.fromString(J,Z,Q).then((K)=>{return this.addDocument(K),K});else{const K=this.langiumDocumentFactory.fromString(J,Z);return this.addDocument(K),K}}hasDocument(Z){return this.documentMap.has(Z.toString())}invalidateDocument(Z){const J=Z.toString(),Q=this.documentMap.get(J);if(Q)Q.state=ZZ.Changed,Q.precomputedScopes=void 0,Q.references=[],Q.diagnostics=void 0;return Q}deleteDocument(Z){const J=Z.toString(),Q=this.documentMap.get(J);if(Q)Q.state=ZZ.Changed,this.documentMap.delete(J);return Q}}var ZZ;var Dz=_(()=>{O80();Dz();PQ();z6();qK();(function(Z){Z[Z.Changed=0]="Changed",Z[Z.Parsed=1]="Parsed",Z[Z.IndexedContent=2]="IndexedContent",Z[Z.ComputedScopes=3]="ComputedScopes",Z[Z.Linked=4]="Linked",Z[Z.IndexedReferences=5]="IndexedReferences",Z[Z.Validated=6]="Validated"})(ZZ||(ZZ={}))});class yL{constructor(Z){this.reflection=Z.shared.AstReflection,this.langiumDocuments=()=>Z.shared.workspace.LangiumDocuments,this.scopeProvider=Z.references.ScopeProvider,this.astNodeLocator=Z.workspace.AstNodeLocator}async link(Z,J=Y8.CancellationToken.None){for(let Q of jQ(Z.parseResult.value))await OJ(J),g1(Q).forEach((K)=>this.doLink(K,Z))}doLink(Z,J){const Q=Z.reference;if(Q._ref===void 0)try{const K=this.getCandidate(Z);if(zY(K))Q._ref=K;else if(Q._nodeDescription=K,this.langiumDocuments().hasDocument(K.documentUri)){const X=this.loadAstNode(K);Q._ref=X!==null&&X!==void 0?X:this.createLinkingError(Z,K)}}catch(K){Q._ref=Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${Q.$refText}': ${K}`})}J.references.push(Q)}unlink(Z){for(let J of Z.references)delete J._ref,delete J._nodeDescription;Z.references=[]}getCandidate(Z){const Q=this.scopeProvider.getScope(Z).getElement(Z.reference.$refText);return Q!==null&&Q!==void 0?Q:this.createLinkingError(Z)}buildReference(Z,J,Q,K){const X=this,U={$refNode:Q,$refText:K,get ref(){var Y;if(kZ(this._ref))return this._ref;else if(dV(this._nodeDescription)){const q=X.loadAstNode(this._nodeDescription);this._ref=q!==null&&q!==void 0?q:X.createLinkingError({reference:U,container:Z,property:J},this._nodeDescription)}else if(this._ref===void 0){const q=X.getLinkedNode({reference:U,container:Z,property:J});if(q.error&&BJ(Z).state<ZZ.ComputedScopes)return;this._ref=(Y=q.node)!==null&&Y!==void 0?Y:q.error,this._nodeDescription=q.descr}return kZ(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return zY(this._ref)?this._ref:void 0}};return U}getLinkedNode(Z){try{const J=this.getCandidate(Z);if(zY(J))return{error:J};const Q=this.loadAstNode(J);if(Q)return{node:Q,descr:J};else return{descr:J,error:this.createLinkingError(Z,J)}}catch(J){return{error:Object.assign(Object.assign({},Z),{message:`An error occurred while resolving reference to '${Z.reference.$refText}': ${J}`})}}}loadAstNode(Z){if(Z.node)return Z.node;const J=this.langiumDocuments().getDocument(Z.documentUri);if(!J)return;return this.astNodeLocator.getAstNode(J.parseResult.value,Z.path)}createLinkingError(Z,J){const Q=BJ(Z.container);if(Q.state<ZZ.ComputedScopes)console.warn(`Attempted reference resolution before document reached ComputedScopes state (${Q.uri}).`);const K=this.reflection.getReferenceType(Z);return Object.assign(Object.assign({},Z),{message:`Could not resolve reference to ${K} named '${Z.reference.$refText}'.`,targetDescription:J})}}var pf=_(()=>{PQ();x7();VQ();Dz()});function L80(Z){return typeof Z.name==="string"}class uL{getName(Z){if(L80(Z))return Z.name;return}getNameNode(Z){return yW(Z.$cstNode,"name")}}var cf=_(()=>{X4()});class mL{constructor(Z){this.nameProvider=Z.references.NameProvider,this.index=Z.shared.workspace.IndexManager,this.nodeLocator=Z.workspace.AstNodeLocator}findDeclaration(Z){if(Z){const J=BT(Z),Q=Z.astNode;if(J&&Q){const K=Q[J.feature];if(tJ(K))return K.ref;else if(Array.isArray(K)){for(let X of K)if(tJ(X)&&X.$refNode&&X.$refNode.offset<=Z.offset&&X.$refNode.end>=Z.end)return X.ref}}if(Q){const K=this.nameProvider.getNameNode(Q);if(K&&(K===Z||sV(Z,K)))return Q}}return}findDeclarationNode(Z){const J=this.findDeclaration(Z);if(J===null||J===void 0?void 0:J.$cstNode){const Q=this.nameProvider.getNameNode(J);return Q!==null&&Q!==void 0?Q:J.$cstNode}return}findReferences(Z,J){const Q=[];if(J.includeDeclaration){const X=this.getReferenceToSelf(Z);if(X)Q.push(X)}let K=this.index.findAllReferences(Z,this.nodeLocator.getAstNodePath(Z));if(J.documentUri)K=K.filter((X)=>u7.equals(X.sourceUri,J.documentUri));return Q.push(...K),_8(Q)}getReferenceToSelf(Z){const J=this.nameProvider.getNameNode(Z);if(J){const Q=BJ(Z),K=this.nodeLocator.getAstNodePath(Z);return{sourceUri:Q.uri,sourcePath:K,targetUri:Q.uri,targetPath:K,segment:HY(J),local:!0}}return}}var lf=_(()=>{X4();x7();J4();z6();qK()});class Nz{get size(){return this.map.size}constructor(Z){if(this.map=new Map,this.inverse=new Map,Z)for(let[J,Q]of Z)this.set(J,Q)}clear(){this.map.clear(),this.inverse.clear()}set(Z,J){return this.map.set(Z,J),this.inverse.set(J,Z),this}get(Z){return this.map.get(Z)}getKey(Z){return this.inverse.get(Z)}delete(Z){const J=this.map.get(Z);if(J!==void 0)return this.map.delete(Z),this.inverse.delete(J),!0;return!1}}var I5;var Ez=_(()=>{z6();I5=class I5{constructor(Z){if(this.map=new Map,Z)for(let[J,Q]of Z)this.add(J,Q)}get size(){return y1.sum(_8(this.map.values()).map((Z)=>Z.length))}clear(){this.map.clear()}delete(Z,J){if(J===void 0)return this.map.delete(Z);else{const Q=this.map.get(Z);if(Q){const K=Q.indexOf(J);if(K>=0){if(Q.length===1)this.map.delete(Z);else Q.splice(K,1);return!0}}return!1}}get(Z){var J;return(J=this.map.get(Z))!==null&&J!==void 0?J:[]}has(Z,J){if(J===void 0)return this.map.has(Z);else{const Q=this.map.get(Z);if(Q)return Q.indexOf(J)>=0;return!1}}add(Z,J){if(this.map.has(Z))this.map.get(Z).push(J);else this.map.set(Z,[J]);return this}addAll(Z,J){if(this.map.has(Z))this.map.get(Z).push(...J);else this.map.set(Z,Array.from(J));return this}forEach(Z){this.map.forEach((J,Q)=>J.forEach((K)=>Z(K,Q,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return _8(this.map.entries()).flatMap(([Z,J])=>J.map((Q)=>[Z,Q]))}keys(){return _8(this.map.keys())}values(){return _8(this.map.values()).flat()}entriesGroupedByKey(){return _8(this.map.entries())}}});class gL{constructor(Z){this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider}async computeExports(Z,J=Y8.CancellationToken.None){return this.computeExportsForNode(Z.parseResult.value,Z,void 0,J)}async computeExportsForNode(Z,J,Q=kW,K=Y8.CancellationToken.None){const X=[];this.exportNode(Z,X,J);for(let U of Q(Z))await OJ(K),this.exportNode(U,X,J);return X}exportNode(Z,J,Q){const K=this.nameProvider.getName(Z);if(K)J.push(this.descriptions.createDescription(Z,K,Q))}async computeLocalScopes(Z,J=Y8.CancellationToken.None){const Q=Z.parseResult.value,K=new I5;for(let X of KK(Q))await OJ(J),this.processNode(X,Z,K);return K}processNode(Z,J,Q){const K=Z.$container;if(K){const X=this.nameProvider.getName(Z);if(X)Q.add(K,this.descriptions.createDescription(Z,X,J))}}}var df=_(()=>{PQ();x7();Ez();VQ()});class FF{constructor(Z,J,Q){var K;this.elements=Z,this.outerScope=J,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1}getAllElements(){if(this.outerScope)return this.elements.concat(this.outerScope.getAllElements());else return this.elements}getElement(Z){const J=this.caseInsensitive?this.elements.find((Q)=>Q.name.toLowerCase()===Z.toLowerCase()):this.elements.find((Q)=>Q.name===Z);if(J)return J;if(this.outerScope)return this.outerScope.getElement(Z);return}}class pL{constructor(Z,J,Q){var K;this.elements=new Map,this.caseInsensitive=(K=Q===null||Q===void 0?void 0:Q.caseInsensitive)!==null&&K!==void 0?K:!1;for(let X of Z){const U=this.caseInsensitive?X.name.toLowerCase():X.name;this.elements.set(U,X)}this.outerScope=J}getElement(Z){const J=this.caseInsensitive?Z.toLowerCase():Z,Q=this.elements.get(J);if(Q)return Q;if(this.outerScope)return this.outerScope.getElement(Z);return}getAllElements(){let Z=_8(this.elements.values());if(this.outerScope)Z=Z.concat(this.outerScope.getAllElements());return Z}}var sS0;var sf=_(()=>{z6();sS0={getElement(){return},getAllElements(){return CW}}});class MF{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(Z){this.toDispose.push(Z)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((Z)=>Z.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}var cL,wz,rf,BF;var lL=_(()=>{cL=class cL extends MF{constructor(){super(...arguments);this.cache=new Map}has(Z){return this.throwIfDisposed(),this.cache.has(Z)}set(Z,J){this.throwIfDisposed(),this.cache.set(Z,J)}get(Z,J){if(this.throwIfDisposed(),this.cache.has(Z))return this.cache.get(Z);else if(J){const Q=J();return this.cache.set(Z,Q),Q}else return}delete(Z){return this.throwIfDisposed(),this.cache.delete(Z)}clear(){this.throwIfDisposed(),this.cache.clear()}};wz=class wz extends MF{constructor(Z){super();this.cache=new Map,this.converter=Z!==null&&Z!==void 0?Z:(J)=>J}has(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).has(J)}set(Z,J,Q){this.throwIfDisposed(),this.cacheForContext(Z).set(J,Q)}get(Z,J,Q){this.throwIfDisposed();const K=this.cacheForContext(Z);if(K.has(J))return K.get(J);else if(Q){const X=Q();return K.set(J,X),X}else return}delete(Z,J){return this.throwIfDisposed(),this.cacheForContext(Z).delete(J)}clear(Z){if(this.throwIfDisposed(),Z){const J=this.converter(Z);this.cache.delete(J)}else this.cache.clear()}cacheForContext(Z){const J=this.converter(Z);let Q=this.cache.get(J);if(!Q)Q=new Map,this.cache.set(J,Q);return Q}};rf=class rf extends wz{constructor(Z){super((J)=>J.toString());this.onDispose(Z.workspace.DocumentBuilder.onUpdate((J,Q)=>{const K=J.concat(Q);for(let X of K)this.clear(X)}))}};BF=class BF extends cL{constructor(Z){super();this.onDispose(Z.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}});class dL{constructor(Z){this.reflection=Z.shared.AstReflection,this.nameProvider=Z.references.NameProvider,this.descriptions=Z.workspace.AstNodeDescriptionProvider,this.indexManager=Z.shared.workspace.IndexManager,this.globalScopeCache=new BF(Z.shared)}getScope(Z){const J=[],Q=this.reflection.getReferenceType(Z),K=BJ(Z.container).precomputedScopes;if(K){let U=Z.container;do{const Y=K.get(U);if(Y.length>0)J.push(_8(Y).filter((q)=>this.reflection.isSubtype(q.type,Q)));U=U.$container}while(U)}let X=this.getGlobalScope(Q,Z);for(let U=J.length-1;U>=0;U--)X=this.createScope(J[U],X);return X}createScope(Z,J,Q){return new FF(_8(Z),J,Q)}createScopeForNodes(Z,J,Q){const K=_8(Z).map((X)=>{const U=this.nameProvider.getName(X);if(U)return this.descriptions.createDescription(X,U);return}).nonNullable();return new FF(K,J,Q)}getGlobalScope(Z,J){return this.globalScopeCache.get(Z,()=>new pL(this.indexManager.allElements(Z)))}}var nf=_(()=>{sf();x7();z6();lL()});function af(Z){return typeof Z.$comment==="string"}function I80(Z){return typeof Z==="object"&&!!Z&&(("$ref"in Z)||("$error"in Z))}class iL{constructor(Z){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=Z.shared.workspace.LangiumDocuments,this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider,this.commentProvider=Z.documentation.CommentProvider}serialize(Z,J={}){const Q=J===null||J===void 0?void 0:J.replacer,K=(U,Y)=>this.replacer(U,Y,J),X=Q?(U,Y)=>Q(U,Y,K):K;try{return this.currentDocument=BJ(Z),JSON.stringify(Z,X,J===null||J===void 0?void 0:J.space)}finally{this.currentDocument=void 0}}deserialize(Z,J={}){const Q=JSON.parse(Z);return this.linkNode(Q,Q,J),Q}replacer(Z,J,{refText:Q,sourceText:K,textRegions:X,comments:U,uriConverter:Y}){var q,z,G,H;if(this.ignoreProperties.has(Z))return;else if(tJ(J)){const W=J.ref,F=Q?J.$refText:void 0;if(W){const M=BJ(W);let B="";if(this.currentDocument&&this.currentDocument!==M)if(Y)B=Y(M.uri,J);else B=M.uri.toString();const O=this.astNodeLocator.getAstNodePath(W);return{$ref:`${B}#${O}`,$refText:F}}else return{$error:(z=(q=J.error)===null||q===void 0?void 0:q.message)!==null&&z!==void 0?z:"Could not resolve reference",$refText:F}}else if(kZ(J)){let W=void 0;if(X){if(W=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},J)),(!Z||J.$document)&&(W===null||W===void 0?void 0:W.$textRegion))W.$textRegion.documentURI=(G=this.currentDocument)===null||G===void 0?void 0:G.uri.toString()}if(K&&!Z)W!==null&&W!==void 0||(W=Object.assign({},J)),W.$sourceText=(H=J.$cstNode)===null||H===void 0?void 0:H.text;if(U){W!==null&&W!==void 0||(W=Object.assign({},J));const F=this.commentProvider.getComment(J);if(F)W.$comment=F.replace(/\r/g,"")}return W!==null&&W!==void 0?W:J}else return J}addAstNodeRegionWithAssignmentsTo(Z){const J=(Q)=>({offset:Q.offset,end:Q.end,length:Q.length,range:Q.range});if(Z.$cstNode){const Q=Z.$textRegion=J(Z.$cstNode),K=Q.assignments={};return Object.keys(Z).filter((X)=>!X.startsWith("$")).forEach((X)=>{const U=HT(Z.$cstNode,X).map(J);if(U.length!==0)K[X]=U}),Z}return}linkNode(Z,J,Q,K,X,U){for(let[q,z]of Object.entries(Z))if(Array.isArray(z))for(let G=0;G<z.length;G++){const H=z[G];if(I80(H))z[G]=this.reviveReference(Z,q,J,H,Q);else if(kZ(H))this.linkNode(H,J,Q,Z,q,G)}else if(I80(z))Z[q]=this.reviveReference(Z,q,J,z,Q);else if(kZ(z))this.linkNode(z,J,Q,Z,q);const Y=Z;Y.$container=K,Y.$containerProperty=X,Y.$containerIndex=U}reviveReference(Z,J,Q,K,X){let{$refText:U,$error:Y}=K;if(K.$ref){const q=this.getRefNode(Q,K.$ref,X.uriConverter);if(kZ(q)){if(!U)U=this.nameProvider.getName(q);return{$refText:U!==null&&U!==void 0?U:"",ref:q}}else Y=q}if(Y){const q={$refText:U!==null&&U!==void 0?U:""};return q.error={container:Z,property:J,message:Y,reference:q},q}else return}getRefNode(Z,J,Q){try{const K=J.indexOf("#");if(K===0){const q=this.astNodeLocator.getAstNode(Z,J.substring(1));if(!q)return"Could not resolve path: "+J;return q}if(K<0){const q=Q?Q(J):B6.parse(J),z=this.langiumDocuments.getDocument(q);if(!z)return"Could not find document for URI: "+J;return z.parseResult.value}const X=Q?Q(J.substring(0,K)):B6.parse(J.substring(0,K)),U=this.langiumDocuments.getDocument(X);if(!U)return"Could not find document for URI: "+J;if(K===J.length-1)return U.parseResult.value;const Y=this.astNodeLocator.getAstNode(U.parseResult.value,J.substring(K+1));if(!Y)return"Could not resolve URI: "+J;return Y}catch(K){return String(K)}}}var sL=_(()=>{gf();x7();X4()});class rL{register(Z){if(!this.singleton&&!this.map){this.singleton=Z;return}if(!this.map){if(this.map={},this.singleton){for(let J of this.singleton.LanguageMetaData.fileExtensions)this.map[J]=this.singleton;this.singleton=void 0}}for(let J of Z.LanguageMetaData.fileExtensions){if(this.map[J]!==void 0&&this.map[J]!==Z)console.warn(`The file extension ${J} is used by multiple languages. It is now assigned to '${Z.LanguageMetaData.languageId}'.`);this.map[J]=Z}}getServices(Z){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");const J=u7.extname(Z),Q=this.map[J];if(!Q)throw new Error(`The service registry contains no services for the extension '${J}'.`);return Q}get all(){if(this.singleton!==void 0)return[this.singleton];if(this.map!==void 0)return Object.values(this.map);return[]}}var of=_(()=>{qK()});function nL(Z){return{code:Z}}class aL{constructor(Z){this.entries=new I5,this.reflection=Z.shared.AstReflection}register(Z,J=this,Q="fast"){if(Q==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[K,X]of Object.entries(Z)){const U=X;if(Array.isArray(U))for(let Y of U){const q={check:this.wrapValidationException(Y,J),category:Q};this.addEntry(K,q)}else if(typeof U==="function"){const Y={check:this.wrapValidationException(U,J),category:Q};this.addEntry(K,Y)}}}wrapValidationException(Z,J){return async(Q,K,X)=>{try{await Z.call(J,Q,K,X)}catch(U){if(gX(U))throw U;console.error("An error occurred during validation:",U);const Y=U instanceof Error?U.message:String(U);if(U instanceof Error&&U.stack)console.error(U.stack);K("error","An error occurred during validation: "+Y,{node:Q})}}}addEntry(Z,J){if(Z==="AstNode"){this.entries.add("AstNode",J);return}for(let Q of this.reflection.getAllSubTypes(Z))this.entries.add(Q,J)}getChecks(Z,J){let Q=_8(this.entries.get(Z)).concat(this.entries.get("AstNode"));if(J)Q=Q.filter((K)=>J.includes(K.category));return Q.map((K)=>K.check)}}var jz;var RF=_(()=>{Ez();VQ();z6();(function(Z){Z.all=["fast","slow","built-in"]})(jz||(jz={}))});function D80(Z){if(Z.range)return Z.range;let J;if(typeof Z.property==="string")J=yW(Z.node.$cstNode,Z.property,Z.index);else if(typeof Z.keyword==="string")J=FT(Z.node.$cstNode,Z.keyword,Z.index);if(J!==null&&J!==void 0||(J=Z.node.$cstNode),!J)return{start:{line:0,character:0},end:{line:0,character:0}};return J.range}function oL(Z){switch(Z){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+Z)}}class tL{constructor(Z){this.validationRegistry=Z.validation.ValidationRegistry,this.metadata=Z.LanguageMetaData}async validateDocument(Z,J={},Q=Y8.CancellationToken.None){const K=Z.parseResult,X=[];if(await OJ(Q),!J.categories||J.categories.includes("built-in")){if(this.processLexingErrors(K,X,J),J.stopAfterLexingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===D5.LexingError}))return X;if(this.processParsingErrors(K,X,J),J.stopAfterParsingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===D5.ParsingError}))return X;if(this.processLinkingErrors(Z,X,J),J.stopAfterLinkingErrors&&X.some((U)=>{var Y;return((Y=U.data)===null||Y===void 0?void 0:Y.code)===D5.LinkingError}))return X}try{X.push(...await this.validateAst(K.value,J,Q))}catch(U){if(gX(U))throw U;console.error("An error occurred during validation:",U)}return await OJ(Q),X}processLexingErrors(Z,J,Q){for(let K of Z.lexerErrors){const X={severity:oL("error"),range:{start:{line:K.line-1,character:K.column-1},end:{line:K.line-1,character:K.column+K.length-1}},message:K.message,data:nL(D5.LexingError),source:this.getSource()};J.push(X)}}processParsingErrors(Z,J,Q){for(let K of Z.parserErrors){let X=void 0;if(isNaN(K.token.startOffset)){if("previousToken"in K){const U=K.previousToken;if(!isNaN(U.startOffset)){const Y={line:U.endLine-1,character:U.endColumn};X={start:Y,end:Y}}else{const Y={line:0,character:0};X={start:Y,end:Y}}}}else X=u1(K.token);if(X){const U={severity:oL("error"),range:X,message:K.message,data:nL(D5.ParsingError),source:this.getSource()};J.push(U)}}}processLinkingErrors(Z,J,Q){for(let K of Z.references){const X=K.error;if(X){const U={node:X.container,property:X.property,index:X.index,data:{code:D5.LinkingError,containerType:X.container.$type,property:X.property,refText:X.reference.$refText}};J.push(this.toDiagnostic("error",X.message,U))}}}async validateAst(Z,J,Q=Y8.CancellationToken.None){const K=[],X=(U,Y,q)=>{K.push(this.toDiagnostic(U,Y,q))};return await Promise.all(jQ(Z).map(async(U)=>{await OJ(Q);const Y=this.validationRegistry.getChecks(U.$type,J.categories);for(let q of Y)await q(U,X,Q)})),K}toDiagnostic(Z,J,Q){return{message:J,range:D80(Q),severity:oL(Z),code:Q.code,codeDescription:Q.codeDescription,tags:Q.tags,relatedInformation:Q.relatedInformation,data:Q.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}var D5;var tf=_(()=>{PQ();X4();x7();J4();VQ();RF();(function(Z){Z.LexingError="lexing-error",Z.ParsingError="parsing-error",Z.LinkingError="linking-error"})(D5||(D5={}))});class eL{constructor(Z){this.astNodeLocator=Z.workspace.AstNodeLocator,this.nameProvider=Z.references.NameProvider}createDescription(Z,J,Q=BJ(Z)){J!==null&&J!==void 0||(J=this.nameProvider.getName(Z));const K=this.astNodeLocator.getAstNodePath(Z);if(!J)throw new Error(`Node at path ${K} has no name.`);let X;const U=()=>{var Y;return X!==null&&X!==void 0?X:X=HY((Y=this.nameProvider.getNameNode(Z))!==null&&Y!==void 0?Y:Z.$cstNode)};return{node:Z,name:J,get nameSegment(){return U()},selectionSegment:HY(Z.$cstNode),type:Z.$type,documentUri:Q.uri,path:K}}}class ZI{constructor(Z){this.nodeLocator=Z.workspace.AstNodeLocator}async createDescriptions(Z,J=Y8.CancellationToken.None){const Q=[],K=Z.parseResult.value;for(let X of jQ(K))await OJ(J),g1(X).filter((U)=>!zY(U)).forEach((U)=>{const Y=this.createDescription(U);if(Y)Q.push(Y)});return Q}createDescription(Z){const J=Z.reference.$nodeDescription,Q=Z.reference.$refNode;if(!J||!Q)return;const K=BJ(Z.container).uri;return{sourceUri:K,sourcePath:this.nodeLocator.getAstNodePath(Z.container),targetUri:J.documentUri,targetPath:J.path,segment:HY(Q),local:u7.equals(J.documentUri,K)}}}var ef=_(()=>{PQ();x7();J4();VQ();qK()});class JI{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(Z){if(Z.$container){const J=this.getAstNodePath(Z.$container),Q=this.getPathSegment(Z);return J+this.segmentSeparator+Q}return""}getPathSegment({$containerProperty:Z,$containerIndex:J}){if(!Z)throw new Error("Missing '$containerProperty' in AST node.");if(J!==void 0)return Z+this.indexSeparator+J;return Z}getAstNode(Z,J){return J.split(this.segmentSeparator).reduce((K,X)=>{if(!K||X.length===0)return K;const U=X.indexOf(this.indexSeparator);if(U>0){const Y=X.substring(0,U),q=parseInt(X.substring(U+1)),z=K[Y];return z===null||z===void 0?void 0:z[q]}return K[X]},Z)}}class QI{constructor(Z){this._ready=new M6,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=Z.ServiceRegistry}get ready(){return this._ready.promise}initialize(Z){var J,Q;this.workspaceConfig=(Q=(J=Z.capabilities.workspace)===null||J===void 0?void 0:J.configuration)!==null&&Q!==void 0?Q:!1}async initialized(Z){if(this.workspaceConfig){if(Z.register){const J=this.serviceRegistry.all;Z.register({section:J.map((Q)=>this.toSectionName(Q.LanguageMetaData.languageId))})}if(Z.fetchConfiguration){const J=this.serviceRegistry.all.map((K)=>({section:this.toSectionName(K.LanguageMetaData.languageId)})),Q=await Z.fetchConfiguration(J);J.forEach((K,X)=>{this.updateSectionConfiguration(K.section,Q[X])})}}this._ready.resolve()}updateConfiguration(Z){if(!Z.settings)return;Object.keys(Z.settings).forEach((J)=>{this.updateSectionConfiguration(J,Z.settings[J])})}updateSectionConfiguration(Z,J){this.settings[Z]=J}async getConfiguration(Z,J){await this.ready;const Q=this.toSectionName(Z);if(this.settings[Q])return this.settings[Q][J]}toSectionName(Z){return`${Z}`}}var Zv=_(()=>{VQ()});var VY;var Jv=_(()=>{(function(Z){function J(Q){return{dispose:async()=>await Q()}}Z.create=J})(VY||(VY={}))});class KI{constructor(Z){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new I5,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=ZZ.Changed,this.langiumDocuments=Z.workspace.LangiumDocuments,this.langiumDocumentFactory=Z.workspace.LangiumDocumentFactory,this.indexManager=Z.workspace.IndexManager,this.serviceRegistry=Z.ServiceRegistry}async build(Z,J={},Q=Y8.CancellationToken.None){var K,X;for(let U of Z){const Y=U.uri.toString();if(U.state===ZZ.Validated){if(typeof J.validation==="boolean"&&J.validation)U.state=ZZ.IndexedReferences,U.diagnostics=void 0,this.buildState.delete(Y);else if(typeof J.validation==="object"){const q=this.buildState.get(Y),z=(K=q===null||q===void 0?void 0:q.result)===null||K===void 0?void 0:K.validationChecks;if(z){const H=((X=J.validation.categories)!==null&&X!==void 0?X:jz.all).filter((W)=>!z.includes(W));if(H.length>0)this.buildState.set(Y,{completed:!1,options:{validation:Object.assign(Object.assign({},J.validation),{categories:H})},result:q.result}),U.state=ZZ.IndexedReferences}}}else this.buildState.delete(Y)}this.currentState=ZZ.Changed,await this.emitUpdate(Z.map((U)=>U.uri),[]),await this.buildDocuments(Z,J,Q)}async update(Z,J,Q=Y8.CancellationToken.None){this.currentState=ZZ.Changed;for(let U of J)this.langiumDocuments.deleteDocument(U),this.buildState.delete(U.toString()),this.indexManager.remove(U);for(let U of Z){if(!this.langiumDocuments.invalidateDocument(U)){const q=this.langiumDocumentFactory.fromModel({$type:"INVALID"},U);q.state=ZZ.Changed,this.langiumDocuments.addDocument(q)}this.buildState.delete(U.toString())}const K=_8(Z).concat(J).map((U)=>U.toString()).toSet();this.langiumDocuments.all.filter((U)=>!K.has(U.uri.toString())&&this.shouldRelink(U,K)).forEach((U)=>{this.serviceRegistry.getServices(U.uri).references.Linker.unlink(U),U.state=Math.min(U.state,ZZ.ComputedScopes),U.diagnostics=void 0}),await this.emitUpdate(Z,J),await OJ(Q);const X=this.langiumDocuments.all.filter((U)=>{var Y;return U.state<ZZ.Linked||!((Y=this.buildState.get(U.uri.toString()))===null||Y===void 0?void 0:Y.completed)}).toArray();await this.buildDocuments(X,this.updateBuildOptions,Q)}async emitUpdate(Z,J){await Promise.all(this.updateListeners.map((Q)=>Q(Z,J)))}shouldRelink(Z,J){if(Z.references.some((Q)=>Q.error!==void 0))return!0;return this.indexManager.isAffected(Z,J)}onUpdate(Z){return this.updateListeners.push(Z),VY.create(()=>{const J=this.updateListeners.indexOf(Z);if(J>=0)this.updateListeners.splice(J,1)})}async buildDocuments(Z,J,Q){this.prepareBuild(Z,J),await this.runCancelable(Z,ZZ.Parsed,Q,(X)=>this.langiumDocumentFactory.update(X,Q)),await this.runCancelable(Z,ZZ.IndexedContent,Q,(X)=>this.indexManager.updateContent(X,Q)),await this.runCancelable(Z,ZZ.ComputedScopes,Q,async(X)=>{const U=this.serviceRegistry.getServices(X.uri).references.ScopeComputation;X.precomputedScopes=await U.computeLocalScopes(X,Q)}),await this.runCancelable(Z,ZZ.Linked,Q,(X)=>{return this.serviceRegistry.getServices(X.uri).references.Linker.link(X,Q)}),await this.runCancelable(Z,ZZ.IndexedReferences,Q,(X)=>this.indexManager.updateReferences(X,Q));const K=Z.filter((X)=>this.shouldValidate(X));await this.runCancelable(K,ZZ.Validated,Q,(X)=>this.validate(X,Q));for(let X of Z){const U=this.buildState.get(X.uri.toString());if(U)U.completed=!0}}prepareBuild(Z,J){for(let Q of Z){const K=Q.uri.toString(),X=this.buildState.get(K);if(!X||X.completed)this.buildState.set(K,{completed:!1,options:J,result:X===null||X===void 0?void 0:X.result})}}async runCancelable(Z,J,Q,K){const X=Z.filter((U)=>U.state<J);for(let U of X)await OJ(Q),await K(U),U.state=J;await this.notifyBuildPhase(X,J,Q),this.currentState=J}onBuildPhase(Z,J){return this.buildPhaseListeners.add(Z,J),VY.create(()=>{this.buildPhaseListeners.delete(Z,J)})}waitUntil(Z,J,Q){let K=void 0;if(J&&"path"in J)K=J;else Q=J;if(Q!==null&&Q!==void 0||(Q=Y8.CancellationToken.None),K){const X=this.langiumDocuments.getDocument(K);if(X&&X.state>Z)return Promise.resolve(K)}if(this.currentState>=Z)return Promise.resolve(void 0);else if(Q.isCancellationRequested)return Promise.reject(YK);return new Promise((X,U)=>{const Y=this.onBuildPhase(Z,()=>{if(Y.dispose(),q.dispose(),K){const z=this.langiumDocuments.getDocument(K);X(z===null||z===void 0?void 0:z.uri)}else X(void 0)}),q=Q.onCancellationRequested(()=>{Y.dispose(),q.dispose(),U(YK)})})}async notifyBuildPhase(Z,J,Q){if(Z.length===0)return;const K=this.buildPhaseListeners.get(J);for(let X of K)await OJ(Q),await X(Z,Q)}shouldValidate(Z){return Boolean(this.getBuildOptions(Z).validation)}async validate(Z,J){var Q,K;const X=this.serviceRegistry.getServices(Z.uri).validation.DocumentValidator,U=this.getBuildOptions(Z).validation,Y=typeof U==="object"?U:void 0,q=await X.validateDocument(Z,Y,J);if(Z.diagnostics)Z.diagnostics.push(...q);else Z.diagnostics=q;const z=this.buildState.get(Z.uri.toString());if(z){(Q=z.result)!==null&&Q!==void 0||(z.result={});const G=(K=Y===null||Y===void 0?void 0:Y.categories)!==null&&K!==void 0?K:jz.all;if(z.result.validationChecks)z.result.validationChecks.push(...G);else z.result.validationChecks=[...G]}}getBuildOptions(Z){var J,Q;return(Q=(J=this.buildState.get(Z.uri.toString()))===null||J===void 0?void 0:J.options)!==null&&Q!==void 0?Q:{}}}var Qv=_(()=>{PQ();Jv();Ez();VQ();z6();RF();Dz()});class XI{constructor(Z){this.symbolIndex=new Map,this.symbolByTypeIndex=new wz,this.referenceIndex=new Map,this.documents=Z.workspace.LangiumDocuments,this.serviceRegistry=Z.ServiceRegistry,this.astReflection=Z.AstReflection}findAllReferences(Z,J){const Q=BJ(Z).uri,K=[];return this.referenceIndex.forEach((X)=>{X.forEach((U)=>{if(u7.equals(U.targetUri,Q)&&U.targetPath===J)K.push(U)})}),_8(K)}allElements(Z,J){let Q=_8(this.symbolIndex.keys());if(J)Q=Q.filter((K)=>!J||J.has(K));return Q.map((K)=>this.getFileDescriptions(K,Z)).flat()}getFileDescriptions(Z,J){var Q;if(!J)return(Q=this.symbolIndex.get(Z))!==null&&Q!==void 0?Q:[];return this.symbolByTypeIndex.get(Z,J,()=>{var X;return((X=this.symbolIndex.get(Z))!==null&&X!==void 0?X:[]).filter((Y)=>this.astReflection.isSubtype(Y.type,J))})}remove(Z){const J=Z.toString();this.symbolIndex.delete(J),this.symbolByTypeIndex.clear(J),this.referenceIndex.delete(J)}async updateContent(Z,J=Y8.CancellationToken.None){const K=await this.serviceRegistry.getServices(Z.uri).references.ScopeComputation.computeExports(Z,J),X=Z.uri.toString();this.symbolIndex.set(X,K),this.symbolByTypeIndex.clear(X)}async updateReferences(Z,J=Y8.CancellationToken.None){const K=await this.serviceRegistry.getServices(Z.uri).workspace.ReferenceDescriptionProvider.createDescriptions(Z,J);this.referenceIndex.set(Z.uri.toString(),K)}isAffected(Z,J){const Q=this.referenceIndex.get(Z.uri.toString());if(!Q)return!1;return Q.some((K)=>!K.local&&J.has(K.targetUri.toString()))}}var Kv=_(()=>{x7();lL();PQ();z6();qK()});class UI{constructor(Z){this.initialBuildOptions={},this._ready=new M6,this.serviceRegistry=Z.ServiceRegistry,this.langiumDocuments=Z.workspace.LangiumDocuments,this.documentBuilder=Z.workspace.DocumentBuilder,this.fileSystemProvider=Z.workspace.FileSystemProvider,this.mutex=Z.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(Z){var J;this.folders=(J=Z.workspaceFolders)!==null&&J!==void 0?J:void 0}initialized(Z){return this.mutex.write((J)=>{var Q;return this.initializeWorkspace((Q=this.folders)!==null&&Q!==void 0?Q:[],J)})}async initializeWorkspace(Z,J=Y8.CancellationToken.None){const Q=await this.performStartup(Z);await OJ(J),await this.documentBuilder.build(Q,this.initialBuildOptions,J)}async performStartup(Z){const J=this.serviceRegistry.all.flatMap((X)=>X.LanguageMetaData.fileExtensions),Q=[],K=(X)=>{if(Q.push(X),!this.langiumDocuments.hasDocument(X.uri))this.langiumDocuments.addDocument(X)};return await this.loadAdditionalDocuments(Z,K),await Promise.all(Z.map((X)=>[X,this.getRootFolder(X)]).map(async(X)=>this.traverseFolder(...X,J,K))),this._ready.resolve(),Q}loadAdditionalDocuments(Z,J){return Promise.resolve()}getRootFolder(Z){return B6.parse(Z.uri)}async traverseFolder(Z,J,Q,K){const X=await this.fileSystemProvider.readDirectory(J);await Promise.all(X.map(async(U)=>{if(this.includeEntry(Z,U,Q)){if(U.isDirectory)await this.traverseFolder(Z,U.uri,Q,K);else if(U.isFile){const Y=await this.langiumDocuments.getOrCreateDocument(U.uri);K(Y)}}}))}includeEntry(Z,J,Q){const K=u7.basename(J.uri);if(K.startsWith("."))return!1;if(J.isDirectory)return K!=="node_modules"&&K!=="out";else if(J.isFile){const X=u7.extname(J.uri);return Q.includes(X)}return!1}}var Xv=_(()=>{PQ();VQ();qK()});function N80(Z){return Array.isArray(Z)&&(Z.length===0||("name"in Z[0]))}function Yv(Z){return Z&&"modes"in Z&&"defaultMode"in Z}function Uv(Z){return!N80(Z)&&!Yv(Z)}class YI{constructor(Z){const J=Z.parser.TokenBuilder.buildTokens(Z.Grammar,{caseInsensitive:Z.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(J);const Q=Uv(J)?Object.values(J):J;this.chevrotainLexer=new aZ(Q,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(Z){var J;const Q=this.chevrotainLexer.tokenize(Z);return{tokens:Q.tokens,errors:Q.errors,hidden:(J=Q.groups.hidden)!==null&&J!==void 0?J:[]}}toTokenTypeDictionary(Z){if(Uv(Z))return Z;const J=Yv(Z)?Object.values(Z.modes).flat():Z,Q={};return J.forEach((K)=>Q[K.name]=K),Q}}var qv=_(()=>{wY()});function Wv(Z,J,Q){let K,X;if(typeof Z==="string")X=J,K=Q;else X=Z.range.start,K=J;if(!X)X=V8.create(0,0);const U=j80(Z),Y=Mv(K),q=nS0({lines:U,position:X,options:Y});return ZT0({index:0,tokens:q,position:X})}function Fv(Z,J){const Q=Mv(J),K=j80(Z);if(K.length===0)return!1;const X=K[0],U=K[K.length-1],Y=Q.start,q=Q.end;return Boolean(Y===null||Y===void 0?void 0:Y.exec(X))&&Boolean(q===null||q===void 0?void 0:q.exec(U))}function j80(Z){let J="";if(typeof Z==="string")J=Z;else J=Z.text;return J.split(QT)}function nS0(Z){var J,Q,K;const X=[];let U=Z.position.line,Y=Z.position.character;for(let q=0;q<Z.lines.length;q++){const z=q===0,G=q===Z.lines.length-1;let H=Z.lines[q],W=0;if(z&&Z.options.start){const M=(J=Z.options.start)===null||J===void 0?void 0:J.exec(H);if(M)W=M.index+M[0].length}else{const M=(Q=Z.options.line)===null||Q===void 0?void 0:Q.exec(H);if(M)W=M.index+M[0].length}if(G){const M=(K=Z.options.end)===null||K===void 0?void 0:K.exec(H);if(M)H=H.substring(0,M.index)}if(H=H.substring(0,eS0(H)),Gv(H,W)>=H.length){if(X.length>0){const M=V8.create(U,Y);X.push({type:"break",content:"",range:G8.create(M,M)})}}else{E80.lastIndex=W;const M=E80.exec(H);if(M){const B=M[0],O=M[1],A=V8.create(U,Y+W),L=V8.create(U,Y+W+B.length);X.push({type:"tag",content:O,range:G8.create(A,L)}),W+=B.length,W=Gv(H,W)}if(W<H.length){const B=H.substring(W),O=Array.from(B.matchAll(rS0));X.push(...aS0(O,B,U,Y+W))}}U++,Y=0}if(X.length>0&&X[X.length-1].type==="break")return X.slice(0,-1);return X}function aS0(Z,J,Q,K){const X=[];if(Z.length===0){const U=V8.create(Q,K),Y=V8.create(Q,K+J.length);X.push({type:"text",content:J,range:G8.create(U,Y)})}else{let U=0;for(let q of Z){const z=q.index,G=J.substring(U,z);if(G.length>0)X.push({type:"text",content:J.substring(U,z),range:G8.create(V8.create(Q,U+K),V8.create(Q,z+K))});let H=G.length+1;const W=q[1];if(X.push({type:"inline-tag",content:W,range:G8.create(V8.create(Q,U+H+K),V8.create(Q,U+H+W.length+K))}),H+=W.length,q.length===4){H+=q[2].length;const F=q[3];X.push({type:"text",content:F,range:G8.create(V8.create(Q,U+H+K),V8.create(Q,U+H+F.length+K))})}else X.push({type:"text",content:"",range:G8.create(V8.create(Q,U+H+K),V8.create(Q,U+H+K))});U=z+q[0].length}const Y=J.substring(U);if(Y.length>0)X.push({type:"text",content:Y,range:G8.create(V8.create(Q,U+K),V8.create(Q,U+K+Y.length))})}return X}function Gv(Z,J){const Q=Z.substring(J).match(oS0);if(Q)return J+Q.index;else return Z.length}function eS0(Z){const J=Z.match(tS0);if(J&&typeof J.index==="number")return J.index;return}function ZT0(Z){var J,Q,K,X;const U=V8.create(Z.position.line,Z.position.character);if(Z.tokens.length===0)return new Hv([],G8.create(U,U));const Y=[];while(Z.index<Z.tokens.length){const G=JT0(Z,Y[Y.length-1]);if(G)Y.push(G)}const q=(Q=(J=Y[0])===null||J===void 0?void 0:J.range.start)!==null&&Q!==void 0?Q:U,z=(X=(K=Y[Y.length-1])===null||K===void 0?void 0:K.range.end)!==null&&X!==void 0?X:U;return new Hv(Y,G8.create(q,z))}function JT0(Z,J){const Q=Z.tokens[Z.index];if(Q.type==="tag")return P80(Z,!1);else if(Q.type==="text"||Q.type==="inline-tag")return C80(Z);else{QT0(Q,J),Z.index++;return}}function QT0(Z,J){if(J){const Q=new Bv("",Z.range);if("inlines"in J)J.inlines.push(Q);else J.content.inlines.push(Q)}}function C80(Z){let J=Z.tokens[Z.index];const Q=J;let K=J;const X=[];while(J&&J.type!=="break"&&J.type!=="tag")X.push(KT0(Z)),K=J,J=Z.tokens[Z.index];return new zI(X,G8.create(Q.range.start,K.range.end))}function KT0(Z){if(Z.tokens[Z.index].type==="inline-tag")return P80(Z,!0);else return V80(Z)}function P80(Z,J){const Q=Z.tokens[Z.index++],K=Q.content.substring(1),X=Z.tokens[Z.index];if((X===null||X===void 0?void 0:X.type)==="text")if(J){const U=V80(Z);return new qI(K,new zI([U],U.range),J,G8.create(Q.range.start,U.range.end))}else{const U=C80(Z);return new qI(K,U,J,G8.create(Q.range.start,U.range.end))}else{const U=Q.range;return new qI(K,new zI([],U),J,U)}}function V80(Z){const J=Z.tokens[Z.index++];return new Bv(J.content,J.range)}function Mv(Z){if(!Z)return Mv({start:"/**",end:"*/",line:"*"});const{start:J,end:Q,line:K}=Z;return{start:zv(J,!0),end:zv(Q,!1),line:zv(K,!0)}}function zv(Z,J){if(typeof Z==="string"||typeof Z==="object"){const Q=typeof Z==="string"?RY(Z):Z.source;if(J)return new RegExp(`^\\s*${Q}`);else return new RegExp(`\\s*${Q}\\s*\$`)}else return Z}function XT0(Z,J,Q){var K,X;if(Z==="linkplain"||Z==="linkcode"||Z==="link"){const U=J.indexOf(" ");let Y=J;if(U>0){const z=Gv(J,U);Y=J.substring(z),J=J.substring(0,U)}if(Z==="linkcode"||Z==="link"&&Q.link==="code")Y=`\`${Y}\``;return(X=(K=Q.renderLink)===null||K===void 0?void 0:K.call(Q,J,Y))!==null&&X!==void 0?X:UT0(J,Y)}return}function UT0(Z,J){try{return B6.parse(Z,!0),`[${J}](${Z})`}catch(Q){return Z}}function w80(Z){if(Z.endsWith("\n"))return"\n";else return"\n\n"}class Hv{constructor(Z,J){this.elements=Z,this.range=J}getTag(Z){return this.getAllTags().find((J)=>J.name===Z)}getTags(Z){return this.getAllTags().filter((J)=>J.name===Z)}getAllTags(){return this.elements.filter((Z)=>("name"in Z))}toString(){let Z="";for(let J of this.elements)if(Z.length===0)Z=J.toString();else{const Q=J.toString();Z+=w80(Z)+Q}return Z.trim()}toMarkdown(Z){let J="";for(let Q of this.elements)if(J.length===0)J=Q.toMarkdown(Z);else{const K=Q.toMarkdown(Z);J+=w80(J)+K}return J.trim()}}class qI{constructor(Z,J,Q,K){this.name=Z,this.content=J,this.inline=Q,this.range=K}toString(){let Z=`@${this.name}`;const J=this.content.toString();if(this.content.inlines.length===1)Z=`${Z} ${J}`;else if(this.content.inlines.length>1)Z=`${Z}\n${J}`;if(this.inline)return`{${Z}}`;else return Z}toMarkdown(Z){var J,Q;return(Q=(J=Z===null||Z===void 0?void 0:Z.renderTag)===null||J===void 0?void 0:J.call(Z,this))!==null&&Q!==void 0?Q:this.toMarkdownDefault(Z)}toMarkdownDefault(Z){const J=this.content.toMarkdown(Z);if(this.inline){const X=XT0(this.name,J,Z!==null&&Z!==void 0?Z:{});if(typeof X==="string")return X}let Q="";if((Z===null||Z===void 0?void 0:Z.tag)==="italic"||(Z===null||Z===void 0?void 0:Z.tag)===void 0)Q="*";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold")Q="**";else if((Z===null||Z===void 0?void 0:Z.tag)==="bold-italic")Q="***";let K=`${Q}@${this.name}${Q}`;if(this.content.inlines.length===1)K=`${K} \u2014 ${J}`;else if(this.content.inlines.length>1)K=`${K}\n${J}`;if(this.inline)return`{${K}}`;else return K}}class zI{constructor(Z,J){this.inlines=Z,this.range=J}toString(){let Z="";for(let J=0;J<this.inlines.length;J++){const Q=this.inlines[J],K=this.inlines[J+1];if(Z+=Q.toString(),K&&K.range.start.line>Q.range.start.line)Z+="\n"}return Z}toMarkdown(Z){let J="";for(let Q=0;Q<this.inlines.length;Q++){const K=this.inlines[Q],X=this.inlines[Q+1];if(J+=K.toMarkdown(Z),X&&X.range.start.line>K.range.start.line)J+="\n"}return J}}class Bv{constructor(Z,J){this.text=Z,this.range=J}toString(){return this.text}toMarkdown(){return this.text}}var E80,rS0,oS0,tS0;var Rv=_(()=>{Df();l1();qK();E80=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,rS0=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,oS0=/\S/,tS0=/\s*$/});class GI{constructor(Z){this.indexManager=Z.shared.workspace.IndexManager,this.commentProvider=Z.documentation.CommentProvider}getDocumentation(Z){const J=this.commentProvider.getComment(Z);if(J&&Fv(J))return Wv(J).toMarkdown({renderLink:(K,X)=>{return this.documentationLinkRenderer(Z,K,X)},renderTag:(K)=>{return this.documentationTagRenderer(Z,K)}});return}documentationLinkRenderer(Z,J,Q){var K;const X=(K=this.findNameInPrecomputedScopes(Z,J))!==null&&K!==void 0?K:this.findNameInGlobalScope(Z,J);if(X&&X.nameSegment){const U=X.nameSegment.range.start.line+1,Y=X.nameSegment.range.start.character+1,q=X.documentUri.with({fragment:`L${U},${Y}`});return`[${Q}](${q.toString()})`}else return}documentationTagRenderer(Z,J){return}findNameInPrecomputedScopes(Z,J){const K=BJ(Z).precomputedScopes;if(!K)return;let X=Z;do{const Y=K.get(X).find((q)=>q.name===J);if(Y)return Y;X=X.$container}while(X);return}findNameInGlobalScope(Z,J){return this.indexManager.allElements().find((K)=>K.name===J)}}var Ov=_(()=>{x7();Rv()});class HI{constructor(Z){this.grammarConfig=()=>Z.parser.GrammarConfig}getComment(Z){var J;if(af(Z))return Z.$comment;return(J=nV(Z.$cstNode,this.grammarConfig().multilineCommentRules))===null||J===void 0?void 0:J.text}}var Av=_(()=>{sL();J4()});var mZ={};var Lv=_(()=>{K8(mZ,z7(bf(),1))});class WI{constructor(Z){this.syncParser=Z.parser.LangiumParser}parse(Z){return Promise.resolve(this.syncParser.parse(Z))}}class S80{constructor(Z){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=Z.serializer.Hydrator}initializeWorkers(){while(this.workerPool.length<this.threadCount){const Z=this.createWorker();Z.onReady(()=>{if(this.queue.length>0){const J=this.queue.shift();if(J)Z.lock(),J.resolve(Z)}}),this.workerPool.push(Z)}}async parse(Z,J){const Q=await this.acquireParserWorker(J),K=new M6;let X;const U=J.onCancellationRequested(()=>{X=setTimeout(()=>{this.terminateWorker(Q)},this.terminationDelay)});return Q.parse(Z).then((Y)=>{const q=this.hydrator.hydrate(Y);K.resolve(q)}).catch((Y)=>{K.reject(Y)}).finally(()=>{U.dispose(),clearTimeout(X)}),K.promise}terminateWorker(Z){Z.terminate();const J=this.workerPool.indexOf(Z);if(J>=0)this.workerPool.splice(J,1)}async acquireParserWorker(Z){this.initializeWorkers();for(let Q of this.workerPool)if(Q.ready)return Q.lock(),Q;const J=new M6;return Z.onCancellationRequested(()=>{const Q=this.queue.indexOf(J);if(Q>=0)this.queue.splice(Q,1);J.reject(YK)}),this.queue.push(J),J.promise}}class T80{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(Z,J,Q,K){this.onReadyEmitter=new mZ.Emitter,this.deferred=new M6,this._ready=!0,this._parsing=!1,this.sendMessage=Z,this._terminate=K,J((X)=>{const U=X;this.deferred.resolve(U),this.unlock()}),Q((X)=>{this.deferred.reject(X),this.unlock()})}terminate(){this.deferred.reject(YK),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(Z){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new M6,this.sendMessage(Z),this.deferred.promise}}var Iv=_(()=>{VQ();Lv()});class FI{constructor(){this.previousTokenSource=new Y8.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(Z){this.cancelWrite();const J=new Y8.CancellationTokenSource;return this.previousTokenSource=J,this.enqueue(this.writeQueue,Z,J.token)}read(Z){return this.enqueue(this.readQueue,Z)}enqueue(Z,J,Q){const K=new M6,X={action:J,deferred:K,cancellationToken:Q!==null&&Q!==void 0?Q:Y8.CancellationToken.None};return Z.push(X),this.performNextOperation(),K.promise}async performNextOperation(){if(!this.done)return;const Z=[];if(this.writeQueue.length>0)Z.push(this.writeQueue.shift());else if(this.readQueue.length>0)Z.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(Z.map(async({action:J,deferred:Q,cancellationToken:K})=>{try{const X=await Promise.resolve().then(()=>J(K));Q.resolve(X)}catch(X){if(gX(X))Q.resolve(void 0);else Q.reject(X)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}var Dv=_(()=>{PQ();VQ()});class MI{constructor(Z){this.grammarElementIdMap=new Nz,this.tokenTypeIdMap=new Nz,this.grammar=Z.Grammar,this.lexer=Z.parser.Lexer,this.linker=Z.references.Linker}dehydrate(Z){return{lexerErrors:Z.lexerErrors.map((J)=>Object.assign({},J)),parserErrors:Z.parserErrors.map((J)=>Object.assign({},J)),value:this.dehydrateAstNode(Z.value,this.createDehyrationContext(Z.value))}}createDehyrationContext(Z){const J=new Map,Q=new Map;for(let K of jQ(Z))J.set(K,{});if(Z.$cstNode)for(let K of GY(Z.$cstNode))Q.set(K,{});return{astNodes:J,cstNodes:Q}}dehydrateAstNode(Z,J){const Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode!==void 0)Q.$cstNode=this.dehydrateCstNode(Z.$cstNode,J);for(let[K,X]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(X)){const U=[];Q[K]=U;for(let Y of X)if(kZ(Y))U.push(this.dehydrateAstNode(Y,J));else if(tJ(Y))U.push(this.dehydrateReference(Y,J));else U.push(Y)}else if(kZ(X))Q[K]=this.dehydrateAstNode(X,J);else if(tJ(X))Q[K]=this.dehydrateReference(X,J);else if(X!==void 0)Q[K]=X}return Q}dehydrateReference(Z,J){const Q={};if(Q.$refText=Z.$refText,Z.$refNode)Q.$refNode=J.cstNodes.get(Z.$refNode);return Q}dehydrateCstNode(Z,J){const Q=J.cstNodes.get(Z);if(jW(Z))Q.fullText=Z.fullText;else Q.grammarSource=this.getGrammarElementId(Z.grammarSource);if(Q.hidden=Z.hidden,Q.astNode=J.astNodes.get(Z.astNode),l6(Z))Q.content=Z.content.map((K)=>this.dehydrateCstNode(K,J));else if($X(Z))Q.tokenType=Z.tokenType.name,Q.offset=Z.offset,Q.length=Z.length,Q.startLine=Z.range.start.line,Q.startColumn=Z.range.start.character,Q.endLine=Z.range.end.line,Q.endColumn=Z.range.end.character;return Q}hydrate(Z){const J=Z.value,Q=this.createHydrationContext(J);if("$cstNode"in J)this.hydrateCstNode(J.$cstNode,Q);return{lexerErrors:Z.lexerErrors,parserErrors:Z.parserErrors,value:this.hydrateAstNode(J,Q)}}createHydrationContext(Z){const J=new Map,Q=new Map;for(let X of jQ(Z))J.set(X,{});let K;if(Z.$cstNode)for(let X of GY(Z.$cstNode)){let U;if("fullText"in X)U=new zF(X.fullText),K=U;else if("content"in X)U=new Rz;else if("tokenType"in X)U=this.hydrateCstLeafNode(X);if(U)Q.set(X,U),U.root=K}return{astNodes:J,cstNodes:Q}}hydrateAstNode(Z,J){const Q=J.astNodes.get(Z);if(Q.$type=Z.$type,Q.$containerIndex=Z.$containerIndex,Q.$containerProperty=Z.$containerProperty,Z.$cstNode)Q.$cstNode=J.cstNodes.get(Z.$cstNode);for(let[K,X]of Object.entries(Z)){if(K.startsWith("$"))continue;if(Array.isArray(X)){const U=[];Q[K]=U;for(let Y of X)if(kZ(Y))U.push(this.setParent(this.hydrateAstNode(Y,J),Q));else if(tJ(Y))U.push(this.hydrateReference(Y,Q,K,J));else U.push(Y)}else if(kZ(X))Q[K]=this.setParent(this.hydrateAstNode(X,J),Q);else if(tJ(X))Q[K]=this.hydrateReference(X,Q,K,J);else if(X!==void 0)Q[K]=X}return Q}setParent(Z,J){return Z.$container=J,Z}hydrateReference(Z,J,Q,K){return this.linker.buildReference(J,Q,K.cstNodes.get(Z.$refNode),Z.$refText)}hydrateCstNode(Z,J,Q=0){const K=J.cstNodes.get(Z);if(typeof Z.grammarSource==="number")K.grammarSource=this.getGrammarElement(Z.grammarSource);if(K.astNode=J.astNodes.get(Z.astNode),l6(K))for(let X of Z.content){const U=this.hydrateCstNode(X,J,Q++);K.content.push(U)}return K}hydrateCstLeafNode(Z){const J=this.getTokenType(Z.tokenType),Q=Z.offset,K=Z.length,X=Z.startLine,U=Z.startColumn,Y=Z.endLine,q=Z.endColumn,z=Z.hidden;return new Bz(Q,K,{start:{line:X,character:U},end:{line:Y,character:q}},J,z)}getTokenType(Z){return this.lexer.definition[Z]}getGrammarElementId(Z){if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();return this.grammarElementIdMap.get(Z)}getGrammarElement(Z){if(this.grammarElementIdMap.size===0)this.createGrammarElementIdMap();const J=this.grammarElementIdMap.getKey(Z);if(J)return J;else throw new Error("Invalid grammar element id: "+Z)}createGrammarElementIdMap(){let Z=0;for(let J of jQ(this.grammar))if(SW(J))this.grammarElementIdMap.set(J,Z++)}}var Nv=_(()=>{VL();QK();x7();Ez();J4()});function Y4(Z){return{documentation:{CommentProvider:(J)=>new HI(J),DocumentationProvider:(J)=>new GI(J)},parser:{AsyncParser:(J)=>new WI(J),GrammarConfig:(J)=>LT(J),LangiumParser:(J)=>Sf(J),CompletionParser:(J)=>Pf(J),ValueConverter:()=>new Az,TokenBuilder:()=>new Oz,Lexer:(J)=>new YI(J),ParserErrorMessageProvider:()=>new GF},workspace:{AstNodeLocator:()=>new JI,AstNodeDescriptionProvider:(J)=>new eL(J),ReferenceDescriptionProvider:(J)=>new ZI(J)},references:{Linker:(J)=>new yL(J),NameProvider:()=>new uL,ScopeProvider:(J)=>new dL(J),ScopeComputation:(J)=>new gL(J),References:(J)=>new mL(J)},serializer:{Hydrator:(J)=>new MI(J),JsonSerializer:(J)=>new iL(J)},validation:{DocumentValidator:(J)=>new tL(J),ValidationRegistry:(J)=>new aL(J)},shared:()=>Z.shared}}function q4(Z){return{ServiceRegistry:()=>new rL,workspace:{LangiumDocuments:(J)=>new hL(J),LangiumDocumentFactory:(J)=>new xL(J),DocumentBuilder:(J)=>new KI(J),IndexManager:(J)=>new XI(J),WorkspaceManager:(J)=>new UI(J),FileSystemProvider:(J)=>Z.fileSystemProvider(J),WorkspaceLock:()=>new FI,ConfigurationProvider:(J)=>new QI(J)}}}var Ev=_(()=>{IT();Vf();Tf();ff();vf();pf();cf();lf();df();nf();sL();of();tf();RF();ef();Zv();Qv();Dz();Kv();Xv();qv();Ov();Av();HF();Iv();Dv();Nv()});function O7(Z,J,Q,K,X,U,Y,q,z){const G=[Z,J,Q,K,X,U,Y,q,z].reduce(BI,{});return $80(G)}function k80(Z){if(Z&&Z[jv])for(let J of Object.values(Z))k80(J);return Z}function $80(Z,J){const Q=new Proxy({},{deleteProperty:()=>!1,get:(K,X)=>v80(K,X,Z,J||Q),getOwnPropertyDescriptor:(K,X)=>(v80(K,X,Z,J||Q),Object.getOwnPropertyDescriptor(K,X)),has:(K,X)=>(X in Z),ownKeys:()=>[...Reflect.ownKeys(Z),jv]});return Q[jv]=!0,Q}function v80(Z,J,Q,K){if(J in Z){if(Z[J]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:Z[J]});if(Z[J]===f80)throw new Error('Cycle detected. Please make "'+String(J)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return Z[J]}else if(J in Q){const X=Q[J];Z[J]=f80;try{Z[J]=typeof X==="function"?X(K):$80(X,K)}catch(U){throw Z[J]=U instanceof Error?U:void 0,U}return Z[J]}else return}function BI(Z,J){if(J){for(let[Q,K]of Object.entries(J))if(K!==void 0){const X=Z[Q];if(X!==null&&K!==null&&typeof X==="object"&&typeof K==="object")Z[Q]=BI(X,K);else Z[Q]=K}}return Z}var wv,jv,f80;var Cv=_(()=>{(function(Z){Z.merge=(J,Q)=>BI(BI({},J),Q)})(wv||(wv={}));jv=Symbol("isProxy"),f80=Symbol()});var _80=()=>{};var b80=_(()=>{Av();Ov();Rv()});var x80=()=>{};var h80=_(()=>{IT();x80()});var y80=()=>{};var u80=_(()=>{Iv();Vf();VL();Tf();HF();qv();y80();ff();vf()});var m80=_(()=>{pf();cf();lf();sf();df();nf()});var g80=_(()=>{Nv();sL()});class Pv{readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}}var z4;var Vv=_(()=>{z4={fileSystemProvider:()=>new Pv}});function zT0(){const Z=O7(q4(z4),qT0),J=O7(Y4({shared:Z}),YT0);return Z.ServiceRegistry.register(J),J}function SY(Z){var J;const Q=zT0(),K=Q.serializer.JsonSerializer.deserialize(Z);return Q.shared.workspace.LangiumDocumentFactory.fromModel(K,B6.parse(`memory://${(J=K.name)!==null&&J!==void 0?J:"grammar"}.langium`)),K}var YT0,qT0;var p80=_(()=>{Ev();Cv();QK();Vv();qK();YT0={Grammar:()=>{return},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},qT0={AstReflection:()=>new fW}});var L8={};q8(L8,{stream:()=>_8,startCancelableOperation:()=>W80,setInterruptionPeriod:()=>F80,loadGrammarFromJson:()=>SY,isOperationCancelled:()=>gX,interruptAndCheck:()=>OJ,delayNextTick:()=>uf,assertUnreachable:()=>_X,WorkspaceCache:()=>BF,UriUtils:()=>u7,URI:()=>B6,TreeStreamImpl:()=>G5,StreamImpl:()=>MJ,SimpleCache:()=>cL,RegExpUtils:()=>xA,Reduction:()=>y1,OperationCancelled:()=>YK,MultiMap:()=>I5,GrammarUtils:()=>yA,ErrorWithLocation:()=>m1,EMPTY_STREAM:()=>CW,DocumentCache:()=>rf,DisposableCache:()=>MF,Disposable:()=>VY,Deferred:()=>M6,DONE_RESULT:()=>b7,CstUtils:()=>DA,ContextCache:()=>wz,Cancellation:()=>Y8,BiMap:()=>Nz,AstUtils:()=>kA});var c80=_(()=>{lL();Lv();K8(L8,mZ);Ez();Jv();NA();p80();VQ();z6();qK();x7();PQ();J4();X4();l1()});var l80=_(()=>{tf();RF()});var d80=_(()=>{ef();Zv();Qv();Dz();Vv();Kv();Dv();Xv()});var eJ={};q8(eJ,{toDiagnosticSeverity:()=>oL,stream:()=>_8,startCancelableOperation:()=>W80,setInterruptionPeriod:()=>F80,prepareLangiumParser:()=>n90,parseJSDoc:()=>Wv,loadGrammarFromJson:()=>SY,isTokenTypeDictionary:()=>Uv,isTokenTypeArray:()=>N80,isRootCstNode:()=>jW,isReference:()=>tJ,isOperationCancelled:()=>gX,isNamed:()=>L80,isLinkingError:()=>zY,isLeafCstNode:()=>$X,isJSDoc:()=>Fv,isIMultiModeLexerDefinition:()=>Yv,isCompositeCstNode:()=>l6,isAstNodeWithComment:()=>af,isAstNodeDescription:()=>dV,isAstNode:()=>kZ,interruptAndCheck:()=>OJ,inject:()=>O7,getDiagnosticRange:()=>D80,eagerLoad:()=>k80,diagnosticData:()=>nL,delayNextTick:()=>uf,createLangiumParser:()=>Sf,createGrammarConfig:()=>LT,createDefaultSharedCoreModule:()=>q4,createDefaultCoreModule:()=>Y4,createCompletionParser:()=>Pf,assertUnreachable:()=>_X,WorkspaceCache:()=>BF,ValueConverter:()=>UK,ValidationRegistry:()=>aL,ValidationCategory:()=>jz,UriUtils:()=>u7,URI:()=>B6,TreeStreamImpl:()=>G5,TextDocument:()=>Lz,StreamScope:()=>FF,StreamImpl:()=>MJ,SimpleCache:()=>cL,RootCstNodeImpl:()=>zF,RegExpUtils:()=>xA,Reduction:()=>y1,ParserWorker:()=>T80,OperationCancelled:()=>YK,MultiMap:()=>I5,Module:()=>wv,MapScope:()=>pL,LeafCstNodeImpl:()=>Bz,LangiumParserErrorMessageProvider:()=>GF,LangiumParser:()=>fL,LangiumCompletionParser:()=>vL,JSDocDocumentationProvider:()=>GI,GrammarUtils:()=>yA,GrammarAST:()=>vW,ErrorWithLocation:()=>m1,EmptyFileSystemProvider:()=>Pv,EmptyFileSystem:()=>z4,EMPTY_STREAM:()=>CW,EMPTY_SCOPE:()=>sS0,DocumentValidator:()=>D5,DocumentState:()=>ZZ,DocumentCache:()=>rf,DisposableCache:()=>MF,Disposable:()=>VY,Deferred:()=>M6,DefaultWorkspaceManager:()=>UI,DefaultWorkspaceLock:()=>FI,DefaultValueConverter:()=>Az,DefaultTokenBuilder:()=>Oz,DefaultServiceRegistry:()=>rL,DefaultScopeProvider:()=>dL,DefaultScopeComputation:()=>gL,DefaultReferences:()=>mL,DefaultReferenceDescriptionProvider:()=>ZI,DefaultNameProvider:()=>uL,DefaultLinker:()=>yL,DefaultLexer:()=>YI,DefaultLangiumDocuments:()=>hL,DefaultLangiumDocumentFactory:()=>xL,DefaultJsonSerializer:()=>iL,DefaultIndexManager:()=>XI,DefaultHydrator:()=>MI,DefaultDocumentValidator:()=>tL,DefaultDocumentBuilder:()=>KI,DefaultConfigurationProvider:()=>QI,DefaultCommentProvider:()=>HI,DefaultAsyncParser:()=>WI,DefaultAstNodeLocator:()=>JI,DefaultAstNodeDescriptionProvider:()=>eL,DatatypeSymbol:()=>SL,DONE_RESULT:()=>b7,CstUtils:()=>DA,CstNodeBuilder:()=>CL,ContextCache:()=>wz,CompositeCstNodeImpl:()=>Rz,Cancellation:()=>Y8,BiMap:()=>Nz,AstUtils:()=>kA,AbstractThreadedAsyncParser:()=>S80,AbstractParserErrorMessageProvider:()=>wf,AbstractLangiumParser:()=>TL,AbstractCstNode:()=>PL,AbstractAstReflection:()=>h1});var N5=_(()=>{Ev();Cv();of();_80();b80();h80();u80();m80();g80();c80();K8(eJ,L8);l80();d80();QK()});function o80(Z){return zK.isInstance(Z,Sv)}function t80(Z){return zK.isInstance(Z,Tv)}function e80(Z){return zK.isInstance(Z,FT0)}function ZZ0(Z){return zK.isInstance(Z,fv)}function QZ0(Z){return zK.isInstance(Z,JZ0)}function KZ0(Z){return zK.isInstance(Z,vv)}function UZ0(Z){return zK.isInstance(Z,XZ0)}function qZ0(Z){return zK.isInstance(Z,YZ0)}function GZ0(Z){return zK.isInstance(Z,zZ0)}function WZ0(Z){return zK.isInstance(Z,HZ0)}var GT0,V9=(Z,J)=>GT0(Z,"name",{value:J,configurable:!0}),a80="Statement",Sv="Branch",HT0="Checkout",WT0="CherryPicking",Tv="Commit",FT0="Common",fv="GitGraph",JZ0="Info",vv="Merge",XZ0="Packet",YZ0="PacketBlock",zZ0="Pie",HZ0="PieSection",MT0="Direction",FZ0,zK,i80,BT0,s80,RT0,r80,OT0,n80,AT0,LT0,IT0,DT0,NT0,E5,kv,$v,_v,bv,ET0,wT0,jT0,CT0,RI,TY,GK,PT0;var HK=_(()=>{N5();N5();N5();N5();GT0=Object.defineProperty;V9(o80,"isBranch");V9(t80,"isCommit");V9(e80,"isCommon");V9(ZZ0,"isGitGraph");V9(QZ0,"isInfo");V9(KZ0,"isMerge");V9(UZ0,"isPacket");V9(qZ0,"isPacketBlock");V9(GZ0,"isPie");V9(WZ0,"isPieSection");FZ0=class extends h1{static{V9(this,"MermaidAstReflection")}getAllTypes(){return["Branch","Checkout","CherryPicking","Commit","Common","Direction","GitGraph","Info","Merge","Packet","PacketBlock","Pie","PieSection","Statement"]}computeIsSubtype(Z,J){switch(Z){case Sv:case HT0:case WT0:case Tv:case vv:return this.isSubtype(a80,J);case MT0:return this.isSubtype(fv,J);default:return!1}}getReferenceType(Z){const J=`${Z.container.$type}:${Z.property}`;switch(J){default:throw new Error(`${J} is not a valid reference id.`)}}getTypeMetaData(Z){switch(Z){case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:Z,properties:[]}}}},zK=new FZ0,BT0=V9(()=>i80??(i80=SY('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),RT0=V9(()=>s80??(s80=SY(`{"\$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"\$type":"ParserRule","name":"Packet","entry":true,"definition":{"\$type":"Group","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"\$type":"Keyword","value":"packet-beta"},{"\$type":"Alternatives","elements":[{"\$type":"Group","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@4"},"arguments":[]},{"\$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"\$type":"Group","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"\$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"PacketBlock","definition":{"\$type":"Group","elements":[{"\$type":"Assignment","feature":"start","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[]}},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"-"},{"\$type":"Assignment","feature":"end","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"\$type":"Keyword","value":":"},{"\$type":"Assignment","feature":"label","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@3"},"arguments":[]}},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"TerminalRule","name":"INT","type":{"\$type":"ReturnType","name":"number"},"definition":{"\$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"STRING","definition":{"\$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"\$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"\$type":"Group","elements":[{"\$type":"Alternatives","elements":[{"\$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@7"},"arguments":[]}},{"\$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@8"},"arguments":[]}},{"\$type":"Assignment","feature":"title","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@9"},"arguments":[]}}]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"\$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"TerminalRule","name":"NEWLINE","definition":{"\$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"ACC_DESCR","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"ACC_TITLE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"TITLE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"\$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"\$type":"Interface","name":"Common","attributes":[{"\$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}},{"\$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}},{"\$type":"TypeAttribute","name":"title","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),OT0=V9(()=>r80??(r80=SY('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),AT0=V9(()=>n80??(n80=SY(`{"\$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"\$type":"Interface","name":"Common","attributes":[{"\$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}},{"\$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}},{"\$type":"TypeAttribute","name":"title","isOptional":true,"type":{"\$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"\$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"\$type":"Group","elements":[{"\$type":"Alternatives","elements":[{"\$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@3"},"arguments":[]}},{"\$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@4"},"arguments":[]}},{"\$type":"Assignment","feature":"title","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@5"},"arguments":[]}}]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"\$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"TerminalRule","name":"NEWLINE","definition":{"\$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"ACC_DESCR","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"ACC_TITLE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"TITLE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"\$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"\$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"\$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"\$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"\$type":"Group","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"\$type":"Alternatives","elements":[{"\$type":"Keyword","value":"gitGraph"},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"gitGraph"},{"\$type":"Keyword","value":":"}]},{"\$type":"Keyword","value":"gitGraph:"},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"gitGraph"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@12"},"arguments":[]},{"\$type":"Keyword","value":":"}]}]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"\$type":"Group","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@0"},"arguments":[]},{"\$type":"Assignment","feature":"statements","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@11"},"arguments":[]}},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Statement","definition":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@13"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@14"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@15"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@16"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Direction","definition":{"\$type":"Assignment","feature":"dir","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"Keyword","value":"LR"},{"\$type":"Keyword","value":"TB"},{"\$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Commit","definition":{"\$type":"Group","elements":[{"\$type":"Keyword","value":"commit"},{"\$type":"Alternatives","elements":[{"\$type":"Group","elements":[{"\$type":"Keyword","value":"id:"},{"\$type":"Assignment","feature":"id","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"msg:","cardinality":"?"},{"\$type":"Assignment","feature":"message","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"tag:"},{"\$type":"Assignment","feature":"tags","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"type:"},{"\$type":"Assignment","feature":"type","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"Keyword","value":"NORMAL"},{"\$type":"Keyword","value":"REVERSE"},{"\$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Branch","definition":{"\$type":"Group","elements":[{"\$type":"Keyword","value":"branch"},{"\$type":"Assignment","feature":"name","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@19"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}]}},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"order:"},{"\$type":"Assignment","feature":"order","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Merge","definition":{"\$type":"Group","elements":[{"\$type":"Keyword","value":"merge"},{"\$type":"Assignment","feature":"branch","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@19"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}]}},{"\$type":"Alternatives","elements":[{"\$type":"Group","elements":[{"\$type":"Keyword","value":"id:"},{"\$type":"Assignment","feature":"id","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"tag:"},{"\$type":"Assignment","feature":"tags","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"type:"},{"\$type":"Assignment","feature":"type","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"Keyword","value":"NORMAL"},{"\$type":"Keyword","value":"REVERSE"},{"\$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"Checkout","definition":{"\$type":"Group","elements":[{"\$type":"Alternatives","elements":[{"\$type":"Keyword","value":"checkout"},{"\$type":"Keyword","value":"switch"}]},{"\$type":"Assignment","feature":"branch","operator":"=","terminal":{"\$type":"Alternatives","elements":[{"\$type":"RuleCall","rule":{"\$ref":"#/rules@19"},"arguments":[]},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}]}},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"ParserRule","name":"CherryPicking","definition":{"\$type":"Group","elements":[{"\$type":"Keyword","value":"cherry-pick"},{"\$type":"Alternatives","elements":[{"\$type":"Group","elements":[{"\$type":"Keyword","value":"id:"},{"\$type":"Assignment","feature":"id","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"tag:"},{"\$type":"Assignment","feature":"tags","operator":"+=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]},{"\$type":"Group","elements":[{"\$type":"Keyword","value":"parent:"},{"\$type":"Assignment","feature":"parent","operator":"=","terminal":{"\$type":"RuleCall","rule":{"\$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"\$type":"RuleCall","rule":{"\$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"\$type":"TerminalRule","name":"INT","type":{"\$type":"ReturnType","name":"number"},"definition":{"\$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"ID","type":{"\$type":"ReturnType","name":"string"},"definition":{"\$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"\$type":"TerminalRule","name":"STRING","definition":{"\$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),LT0={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},IT0={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},DT0={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},NT0={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},E5={AstReflection:V9(()=>new FZ0,"AstReflection")},kv={Grammar:V9(()=>BT0(),"Grammar"),LanguageMetaData:V9(()=>LT0,"LanguageMetaData"),parser:{}},$v={Grammar:V9(()=>RT0(),"Grammar"),LanguageMetaData:V9(()=>IT0,"LanguageMetaData"),parser:{}},_v={Grammar:V9(()=>OT0(),"Grammar"),LanguageMetaData:V9(()=>DT0,"LanguageMetaData"),parser:{}},bv={Grammar:V9(()=>AT0(),"Grammar"),LanguageMetaData:V9(()=>NT0,"LanguageMetaData"),parser:{}},ET0=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,wT0=/accTitle[\t ]*:([^\n\r]*)/,jT0=/title([\t ][^\n\r]*|)/,CT0={ACC_DESCR:ET0,ACC_TITLE:wT0,TITLE:jT0},RI=class extends Az{static{V9(this,"AbstractMermaidValueConverter")}runConverter(Z,J,Q){let K=this.runCommonConverter(Z,J,Q);if(K===void 0)K=this.runCustomConverter(Z,J,Q);if(K===void 0)return super.runConverter(Z,J,Q);return K}runCommonConverter(Z,J,Q){const K=CT0[Z.name];if(K===void 0)return;const X=K.exec(J);if(X===null)return;if(X[1]!==void 0)return X[1].trim().replace(/[\t ]{2,}/gm," ");if(X[2]!==void 0)return X[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n");return}},TY=class extends RI{static{V9(this,"CommonValueConverter")}runCustomConverter(Z,J,Q){return}},GK=class extends Oz{static{V9(this,"AbstractMermaidTokenBuilder")}constructor(Z){super();this.keywords=new Set(Z)}buildKeywordTokens(Z,J,Q){const K=super.buildKeywordTokens(Z,J,Q);return K.forEach((X)=>{if(this.keywords.has(X.name)&&X.PATTERN!==void 0)X.PATTERN=new RegExp(X.PATTERN.toString()+"(?:(?=%%)|(?!\\S))")}),K}},PT0=class extends GK{static{V9(this,"CommonTokenBuilder")}}});function AI(Z=z4){const J=O7(q4(Z),E5),Q=O7(Y4({shared:J}),bv,OI);return J.ServiceRegistry.register(Q),{shared:J,GitGraph:Q}}var VT0,OI;var xv=_(()=>{HK();N5();VT0=class extends GK{static{V9(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},OI={parser:{TokenBuilder:V9(()=>new VT0,"TokenBuilder"),ValueConverter:V9(()=>new TY,"ValueConverter")}};V9(AI,"createGitGraphServices")});function II(Z=z4){const J=O7(q4(Z),E5),Q=O7(Y4({shared:J}),kv,LI);return J.ServiceRegistry.register(Q),{shared:J,Info:Q}}var ST0,LI;var hv=_(()=>{HK();N5();ST0=class extends GK{static{V9(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},LI={parser:{TokenBuilder:V9(()=>new ST0,"TokenBuilder"),ValueConverter:V9(()=>new TY,"ValueConverter")}};V9(II,"createInfoServices")});function NI(Z=z4){const J=O7(q4(Z),E5),Q=O7(Y4({shared:J}),$v,DI);return J.ServiceRegistry.register(Q),{shared:J,Packet:Q}}var TT0,DI;var yv=_(()=>{HK();N5();TT0=class extends GK{static{V9(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},DI={parser:{TokenBuilder:V9(()=>new TT0,"TokenBuilder"),ValueConverter:V9(()=>new TY,"ValueConverter")}};V9(NI,"createPacketServices")});function wI(Z=z4){const J=O7(q4(Z),E5),Q=O7(Y4({shared:J}),_v,EI);return J.ServiceRegistry.register(Q),{shared:J,Pie:Q}}var fT0,vT0,EI;var uv=_(()=>{HK();N5();fT0=class extends GK{static{V9(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},vT0=class extends RI{static{V9(this,"PieValueConverter")}runCustomConverter(Z,J,Q){if(Z.name!=="PIE_SECTION_LABEL")return;return J.replace(/"/g,"").trim()}},EI={parser:{TokenBuilder:V9(()=>new fT0,"TokenBuilder"),ValueConverter:V9(()=>new vT0,"ValueConverter")}};V9(wI,"createPieServices")});var MZ0={};q8(MZ0,{createInfoServices:()=>II,InfoModule:()=>LI});var BZ0=_(()=>{hv();HK()});var RZ0={};q8(RZ0,{createPacketServices:()=>NI,PacketModule:()=>DI});var OZ0=_(()=>{yv();HK()});var AZ0={};q8(AZ0,{createPieServices:()=>wI,PieModule:()=>EI});var LZ0=_(()=>{uv();HK()});var IZ0={};q8(IZ0,{createGitGraphServices:()=>AI,GitGraphModule:()=>OI});var DZ0=_(()=>{xv();HK()});async function w5(Z,J){const Q=kT0[Z];if(!Q)throw new Error(`Unknown diagram type: ${Z}`);if(!Cz[Z])await Q();const X=Cz[Z].parse(J);if(X.lexerErrors.length>0||X.parserErrors.length>0)throw new $T0(X);return X.value}var Cz,kT0,$T0;var OF=_(()=>{xv();hv();yv();uv();HK();Cz={},kT0={info:V9(async()=>{const{createInfoServices:Z}=await Promise.resolve().then(() => (BZ0(),MZ0)),J=Z().Info.parser.LangiumParser;Cz.info=J},"info"),packet:V9(async()=>{const{createPacketServices:Z}=await Promise.resolve().then(() => (OZ0(),RZ0)),J=Z().Packet.parser.LangiumParser;Cz.packet=J},"packet"),pie:V9(async()=>{const{createPieServices:Z}=await Promise.resolve().then(() => (LZ0(),AZ0)),J=Z().Pie.parser.LangiumParser;Cz.pie=J},"pie"),gitGraph:V9(async()=>{const{createGitGraphServices:Z}=await Promise.resolve().then(() => (DZ0(),IZ0)),J=Z().GitGraph.parser.LangiumParser;Cz.gitGraph=J},"gitGraph")};V9(w5,"parse");$T0=class extends Error{constructor(Z){const J=Z.lexerErrors.map((K)=>K.message).join("\n"),Q=Z.parserErrors.map((K)=>K.message).join("\n");super(`Parsing failed: ${J} ${Q}`);this.result=Z}static{V9(this,"MermaidParseError")}}});var SZ0={};q8(SZ0,{diagram:()=>Vf0});function PI(){return vC({length:7})}function EZ0(Z,J){const Q=Object.create(null);return Z.reduce((K,X)=>{const U=J(X);if(!Q[U])Q[U]=!0,K.push(X);return K},[])}function mv(Z,J,Q){const K=Z.indexOf(J);if(K===-1)Z.push(Q);else Z.splice(K,1,Q)}function gv(Z){const J=Z.reduce((X,U)=>{if(X.seq>U.seq)return X;return U},Z[0]);let Q="";Z.forEach(function(X){if(X===J)Q+="	*";else Q+="	|"});const K=[Q,J.id,J.seq];for(let X in X9.records.branches)if(X9.records.branches.get(X)===J.id)K.push(X);if(p.debug(K.join(" ")),J.parents&&J.parents.length==2&&J.parents[0]&&J.parents[1]){const X=X9.records.commits.get(J.parents[0]);if(mv(Z,J,X),J.parents[1])Z.push(X9.records.commits.get(J.parents[1]))}else if(J.parents.length==0)return;else if(J.parents[0]){const X=X9.records.commits.get(J.parents[0]);mv(Z,J,X)}Z=EZ0(Z,(X)=>X.id),gv(Z)}var l8,_T0,vY,X9,bT0,xT0,hT0,yT0,uT0,mT0,gT0,wZ0,pT0,cT0,lT0,dT0,iT0,jZ0,sT0,rT0,nT0,CZ0,aT0,oT0,tT0,eT0,Zf0,Jf0,Qf0,Kf0,Xf0,SQ,cX=10,lX=40,WK=4,j5=2,fY=8,R6,O6,jI=30,AF,CI,pX=0,H8="LR",Uf0,PZ0,VZ0,Yf0,qf0,zf0,Gf0,Hf0,Wf0,Ff0,Mf0,Bf0,Rf0,Of0,Af0,NZ0,Lf0,LF,If0,Df0,Nf0,Ef0,wf0,jf0,Cf0,Pf0,Vf0;var TZ0=_(()=>{OA();lV();FZ();X8();OF();i9();l8={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},_T0=B8.gitGraph,vY=R(()=>{return J6({..._T0,...a8().gitGraph})},"getConfig"),X9=new AA(()=>{const Z=vY(),J=Z.mainBranchName,Q=Z.mainBranchOrder;return{mainBranchName:J,commits:new Map,head:null,branchConfig:new Map([[J,{name:J,order:Q}]]),branches:new Map([[J,null]]),currBranch:J,direction:"LR",seq:0,options:{}}});R(PI,"getID");R(EZ0,"uniqBy");bT0=R(function(Z){X9.records.direction=Z},"setDirection"),xT0=R(function(Z){p.debug("options str",Z),Z=Z?.trim(),Z=Z||"{}";try{X9.records.options=JSON.parse(Z)}catch(J){p.error("error while parsing gitGraph options",J.message)}},"setOptions"),hT0=R(function(){return X9.records.options},"getOptions"),yT0=R(function(Z){let{msg:J,id:Q}=Z;const K=Z.type;let X=Z.tags;p.info("commit",J,Q,K,X),p.debug("Entering commit:",J,Q,K,X);const U=vY();Q=g0.sanitizeText(Q,U),J=g0.sanitizeText(J,U),X=X?.map((q)=>g0.sanitizeText(q,U));const Y={id:Q?Q:X9.records.seq+"-"+PI(),message:J,seq:X9.records.seq++,type:K??l8.NORMAL,tags:X??[],parents:X9.records.head==null?[]:[X9.records.head.id],branch:X9.records.currBranch};X9.records.head=Y,p.info("main branch",U.mainBranchName),X9.records.commits.set(Y.id,Y),X9.records.branches.set(X9.records.currBranch,Y.id),p.debug("in pushCommit "+Y.id)},"commit"),uT0=R(function(Z){let J=Z.name;const Q=Z.order;if(J=g0.sanitizeText(J,vY()),X9.records.branches.has(J))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${J}")`);X9.records.branches.set(J,X9.records.head!=null?X9.records.head.id:null),X9.records.branchConfig.set(J,{name:J,order:Q}),wZ0(J),p.debug("in createBranch")},"branch"),mT0=R((Z)=>{let{branch:J,id:Q}=Z;const{type:K,tags:X}=Z,U=vY();if(J=g0.sanitizeText(J,U),Q)Q=g0.sanitizeText(Q,U);const Y=X9.records.branches.get(X9.records.currBranch),q=X9.records.branches.get(J),z=Y?X9.records.commits.get(Y):void 0,G=q?X9.records.commits.get(q):void 0;if(z&&G&&z.branch===J)throw new Error(`Cannot merge branch '${J}' into itself.`);if(X9.records.currBranch===J){const F=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(z===void 0||!z){const F=new Error(`Incorrect usage of "merge". Current branch (${X9.records.currBranch})has no commits`);throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["commit"]},F}if(!X9.records.branches.has(J)){const F=new Error('Incorrect usage of "merge". Branch to be merged ('+J+") does not exist");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:[`branch ${J}`]},F}if(G===void 0||!G){const F=new Error('Incorrect usage of "merge". Branch to be merged ('+J+") has no commits");throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:['"commit"']},F}if(z===G){const F=new Error('Incorrect usage of "merge". Both branches have same head');throw F.hash={text:`merge ${J}`,token:`merge ${J}`,expected:["branch abc"]},F}if(Q&&X9.records.commits.has(Q)){const F=new Error('Incorrect usage of "merge". Commit with id:'+Q+" already exists, use different custom Id");throw F.hash={text:`merge ${J} ${Q} ${K} ${X?.join(" ")}`,token:`merge ${J} ${Q} ${K} ${X?.join(" ")}`,expected:[`merge ${J} ${Q}_UNIQUE ${K} ${X?.join(" ")}`]},F}const H=q?q:"",W={id:Q||`${X9.records.seq}-${PI()}`,message:`merged branch ${J} into ${X9.records.currBranch}`,seq:X9.records.seq++,parents:X9.records.head==null?[]:[X9.records.head.id,H],branch:X9.records.currBranch,type:l8.MERGE,customType:K,customId:Q?!0:!1,tags:X??[]};X9.records.head=W,X9.records.commits.set(W.id,W),X9.records.branches.set(X9.records.currBranch,W.id),p.debug(X9.records.branches),p.debug("in mergeBranch")},"merge"),gT0=R(function(Z){let{id:J,targetId:Q,tags:K,parent:X}=Z;p.debug("Entering cherryPick:",J,Q,K);const U=vY();if(J=g0.sanitizeText(J,U),Q=g0.sanitizeText(Q,U),K=K?.map((z)=>g0.sanitizeText(z,U)),X=g0.sanitizeText(X,U),!J||!X9.records.commits.has(J)){const z=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw z.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},z}const Y=X9.records.commits.get(J);if(Y===void 0||!Y)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(X&&!(Array.isArray(Y.parents)&&Y.parents.includes(X)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const q=Y.branch;if(Y.type===l8.MERGE&&!X)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!Q||!X9.records.commits.has(Q)){if(q===X9.records.currBranch){const W=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw W.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},W}const z=X9.records.branches.get(X9.records.currBranch);if(z===void 0||!z){const W=new Error(`Incorrect usage of "cherry-pick". Current branch (${X9.records.currBranch})has no commits`);throw W.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},W}const G=X9.records.commits.get(z);if(G===void 0||!G){const W=new Error(`Incorrect usage of "cherry-pick". Current branch (${X9.records.currBranch})has no commits`);throw W.hash={text:`cherryPick ${J} ${Q}`,token:`cherryPick ${J} ${Q}`,expected:["cherry-pick abc"]},W}const H={id:X9.records.seq+"-"+PI(),message:`cherry-picked ${Y?.message} into ${X9.records.currBranch}`,seq:X9.records.seq++,parents:X9.records.head==null?[]:[X9.records.head.id,Y.id],branch:X9.records.currBranch,type:l8.CHERRY_PICK,tags:K?K.filter(Boolean):[`cherry-pick:${Y.id}${Y.type===l8.MERGE?`|parent:${X}`:""}`]};X9.records.head=H,X9.records.commits.set(H.id,H),X9.records.branches.set(X9.records.currBranch,H.id),p.debug(X9.records.branches),p.debug("in cherryPick")}},"cherryPick"),wZ0=R(function(Z){if(Z=g0.sanitizeText(Z,vY()),!X9.records.branches.has(Z)){const J=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${Z}")`);throw J.hash={text:`checkout ${Z}`,token:`checkout ${Z}`,expected:[`branch ${Z}`]},J}else{X9.records.currBranch=Z;const J=X9.records.branches.get(X9.records.currBranch);if(J===void 0||!J)X9.records.head=null;else X9.records.head=X9.records.commits.get(J)??null}},"checkout");R(mv,"upsert");R(gv,"prettyPrintCommitHistory");pT0=R(function(){p.debug(X9.records.commits);const Z=jZ0()[0];gv([Z])},"prettyPrint"),cT0=R(function(){X9.reset(),O8()},"clear"),lT0=R(function(){return[...X9.records.branchConfig.values()].map((J,Q)=>{if(J.order!==null&&J.order!==void 0)return J;return{...J,order:parseFloat(`0.${Q}`)}}).sort((J,Q)=>(J.order??0)-(Q.order??0)).map(({name:J})=>({name:J}))},"getBranchesAsObjArray"),dT0=R(function(){return X9.records.branches},"getBranches"),iT0=R(function(){return X9.records.commits},"getCommits"),jZ0=R(function(){const Z=[...X9.records.commits.values()];return Z.forEach(function(J){p.debug(J.id)}),Z.sort((J,Q)=>J.seq-Q.seq),Z},"getCommitsArray"),sT0=R(function(){return X9.records.currBranch},"getCurrentBranch"),rT0=R(function(){return X9.records.direction},"getDirection"),nT0=R(function(){return X9.records.head},"getHead"),CZ0={commitType:l8,getConfig:vY,setDirection:bT0,setOptions:xT0,getOptions:hT0,commit:yT0,branch:uT0,merge:mT0,cherryPick:gT0,checkout:wZ0,prettyPrint:pT0,clear:cT0,getBranchesAsObjArray:lT0,getBranches:dT0,getCommits:iT0,getCommitsArray:jZ0,getCurrentBranch:sT0,getDirection:rT0,getHead:nT0,setAccTitle:E8,getAccTitle:f8,getAccDescription:k8,setAccDescription:v8,setDiagramTitle:o8,getDiagramTitle:m8},aT0=R((Z,J)=>{if(qY(Z,J),Z.dir)J.setDirection(Z.dir);for(let Q of Z.statements)oT0(Q,J)},"populate"),oT0=R((Z,J)=>{const K={Commit:R((X)=>J.commit(tT0(X)),"Commit"),Branch:R((X)=>J.branch(eT0(X)),"Branch"),Merge:R((X)=>J.merge(Zf0(X)),"Merge"),Checkout:R((X)=>J.checkout(Jf0(X)),"Checkout"),CherryPicking:R((X)=>J.cherryPick(Qf0(X)),"CherryPicking")}[Z.$type];if(K)K(Z);else p.error(`Unknown statement type: ${Z.$type}`)},"parseStatement"),tT0=R((Z)=>{return{id:Z.id,msg:Z.message??"",type:Z.type!==void 0?l8[Z.type]:l8.NORMAL,tags:Z.tags??void 0}},"parseCommit"),eT0=R((Z)=>{return{name:Z.name,order:Z.order??0}},"parseBranch"),Zf0=R((Z)=>{return{branch:Z.branch,id:Z.id??"",type:Z.type!==void 0?l8[Z.type]:void 0,tags:Z.tags??void 0}},"parseMerge"),Jf0=R((Z)=>{return Z.branch},"parseCheckout"),Qf0=R((Z)=>{return{id:Z.id,targetId:"",tags:Z.tags?.length===0?void 0:Z.tags,parent:Z.parent}},"parseCherryPicking"),Kf0={parse:R(async(Z)=>{const J=await w5("gitGraph",Z);p.debug(J),aT0(J,CZ0)},"parse")},Xf0=W0(),SQ=Xf0?.gitGraph,R6=new Map,O6=new Map,AF=new Map,CI=[],Uf0=R(()=>{R6.clear(),O6.clear(),AF.clear(),pX=0,CI=[],H8="LR"},"clear"),PZ0=R((Z)=>{const J=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof Z==="string"?Z.split(/\\n|\n|<br\s*\/?>/gi):Z).forEach((K)=>{const X=document.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),X.setAttribute("dy","1em"),X.setAttribute("x","0"),X.setAttribute("class","row"),X.textContent=K.trim(),J.appendChild(X)}),J},"drawText"),VZ0=R((Z)=>{let J,Q,K;if(H8==="BT")Q=R((X,U)=>X<=U,"comparisonFunc"),K=1/0;else Q=R((X,U)=>X>=U,"comparisonFunc"),K=0;return Z.forEach((X)=>{const U=H8==="TB"||H8=="BT"?O6.get(X)?.y:O6.get(X)?.x;if(U!==void 0&&Q(U,K))J=X,K=U}),J},"findClosestParent"),Yf0=R((Z)=>{let J="",Q=1/0;return Z.forEach((K)=>{const X=O6.get(K).y;if(X<=Q)J=K,Q=X}),J||void 0},"findClosestParentBT"),qf0=R((Z,J,Q)=>{let K=Q,X=Q;const U=[];Z.forEach((Y)=>{const q=J.get(Y);if(!q)throw new Error(`Commit not found for key ${Y}`);if(q.parents.length)K=Gf0(q),X=Math.max(K,X);else U.push(q);Hf0(q,K)}),K=X,U.forEach((Y)=>{Wf0(Y,K,Q)}),Z.forEach((Y)=>{const q=J.get(Y);if(q?.parents.length){const z=Yf0(q.parents);if(K=O6.get(z).y-lX,K<=X)X=K;const G=R6.get(q.branch).pos,H=K-cX;O6.set(q.id,{x:G,y:H})}})},"setParallelBTPos"),zf0=R((Z)=>{const J=VZ0(Z.parents.filter((K)=>K!==null));if(!J)throw new Error(`Closest parent not found for commit ${Z.id}`);const Q=O6.get(J)?.y;if(Q===void 0)throw new Error(`Closest parent position not found for commit ${Z.id}`);return Q},"findClosestParentPos"),Gf0=R((Z)=>{return zf0(Z)+lX},"calculateCommitPosition"),Hf0=R((Z,J)=>{const Q=R6.get(Z.branch);if(!Q)throw new Error(`Branch not found for commit ${Z.id}`);const K=Q.pos,X=J+cX;return O6.set(Z.id,{x:K,y:X}),{x:K,y:X}},"setCommitPosition"),Wf0=R((Z,J,Q)=>{const K=R6.get(Z.branch);if(!K)throw new Error(`Branch not found for commit ${Z.id}`);const X=J+Q,U=K.pos;O6.set(Z.id,{x:U,y:X})},"setRootPosition"),Ff0=R((Z,J,Q,K,X,U)=>{if(U===l8.HIGHLIGHT)Z.append("rect").attr("x",Q.x-10).attr("y",Q.y-10).attr("width",20).attr("height",20).attr("class",`commit ${J.id} commit-highlight${X%fY} ${K}-outer`),Z.append("rect").attr("x",Q.x-6).attr("y",Q.y-6).attr("width",12).attr("height",12).attr("class",`commit ${J.id} commit${X%fY} ${K}-inner`);else if(U===l8.CHERRY_PICK)Z.append("circle").attr("cx",Q.x).attr("cy",Q.y).attr("r",10).attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x-3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("circle").attr("cx",Q.x+3).attr("cy",Q.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x+3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`),Z.append("line").attr("x1",Q.x-3).attr("y1",Q.y+1).attr("x2",Q.x).attr("y2",Q.y-5).attr("stroke","#fff").attr("class",`commit ${J.id} ${K}`);else{const Y=Z.append("circle");if(Y.attr("cx",Q.x),Y.attr("cy",Q.y),Y.attr("r",J.type===l8.MERGE?9:10),Y.attr("class",`commit ${J.id} commit${X%fY}`),U===l8.MERGE){const q=Z.append("circle");q.attr("cx",Q.x),q.attr("cy",Q.y),q.attr("r",6),q.attr("class",`commit ${K} ${J.id} commit${X%fY}`)}if(U===l8.REVERSE)Z.append("path").attr("d",`M ${Q.x-5},${Q.y-5}L${Q.x+5},${Q.y+5}M${Q.x-5},${Q.y+5}L${Q.x+5},${Q.y-5}`).attr("class",`commit ${K} ${J.id} commit${X%fY}`)}},"drawCommitBullet"),Mf0=R((Z,J,Q,K)=>{if(J.type!==l8.CHERRY_PICK&&(J.customId&&J.type===l8.MERGE||J.type!==l8.MERGE)&&SQ?.showCommitLabel){const X=Z.append("g"),U=X.insert("rect").attr("class","commit-label-bkg"),Y=X.append("text").attr("x",K).attr("y",Q.y+25).attr("class","commit-label").text(J.id),q=Y.node()?.getBBox();if(q){if(U.attr("x",Q.posWithOffset-q.width/2-j5).attr("y",Q.y+13.5).attr("width",q.width+2*j5).attr("height",q.height+2*j5),H8==="TB"||H8==="BT")U.attr("x",Q.x-(q.width+4*WK+5)).attr("y",Q.y-12),Y.attr("x",Q.x-(q.width+4*WK)).attr("y",Q.y+q.height-12);else Y.attr("x",Q.posWithOffset-q.width/2);if(SQ.rotateCommitLabel)if(H8==="TB"||H8==="BT")Y.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")"),U.attr("transform","rotate(-45, "+Q.x+", "+Q.y+")");else{const z=-7.5-(q.width+10)/25*9.5,G=10+q.width/25*8.5;X.attr("transform","translate("+z+", "+G+") rotate(-45, "+K+", "+Q.y+")")}}}},"drawCommitLabel"),Bf0=R((Z,J,Q,K)=>{if(J.tags.length>0){let X=0,U=0,Y=0;const q=[];for(let z of J.tags.reverse()){const G=Z.insert("polygon"),H=Z.append("circle"),W=Z.append("text").attr("y",Q.y-16-X).attr("class","tag-label").text(z),F=W.node()?.getBBox();if(!F)throw new Error("Tag bbox not found");U=Math.max(U,F.width),Y=Math.max(Y,F.height),W.attr("x",Q.posWithOffset-F.width/2),q.push({tag:W,hole:H,rect:G,yOffset:X}),X+=20}for(let{tag:z,hole:G,rect:H,yOffset:W}of q){const F=Y/2,M=Q.y-19.2-W;if(H.attr("class","tag-label-bkg").attr("points",`
      ${K-U/2-WK/2},${M+j5}  
      ${K-U/2-WK/2},${M-j5}
      ${Q.posWithOffset-U/2-WK},${M-F-j5}
      ${Q.posWithOffset+U/2+WK},${M-F-j5}
      ${Q.posWithOffset+U/2+WK},${M+F+j5}
      ${Q.posWithOffset-U/2-WK},${M+F+j5}`),G.attr("cy",M).attr("cx",K-U/2+WK/2).attr("r",1.5).attr("class","tag-hole"),H8==="TB"||H8==="BT"){const B=K+W;H.attr("class","tag-label-bkg").attr("points",`
        ${Q.x},${B+2}
        ${Q.x},${B-2}
        ${Q.x+cX},${B-F-2}
        ${Q.x+cX+U+4},${B-F-2}
        ${Q.x+cX+U+4},${B+F+2}
        ${Q.x+cX},${B+F+2}`).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),G.attr("cx",Q.x+WK/2).attr("cy",B).attr("transform","translate(12,12) rotate(45, "+Q.x+","+K+")"),z.attr("x",Q.x+5).attr("y",B+3).attr("transform","translate(14,14) rotate(45, "+Q.x+","+K+")")}}}},"drawCommitTags"),Rf0=R((Z)=>{switch(Z.customType??Z.type){case l8.NORMAL:return"commit-normal";case l8.REVERSE:return"commit-reverse";case l8.HIGHLIGHT:return"commit-highlight";case l8.MERGE:return"commit-merge";case l8.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Of0=R((Z,J,Q,K)=>{const X={x:0,y:0};if(Z.parents.length>0){const U=VZ0(Z.parents);if(U){const Y=K.get(U)??X;if(J==="TB")return Y.y+lX;else if(J==="BT")return(K.get(Z.id)??X).y-lX;else return Y.x+lX}}else if(J==="TB")return jI;else if(J==="BT")return(K.get(Z.id)??X).y-lX;else return 0;return 0},"calculatePosition"),Af0=R((Z,J,Q)=>{const K=H8==="BT"&&Q?J:J+cX,X=H8==="TB"||H8==="BT"?K:R6.get(Z.branch)?.pos,U=H8==="TB"||H8==="BT"?R6.get(Z.branch)?.pos:K;if(U===void 0||X===void 0)throw new Error(`Position were undefined for commit ${Z.id}`);return{x:U,y:X,posWithOffset:K}},"getCommitPosition"),NZ0=R((Z,J,Q)=>{if(!SQ)throw new Error("GitGraph config not found");const K=Z.append("g").attr("class","commit-bullets"),X=Z.append("g").attr("class","commit-labels");let U=H8==="TB"||H8==="BT"?jI:0;const Y=[...J.keys()],q=SQ?.parallelCommits??!1,z=R((H,W)=>{const F=J.get(H)?.seq,M=J.get(W)?.seq;return F!==void 0&&M!==void 0?F-M:0},"sortKeys");let G=Y.sort(z);if(H8==="BT"){if(q)qf0(G,J,U);G=G.reverse()}G.forEach((H)=>{const W=J.get(H);if(!W)throw new Error(`Commit not found for key ${H}`);if(q)U=Of0(W,H8,U,O6);const F=Af0(W,U,q);if(Q){const M=Rf0(W),B=W.customType??W.type,O=R6.get(W.branch)?.index??0;Ff0(K,W,F,M,O,B),Mf0(X,W,F,U),Bf0(X,W,F,U)}if(H8==="TB"||H8==="BT")O6.set(W.id,{x:F.x,y:F.posWithOffset});else O6.set(W.id,{x:F.posWithOffset,y:F.y});if(U=H8==="BT"&&q?U+lX:U+lX+cX,U>pX)pX=U})},"drawCommits"),Lf0=R((Z,J,Q,K,X)=>{const Y=(H8==="TB"||H8==="BT"?Q.x<K.x:Q.y<K.y)?J.branch:Z.branch,q=R((G)=>G.branch===Y,"isOnBranchToGetCurve"),z=R((G)=>G.seq>Z.seq&&G.seq<J.seq,"isBetweenCommits");return[...X.values()].some((G)=>{return z(G)&&q(G)})},"shouldRerouteArrow"),LF=R((Z,J,Q=0)=>{const K=Z+Math.abs(Z-J)/2;if(Q>5)return K;if(CI.every((Y)=>Math.abs(Y-K)>=10))return CI.push(K),K;const U=Math.abs(Z-J);return LF(Z,J-U/5,Q+1)},"findLane"),If0=R((Z,J,Q,K)=>{const X=O6.get(J.id),U=O6.get(Q.id);if(X===void 0||U===void 0)throw new Error(`Commit positions not found for commits ${J.id} and ${Q.id}`);const Y=Lf0(J,Q,X,U,K);let q="",z="",G=0,H=0,W=R6.get(Q.branch)?.index;if(Q.type===l8.MERGE&&J.id!==Q.parents[0])W=R6.get(J.branch)?.index;let F;if(Y){q="A 10 10, 0, 0, 0,",z="A 10 10, 0, 0, 1,",G=10,H=10;const M=X.y<U.y?LF(X.y,U.y):LF(U.y,X.y),B=X.x<U.x?LF(X.x,U.x):LF(U.x,X.x);if(H8==="TB")if(X.x<U.x)F=`M ${X.x} ${X.y} L ${B-G} ${X.y} ${z} ${B} ${X.y+H} L ${B} ${U.y-G} ${q} ${B+H} ${U.y} L ${U.x} ${U.y}`;else W=R6.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${B+G} ${X.y} ${q} ${B} ${X.y+H} L ${B} ${U.y-G} ${z} ${B-H} ${U.y} L ${U.x} ${U.y}`;else if(H8==="BT")if(X.x<U.x)F=`M ${X.x} ${X.y} L ${B-G} ${X.y} ${q} ${B} ${X.y-H} L ${B} ${U.y+G} ${z} ${B+H} ${U.y} L ${U.x} ${U.y}`;else W=R6.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${B+G} ${X.y} ${z} ${B} ${X.y-H} L ${B} ${U.y+G} ${q} ${B-H} ${U.y} L ${U.x} ${U.y}`;else if(X.y<U.y)F=`M ${X.x} ${X.y} L ${X.x} ${M-G} ${q} ${X.x+H} ${M} L ${U.x-G} ${M} ${z} ${U.x} ${M+H} L ${U.x} ${U.y}`;else W=R6.get(J.branch)?.index,F=`M ${X.x} ${X.y} L ${X.x} ${M+G} ${z} ${X.x+H} ${M} L ${U.x-G} ${M} ${q} ${U.x} ${M-H} L ${U.x} ${U.y}`}else if(q="A 20 20, 0, 0, 0,",z="A 20 20, 0, 0, 1,",G=20,H=20,H8==="TB"){if(X.x<U.x)if(Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${q} ${X.x+H} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${z} ${U.x} ${X.y+H} L ${U.x} ${U.y}`;if(X.x>U.x)if(q="A 20 20, 0, 0, 0,",z="A 20 20, 0, 0, 1,",G=20,H=20,Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${z} ${X.x-H} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x+G} ${X.y} ${q} ${U.x} ${X.y+H} L ${U.x} ${U.y}`;if(X.x===U.x)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}else if(H8==="BT"){if(X.x<U.x)if(Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${z} ${X.x+H} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-H} L ${U.x} ${U.y}`;if(X.x>U.x)if(q="A 20 20, 0, 0, 0,",z="A 20 20, 0, 0, 1,",G=20,H=20,Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${q} ${X.x-H} ${U.y} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-H} L ${U.x} ${U.y}`;if(X.x===U.x)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}else{if(X.y<U.y)if(Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${z} ${U.x} ${X.y+H} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${X.x} ${U.y-G} ${q} ${X.x+H} ${U.y} L ${U.x} ${U.y}`;if(X.y>U.y)if(Q.type===l8.MERGE&&J.id!==Q.parents[0])F=`M ${X.x} ${X.y} L ${U.x-G} ${X.y} ${q} ${U.x} ${X.y-H} L ${U.x} ${U.y}`;else F=`M ${X.x} ${X.y} L ${X.x} ${U.y+G} ${z} ${X.x+H} ${U.y} L ${U.x} ${U.y}`;if(X.y===U.y)F=`M ${X.x} ${X.y} L ${U.x} ${U.y}`}if(F===void 0)throw new Error("Line definition not found");Z.append("path").attr("d",F).attr("class","arrow arrow"+W%fY)},"drawArrow"),Df0=R((Z,J)=>{const Q=Z.append("g").attr("class","commit-arrows");[...J.keys()].forEach((K)=>{const X=J.get(K);if(X.parents&&X.parents.length>0)X.parents.forEach((U)=>{If0(Q,J.get(U),X,J)})})},"drawArrows"),Nf0=R((Z,J)=>{const Q=Z.append("g");J.forEach((K,X)=>{const U=X%fY,Y=R6.get(K.name)?.pos;if(Y===void 0)throw new Error(`Position not found for branch ${K.name}`);const q=Q.append("line");if(q.attr("x1",0),q.attr("y1",Y),q.attr("x2",pX),q.attr("y2",Y),q.attr("class","branch branch"+U),H8==="TB")q.attr("y1",jI),q.attr("x1",Y),q.attr("y2",pX),q.attr("x2",Y);else if(H8==="BT")q.attr("y1",pX),q.attr("x1",Y),q.attr("y2",jI),q.attr("x2",Y);CI.push(Y);const z=K.name,G=PZ0(z),H=Q.insert("rect"),F=Q.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+U);F.node().appendChild(G);const M=G.getBBox();if(H.attr("class","branchLabelBkg label"+U).attr("rx",4).attr("ry",4).attr("x",-M.width-4-(SQ?.rotateCommitLabel===!0?30:0)).attr("y",-M.height/2+8).attr("width",M.width+18).attr("height",M.height+4),F.attr("transform","translate("+(-M.width-14-(SQ?.rotateCommitLabel===!0?30:0))+", "+(Y-M.height/2-1)+")"),H8==="TB")H.attr("x",Y-M.width/2-10).attr("y",0),F.attr("transform","translate("+(Y-M.width/2-5)+", 0)");else if(H8==="BT")H.attr("x",Y-M.width/2-10).attr("y",pX),F.attr("transform","translate("+(Y-M.width/2-5)+", "+pX+")");else H.attr("transform","translate(-19, "+(Y-M.height/2)+")")})},"drawBranches"),Ef0=R(function(Z,J,Q,K,X){return R6.set(Z,{pos:J,index:Q}),J+=50+(X?40:0)+(H8==="TB"||H8==="BT"?K.width/2:0),J},"setBranchPosition"),wf0=R(function(Z,J,Q,K){if(Uf0(),p.debug("in gitgraph renderer",Z+"\n","id:",J,Q),!SQ)throw new Error("GitGraph config not found");const X=SQ.rotateCommitLabel??!1,U=K.db;AF=U.getCommits();const Y=U.getBranchesAsObjArray();H8=U.getDirection();const q=$0(`[id="${J}"]`);let z=0;if(Y.forEach((G,H)=>{const W=PZ0(G.name),F=q.append("g"),M=F.insert("g").attr("class","branchLabel"),B=M.insert("g").attr("class","label branch-label");B.node()?.appendChild(W);const O=W.getBBox();z=Ef0(G.name,z,H,O,X),B.remove(),M.remove(),F.remove()}),NZ0(q,AF,!1),SQ.showBranches)Nf0(q,Y);Df0(q,AF),NZ0(q,AF,!0),B9.insertTitle(q,"gitTitleText",SQ.titleTopMargin??0,U.getDiagramTitle()),sN(void 0,q,SQ.diagramPadding,SQ.useMaxWidth)},"draw"),jf0={draw:wf0},Cf0=R((Z)=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map((J)=>`
        .branch-label${J} { fill: ${Z["gitBranchLabel"+J]}; }
        .commit${J} { stroke: ${Z["git"+J]}; fill: ${Z["git"+J]}; }
        .commit-highlight${J} { stroke: ${Z["gitInv"+J]}; fill: ${Z["gitInv"+J]}; }
        .label${J}  { fill: ${Z["git"+J]}; }
        .arrow${J} { stroke: ${Z["git"+J]}; }
        `).join("\n")}

  .branch {
    stroke-width: 1;
    stroke: ${Z.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelColor};}
  .commit-label-bkg { font-size: ${Z.commitLabelFontSize}; fill: ${Z.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${Z.tagLabelFontSize}; fill: ${Z.tagLabelColor};}
  .tag-label-bkg { fill: ${Z.tagLabelBackground}; stroke: ${Z.tagLabelBorder}; }
  .tag-hole { fill: ${Z.textColor}; }

  .commit-merge {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }
  .commit-reverse {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${Z.primaryColor};
    fill: ${Z.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
`,"getStyles"),Pf0=Cf0,Vf0={parser:Kf0,db:CZ0,renderer:jf0,styles:Pf0}});var fZ0=i7((pv,cv)=>{(function(Z,J){typeof pv=="object"&&typeof cv!="undefined"?cv.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis!="undefined"?globalThis:Z||self).dayjs_plugin_isoWeek=J()})(pv,function(){var Z="day";return function(J,Q,K){var X=function(q){return q.add(4-q.isoWeekday(),Z)},U=Q.prototype;U.isoWeekYear=function(){return X(this).year()},U.isoWeek=function(q){if(!this.$utils().u(q))return this.add(7*(q-this.isoWeek()),Z);var z,G,H,W,F=X(this),M=(z=this.isoWeekYear(),G=this.$u,H=(G?K.utc:K)().year(z).startOf("year"),W=4-H.isoWeekday(),H.isoWeekday()>4&&(W+=7),H.add(W,Z));return F.diff(M,"week")+1},U.isoWeekday=function(q){return this.$utils().u(q)?this.day()||7:this.day(this.day()%7?q:q-7)};var Y=U.startOf;U.startOf=function(q,z){var G=this.$utils(),H=!!G.u(z)||z;return G.p(q)==="isoweek"?H?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):Y.bind(this)(q,z)}}})});var vZ0=i7((lv,dv)=>{(function(Z,J){typeof lv=="object"&&typeof dv!="undefined"?dv.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis!="undefined"?globalThis:Z||self).dayjs_plugin_customParseFormat=J()})(lv,function(){var Z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},J=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Q=/\d/,K=/\d\d/,X=/\d\d?/,U=/\d*[^-_:/,()\s\d]+/,Y={},q=function(B){return(B=+B)+(B>68?1900:2000)},z=function(B){return function(O){this[B]=+O}},G=[/[+-]\d\d:?(\d\d)?|Z/,function(B){(this.zone||(this.zone={})).offset=function(O){if(!O)return 0;if(O==="Z")return 0;var A=O.match(/([+-]|\d\d)/g),L=60*A[1]+(+A[2]||0);return L===0?0:A[0]==="+"?-L:L}(B)}],H=function(B){var O=Y[B];return O&&(O.indexOf?O:O.s.concat(O.f))},W=function(B,O){var A,L=Y.meridiem;if(L){for(var I=1;I<=24;I+=1)if(B.indexOf(L(I,0,O))>-1){A=I>12;break}}else A=B===(O?"pm":"PM");return A},F={A:[U,function(B){this.afternoon=W(B,!1)}],a:[U,function(B){this.afternoon=W(B,!0)}],Q:[Q,function(B){this.month=3*(B-1)+1}],S:[Q,function(B){this.milliseconds=100*+B}],SS:[K,function(B){this.milliseconds=10*+B}],SSS:[/\d{3}/,function(B){this.milliseconds=+B}],s:[X,z("seconds")],ss:[X,z("seconds")],m:[X,z("minutes")],mm:[X,z("minutes")],H:[X,z("hours")],h:[X,z("hours")],HH:[X,z("hours")],hh:[X,z("hours")],D:[X,z("day")],DD:[K,z("day")],Do:[U,function(B){var O=Y.ordinal,A=B.match(/\d+/);if(this.day=A[0],O)for(var L=1;L<=31;L+=1)O(L).replace(/\[|\]/g,"")===B&&(this.day=L)}],w:[X,z("week")],ww:[K,z("week")],M:[X,z("month")],MM:[K,z("month")],MMM:[U,function(B){var O=H("months"),A=(H("monthsShort")||O.map(function(L){return L.slice(0,3)})).indexOf(B)+1;if(A<1)throw new Error;this.month=A%12||A}],MMMM:[U,function(B){var O=H("months").indexOf(B)+1;if(O<1)throw new Error;this.month=O%12||O}],Y:[/[+-]?\d+/,z("year")],YY:[K,function(B){this.year=q(B)}],YYYY:[/\d{4}/,z("year")],Z:G,ZZ:G};function M(B){var O,A;O=B,A=Y&&Y.formats;for(var L=(B=O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,C,T){var V=T&&T.toUpperCase();return C||A[T]||Z[T]||A[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,$,f){return $||f.slice(1)})})).match(J),I=L.length,D=0;D<I;D+=1){var w=L[D],N=F[w],E=N&&N[0],j=N&&N[1];L[D]=j?{regex:E,parser:j}:w.replace(/^\[|\]$/g,"")}return function(P){for(var C={},T=0,V=0;T<I;T+=1){var S=L[T];if(typeof S=="string")V+=S.length;else{var{regex:$,parser:f}=S,h=P.slice(V),v=$.exec(h)[0];f.call(C,v),P=P.replace(v,"")}}return function(b){var y=b.afternoon;if(y!==void 0){var k=b.hours;y?k<12&&(b.hours+=12):k===12&&(b.hours=0),delete b.afternoon}}(C),C}}return function(B,O,A){A.p.customParseFormat=!0,B&&B.parseTwoDigitYear&&(q=B.parseTwoDigitYear);var L=O.prototype,I=L.parse;L.parse=function(D){var{date:w,utc:N,args:E}=D;this.$u=N;var j=E[1];if(typeof j=="string"){var P=E[2]===!0,C=E[3]===!0,T=P||C,V=E[2];C&&(V=E[2]),Y=this.$locale(),!P&&V&&(Y=A.Ls[V]),this.$d=function(h,v,b,y){try{if(["x","X"].indexOf(v)>-1)return new Date((v==="X"?1000:1)*h);var k=M(v)(h),g=k.year,u=k.month,i=k.day,e=k.hours,J0=k.minutes,z0=k.seconds,t=k.milliseconds,B0=k.zone,X0=k.week,d=new Date,o=i||(g||u?1:d.getDate()),a=g||d.getFullYear(),Q0=0;g&&!u||(Q0=u>0?u-1:d.getMonth());var K0,A0=e||0,r=J0||0,v0=z0||0,Y0=t||0;return B0?new Date(Date.UTC(a,Q0,o,A0,r,v0,Y0+60*B0.offset*1000)):b?new Date(Date.UTC(a,Q0,o,A0,r,v0,Y0)):(K0=new Date(a,Q0,o,A0,r,v0,Y0),X0&&(K0=y(K0).week(X0).toDate()),K0)}catch(k0){return new Date("")}}(w,j,N,A),this.init(),V&&V!==!0&&(this.$L=this.locale(V).$L),T&&w!=this.format(j)&&(this.$d=new Date("")),Y={}}else if(j instanceof Array)for(var S=j.length,$=1;$<=S;$+=1){E[1]=j[$-1];var f=A.apply(this,E);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}$===S&&(this.$d=new Date(""))}else I.call(this,D)}}})});var kZ0=i7((iv,sv)=>{(function(Z,J){typeof iv=="object"&&typeof sv!="undefined"?sv.exports=J():typeof define=="function"&&define.amd?define(J):(Z=typeof globalThis!="undefined"?globalThis:Z||self).dayjs_plugin_advancedFormat=J()})(iv,function(){return function(Z,J){var Q=J.prototype,K=Q.format;Q.format=function(X){var U=this,Y=this.$locale();if(!this.isValid())return K.bind(this)(X);var q=this.$utils(),z=(X||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(G){switch(G){case"Q":return Math.ceil((U.$M+1)/3);case"Do":return Y.ordinal(U.$D);case"gggg":return U.weekYear();case"GGGG":return U.isoWeekYear();case"wo":return Y.ordinal(U.week(),"W");case"w":case"ww":return q.s(U.week(),G==="w"?1:2,"0");case"W":case"WW":return q.s(U.isoWeek(),G==="W"?1:2,"0");case"k":case"kk":return q.s(String(U.$H===0?24:U.$H),G==="k"?1:2,"0");case"X":return Math.floor(U.$d.getTime()/1000);case"x":return U.$d.getTime();case"z":return"["+U.offsetName()+"]";case"zzz":return"["+U.offsetName("long")+"]";default:return G}});return K.bind(this)(z)}}})});var rZ0={};q8(rZ0,{diagram:()=>Av0});function qk(Z,J,Q){let K=!0;while(K)K=!1,Q.forEach(function(X){const U="^\\s*"+X+"\\s*$",Y=new RegExp(U);if(Z[0].match(Y))J[X]=!0,Z.shift(1),K=!0})}var xZ0,i6,hZ0,yZ0,uZ0,TI,rv,Sf0,$Z0,FK="",tv="",ev=void 0,Zk="",IF,DF,Jk,Qk,fI,Vz="",Kk="",mZ0,Xk,NF=!1,Uk=!1,Yk="sunday",vI="saturday",nv=0,Tf0,ff0,vf0,kf0,$f0,_f0,bf0,xf0,hf0,yf0,uf0,mf0,gf0,pf0,cf0,lf0,df0,if0,sf0,rf0,nf0,af0,of0,gZ0,tf0,ef0,Zv0,pZ0,Jv0,av,cZ0,lZ0,VI=0,Pz,Qv0,Kv0,ov,SI,AJ,dZ0,Xv0,kY,Uv0,_Z0,Yv0,iZ0,qv0,sZ0,zv0,Gv0,Hv0,Wv0,bZ0,Fv0,C5,Mv0,Bv0,Rv0,Ov0,Av0;var nZ0=_(()=>{FZ();X8();xZ0=z7(Eq(),1),i6=z7(kM(),1),hZ0=z7(fZ0(),1),yZ0=z7(vZ0(),1),uZ0=z7(kZ0(),1),TI=z7(kM(),1);i9();rv=function(){var Z=R(function($,f,h,v){for(h=h||{},v=$.length;v--;h[$[v]]=f);return h},"o"),J=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],Q=[1,26],K=[1,27],X=[1,28],U=[1,29],Y=[1,30],q=[1,31],z=[1,32],G=[1,33],H=[1,34],W=[1,9],F=[1,10],M=[1,11],B=[1,12],O=[1,13],A=[1,14],L=[1,15],I=[1,16],D=[1,19],w=[1,20],N=[1,21],E=[1,22],j=[1,23],P=[1,25],C=[1,35],T={trace:R(function $(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:R(function $(f,h,v,b,y,k,g){var u=k.length-1;switch(y){case 1:return k[u-1];case 2:this.$=[];break;case 3:k[u-1].push(k[u]),this.$=k[u-1];break;case 4:case 5:this.$=k[u];break;case 6:case 7:this.$=[];break;case 8:b.setWeekday("monday");break;case 9:b.setWeekday("tuesday");break;case 10:b.setWeekday("wednesday");break;case 11:b.setWeekday("thursday");break;case 12:b.setWeekday("friday");break;case 13:b.setWeekday("saturday");break;case 14:b.setWeekday("sunday");break;case 15:b.setWeekend("friday");break;case 16:b.setWeekend("saturday");break;case 17:b.setDateFormat(k[u].substr(11)),this.$=k[u].substr(11);break;case 18:b.enableInclusiveEndDates(),this.$=k[u].substr(18);break;case 19:b.TopAxis(),this.$=k[u].substr(8);break;case 20:b.setAxisFormat(k[u].substr(11)),this.$=k[u].substr(11);break;case 21:b.setTickInterval(k[u].substr(13)),this.$=k[u].substr(13);break;case 22:b.setExcludes(k[u].substr(9)),this.$=k[u].substr(9);break;case 23:b.setIncludes(k[u].substr(9)),this.$=k[u].substr(9);break;case 24:b.setTodayMarker(k[u].substr(12)),this.$=k[u].substr(12);break;case 27:b.setDiagramTitle(k[u].substr(6)),this.$=k[u].substr(6);break;case 28:this.$=k[u].trim(),b.setAccTitle(this.$);break;case 29:case 30:this.$=k[u].trim(),b.setAccDescription(this.$);break;case 31:b.addSection(k[u].substr(8)),this.$=k[u].substr(8);break;case 33:b.addTask(k[u-1],k[u]),this.$="task";break;case 34:this.$=k[u-1],b.setClickEvent(k[u-1],k[u],null);break;case 35:this.$=k[u-2],b.setClickEvent(k[u-2],k[u-1],k[u]);break;case 36:this.$=k[u-2],b.setClickEvent(k[u-2],k[u-1],null),b.setLink(k[u-2],k[u]);break;case 37:this.$=k[u-3],b.setClickEvent(k[u-3],k[u-2],k[u-1]),b.setLink(k[u-3],k[u]);break;case 38:this.$=k[u-2],b.setClickEvent(k[u-2],k[u],null),b.setLink(k[u-2],k[u-1]);break;case 39:this.$=k[u-3],b.setClickEvent(k[u-3],k[u-1],k[u]),b.setLink(k[u-3],k[u-2]);break;case 40:this.$=k[u-1],b.setLink(k[u-1],k[u]);break;case 41:case 47:this.$=k[u-1]+" "+k[u];break;case 42:case 43:case 45:this.$=k[u-2]+" "+k[u-1]+" "+k[u];break;case 44:case 46:this.$=k[u-3]+" "+k[u-2]+" "+k[u-1]+" "+k[u];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:Q,13:K,14:X,15:U,16:Y,17:q,18:z,19:18,20:G,21:H,22:W,23:F,24:M,25:B,26:O,27:A,28:L,29:I,30:D,31:w,33:N,35:E,36:j,37:24,38:P,40:C},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:36,11:17,12:Q,13:K,14:X,15:U,16:Y,17:q,18:z,19:18,20:G,21:H,22:W,23:F,24:M,25:B,26:O,27:A,28:L,29:I,30:D,31:w,33:N,35:E,36:j,37:24,38:P,40:C},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,17]),Z(J,[2,18]),Z(J,[2,19]),Z(J,[2,20]),Z(J,[2,21]),Z(J,[2,22]),Z(J,[2,23]),Z(J,[2,24]),Z(J,[2,25]),Z(J,[2,26]),Z(J,[2,27]),{32:[1,37]},{34:[1,38]},Z(J,[2,30]),Z(J,[2,31]),Z(J,[2,32]),{39:[1,39]},Z(J,[2,8]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),{41:[1,40],43:[1,41]},Z(J,[2,4]),Z(J,[2,28]),Z(J,[2,29]),Z(J,[2,33]),Z(J,[2,34],{42:[1,42],43:[1,43]}),Z(J,[2,40],{41:[1,44]}),Z(J,[2,35],{43:[1,45]}),Z(J,[2,36]),Z(J,[2,38],{42:[1,46]}),Z(J,[2,37]),Z(J,[2,39])],defaultActions:{},parseError:R(function $(f,h){if(h.recoverable)this.trace(f);else{var v=new Error(f);throw v.hash=h,v}},"parseError"),parse:R(function $(f){var h=this,v=[0],b=[],y=[null],k=[],g=this.table,u="",i=0,e=0,J0=0,z0=2,t=1,B0=k.slice.call(arguments,1),X0=Object.create(this.lexer),d={yy:{}};for(var o in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,o))d.yy[o]=this.yy[o];if(X0.setInput(f,d.yy),d.yy.lexer=X0,d.yy.parser=this,typeof X0.yylloc=="undefined")X0.yylloc={};var a=X0.yylloc;k.push(a);var Q0=X0.options&&X0.options.ranges;if(typeof d.yy.parseError==="function")this.parseError=d.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function K0(G0){v.length=v.length-2*G0,y.length=y.length-G0,k.length=k.length-G0}R(K0,"popStack");function A0(){var G0=b.pop()||X0.lex()||t;if(typeof G0!=="number"){if(G0 instanceof Array)b=G0,G0=b.pop();G0=h.symbols_[G0]||G0}return G0}R(A0,"lex");var r,v0,Y0,k0,h0,V0,l0={},b0,S0,H0,l;while(!0){if(Y0=v[v.length-1],this.defaultActions[Y0])k0=this.defaultActions[Y0];else{if(r===null||typeof r=="undefined")r=A0();k0=g[Y0]&&g[Y0][r]}if(typeof k0==="undefined"||!k0.length||!k0[0]){var q0="";l=[];for(b0 in g[Y0])if(this.terminals_[b0]&&b0>z0)l.push("'"+this.terminals_[b0]+"'");if(X0.showPosition)q0="Parse error on line "+(i+1)+":\n"+X0.showPosition()+"\nExpecting "+l.join(", ")+", got '"+(this.terminals_[r]||r)+"'";else q0="Parse error on line "+(i+1)+": Unexpected "+(r==t?"end of input":"'"+(this.terminals_[r]||r)+"'");this.parseError(q0,{text:X0.match,token:this.terminals_[r]||r,line:X0.yylineno,loc:a,expected:l})}if(k0[0]instanceof Array&&k0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Y0+", token: "+r);switch(k0[0]){case 1:if(v.push(r),y.push(X0.yytext),k.push(X0.yylloc),v.push(k0[1]),r=null,!v0){if(e=X0.yyleng,u=X0.yytext,i=X0.yylineno,a=X0.yylloc,J0>0)J0--}else r=v0,v0=null;break;case 2:if(S0=this.productions_[k0[1]][1],l0.$=y[y.length-S0],l0._$={first_line:k[k.length-(S0||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(S0||1)].first_column,last_column:k[k.length-1].last_column},Q0)l0._$.range=[k[k.length-(S0||1)].range[0],k[k.length-1].range[1]];if(V0=this.performAction.apply(l0,[u,e,i,d.yy,k0[1],y,k].concat(B0)),typeof V0!=="undefined")return V0;if(S0)v=v.slice(0,-1*S0*2),y=y.slice(0,-1*S0),k=k.slice(0,-1*S0);v.push(this.productions_[k0[1]][0]),y.push(l0.$),k.push(l0._$),H0=g[v[v.length-2]][v[v.length-1]],v.push(H0);break;case 3:return!0}}return!0},"parse")},V=function(){var $={EOF:1,parseError:R(function f(h,v){if(this.yy.parser)this.yy.parser.parseError(h,v);else throw new Error(h)},"parseError"),setInput:R(function(f,h){if(this.yy=h||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var h=f.match(/(?:\r\n?|\n).*/g);if(h)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),f},"input"),unput:R(function(f){var h=f.length,v=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var b=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1)this.yylineno-=v.length-1;var y=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===b.length?this.yylloc.first_column:0)+b[b.length-v.length].length-v[0].length:this.yylloc.first_column-h},this.options.ranges)this.yylloc.range=[y[0],y[0]+this.yyleng-h];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(f){this.unput(this.match.slice(f))},"less"),pastInput:R(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var f=this.match;if(f.length<20)f+=this._input.substr(0,20-f.length);return(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var f=this.pastInput(),h=new Array(f.length+1).join("-");return f+this.upcomingInput()+"\n"+h+"^"},"showPosition"),test_match:R(function(f,h){var v,b,y;if(this.options.backtrack_lexer){if(y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)y.yylloc.range=this.yylloc.range.slice(0)}if(b=f[0].match(/(?:\r\n?|\n).*/g),b)this.yylineno+=b.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],v=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(v)return v;else if(this._backtrack){for(var k in y)this[k]=y[k];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var f,h,v,b;if(!this._more)this.yytext="",this.match="";var y=this._currentRules();for(var k=0;k<y.length;k++)if(v=this._input.match(this.rules[y[k]]),v&&(!h||v[0].length>h[0].length)){if(h=v,b=k,this.options.backtrack_lexer)if(f=this.test_match(v,y[k]),f!==!1)return f;else if(this._backtrack){h=!1;continue}else return!1;else if(!this.options.flex)break}if(h){if(f=this.test_match(h,y[b]),f!==!1)return f;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function f(){var h=this.next();if(h)return h;else return this.lex()},"lex"),begin:R(function f(h){this.conditionStack.push(h)},"begin"),popState:R(function f(){var h=this.conditionStack.length-1;if(h>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function f(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function f(h){if(h=this.conditionStack.length-1-Math.abs(h||0),h>=0)return this.conditionStack[h];else return"INITIAL"},"topState"),pushState:R(function f(h){this.begin(h)},"pushState"),stateStackSize:R(function f(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function f(h,v,b,y){var k=y;switch(b){case 0:return this.begin("open_directive"),"open_directive";break;case 1:return this.begin("acc_title"),31;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),33;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return $}();T.lexer=V;function S(){this.yy={}}return R(S,"Parser"),S.prototype=T,T.Parser=S,new S}();rv.parser=rv;Sf0=rv;i6.default.extend(hZ0.default);i6.default.extend(yZ0.default);i6.default.extend(uZ0.default);$Z0={friday:5,saturday:6},IF=[],DF=[],Jk=new Map,Qk=[],fI=[],mZ0=["active","done","crit","milestone"],Xk=[],Tf0=R(function(){Qk=[],fI=[],Vz="",Xk=[],VI=0,ov=void 0,SI=void 0,AJ=[],FK="",tv="",Kk="",ev=void 0,Zk="",IF=[],DF=[],NF=!1,Uk=!1,nv=0,Jk=new Map,O8(),Yk="sunday",vI="saturday"},"clear"),ff0=R(function(Z){tv=Z},"setAxisFormat"),vf0=R(function(){return tv},"getAxisFormat"),kf0=R(function(Z){ev=Z},"setTickInterval"),$f0=R(function(){return ev},"getTickInterval"),_f0=R(function(Z){Zk=Z},"setTodayMarker"),bf0=R(function(){return Zk},"getTodayMarker"),xf0=R(function(Z){FK=Z},"setDateFormat"),hf0=R(function(){NF=!0},"enableInclusiveEndDates"),yf0=R(function(){return NF},"endDatesAreInclusive"),uf0=R(function(){Uk=!0},"enableTopAxis"),mf0=R(function(){return Uk},"topAxisEnabled"),gf0=R(function(Z){Kk=Z},"setDisplayMode"),pf0=R(function(){return Kk},"getDisplayMode"),cf0=R(function(){return FK},"getDateFormat"),lf0=R(function(Z){IF=Z.toLowerCase().split(/[\s,]+/)},"setIncludes"),df0=R(function(){return IF},"getIncludes"),if0=R(function(Z){DF=Z.toLowerCase().split(/[\s,]+/)},"setExcludes"),sf0=R(function(){return DF},"getExcludes"),rf0=R(function(){return Jk},"getLinks"),nf0=R(function(Z){Vz=Z,Qk.push(Z)},"addSection"),af0=R(function(){return Qk},"getSections"),of0=R(function(){let Z=_Z0();const J=10;let Q=0;while(!Z&&Q<J)Z=_Z0(),Q++;return fI=AJ,fI},"getTasks"),gZ0=R(function(Z,J,Q,K){if(K.includes(Z.format(J.trim())))return!1;if(Q.includes("weekends")&&(Z.isoWeekday()===$Z0[vI]||Z.isoWeekday()===$Z0[vI]+1))return!0;if(Q.includes(Z.format("dddd").toLowerCase()))return!0;return Q.includes(Z.format(J.trim()))},"isInvalidDate"),tf0=R(function(Z){Yk=Z},"setWeekday"),ef0=R(function(){return Yk},"getWeekday"),Zv0=R(function(Z){vI=Z},"setWeekend"),pZ0=R(function(Z,J,Q,K){if(!Q.length||Z.manualEndTime)return;let X;if(Z.startTime instanceof Date)X=i6.default(Z.startTime);else X=i6.default(Z.startTime,J,!0);X=X.add(1,"d");let U;if(Z.endTime instanceof Date)U=i6.default(Z.endTime);else U=i6.default(Z.endTime,J,!0);const[Y,q]=Jv0(X,U,J,Q,K);Z.endTime=Y.toDate(),Z.renderEndTime=q},"checkTaskDates"),Jv0=R(function(Z,J,Q,K,X){let U=!1,Y=null;while(Z<=J){if(!U)Y=J.toDate();if(U=gZ0(Z,Q,K,X),U)J=J.add(1,"d");Z=Z.add(1,"d")}return[J,Y]},"fixTaskDates"),av=R(function(Z,J,Q){Q=Q.trim();const X=/^after\s+(?<ids>[\d\w- ]+)/.exec(Q);if(X!==null){let Y=null;for(let z of X.groups.ids.split(" ")){let G=kY(z);if(G!==void 0&&(!Y||G.endTime>Y.endTime))Y=G}if(Y)return Y.endTime;const q=new Date;return q.setHours(0,0,0,0),q}let U=i6.default(Q,J.trim(),!0);if(U.isValid())return U.toDate();else{p.debug("Invalid date:"+Q),p.debug("With date format:"+J.trim());const Y=new Date(Q);if(Y===void 0||isNaN(Y.getTime())||Y.getFullYear()<-1e4||Y.getFullYear()>1e4)throw new Error("Invalid date:"+Q);return Y}},"getStartDate"),cZ0=R(function(Z){const J=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(Z.trim());if(J!==null)return[Number.parseFloat(J[1]),J[2]];return[NaN,"ms"]},"parseDuration"),lZ0=R(function(Z,J,Q,K=!1){Q=Q.trim();const U=/^until\s+(?<ids>[\d\w- ]+)/.exec(Q);if(U!==null){let H=null;for(let F of U.groups.ids.split(" ")){let M=kY(F);if(M!==void 0&&(!H||M.startTime<H.startTime))H=M}if(H)return H.startTime;const W=new Date;return W.setHours(0,0,0,0),W}let Y=i6.default(Q,J.trim(),!0);if(Y.isValid()){if(K)Y=Y.add(1,"d");return Y.toDate()}let q=i6.default(Z);const[z,G]=cZ0(Q);if(!Number.isNaN(z)){const H=q.add(z,G);if(H.isValid())q=H}return q.toDate()},"getEndDate"),Pz=R(function(Z){if(Z===void 0)return VI=VI+1,"task"+VI;return Z},"parseId"),Qv0=R(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;const K=Q.split(","),X={};qk(K,X,mZ0);for(let Y=0;Y<K.length;Y++)K[Y]=K[Y].trim();let U="";switch(K.length){case 1:X.id=Pz(),X.startTime=Z.endTime,U=K[0];break;case 2:X.id=Pz(),X.startTime=av(void 0,FK,K[0]),U=K[1];break;case 3:X.id=Pz(K[0]),X.startTime=av(void 0,FK,K[1]),U=K[2];break;default:}if(U)X.endTime=lZ0(X.startTime,FK,U,NF),X.manualEndTime=i6.default(U,"YYYY-MM-DD",!0).isValid(),pZ0(X,FK,DF,IF);return X},"compileData"),Kv0=R(function(Z,J){let Q;if(J.substr(0,1)===":")Q=J.substr(1,J.length);else Q=J;const K=Q.split(","),X={};qk(K,X,mZ0);for(let U=0;U<K.length;U++)K[U]=K[U].trim();switch(K.length){case 1:X.id=Pz(),X.startTime={type:"prevTaskEnd",id:Z},X.endTime={data:K[0]};break;case 2:X.id=Pz(),X.startTime={type:"getStartDate",startData:K[0]},X.endTime={data:K[1]};break;case 3:X.id=Pz(K[0]),X.startTime={type:"getStartDate",startData:K[1]},X.endTime={data:K[2]};break;default:}return X},"parseData"),AJ=[],dZ0={},Xv0=R(function(Z,J){const Q={section:Vz,type:Vz,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:J},task:Z,classes:[]},K=Kv0(SI,J);Q.raw.startTime=K.startTime,Q.raw.endTime=K.endTime,Q.id=K.id,Q.prevTaskId=SI,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,Q.order=nv,nv++;const X=AJ.push(Q);SI=Q.id,dZ0[Q.id]=X-1},"addTask"),kY=R(function(Z){const J=dZ0[Z];return AJ[J]},"findTaskById"),Uv0=R(function(Z,J){const Q={section:Vz,type:Vz,description:Z,task:Z,classes:[]},K=Qv0(ov,J);Q.startTime=K.startTime,Q.endTime=K.endTime,Q.id=K.id,Q.active=K.active,Q.done=K.done,Q.crit=K.crit,Q.milestone=K.milestone,ov=Q,fI.push(Q)},"addTaskOrg"),_Z0=R(function(){const Z=R(function(Q){const K=AJ[Q];let X="";switch(AJ[Q].raw.startTime.type){case"prevTaskEnd":{const U=kY(K.prevTaskId);K.startTime=U.endTime;break}case"getStartDate":if(X=av(void 0,FK,AJ[Q].raw.startTime.startData),X)AJ[Q].startTime=X;break}if(AJ[Q].startTime){if(AJ[Q].endTime=lZ0(AJ[Q].startTime,FK,AJ[Q].raw.endTime.data,NF),AJ[Q].endTime)AJ[Q].processed=!0,AJ[Q].manualEndTime=i6.default(AJ[Q].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),pZ0(AJ[Q],FK,DF,IF)}return AJ[Q].processed},"compileTask");let J=!0;for(let[Q,K]of AJ.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),Yv0=R(function(Z,J){let Q=J;if(W0().securityLevel!=="loose")Q=xZ0.sanitizeUrl(J);Z.split(",").forEach(function(K){if(kY(K)!==void 0)sZ0(K,()=>{window.open(Q,"_self")}),Jk.set(K,Q)}),iZ0(Z,"clickable")},"setLink"),iZ0=R(function(Z,J){Z.split(",").forEach(function(Q){let K=kY(Q);if(K!==void 0)K.classes.push(J)})},"setClass"),qv0=R(function(Z,J,Q){if(W0().securityLevel!=="loose")return;if(J===void 0)return;let K=[];if(typeof Q==="string"){K=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let U=0;U<K.length;U++){let Y=K[U].trim();if(Y.startsWith('"')&&Y.endsWith('"'))Y=Y.substr(1,Y.length-2);K[U]=Y}}if(K.length===0)K.push(Z);if(kY(Z)!==void 0)sZ0(Z,()=>{B9.runFunc(J,...K)})},"setClickFun"),sZ0=R(function(Z,J){Xk.push(function(){const Q=document.querySelector(`[id="${Z}"]`);if(Q!==null)Q.addEventListener("click",function(){J()})},function(){const Q=document.querySelector(`[id="${Z}-text"]`);if(Q!==null)Q.addEventListener("click",function(){J()})})},"pushFun"),zv0=R(function(Z,J,Q){Z.split(",").forEach(function(K){qv0(K,J,Q)}),iZ0(Z,"clickable")},"setClickEvent"),Gv0=R(function(Z){Xk.forEach(function(J){J(Z)})},"bindFunctions"),Hv0={getConfig:R(()=>W0().gantt,"getConfig"),clear:Tf0,setDateFormat:xf0,getDateFormat:cf0,enableInclusiveEndDates:hf0,endDatesAreInclusive:yf0,enableTopAxis:uf0,topAxisEnabled:mf0,setAxisFormat:ff0,getAxisFormat:vf0,setTickInterval:kf0,getTickInterval:$f0,setTodayMarker:_f0,getTodayMarker:bf0,setAccTitle:E8,getAccTitle:f8,setDiagramTitle:o8,getDiagramTitle:m8,setDisplayMode:gf0,getDisplayMode:pf0,setAccDescription:v8,getAccDescription:k8,addSection:nf0,getSections:af0,getTasks:of0,addTask:Xv0,findTaskById:kY,addTaskOrg:Uv0,setIncludes:lf0,getIncludes:df0,setExcludes:if0,getExcludes:sf0,setClickEvent:zv0,setLink:Yv0,getLinks:rf0,bindFunctions:Gv0,parseDuration:cZ0,isInvalidDate:gZ0,setWeekday:tf0,getWeekday:ef0,setWeekend:Zv0};R(qk,"getTaskTags");Wv0=R(function(){p.debug("Something is calling, setConf, remove the call")},"setConf"),bZ0={monday:UX,tuesday:RB,wednesday:OB,thursday:x4,friday:AB,saturday:LB,sunday:cQ},Fv0=R((Z,J)=>{let Q=[...Z].map(()=>-1/0),K=[...Z].sort((U,Y)=>U.startTime-Y.startTime||U.order-Y.order),X=0;for(let U of K)for(let Y=0;Y<Q.length;Y++)if(U.startTime>=Q[Y]){if(Q[Y]=U.endTime,U.order=Y+J,Y>X)X=Y;break}return X},"getMaxIntersections"),Mv0=R(function(Z,J,Q,K){const X=W0().gantt,U=W0().securityLevel;let Y;if(U==="sandbox")Y=$0("#i"+J);const q=U==="sandbox"?$0(Y.nodes()[0].contentDocument.body):$0("body"),z=U==="sandbox"?Y.nodes()[0].contentDocument:document,G=z.getElementById(J);if(C5=G.parentElement.offsetWidth,C5===void 0)C5=1200;if(X.useWidth!==void 0)C5=X.useWidth;const H=K.db.getTasks();let W=[];for(let P of H)W.push(P.type);W=j(W);const F={};let M=2*X.topPadding;if(K.db.getDisplayMode()==="compact"||X.displayMode==="compact"){const P={};for(let T of H)if(P[T.section]===void 0)P[T.section]=[T];else P[T.section].push(T);let C=0;for(let T of Object.keys(P)){const V=Fv0(P[T],C)+1;C+=V,M+=V*(X.barHeight+X.barGap),F[T]=V}}else{M+=H.length*(X.barHeight+X.barGap);for(let P of W)F[P]=H.filter((C)=>C.type===P).length}G.setAttribute("viewBox","0 0 "+C5+" "+M);const B=q.select(`[id="${J}"]`),O=NB().domain([P2(H,function(P){return P.startTime}),C2(H,function(P){return P.endTime})]).rangeRound([0,C5-X.leftPadding-X.rightPadding]);function A(P,C){const T=P.startTime,V=C.startTime;let S=0;if(T>V)S=1;else if(T<V)S=-1;return S}R(A,"taskCompare"),H.sort(A),L(H,C5,M),R8(B,M,C5,X.useMaxWidth),B.append("text").text(K.db.getDiagramTitle()).attr("x",C5/2).attr("y",X.titleTopMargin).attr("class","titleText");function L(P,C,T){const V=X.barHeight,S=V+X.barGap,$=X.topPadding,f=X.leftPadding,h=pQ().domain([0,W.length]).range(["#00B9FA","#F95002"]).interpolate(Rw);D(S,$,f,C,T,P,K.db.getExcludes(),K.db.getIncludes()),w(f,$,C,T),I(P,S,$,f,V,h,C,T),N(S,$,f,V,h),E(f,$,C,T)}R(L,"makeGantt");function I(P,C,T,V,S,$,f){const v=[...new Set(P.map((g)=>g.order))].map((g)=>P.find((u)=>u.order===g));B.append("g").selectAll("rect").data(v).enter().append("rect").attr("x",0).attr("y",function(g,u){return u=g.order,u*C+T-2}).attr("width",function(){return f-X.rightPadding/2}).attr("height",C).attr("class",function(g){for(let[u,i]of W.entries())if(g.type===i)return"section section"+u%X.numberSectionStyles;return"section section0"});const b=B.append("g").selectAll("rect").data(P).enter(),y=K.db.getLinks();if(b.append("rect").attr("id",function(g){return g.id}).attr("rx",3).attr("ry",3).attr("x",function(g){if(g.milestone)return O(g.startTime)+V+0.5*(O(g.endTime)-O(g.startTime))-0.5*S;return O(g.startTime)+V}).attr("y",function(g,u){return u=g.order,u*C+T}).attr("width",function(g){if(g.milestone)return S;return O(g.renderEndTime||g.endTime)-O(g.startTime)}).attr("height",S).attr("transform-origin",function(g,u){return u=g.order,(O(g.startTime)+V+0.5*(O(g.endTime)-O(g.startTime))).toString()+"px "+(u*C+T+0.5*S).toString()+"px"}).attr("class",function(g){let i="";if(g.classes.length>0)i=g.classes.join(" ");let e=0;for(let[z0,t]of W.entries())if(g.type===t)e=z0%X.numberSectionStyles;let J0="";if(g.active)if(g.crit)J0+=" activeCrit";else J0=" active";else if(g.done)if(g.crit)J0=" doneCrit";else J0=" done";else if(g.crit)J0+=" crit";if(J0.length===0)J0=" task";if(g.milestone)J0=" milestone "+J0;return J0+=e,J0+=" "+i,"task"+J0}),b.append("text").attr("id",function(g){return g.id+"-text"}).text(function(g){return g.task}).attr("font-size",X.fontSize).attr("x",function(g){let u=O(g.startTime),i=O(g.renderEndTime||g.endTime);if(g.milestone)u+=0.5*(O(g.endTime)-O(g.startTime))-0.5*S;if(g.milestone)i=u+S;const e=this.getBBox().width;if(e>i-u)if(i+e+1.5*X.leftPadding>f)return u+V-5;else return i+V+5;else return(i-u)/2+u+V}).attr("y",function(g,u){return u=g.order,u*C+X.barHeight/2+(X.fontSize/2-2)+T}).attr("text-height",S).attr("class",function(g){const u=O(g.startTime);let i=O(g.endTime);if(g.milestone)i=u+S;const e=this.getBBox().width;let J0="";if(g.classes.length>0)J0=g.classes.join(" ");let z0=0;for(let[B0,X0]of W.entries())if(g.type===X0)z0=B0%X.numberSectionStyles;let t="";if(g.active)if(g.crit)t="activeCritText"+z0;else t="activeText"+z0;if(g.done)if(g.crit)t=t+" doneCritText"+z0;else t=t+" doneText"+z0;else if(g.crit)t=t+" critText"+z0;if(g.milestone)t+=" milestoneText";if(e>i-u)if(i+e+1.5*X.leftPadding>f)return J0+" taskTextOutsideLeft taskTextOutside"+z0+" "+t;else return J0+" taskTextOutsideRight taskTextOutside"+z0+" "+t+" width-"+e;else return J0+" taskText taskText"+z0+" "+t+" width-"+e}),W0().securityLevel==="sandbox"){let g;g=$0("#i"+J);const u=g.nodes()[0].contentDocument;b.filter(function(i){return y.has(i.id)}).each(function(i){var e=u.querySelector("#"+i.id),J0=u.querySelector("#"+i.id+"-text");const z0=e.parentNode;var t=u.createElement("a");t.setAttribute("xlink:href",y.get(i.id)),t.setAttribute("target","_top"),z0.appendChild(t),t.appendChild(e),t.appendChild(J0)})}}R(I,"drawRects");function D(P,C,T,V,S,$,f,h){if(f.length===0&&h.length===0)return;let v,b;for(let{startTime:e,endTime:J0}of $){if(v===void 0||e<v)v=e;if(b===void 0||J0>b)b=J0}if(!v||!b)return;if(TI.default(b).diff(TI.default(v),"year")>5){p.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}const y=K.db.getDateFormat(),k=[];let g=null,u=TI.default(v);while(u.valueOf()<=b){if(K.db.isInvalidDate(u,y,f,h))if(!g)g={start:u,end:u};else g.end=u;else if(g)k.push(g),g=null;u=u.add(1,"d")}B.append("g").selectAll("rect").data(k).enter().append("rect").attr("id",function(e){return"exclude-"+e.start.format("YYYY-MM-DD")}).attr("x",function(e){return O(e.start)+T}).attr("y",X.gridLineStartPadding).attr("width",function(e){const J0=e.end.add(1,"day");return O(J0)-O(e.start)}).attr("height",S-C-X.gridLineStartPadding).attr("transform-origin",function(e,J0){return(O(e.start)+T+0.5*(O(e.end)-O(e.start))).toString()+"px "+(J0*P+0.5*S).toString()+"px"}).attr("class","exclude-range")}R(D,"drawExcludeDays");function w(P,C,T,V){let S=QE(O).tickSize(-V+C+X.gridLineStartPadding).tickFormat(SU(K.db.getAxisFormat()||X.axisFormat||"%Y-%m-%d"));const f=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(K.db.getTickInterval()||X.tickInterval);if(f!==null){const h=f[1],v=f[2],b=K.db.getWeekday()||X.weekday;switch(v){case"millisecond":S.ticks(_4.every(h));break;case"second":S.ticks(T6.every(h));break;case"minute":S.ticks(nK.every(h));break;case"hour":S.ticks(aK.every(h));break;case"day":S.ticks(XQ.every(h));break;case"week":S.ticks(bZ0[b].every(h));break;case"month":S.ticks(oK.every(h));break}}if(B.append("g").attr("class","grid").attr("transform","translate("+P+", "+(V-50)+")").call(S).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),K.db.topAxisEnabled()||X.topAxis){let h=JE(O).tickSize(-V+C+X.gridLineStartPadding).tickFormat(SU(K.db.getAxisFormat()||X.axisFormat||"%Y-%m-%d"));if(f!==null){const v=f[1],b=f[2],y=K.db.getWeekday()||X.weekday;switch(b){case"millisecond":h.ticks(_4.every(v));break;case"second":h.ticks(T6.every(v));break;case"minute":h.ticks(nK.every(v));break;case"hour":h.ticks(aK.every(v));break;case"day":h.ticks(XQ.every(v));break;case"week":h.ticks(bZ0[y].every(v));break;case"month":h.ticks(oK.every(v));break}}B.append("g").attr("class","grid").attr("transform","translate("+P+", "+C+")").call(h).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}R(w,"makeGrid");function N(P,C){let T=0;const V=Object.keys(F).map((S)=>[S,F[S]]);B.append("g").selectAll("text").data(V).enter().append(function(S){const $=S[0].split(g0.lineBreakRegex),f=-($.length-1)/2,h=z.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("dy",f+"em");for(let[v,b]of $.entries()){const y=z.createElementNS("http://www.w3.org/2000/svg","tspan");if(y.setAttribute("alignment-baseline","central"),y.setAttribute("x","10"),v>0)y.setAttribute("dy","1em");y.textContent=b,h.appendChild(y)}return h}).attr("x",10).attr("y",function(S,$){if($>0)for(let f=0;f<$;f++)return T+=V[$-1][1],S[1]*P/2+T*P+C;else return S[1]*P/2+C}).attr("font-size",X.sectionFontSize).attr("class",function(S){for(let[$,f]of W.entries())if(S[0]===f)return"sectionTitle sectionTitle"+$%X.numberSectionStyles;return"sectionTitle"})}R(N,"vertLabels");function E(P,C,T,V){const S=K.db.getTodayMarker();if(S==="off")return;const $=B.append("g").attr("class","today"),f=new Date,h=$.append("line");if(h.attr("x1",O(f)+P).attr("x2",O(f)+P).attr("y1",X.titleTopMargin).attr("y2",V-X.titleTopMargin).attr("class","today"),S!=="")h.attr("style",S.replace(/,/g,";"))}R(E,"drawToday");function j(P){const C={},T=[];for(let V=0,S=P.length;V<S;++V)if(!Object.prototype.hasOwnProperty.call(C,P[V]))C[P[V]]=!0,T.push(P[V]);return T}R(j,"checkUnique")},"draw"),Bv0={setConf:Wv0,draw:Mv0},Rv0=R((Z)=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${Z.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${Z.sectionBkgColor};
  }

  .section2 {
    fill: ${Z.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${Z.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${Z.titleColor};
  }

  .sectionTitle1 {
    fill: ${Z.titleColor};
  }

  .sectionTitle2 {
    fill: ${Z.titleColor};
  }

  .sectionTitle3 {
    fill: ${Z.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${Z.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${Z.fontFamily};
    fill: ${Z.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${Z.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${Z.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${Z.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${Z.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${Z.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${Z.taskBkgColor};
    stroke: ${Z.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${Z.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${Z.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${Z.activeTaskBkgColor};
    stroke: ${Z.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${Z.doneTaskBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${Z.critBorderColor};
    fill: ${Z.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${Z.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.titleColor||Z.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),Ov0=Rv0,Av0={parser:Sf0,db:Hv0,renderer:Bv0,styles:Ov0}});var aZ0={};q8(aZ0,{diagram:()=>jv0});var Lv0,Iv0,Dv0,Nv0,Ev0,wv0,jv0;var oZ0=_(()=>{IV();QY();X8();OF();Lv0={parse:R(async(Z)=>{const J=await w5("info",Z);p.debug(J)},"parse")},Iv0={version:FW},Dv0=R(()=>Iv0.version,"getVersion"),Nv0={getVersion:Dv0},Ev0=R((Z,J,Q)=>{p.debug("rendering info diagram\n"+Z);const K=OQ(J);R8(K,100,400,!0),K.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${Q}`)},"draw"),wv0={draw:Ev0},jv0={parser:Lv0,db:Nv0,renderer:wv0}});var ZJ0={};q8(ZJ0,{diagram:()=>uv0});var tZ0,zk,kI,Gk,Cv0,Pv0,Vv0,Sv0,Tv0,fv0,vv0,eZ0,kv0,$v0,_v0,bv0,xv0,hv0,yv0,uv0;var JJ0=_(()=>{OA();FZ();QY();X8();OF();i9();tZ0=B8.pie,zk={sections:new Map,showData:!1,config:tZ0},kI=zk.sections,Gk=zk.showData,Cv0=structuredClone(tZ0),Pv0=R(()=>structuredClone(Cv0),"getConfig"),Vv0=R(()=>{kI=new Map,Gk=zk.showData,O8()},"clear"),Sv0=R(({label:Z,value:J})=>{if(!kI.has(Z))kI.set(Z,J),p.debug(`added new section: ${Z}, with value: ${J}`)},"addSection"),Tv0=R(()=>kI,"getSections"),fv0=R((Z)=>{Gk=Z},"setShowData"),vv0=R(()=>Gk,"getShowData"),eZ0={getConfig:Pv0,clear:Vv0,setDiagramTitle:o8,getDiagramTitle:m8,setAccTitle:E8,getAccTitle:f8,setAccDescription:v8,getAccDescription:k8,addSection:Sv0,getSections:Tv0,setShowData:fv0,getShowData:vv0},kv0=R((Z,J)=>{qY(Z,J),J.setShowData(Z.showData),Z.sections.map(J.addSection)},"populateDb"),$v0={parse:R(async(Z)=>{const J=await w5("pie",Z);p.debug(J),kv0(J,eZ0)},"parse")},_v0=R((Z)=>`
  .pieCircle{
    stroke: ${Z.pieStrokeColor};
    stroke-width : ${Z.pieStrokeWidth};
    opacity : ${Z.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${Z.pieOuterStrokeColor};
    stroke-width: ${Z.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${Z.pieTitleTextSize};
    fill: ${Z.pieTitleTextColor};
    font-family: ${Z.fontFamily};
  }
  .slice {
    font-family: ${Z.fontFamily};
    fill: ${Z.pieSectionTextColor};
    font-size:${Z.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${Z.pieLegendTextColor};
    font-family: ${Z.fontFamily};
    font-size: ${Z.pieLegendTextSize};
  }
`,"getStyles"),bv0=_v0,xv0=R((Z)=>{const J=[...Z.entries()].map((K)=>{return{label:K[0],value:K[1]}}).sort((K,X)=>{return X.value-K.value});return PB().value((K)=>K.value)(J)},"createPieArcs"),hv0=R((Z,J,Q,K)=>{p.debug("rendering pie chart\n"+Z);const X=K.db,U=W0(),Y=J6(X.getConfig(),U.pie),q=40,z=18,G=4,H=450,W=H,F=OQ(J),M=F.append("g");M.attr("transform","translate("+W/2+","+H/2+")");const{themeVariables:B}=U;let[O]=p4(B.pieOuterStrokeWidth);O??=2;const A=Y.textPosition,L=Math.min(W,H)/2-q,I=iQ().innerRadius(0).outerRadius(L),D=iQ().innerRadius(L*A).outerRadius(L*A);M.append("circle").attr("cx",0).attr("cy",0).attr("r",L+O/2).attr("class","pieOuterCircle");const w=X.getSections(),N=xv0(w),E=[B.pie1,B.pie2,B.pie3,B.pie4,B.pie5,B.pie6,B.pie7,B.pie8,B.pie9,B.pie10,B.pie11,B.pie12],j=sK(E);M.selectAll("mySlices").data(N).enter().append("path").attr("d",I).attr("fill",(S)=>{return j(S.data.label)}).attr("class","pieCircle");let P=0;w.forEach((S)=>{P+=S}),M.selectAll("mySlices").data(N).enter().append("text").text((S)=>{return(S.data.value/P*100).toFixed(0)+"%"}).attr("transform",(S)=>{return"translate("+D.centroid(S)+")"}).style("text-anchor","middle").attr("class","slice"),M.append("text").text(X.getDiagramTitle()).attr("x",0).attr("y",-(H-50)/2).attr("class","pieTitleText");const C=M.selectAll(".legend").data(j.domain()).enter().append("g").attr("class","legend").attr("transform",(S,$)=>{const f=z+G,h=f*j.domain().length/2,v=12*z,b=$*f-h;return"translate("+v+","+b+")"});C.append("rect").attr("width",z).attr("height",z).style("fill",j).style("stroke",j),C.data(N).append("text").attr("x",z+G).attr("y",z-G).text((S)=>{const{label:$,value:f}=S.data;if(X.getShowData())return`${$} [${f}]`;return $});const T=Math.max(...C.selectAll("text").nodes().map((S)=>S?.getBoundingClientRect().width??0)),V=W+q+z+G+T;F.attr("viewBox",`0 0 ${V} ${H}`),R8(F,H,V,Y.useMaxWidth)},"draw"),yv0={draw:hv0},uv0={parser:$v0,db:eZ0,renderer:yv0,styles:bv0}});var AJ0={};q8(AJ0,{diagram:()=>sv0});function Wk(Z){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(Z)}function QJ0(Z){return!/^\d+$/.test(Z)}function KJ0(Z){return!/^\d+px$/.test(Z)}function MK(Z){return u8(Z.trim(),pv0)}function XJ0(Z){Z7.setData({quadrant1Text:MK(Z.text)})}function UJ0(Z){Z7.setData({quadrant2Text:MK(Z.text)})}function YJ0(Z){Z7.setData({quadrant3Text:MK(Z.text)})}function qJ0(Z){Z7.setData({quadrant4Text:MK(Z.text)})}function zJ0(Z){Z7.setData({xAxisLeftText:MK(Z.text)})}function GJ0(Z){Z7.setData({xAxisRightText:MK(Z.text)})}function HJ0(Z){Z7.setData({yAxisTopText:MK(Z.text)})}function WJ0(Z){Z7.setData({yAxisBottomText:MK(Z.text)})}function _I(Z){const J={};for(let Q of Z){const[K,X]=Q.trim().split(/\s*:\s*/);if(K==="radius"){if(QJ0(X))throw new $I(K,X,"number");J.radius=parseInt(X)}else if(K==="color"){if(Wk(X))throw new $I(K,X,"hex code");J.color=X}else if(K==="stroke-color"){if(Wk(X))throw new $I(K,X,"hex code");J.strokeColor=X}else if(K==="stroke-width"){if(KJ0(X))throw new $I(K,X,"number of pixels (eg. 10px)");J.strokeWidth=X}else throw new Error(`style named ${K} is not supported.`)}return J}function FJ0(Z,J,Q,K,X){const U=_I(X);Z7.addPoints([{x:Q,y:K,text:MK(Z.text),className:J,...U}])}function MJ0(Z,J){Z7.addClass(Z,_I(J))}function BJ0(Z){Z7.setConfig({chartWidth:Z})}function RJ0(Z){Z7.setConfig({chartHeight:Z})}function OJ0(){const Z=W0(),{themeVariables:J,quadrantChart:Q}=Z;if(Q)Z7.setConfig(Q);return Z7.setThemeConfig({quadrant1Fill:J.quadrant1Fill,quadrant2Fill:J.quadrant2Fill,quadrant3Fill:J.quadrant3Fill,quadrant4Fill:J.quadrant4Fill,quadrant1TextFill:J.quadrant1TextFill,quadrant2TextFill:J.quadrant2TextFill,quadrant3TextFill:J.quadrant3TextFill,quadrant4TextFill:J.quadrant4TextFill,quadrantPointFill:J.quadrantPointFill,quadrantPointTextFill:J.quadrantPointTextFill,quadrantXAxisTextFill:J.quadrantXAxisTextFill,quadrantYAxisTextFill:J.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:J.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:J.quadrantInternalBorderStrokeFill,quadrantTitleFill:J.quadrantTitleFill}),Z7.setData({titleText:m8()}),Z7.build()}var Hk,mv0,m7,gv0,$I,pv0,Z7,cv0,lv0,dv0,iv0,sv0;var LJ0=_(()=>{X8();i9();i9();Hk=function(){var Z=R(function(x0,_0,y0,m0){for(y0=y0||{},m0=x0.length;m0--;y0[x0[m0]]=_0);return y0},"o"),J=[1,3],Q=[1,4],K=[1,5],X=[1,6],U=[1,7],Y=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],q=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],z=[55,56,57],G=[2,36],H=[1,37],W=[1,36],F=[1,38],M=[1,35],B=[1,43],O=[1,41],A=[1,14],L=[1,23],I=[1,18],D=[1,19],w=[1,20],N=[1,21],E=[1,22],j=[1,24],P=[1,25],C=[1,26],T=[1,27],V=[1,28],S=[1,29],$=[1,32],f=[1,33],h=[1,34],v=[1,39],b=[1,40],y=[1,42],k=[1,44],g=[1,62],u=[1,61],i=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],e=[1,65],J0=[1,66],z0=[1,67],t=[1,68],B0=[1,69],X0=[1,70],d=[1,71],o=[1,72],a=[1,73],Q0=[1,74],K0=[1,75],A0=[1,76],r=[4,5,6,7,8,9,10,11,12,13,14,15,18],v0=[1,90],Y0=[1,91],k0=[1,92],h0=[1,99],V0=[1,93],l0=[1,96],b0=[1,94],S0=[1,95],H0=[1,97],l=[1,98],q0=[1,102],G0=[10,55,56,57],n=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],U0={trace:R(function x0(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:R(function x0(_0,y0,m0,d0,u0,E0,Z9){var i0=E0.length-1;switch(u0){case 23:this.$=E0[i0];break;case 24:this.$=E0[i0-1]+""+E0[i0];break;case 26:this.$=E0[i0-1]+E0[i0];break;case 27:this.$=[E0[i0].trim()];break;case 28:E0[i0-2].push(E0[i0].trim()),this.$=E0[i0-2];break;case 29:this.$=E0[i0-4],d0.addClass(E0[i0-2],E0[i0]);break;case 37:this.$=[];break;case 42:this.$=E0[i0].trim(),d0.setDiagramTitle(this.$);break;case 43:this.$=E0[i0].trim(),d0.setAccTitle(this.$);break;case 44:case 45:this.$=E0[i0].trim(),d0.setAccDescription(this.$);break;case 46:d0.addSection(E0[i0].substr(8)),this.$=E0[i0].substr(8);break;case 47:d0.addPoint(E0[i0-3],"",E0[i0-1],E0[i0],[]);break;case 48:d0.addPoint(E0[i0-4],E0[i0-3],E0[i0-1],E0[i0],[]);break;case 49:d0.addPoint(E0[i0-4],"",E0[i0-2],E0[i0-1],E0[i0]);break;case 50:d0.addPoint(E0[i0-5],E0[i0-4],E0[i0-2],E0[i0-1],E0[i0]);break;case 51:d0.setXAxisLeftText(E0[i0-2]),d0.setXAxisRightText(E0[i0]);break;case 52:E0[i0-1].text+=" \u27F6 ",d0.setXAxisLeftText(E0[i0-1]);break;case 53:d0.setXAxisLeftText(E0[i0]);break;case 54:d0.setYAxisBottomText(E0[i0-2]),d0.setYAxisTopText(E0[i0]);break;case 55:E0[i0-1].text+=" \u27F6 ",d0.setYAxisBottomText(E0[i0-1]);break;case 56:d0.setYAxisBottomText(E0[i0]);break;case 57:d0.setQuadrant1Text(E0[i0]);break;case 58:d0.setQuadrant2Text(E0[i0]);break;case 59:d0.setQuadrant3Text(E0[i0]);break;case 60:d0.setQuadrant4Text(E0[i0]);break;case 64:this.$={text:E0[i0],type:"text"};break;case 65:this.$={text:E0[i0-1].text+""+E0[i0],type:E0[i0-1].type};break;case 66:this.$={text:E0[i0],type:"text"};break;case 67:this.$={text:E0[i0],type:"markdown"};break;case 68:this.$=E0[i0];break;case 69:this.$=E0[i0-1]+""+E0[i0];break}},"anonymous"),table:[{18:J,26:1,27:2,28:Q,55:K,56:X,57:U},{1:[3]},{18:J,26:8,27:2,28:Q,55:K,56:X,57:U},{18:J,26:9,27:2,28:Q,55:K,56:X,57:U},Z(Y,[2,33],{29:10}),Z(q,[2,61]),Z(q,[2,62]),Z(q,[2,63]),{1:[2,30]},{1:[2,31]},Z(z,G,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:H,5:W,10:F,12:M,13:B,14:O,18:A,25:L,35:I,37:D,39:w,41:N,42:E,48:j,50:P,51:C,52:T,53:V,54:S,60:$,61:f,63:h,64:v,65:b,66:y,67:k}),Z(Y,[2,34]),{27:45,55:K,56:X,57:U},Z(z,[2,37]),Z(z,G,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:H,5:W,10:F,12:M,13:B,14:O,18:A,25:L,35:I,37:D,39:w,41:N,42:E,48:j,50:P,51:C,52:T,53:V,54:S,60:$,61:f,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,39]),Z(z,[2,40]),Z(z,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},Z(z,[2,45]),Z(z,[2,46]),{18:[1,50]},{4:H,5:W,10:F,12:M,13:B,14:O,43:51,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,10:F,12:M,13:B,14:O,43:52,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,10:F,12:M,13:B,14:O,43:53,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,10:F,12:M,13:B,14:O,43:54,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,10:F,12:M,13:B,14:O,43:55,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,10:F,12:M,13:B,14:O,43:56,58:31,60:$,61:f,63:h,64:v,65:b,66:y,67:k},{4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,44:[1,57],47:[1,58],58:60,59:59,63:h,64:v,65:b,66:y,67:k},Z(i,[2,64]),Z(i,[2,66]),Z(i,[2,67]),Z(i,[2,70]),Z(i,[2,71]),Z(i,[2,72]),Z(i,[2,73]),Z(i,[2,74]),Z(i,[2,75]),Z(i,[2,76]),Z(i,[2,77]),Z(i,[2,78]),Z(i,[2,79]),Z(i,[2,80]),Z(Y,[2,35]),Z(z,[2,38]),Z(z,[2,42]),Z(z,[2,43]),Z(z,[2,44]),{3:64,4:e,5:J0,6:z0,7:t,8:B0,9:X0,10:d,11:o,12:a,13:Q0,14:K0,15:A0,21:63},Z(z,[2,53],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,49:[1,77],63:h,64:v,65:b,66:y,67:k}),Z(z,[2,56],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,49:[1,78],63:h,64:v,65:b,66:y,67:k}),Z(z,[2,57],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,58],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,59],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,60],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),{45:[1,79]},{44:[1,80]},Z(i,[2,65]),Z(i,[2,81]),Z(i,[2,82]),Z(i,[2,83]),{3:82,4:e,5:J0,6:z0,7:t,8:B0,9:X0,10:d,11:o,12:a,13:Q0,14:K0,15:A0,18:[1,81]},Z(r,[2,23]),Z(r,[2,1]),Z(r,[2,2]),Z(r,[2,3]),Z(r,[2,4]),Z(r,[2,5]),Z(r,[2,6]),Z(r,[2,7]),Z(r,[2,8]),Z(r,[2,9]),Z(r,[2,10]),Z(r,[2,11]),Z(r,[2,12]),Z(z,[2,52],{58:31,43:83,4:H,5:W,10:F,12:M,13:B,14:O,60:$,61:f,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,55],{58:31,43:84,4:H,5:W,10:F,12:M,13:B,14:O,60:$,61:f,63:h,64:v,65:b,66:y,67:k}),{46:[1,85]},{45:[1,86]},{4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,16:89,17:b0,18:S0,19:H0,20:l,22:88,23:87},Z(r,[2,24]),Z(z,[2,51],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,54],{59:59,58:60,4:H,5:W,8:g,10:F,12:M,13:B,14:O,18:u,63:h,64:v,65:b,66:y,67:k}),Z(z,[2,47],{22:88,16:89,23:100,4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,17:b0,18:S0,19:H0,20:l}),{46:[1,101]},Z(z,[2,29],{10:q0}),Z(G0,[2,27],{16:103,4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,17:b0,18:S0,19:H0,20:l}),Z(n,[2,25]),Z(n,[2,13]),Z(n,[2,14]),Z(n,[2,15]),Z(n,[2,16]),Z(n,[2,17]),Z(n,[2,18]),Z(n,[2,19]),Z(n,[2,20]),Z(n,[2,21]),Z(n,[2,22]),Z(z,[2,49],{10:q0}),Z(z,[2,48],{22:88,16:89,23:104,4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,17:b0,18:S0,19:H0,20:l}),{4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,16:89,17:b0,18:S0,19:H0,20:l,22:105},Z(n,[2,26]),Z(z,[2,50],{10:q0}),Z(G0,[2,28],{16:103,4:v0,5:Y0,6:k0,8:h0,11:V0,13:l0,17:b0,18:S0,19:H0,20:l})],defaultActions:{8:[2,30],9:[2,31]},parseError:R(function x0(_0,y0){if(y0.recoverable)this.trace(_0);else{var m0=new Error(_0);throw m0.hash=y0,m0}},"parseError"),parse:R(function x0(_0){var y0=this,m0=[0],d0=[],u0=[null],E0=[],Z9=this.table,i0="",Q8=0,F8=0,g9=0,t9=2,H9=1,f9=E0.slice.call(arguments,1),t0=Object.create(this.lexer),T9={yy:{}};for(var l9 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,l9))T9.yy[l9]=this.yy[l9];if(t0.setInput(_0,T9.yy),T9.yy.lexer=t0,T9.yy.parser=this,typeof t0.yylloc=="undefined")t0.yylloc={};var O9=t0.yylloc;E0.push(O9);var w9=t0.options&&t0.options.ranges;if(typeof T9.yy.parseError==="function")this.parseError=T9.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function M9(AZ){m0.length=m0.length-2*AZ,u0.length=u0.length-AZ,E0.length=E0.length-AZ}R(M9,"popStack");function c9(){var AZ=d0.pop()||t0.lex()||H9;if(typeof AZ!=="number"){if(AZ instanceof Array)d0=AZ,AZ=d0.pop();AZ=y0.symbols_[AZ]||AZ}return AZ}R(c9,"lex");var q9,z8,N9,y9,N8,CJ,e9={},_Z,GZ,xJ,JJ;while(!0){if(N9=m0[m0.length-1],this.defaultActions[N9])y9=this.defaultActions[N9];else{if(q9===null||typeof q9=="undefined")q9=c9();y9=Z9[N9]&&Z9[N9][q9]}if(typeof y9==="undefined"||!y9.length||!y9[0]){var j7="";JJ=[];for(_Z in Z9[N9])if(this.terminals_[_Z]&&_Z>t9)JJ.push("'"+this.terminals_[_Z]+"'");if(t0.showPosition)j7="Parse error on line "+(Q8+1)+":\n"+t0.showPosition()+"\nExpecting "+JJ.join(", ")+", got '"+(this.terminals_[q9]||q9)+"'";else j7="Parse error on line "+(Q8+1)+": Unexpected "+(q9==H9?"end of input":"'"+(this.terminals_[q9]||q9)+"'");this.parseError(j7,{text:t0.match,token:this.terminals_[q9]||q9,line:t0.yylineno,loc:O9,expected:JJ})}if(y9[0]instanceof Array&&y9.length>1)throw new Error("Parse Error: multiple actions possible at state: "+N9+", token: "+q9);switch(y9[0]){case 1:if(m0.push(q9),u0.push(t0.yytext),E0.push(t0.yylloc),m0.push(y9[1]),q9=null,!z8){if(F8=t0.yyleng,i0=t0.yytext,Q8=t0.yylineno,O9=t0.yylloc,g9>0)g9--}else q9=z8,z8=null;break;case 2:if(GZ=this.productions_[y9[1]][1],e9.$=u0[u0.length-GZ],e9._$={first_line:E0[E0.length-(GZ||1)].first_line,last_line:E0[E0.length-1].last_line,first_column:E0[E0.length-(GZ||1)].first_column,last_column:E0[E0.length-1].last_column},w9)e9._$.range=[E0[E0.length-(GZ||1)].range[0],E0[E0.length-1].range[1]];if(CJ=this.performAction.apply(e9,[i0,F8,Q8,T9.yy,y9[1],u0,E0].concat(f9)),typeof CJ!=="undefined")return CJ;if(GZ)m0=m0.slice(0,-1*GZ*2),u0=u0.slice(0,-1*GZ),E0=E0.slice(0,-1*GZ);m0.push(this.productions_[y9[1]][0]),u0.push(e9.$),E0.push(e9._$),xJ=Z9[m0[m0.length-2]][m0[m0.length-1]],m0.push(xJ);break;case 3:return!0}}return!0},"parse")},M0=function(){var x0={EOF:1,parseError:R(function _0(y0,m0){if(this.yy.parser)this.yy.parser.parseError(y0,m0);else throw new Error(y0)},"parseError"),setInput:R(function(_0,y0){if(this.yy=y0||this.yy||{},this._input=_0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var _0=this._input[0];this.yytext+=_0,this.yyleng++,this.offset++,this.match+=_0,this.matched+=_0;var y0=_0.match(/(?:\r\n?|\n).*/g);if(y0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),_0},"input"),unput:R(function(_0){var y0=_0.length,m0=_0.split(/(?:\r\n?|\n)/g);this._input=_0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y0),this.offset-=y0;var d0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m0.length-1)this.yylineno-=m0.length-1;var u0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m0?(m0.length===d0.length?this.yylloc.first_column:0)+d0[d0.length-m0.length].length-m0[0].length:this.yylloc.first_column-y0},this.options.ranges)this.yylloc.range=[u0[0],u0[0]+this.yyleng-y0];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(_0){this.unput(this.match.slice(_0))},"less"),pastInput:R(function(){var _0=this.matched.substr(0,this.matched.length-this.match.length);return(_0.length>20?"...":"")+_0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var _0=this.match;if(_0.length<20)_0+=this._input.substr(0,20-_0.length);return(_0.substr(0,20)+(_0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var _0=this.pastInput(),y0=new Array(_0.length+1).join("-");return _0+this.upcomingInput()+"\n"+y0+"^"},"showPosition"),test_match:R(function(_0,y0){var m0,d0,u0;if(this.options.backtrack_lexer){if(u0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)u0.yylloc.range=this.yylloc.range.slice(0)}if(d0=_0[0].match(/(?:\r\n?|\n).*/g),d0)this.yylineno+=d0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d0?d0[d0.length-1].length-d0[d0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_0[0].length},this.yytext+=_0[0],this.match+=_0[0],this.matches=_0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(_0[0].length),this.matched+=_0[0],m0=this.performAction.call(this,this.yy,this,y0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(m0)return m0;else if(this._backtrack){for(var E0 in u0)this[E0]=u0[E0];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var _0,y0,m0,d0;if(!this._more)this.yytext="",this.match="";var u0=this._currentRules();for(var E0=0;E0<u0.length;E0++)if(m0=this._input.match(this.rules[u0[E0]]),m0&&(!y0||m0[0].length>y0[0].length)){if(y0=m0,d0=E0,this.options.backtrack_lexer)if(_0=this.test_match(m0,u0[E0]),_0!==!1)return _0;else if(this._backtrack){y0=!1;continue}else return!1;else if(!this.options.flex)break}if(y0){if(_0=this.test_match(y0,u0[d0]),_0!==!1)return _0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function _0(){var y0=this.next();if(y0)return y0;else return this.lex()},"lex"),begin:R(function _0(y0){this.conditionStack.push(y0)},"begin"),popState:R(function _0(){var y0=this.conditionStack.length-1;if(y0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function _0(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function _0(y0){if(y0=this.conditionStack.length-1-Math.abs(y0||0),y0>=0)return this.conditionStack[y0];else return"INITIAL"},"topState"),pushState:R(function _0(y0){this.begin(y0)},"pushState"),stateStackSize:R(function _0(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function _0(y0,m0,d0,u0){var E0=u0;switch(d0){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;break;case 5:return this.popState(),"title_value";break;case 6:return this.begin("acc_title"),37;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),39;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;break;case 29:return this.begin("point_start"),44;break;case 30:return this.begin("point_x"),45;break;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;break;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return x0}();U0.lexer=M0;function F0(){this.yy={}}return R(F0,"Parser"),F0.prototype=U0,U0.Parser=F0,new F0}();Hk.parser=Hk;mv0=Hk,m7=mG(),gv0=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{R(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:B8.quadrantChart?.chartWidth||500,chartWidth:B8.quadrantChart?.chartHeight||500,titlePadding:B8.quadrantChart?.titlePadding||10,titleFontSize:B8.quadrantChart?.titleFontSize||20,quadrantPadding:B8.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:B8.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:B8.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:B8.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:B8.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:B8.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:B8.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:B8.quadrantChart?.pointTextPadding||5,pointLabelFontSize:B8.quadrantChart?.pointLabelFontSize||12,pointRadius:B8.quadrantChart?.pointRadius||5,xAxisPosition:B8.quadrantChart?.xAxisPosition||"top",yAxisPosition:B8.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:B8.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:B8.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:m7.quadrant1Fill,quadrant2Fill:m7.quadrant2Fill,quadrant3Fill:m7.quadrant3Fill,quadrant4Fill:m7.quadrant4Fill,quadrant1TextFill:m7.quadrant1TextFill,quadrant2TextFill:m7.quadrant2TextFill,quadrant3TextFill:m7.quadrant3TextFill,quadrant4TextFill:m7.quadrant4TextFill,quadrantPointFill:m7.quadrantPointFill,quadrantPointTextFill:m7.quadrantPointTextFill,quadrantXAxisTextFill:m7.quadrantXAxisTextFill,quadrantYAxisTextFill:m7.quadrantYAxisTextFill,quadrantTitleFill:m7.quadrantTitleFill,quadrantInternalBorderStrokeFill:m7.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:m7.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,p.info("clear called")}setData(Z){this.data={...this.data,...Z}}addPoints(Z){this.data.points=[...Z,...this.data.points]}addClass(Z,J){this.classes.set(Z,J)}setConfig(Z){p.trace("setConfig called with: ",Z),this.config={...this.config,...Z}}setThemeConfig(Z){p.trace("setThemeConfig called with: ",Z),this.themeConfig={...this.themeConfig,...Z}}calculateSpace(Z,J,Q,K){const X=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,U={top:Z==="top"&&J?X:0,bottom:Z==="bottom"&&J?X:0},Y=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,q={left:this.config.yAxisPosition==="left"&&Q?Y:0,right:this.config.yAxisPosition==="right"&&Q?Y:0},z=this.config.titleFontSize+this.config.titlePadding*2,G={top:K?z:0},H=this.config.quadrantPadding+q.left,W=this.config.quadrantPadding+U.top+G.top,F=this.config.chartWidth-this.config.quadrantPadding*2-q.left-q.right,M=this.config.chartHeight-this.config.quadrantPadding*2-U.top-U.bottom-G.top,B=F/2,O=M/2;return{xAxisSpace:U,yAxisSpace:q,titleSpace:G,quadrantSpace:{quadrantLeft:H,quadrantTop:W,quadrantWidth:F,quadrantHalfWidth:B,quadrantHeight:M,quadrantHalfHeight:O}}}getAxisLabels(Z,J,Q,K){const{quadrantSpace:X,titleSpace:U}=K,{quadrantHalfHeight:Y,quadrantHeight:q,quadrantLeft:z,quadrantHalfWidth:G,quadrantTop:H,quadrantWidth:W}=X,F=Boolean(this.data.xAxisRightText),M=Boolean(this.data.yAxisTopText),B=[];if(this.data.xAxisLeftText&&J)B.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:z+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+U.top:this.config.xAxisLabelPadding+H+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.xAxisRightText&&J)B.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:z+G+(F?G/2:0),y:Z==="top"?this.config.xAxisLabelPadding+U.top:this.config.xAxisLabelPadding+H+q+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:F?"center":"left",horizontalPos:"top",rotation:0});if(this.data.yAxisBottomText&&Q)B.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+z+W+this.config.quadrantPadding,y:H+q-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});if(this.data.yAxisTopText&&Q)B.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+z+W+this.config.quadrantPadding,y:H+Y-(M?Y/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:M?"center":"left",horizontalPos:"top",rotation:-90});return B}getQuadrants(Z){const{quadrantSpace:J}=Z,{quadrantHalfHeight:Q,quadrantLeft:K,quadrantHalfWidth:X,quadrantTop:U}=J,Y=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+X,y:U,width:X,height:Q,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:U,width:X,height:Q,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K,y:U+Q,width:X,height:Q,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:K+X,y:U+Q,width:X,height:Q,fill:this.themeConfig.quadrant4Fill}];for(let q of Y)if(q.text.x=q.x+q.width/2,this.data.points.length===0)q.text.y=q.y+q.height/2,q.text.horizontalPos="middle";else q.text.y=q.y+this.config.quadrantTextTopPadding,q.text.horizontalPos="top";return Y}getQuadrantPoints(Z){const{quadrantSpace:J}=Z,{quadrantHeight:Q,quadrantLeft:K,quadrantTop:X,quadrantWidth:U}=J,Y=pQ().domain([0,1]).range([K,U+K]),q=pQ().domain([0,1]).range([Q+X,X]);return this.data.points.map((G)=>{const H=this.classes.get(G.className);if(H)G={...H,...G};return{x:Y(G.x),y:q(G.y),fill:G.color??this.themeConfig.quadrantPointFill,radius:G.radius??this.config.pointRadius,text:{text:G.text,fill:this.themeConfig.quadrantPointTextFill,x:Y(G.x),y:q(G.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:G.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:G.strokeWidth??"0px"}})}getBorders(Z){const J=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:Q}=Z,{quadrantHalfHeight:K,quadrantHeight:X,quadrantLeft:U,quadrantHalfWidth:Y,quadrantTop:q,quadrantWidth:z}=Q;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U-J,y1:q,x2:U+z+J,y2:q},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U+z,y1:q+J,x2:U+z,y2:q+X-J},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U-J,y1:q+X,x2:U+z+J,y2:q+X},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:U,y1:q+J,x2:U,y2:q+X-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:U+Y,y1:q+J,x2:U+Y,y2:q+X-J},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:U+J,y1:q+K,x2:U+z-J,y2:q+K}]}getTitle(Z){if(Z)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2};return}build(){const Z=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),J=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),Q=this.config.showTitle&&!!this.data.titleText,K=this.data.points.length>0?"bottom":this.config.xAxisPosition,X=this.calculateSpace(K,Z,J,Q);return{points:this.getQuadrantPoints(X),quadrants:this.getQuadrants(X),axisLabels:this.getAxisLabels(K,Z,J,X),borderLines:this.getBorders(X),title:this.getTitle(Q)}}},$I=class extends Error{static{R(this,"InvalidStyleError")}constructor(Z,J,Q){super(`value for ${Z} ${J} is invalid, please use a valid ${Q}`);this.name="InvalidStyleError"}};R(Wk,"validateHexCode");R(QJ0,"validateNumber");R(KJ0,"validateSizeInPixels");pv0=W0();R(MK,"textSanitizer");Z7=new gv0;R(XJ0,"setQuadrant1Text");R(UJ0,"setQuadrant2Text");R(YJ0,"setQuadrant3Text");R(qJ0,"setQuadrant4Text");R(zJ0,"setXAxisLeftText");R(GJ0,"setXAxisRightText");R(HJ0,"setYAxisTopText");R(WJ0,"setYAxisBottomText");R(_I,"parseStyles");R(FJ0,"addPoint");R(MJ0,"addClass");R(BJ0,"setWidth");R(RJ0,"setHeight");R(OJ0,"getQuadrantData");cv0=R(function(){Z7.clear(),O8()},"clear"),lv0={setWidth:BJ0,setHeight:RJ0,setQuadrant1Text:XJ0,setQuadrant2Text:UJ0,setQuadrant3Text:YJ0,setQuadrant4Text:qJ0,setXAxisLeftText:zJ0,setXAxisRightText:GJ0,setYAxisTopText:HJ0,setYAxisBottomText:WJ0,parseStyles:_I,addPoint:FJ0,addClass:MJ0,getQuadrantData:OJ0,clear:cv0,setAccTitle:E8,getAccTitle:f8,setDiagramTitle:o8,getDiagramTitle:m8,getAccDescription:k8,setAccDescription:v8},dv0=R((Z,J,Q,K)=>{function X(P){return P==="top"?"hanging":"middle"}R(X,"getDominantBaseLine");function U(P){return P==="left"?"start":"middle"}R(U,"getTextAnchor");function Y(P){return`translate(${P.x}, ${P.y}) rotate(${P.rotation||0})`}R(Y,"getTransformation");const q=W0();p.debug("Rendering quadrant chart\n"+Z);const z=q.securityLevel;let G;if(z==="sandbox")G=$0("#i"+J);const W=(z==="sandbox"?$0(G.nodes()[0].contentDocument.body):$0("body")).select(`[id="${J}"]`),F=W.append("g").attr("class","main"),M=q.quadrantChart?.chartWidth??500,B=q.quadrantChart?.chartHeight??500;R8(W,B,M,q.quadrantChart?.useMaxWidth??!0),W.attr("viewBox","0 0 "+M+" "+B),K.db.setHeight(B),K.db.setWidth(M);const O=K.db.getQuadrantData(),A=F.append("g").attr("class","quadrants"),L=F.append("g").attr("class","border"),I=F.append("g").attr("class","data-points"),D=F.append("g").attr("class","labels"),w=F.append("g").attr("class","title");if(O.title)w.append("text").attr("x",0).attr("y",0).attr("fill",O.title.fill).attr("font-size",O.title.fontSize).attr("dominant-baseline",X(O.title.horizontalPos)).attr("text-anchor",U(O.title.verticalPos)).attr("transform",Y(O.title)).text(O.title.text);if(O.borderLines)L.selectAll("line").data(O.borderLines).enter().append("line").attr("x1",(P)=>P.x1).attr("y1",(P)=>P.y1).attr("x2",(P)=>P.x2).attr("y2",(P)=>P.y2).style("stroke",(P)=>P.strokeFill).style("stroke-width",(P)=>P.strokeWidth);const N=A.selectAll("g.quadrant").data(O.quadrants).enter().append("g").attr("class","quadrant");N.append("rect").attr("x",(P)=>P.x).attr("y",(P)=>P.y).attr("width",(P)=>P.width).attr("height",(P)=>P.height).attr("fill",(P)=>P.fill),N.append("text").attr("x",0).attr("y",0).attr("fill",(P)=>P.text.fill).attr("font-size",(P)=>P.text.fontSize).attr("dominant-baseline",(P)=>X(P.text.horizontalPos)).attr("text-anchor",(P)=>U(P.text.verticalPos)).attr("transform",(P)=>Y(P.text)).text((P)=>P.text.text),D.selectAll("g.label").data(O.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text((P)=>P.text).attr("fill",(P)=>P.fill).attr("font-size",(P)=>P.fontSize).attr("dominant-baseline",(P)=>X(P.horizontalPos)).attr("text-anchor",(P)=>U(P.verticalPos)).attr("transform",(P)=>Y(P));const j=I.selectAll("g.data-point").data(O.points).enter().append("g").attr("class","data-point");j.append("circle").attr("cx",(P)=>P.x).attr("cy",(P)=>P.y).attr("r",(P)=>P.radius).attr("fill",(P)=>P.fill).attr("stroke",(P)=>P.strokeColor).attr("stroke-width",(P)=>P.strokeWidth),j.append("text").attr("x",0).attr("y",0).text((P)=>P.text.text).attr("fill",(P)=>P.text.fill).attr("font-size",(P)=>P.text.fontSize).attr("dominant-baseline",(P)=>X(P.text.horizontalPos)).attr("text-anchor",(P)=>U(P.text.verticalPos)).attr("transform",(P)=>Y(P.text))},"draw"),iv0={draw:dv0},sv0={parser:mv0,db:lv0,renderer:iv0,styles:R(()=>"","styles")}});var yJ0={};q8(yJ0,{diagram:()=>qk0});function Mk(Z){return Z.type==="bar"}function Ok(Z){return Z.type==="band"}function Sz(Z){return Z.type==="linear"}function Bk(Z,J,Q,K){const X=new NJ0(K);if(Ok(Z))return new nv0(J,Q,Z.categories,Z.title,X);return new av0(J,Q,[Z.min,Z.max],Z.title,X)}function wJ0(Z,J,Q,K){const X=new NJ0(K);return new ov0(X,Z,J,Q)}function jJ0(Z,J,Q){return new Zk0(Z,J,Q)}function Lk(){const Z=mG(),J=a8();return J6(Z.xyChart,J.themeVariables.xyChart)}function Ik(){const Z=a8();return J6(B8.xyChart,Z.xyChart)}function Dk(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function xI(Z){const J=a8();return u8(Z.trim(),J)}function PJ0(Z){CJ0=Z}function VJ0(Z){if(Z==="horizontal")wF.chartOrientation="horizontal";else wF.chartOrientation="vertical"}function SJ0(Z){d8.xAxis.title=xI(Z.text)}function Nk(Z,J){d8.xAxis={type:"linear",title:d8.xAxis.title,min:Z,max:J},bI=!0}function TJ0(Z){d8.xAxis={type:"band",title:d8.xAxis.title,categories:Z.map((J)=>xI(J.text))},bI=!0}function fJ0(Z){d8.yAxis.title=xI(Z.text)}function vJ0(Z,J){d8.yAxis={type:"linear",title:d8.yAxis.title,min:Z,max:J},Ak=!0}function kJ0(Z){const J=Math.min(...Z),Q=Math.max(...Z),K=Sz(d8.yAxis)?d8.yAxis.min:1/0,X=Sz(d8.yAxis)?d8.yAxis.max:-1/0;d8.yAxis={type:"linear",title:d8.yAxis.title,min:Math.min(K,J),max:Math.max(X,Q)}}function Ek(Z){let J=[];if(Z.length===0)return J;if(!bI){const Q=Sz(d8.xAxis)?d8.xAxis.min:1/0,K=Sz(d8.xAxis)?d8.xAxis.max:-1/0;Nk(Math.min(Q,1),Math.max(K,Z.length))}if(!Ak)kJ0(Z);if(Ok(d8.xAxis))J=d8.xAxis.categories.map((Q,K)=>[Q,Z[K]]);if(Sz(d8.xAxis)){const Q=d8.xAxis.min,K=d8.xAxis.max,X=(K-Q)/(Z.length-1),U=[];for(let Y=Q;Y<=K;Y+=X)U.push(`${Y}`);J=U.map((Y,q)=>[Y,Z[q]])}return J}function wk(Z){return Rk[Z===0?0:Z%Rk.length]}function $J0(Z,J){const Q=Ek(J);d8.plots.push({type:"line",strokeFill:wk(EF),strokeWidth:2,data:Q}),EF++}function _J0(Z,J){const Q=Ek(J);d8.plots.push({type:"bar",fill:wk(EF),data:Q}),EF++}function bJ0(){if(d8.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return d8.title=m8(),Qk0.build(wF,d8,jF,CJ0)}function xJ0(){return jF}function hJ0(){return wF}var Fk,rv0,NJ0,IJ0=0.7,DJ0=0.2,EJ0,nv0,av0,ov0,tv0,ev0,Zk0,Jk0,Qk0,EF=0,CJ0=0,wF,jF,d8,Rk,bI=!1,Ak=!1,Kk0,Xk0,Uk0,Yk0,qk0;var uJ0=_(()=>{x6();FZ();QY();X8();i9();i9();i9();Fk=function(){var Z=R(function(h,v,b,y){for(b=b||{},y=h.length;y--;b[h[y]]=v);return b},"o"),J=[1,10,12,14,16,18,19,21,23],Q=[2,6],K=[1,3],X=[1,5],U=[1,6],Y=[1,7],q=[1,5,10,12,14,16,18,19,21,23,34,35,36],z=[1,25],G=[1,26],H=[1,28],W=[1,29],F=[1,30],M=[1,31],B=[1,32],O=[1,33],A=[1,34],L=[1,35],I=[1,36],D=[1,37],w=[1,43],N=[1,42],E=[1,47],j=[1,50],P=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],T=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],V=[1,64],S={trace:R(function h(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:R(function h(v,b,y,k,g,u,i){var e=u.length-1;switch(g){case 5:k.setOrientation(u[e]);break;case 9:k.setDiagramTitle(u[e].text.trim());break;case 12:k.setLineData({text:"",type:"text"},u[e]);break;case 13:k.setLineData(u[e-1],u[e]);break;case 14:k.setBarData({text:"",type:"text"},u[e]);break;case 15:k.setBarData(u[e-1],u[e]);break;case 16:this.$=u[e].trim(),k.setAccTitle(this.$);break;case 17:case 18:this.$=u[e].trim(),k.setAccDescription(this.$);break;case 19:this.$=u[e-1];break;case 20:this.$=[Number(u[e-2]),...u[e]];break;case 21:this.$=[Number(u[e])];break;case 22:k.setXAxisTitle(u[e]);break;case 23:k.setXAxisTitle(u[e-1]);break;case 24:k.setXAxisTitle({type:"text",text:""});break;case 25:k.setXAxisBand(u[e]);break;case 26:k.setXAxisRangeData(Number(u[e-2]),Number(u[e]));break;case 27:this.$=u[e-1];break;case 28:this.$=[u[e-2],...u[e]];break;case 29:this.$=[u[e]];break;case 30:k.setYAxisTitle(u[e]);break;case 31:k.setYAxisTitle(u[e-1]);break;case 32:k.setYAxisTitle({type:"text",text:""});break;case 33:k.setYAxisRangeData(Number(u[e-2]),Number(u[e]));break;case 37:this.$={text:u[e],type:"text"};break;case 38:this.$={text:u[e],type:"text"};break;case 39:this.$={text:u[e],type:"markdown"};break;case 40:this.$=u[e];break;case 41:this.$=u[e-1]+""+u[e];break}},"anonymous"),table:[Z(J,Q,{3:1,4:2,7:4,5:K,34:X,35:U,36:Y}),{1:[3]},Z(J,Q,{4:2,7:4,3:8,5:K,34:X,35:U,36:Y}),Z(J,Q,{4:2,7:4,6:9,3:10,5:K,8:[1,11],34:X,35:U,36:Y}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},Z(q,[2,34]),Z(q,[2,35]),Z(q,[2,36]),{1:[2,1]},Z(J,Q,{4:2,7:4,3:21,5:K,34:X,35:U,36:Y}),{1:[2,3]},Z(q,[2,5]),Z(J,[2,7],{4:22,34:X,35:U,36:Y}),{11:23,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},{11:39,13:38,24:w,27:N,29:40,30:41,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},{11:45,15:44,27:E,33:46,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},{11:49,17:48,24:j,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},{11:52,17:51,24:j,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},{20:[1,53]},{22:[1,54]},Z(P,[2,18]),{1:[2,2]},Z(P,[2,8]),Z(P,[2,9]),Z(C,[2,37],{40:55,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D}),Z(C,[2,38]),Z(C,[2,39]),Z(T,[2,40]),Z(T,[2,42]),Z(T,[2,43]),Z(T,[2,44]),Z(T,[2,45]),Z(T,[2,46]),Z(T,[2,47]),Z(T,[2,48]),Z(T,[2,49]),Z(T,[2,50]),Z(T,[2,51]),Z(P,[2,10]),Z(P,[2,22],{30:41,29:56,24:w,27:N}),Z(P,[2,24]),Z(P,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},Z(P,[2,11]),Z(P,[2,30],{33:60,27:E}),Z(P,[2,32]),{31:[1,61]},Z(P,[2,12]),{17:62,24:j},{25:63,27:V},Z(P,[2,14]),{17:65,24:j},Z(P,[2,16]),Z(P,[2,17]),Z(T,[2,41]),Z(P,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},Z(P,[2,31]),{27:[1,69]},Z(P,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},Z(P,[2,15]),Z(P,[2,26]),Z(P,[2,27]),{11:59,32:72,37:24,38:z,39:G,40:27,41:H,42:W,43:F,44:M,45:B,46:O,47:A,48:L,49:I,50:D},Z(P,[2,33]),Z(P,[2,19]),{25:73,27:V},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:R(function h(v,b){if(b.recoverable)this.trace(v);else{var y=new Error(v);throw y.hash=b,y}},"parseError"),parse:R(function h(v){var b=this,y=[0],k=[],g=[null],u=[],i=this.table,e="",J0=0,z0=0,t=0,B0=2,X0=1,d=u.slice.call(arguments,1),o=Object.create(this.lexer),a={yy:{}};for(var Q0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,Q0))a.yy[Q0]=this.yy[Q0];if(o.setInput(v,a.yy),a.yy.lexer=o,a.yy.parser=this,typeof o.yylloc=="undefined")o.yylloc={};var K0=o.yylloc;u.push(K0);var A0=o.options&&o.options.ranges;if(typeof a.yy.parseError==="function")this.parseError=a.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function r(U0){y.length=y.length-2*U0,g.length=g.length-U0,u.length=u.length-U0}R(r,"popStack");function v0(){var U0=k.pop()||o.lex()||X0;if(typeof U0!=="number"){if(U0 instanceof Array)k=U0,U0=k.pop();U0=b.symbols_[U0]||U0}return U0}R(v0,"lex");var Y0,k0,h0,V0,l0,b0,S0={},H0,l,q0,G0;while(!0){if(h0=y[y.length-1],this.defaultActions[h0])V0=this.defaultActions[h0];else{if(Y0===null||typeof Y0=="undefined")Y0=v0();V0=i[h0]&&i[h0][Y0]}if(typeof V0==="undefined"||!V0.length||!V0[0]){var n="";G0=[];for(H0 in i[h0])if(this.terminals_[H0]&&H0>B0)G0.push("'"+this.terminals_[H0]+"'");if(o.showPosition)n="Parse error on line "+(J0+1)+":\n"+o.showPosition()+"\nExpecting "+G0.join(", ")+", got '"+(this.terminals_[Y0]||Y0)+"'";else n="Parse error on line "+(J0+1)+": Unexpected "+(Y0==X0?"end of input":"'"+(this.terminals_[Y0]||Y0)+"'");this.parseError(n,{text:o.match,token:this.terminals_[Y0]||Y0,line:o.yylineno,loc:K0,expected:G0})}if(V0[0]instanceof Array&&V0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h0+", token: "+Y0);switch(V0[0]){case 1:if(y.push(Y0),g.push(o.yytext),u.push(o.yylloc),y.push(V0[1]),Y0=null,!k0){if(z0=o.yyleng,e=o.yytext,J0=o.yylineno,K0=o.yylloc,t>0)t--}else Y0=k0,k0=null;break;case 2:if(l=this.productions_[V0[1]][1],S0.$=g[g.length-l],S0._$={first_line:u[u.length-(l||1)].first_line,last_line:u[u.length-1].last_line,first_column:u[u.length-(l||1)].first_column,last_column:u[u.length-1].last_column},A0)S0._$.range=[u[u.length-(l||1)].range[0],u[u.length-1].range[1]];if(b0=this.performAction.apply(S0,[e,z0,J0,a.yy,V0[1],g,u].concat(d)),typeof b0!=="undefined")return b0;if(l)y=y.slice(0,-1*l*2),g=g.slice(0,-1*l),u=u.slice(0,-1*l);y.push(this.productions_[V0[1]][0]),g.push(S0.$),u.push(S0._$),q0=i[y[y.length-2]][y[y.length-1]],y.push(q0);break;case 3:return!0}}return!0},"parse")},$=function(){var h={EOF:1,parseError:R(function v(b,y){if(this.yy.parser)this.yy.parser.parseError(b,y);else throw new Error(b)},"parseError"),setInput:R(function(v,b){if(this.yy=b||this.yy||{},this._input=v,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var v=this._input[0];this.yytext+=v,this.yyleng++,this.offset++,this.match+=v,this.matched+=v;var b=v.match(/(?:\r\n?|\n).*/g);if(b)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),v},"input"),unput:R(function(v){var b=v.length,y=v.split(/(?:\r\n?|\n)/g);this._input=v+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var k=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1)this.yylineno-=y.length-1;var g=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===k.length?this.yylloc.first_column:0)+k[k.length-y.length].length-y[0].length:this.yylloc.first_column-b},this.options.ranges)this.yylloc.range=[g[0],g[0]+this.yyleng-b];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(v){this.unput(this.match.slice(v))},"less"),pastInput:R(function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var v=this.match;if(v.length<20)v+=this._input.substr(0,20-v.length);return(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var v=this.pastInput(),b=new Array(v.length+1).join("-");return v+this.upcomingInput()+"\n"+b+"^"},"showPosition"),test_match:R(function(v,b){var y,k,g;if(this.options.backtrack_lexer){if(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)g.yylloc.range=this.yylloc.range.slice(0)}if(k=v[0].match(/(?:\r\n?|\n).*/g),k)this.yylineno+=k.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+v[0].length},this.yytext+=v[0],this.match+=v[0],this.matches=v,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(v[0].length),this.matched+=v[0],y=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(y)return y;else if(this._backtrack){for(var u in g)this[u]=g[u];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var v,b,y,k;if(!this._more)this.yytext="",this.match="";var g=this._currentRules();for(var u=0;u<g.length;u++)if(y=this._input.match(this.rules[g[u]]),y&&(!b||y[0].length>b[0].length)){if(b=y,k=u,this.options.backtrack_lexer)if(v=this.test_match(y,g[u]),v!==!1)return v;else if(this._backtrack){b=!1;continue}else return!1;else if(!this.options.flex)break}if(b){if(v=this.test_match(b,g[k]),v!==!1)return v;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function v(){var b=this.next();if(b)return b;else return this.lex()},"lex"),begin:R(function v(b){this.conditionStack.push(b)},"begin"),popState:R(function v(){var b=this.conditionStack.length-1;if(b>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function v(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function v(b){if(b=this.conditionStack.length-1-Math.abs(b||0),b>=0)return this.conditionStack[b];else return"INITIAL"},"topState"),pushState:R(function v(b){this.begin(b)},"pushState"),stateStackSize:R(function v(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function v(b,y,k,g){var u=g;switch(k){case 0:break;case 1:break;case 2:return this.popState(),34;break;case 3:return this.popState(),34;break;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.pushState("acc_descr"),21;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";break;case 17:return this.pushState("axis_data"),"Y_AXIS";break;case 18:return this.pushState("axis_band_data"),24;break;case 19:return 31;case 20:return this.pushState("data"),16;break;case 21:return this.pushState("data"),18;break;case 22:return this.pushState("data_inner"),24;break;case 23:return 27;case 24:return this.popState(),26;break;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return h}();S.lexer=$;function f(){this.yy={}}return R(f,"Parser"),f.prototype=S,S.Parser=f,new f}();Fk.parser=Fk;rv0=Fk;R(Mk,"isBarPlot");R(Ok,"isBandAxisData");R(Sz,"isLinearAxisData");NJ0=class{constructor(Z){this.parentGroup=Z}static{R(this,"TextDimensionCalculatorWithFont")}getMaxDimension(Z,J){if(!this.parentGroup)return{width:Z.reduce((X,U)=>Math.max(U.length,X),0)*J,height:J};const Q={width:0,height:0},K=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",J);for(let X of Z){const U=lC(K,1,X),Y=U?U.width:X.length*J,q=U?U.height:J;Q.width=Math.max(Q.width,Y),Q.height=Math.max(Q.height,q)}return K.remove(),Q}},EJ0=class{constructor(Z,J,Q,K){this.axisConfig=Z,this.title=J,this.textDimensionCalculator=Q,this.axisThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{R(this,"BaseAxis")}setRange(Z){if(this.range=Z,this.axisPosition==="left"||this.axisPosition==="right")this.boundingRect.height=Z[1]-Z[0];else this.boundingRect.width=Z[1]-Z[0];this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(Z){this.axisPosition=Z,this.setRange(this.range)}getTickDistance(){const Z=this.getRange();return Math.abs(Z[0]-Z[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((Z)=>Z.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){if(IJ0*this.getTickDistance()>this.outerPadding*2)this.outerPadding=Math.floor(IJ0*this.getTickDistance()/2);this.recalculateScale()}calculateSpaceIfDrawnHorizontally(Z){let J=Z.height;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){const Q=this.getLabelDimension(),K=DJ0*Z.width;this.outerPadding=Math.min(Q.width/2,K);const X=Q.height+this.axisConfig.labelPadding*2;if(this.labelTextHeight=Q.height,X<=J)J-=X,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){const Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width,this.boundingRect.height=Z.height-J}calculateSpaceIfDrawnVertical(Z){let J=Z.width;if(this.axisConfig.showAxisLine&&J>this.axisConfig.axisLineWidth)J-=this.axisConfig.axisLineWidth,this.showAxisLine=!0;if(this.axisConfig.showLabel){const Q=this.getLabelDimension(),K=DJ0*Z.height;this.outerPadding=Math.min(Q.height/2,K);const X=Q.width+this.axisConfig.labelPadding*2;if(X<=J)J-=X,this.showLabel=!0}if(this.axisConfig.showTick&&J>=this.axisConfig.tickLength)this.showTick=!0,J-=this.axisConfig.tickLength;if(this.axisConfig.showTitle&&this.title){const Q=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),K=Q.height+this.axisConfig.titlePadding*2;if(this.titleTextHeight=Q.height,K<=J)J-=K,this.showTitle=!0}this.boundingRect.width=Z.width-J,this.boundingRect.height=Z.height}calculateSpace(Z){if(this.axisPosition==="left"||this.axisPosition==="right")this.calculateSpaceIfDrawnVertical(Z);else this.calculateSpaceIfDrawnHorizontally(Z);return this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}getDrawableElementsForLeftAxis(){const Z=[];if(this.showAxisLine){const J=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${J},${this.boundingRect.y} L ${J},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(J),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))});if(this.showTick){const J=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${J},${this.getScaleValue(Q)} L ${J-this.axisConfig.tickLength},${this.getScaleValue(Q)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForBottomAxis(){const Z=[];if(this.showAxisLine){const J=this.boundingRect.y+this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){const J=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);Z.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J} L ${this.getScaleValue(Q)},${J+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElementsForTopAxis(){const Z=[];if(this.showAxisLine){const J=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;Z.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${J} L ${this.boundingRect.x+this.boundingRect.width},${J}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel)Z.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map((J)=>({text:J.toString(),x:this.getScaleValue(J),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))});if(this.showTick){const J=this.boundingRect.y;Z.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map((Q)=>({path:`M ${this.getScaleValue(Q)},${J+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(Q)},${J+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}if(this.showTitle)Z.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]});return Z}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");if(this.axisPosition==="bottom")return this.getDrawableElementsForBottomAxis();if(this.axisPosition==="top")return this.getDrawableElementsForTopAxis();return[]}},nv0=class extends EJ0{static{R(this,"BandAxis")}constructor(Z,J,Q,K,X){super(Z,K,X,J);this.categories=Q,this.scale=hq().domain(this.categories).range(this.getRange())}setRange(Z){super.setRange(Z)}recalculateScale(){this.scale=hq().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(0.5),p.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(Z){return this.scale(Z)??this.getRange()[0]}},av0=class extends EJ0{static{R(this,"LinearAxis")}constructor(Z,J,Q,K,X){super(Z,K,X,J);this.domain=Q,this.scale=pQ().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const Z=[...this.domain];if(this.axisPosition==="left")Z.reverse();this.scale=pQ().domain(Z).range(this.getRange())}getScaleValue(Z){return this.scale(Z)}};R(Bk,"getAxis");ov0=class{constructor(Z,J,Q,K){this.textDimensionCalculator=Z,this.chartConfig=J,this.chartData=Q,this.chartThemeConfig=K,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{R(this,"ChartTitle")}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){const J=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),Q=Math.max(J.width,Z.width),K=J.height+2*this.chartConfig.titlePadding;if(J.width<=Q&&J.height<=K&&this.chartConfig.showTitle&&this.chartData.title)this.boundingRect.width=Q,this.boundingRect.height=K,this.showChartTitle=!0;return{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const Z=[];if(this.showChartTitle)Z.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]});return Z}};R(wJ0,"getChartTitleComponent");tv0=class{constructor(Z,J,Q,K,X){this.plotData=Z,this.xAxis=J,this.yAxis=Q,this.orientation=K,this.plotIndex=X}static{R(this,"LinePlot")}getDrawableElement(){const Z=this.plotData.data.map((Q)=>[this.xAxis.getScaleValue(Q[0]),this.yAxis.getScaleValue(Q[1])]);let J;if(this.orientation==="horizontal")J=pJ().y((Q)=>Q[0]).x((Q)=>Q[1])(Z);else J=pJ().x((Q)=>Q[0]).y((Q)=>Q[1])(Z);if(!J)return[];return[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:J,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]}},ev0=class{constructor(Z,J,Q,K,X,U){this.barData=Z,this.boundingRect=J,this.xAxis=Q,this.yAxis=K,this.orientation=X,this.plotIndex=U}static{R(this,"BarPlot")}getDrawableElement(){const Z=this.barData.data.map((X)=>[this.xAxis.getScaleValue(X[0]),this.yAxis.getScaleValue(X[1])]),Q=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*0.95,K=Q/2;if(this.orientation==="horizontal")return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((X)=>({x:this.boundingRect.x,y:X[0]-K,height:Q,width:X[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}];return[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:Z.map((X)=>({x:X[0]-K,y:X[1],width:Q,height:this.boundingRect.y+this.boundingRect.height-X[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},Zk0=class{constructor(Z,J,Q){this.chartConfig=Z,this.chartData=J,this.chartThemeConfig=Q,this.boundingRect={x:0,y:0,width:0,height:0}}static{R(this,"BasePlot")}setAxes(Z,J){this.xAxis=Z,this.yAxis=J}setBoundingBoxXY(Z){this.boundingRect.x=Z.x,this.boundingRect.y=Z.y}calculateSpace(Z){return this.boundingRect.width=Z.width,this.boundingRect.height=Z.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");const Z=[];for(let[J,Q]of this.chartData.plots.entries())switch(Q.type){case"line":{const K=new tv0(Q,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break;case"bar":{const K=new ev0(Q,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,J);Z.push(...K.getDrawableElement())}break}return Z}};R(jJ0,"getPlotComponent");Jk0=class{constructor(Z,J,Q,K){this.chartConfig=Z,this.chartData=J,this.componentStore={title:wJ0(Z,J,Q,K),plot:jJ0(Z,J,Q),xAxis:Bk(J.xAxis,Z.xAxis,{titleColor:Q.xAxisTitleColor,labelColor:Q.xAxisLabelColor,tickColor:Q.xAxisTickColor,axisLineColor:Q.xAxisLineColor},K),yAxis:Bk(J.yAxis,Z.yAxis,{titleColor:Q.yAxisTitleColor,labelColor:Q.yAxisLabelColor,tickColor:Q.yAxisTickColor,axisLineColor:Q.yAxisLineColor},K)}}static{R(this,"Orchestrator")}calculateVerticalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,X=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),U=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),Y=this.componentStore.plot.calculateSpace({width:X,height:U});if(Z-=Y.width,J-=Y.height,Y=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),K=Y.height,J-=Y.height,this.componentStore.xAxis.setAxisPosition("bottom"),Y=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),J-=Y.height,this.componentStore.yAxis.setAxisPosition("left"),Y=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),Q=Y.width,Z-=Y.width,Z>0)X+=Z,Z=0;if(J>0)U+=J,J=0;if(this.componentStore.plot.calculateSpace({width:X,height:U}),this.componentStore.plot.setBoundingBoxXY({x:Q,y:K}),this.componentStore.xAxis.setRange([Q,Q+X]),this.componentStore.xAxis.setBoundingBoxXY({x:Q,y:K+U}),this.componentStore.yAxis.setRange([K,K+U]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:K}),this.chartData.plots.some((q)=>Mk(q)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let Z=this.chartConfig.width,J=this.chartConfig.height,Q=0,K=0,X=0,U=Math.floor(Z*this.chartConfig.plotReservedSpacePercent/100),Y=Math.floor(J*this.chartConfig.plotReservedSpacePercent/100),q=this.componentStore.plot.calculateSpace({width:U,height:Y});if(Z-=q.width,J-=q.height,q=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:J}),Q=q.height,J-=q.height,this.componentStore.xAxis.setAxisPosition("left"),q=this.componentStore.xAxis.calculateSpace({width:Z,height:J}),Z-=q.width,K=q.width,this.componentStore.yAxis.setAxisPosition("top"),q=this.componentStore.yAxis.calculateSpace({width:Z,height:J}),J-=q.height,X=Q+q.height,Z>0)U+=Z,Z=0;if(J>0)Y+=J,J=0;if(this.componentStore.plot.calculateSpace({width:U,height:Y}),this.componentStore.plot.setBoundingBoxXY({x:K,y:X}),this.componentStore.yAxis.setRange([K,K+U]),this.componentStore.yAxis.setBoundingBoxXY({x:K,y:Q}),this.componentStore.xAxis.setRange([X,X+Y]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:X}),this.chartData.plots.some((z)=>Mk(z)))this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){if(this.chartConfig.chartOrientation==="horizontal")this.calculateHorizontalSpace();else this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const Z=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let J of Object.values(this.componentStore))Z.push(...J.getDrawableElements());return Z}},Qk0=class{static{R(this,"XYChartBuilder")}static build(Z,J,Q,K){return new Jk0(Z,J,Q,K).getDrawableElement()}},wF=Ik(),jF=Lk(),d8=Dk(),Rk=jF.plotColorPalette.split(",").map((Z)=>Z.trim());R(Lk,"getChartDefaultThemeConfig");R(Ik,"getChartDefaultConfig");R(Dk,"getChartDefaultData");R(xI,"textSanitizer");R(PJ0,"setTmpSVGG");R(VJ0,"setOrientation");R(SJ0,"setXAxisTitle");R(Nk,"setXAxisRangeData");R(TJ0,"setXAxisBand");R(fJ0,"setYAxisTitle");R(vJ0,"setYAxisRangeData");R(kJ0,"setYAxisRangeFromPlotData");R(Ek,"transformDataWithoutCategory");R(wk,"getPlotColorFromPalette");R($J0,"setLineData");R(_J0,"setBarData");R(bJ0,"getDrawableElem");R(xJ0,"getChartThemeConfig");R(hJ0,"getChartConfig");Kk0=R(function(){O8(),EF=0,wF=Ik(),d8=Dk(),jF=Lk(),Rk=jF.plotColorPalette.split(",").map((Z)=>Z.trim()),bI=!1,Ak=!1},"clear"),Xk0={getDrawableElem:bJ0,clear:Kk0,setAccTitle:E8,getAccTitle:f8,setDiagramTitle:o8,getDiagramTitle:m8,getAccDescription:k8,setAccDescription:v8,setOrientation:VJ0,setXAxisTitle:SJ0,setXAxisRangeData:Nk,setXAxisBand:TJ0,setYAxisTitle:fJ0,setYAxisRangeData:vJ0,setLineData:$J0,setBarData:_J0,setTmpSVGG:PJ0,getChartThemeConfig:xJ0,getChartConfig:hJ0},Uk0=R((Z,J,Q,K)=>{const X=K.db,U=X.getChartThemeConfig(),Y=X.getChartConfig();function q(A){return A==="top"?"text-before-edge":"middle"}R(q,"getDominantBaseLine");function z(A){return A==="left"?"start":A==="right"?"end":"middle"}R(z,"getTextAnchor");function G(A){return`translate(${A.x}, ${A.y}) rotate(${A.rotation||0})`}R(G,"getTextTransformation"),p.debug("Rendering xychart chart\n"+Z);const H=OQ(J),W=H.append("g").attr("class","main"),F=W.append("rect").attr("width",Y.width).attr("height",Y.height).attr("class","background");R8(H,Y.height,Y.width,!0),H.attr("viewBox",`0 0 ${Y.width} ${Y.height}`),F.attr("fill",U.backgroundColor),X.setTmpSVGG(H.append("g").attr("class","mermaid-tmp-group"));const M=X.getDrawableElem(),B={};function O(A){let L=W,I="";for(let[D]of A.entries()){let w=W;if(D>0&&B[I])w=B[I];if(I+=A[D],L=B[I],!L)L=B[I]=w.append("g").attr("class",A[D])}return L}R(O,"getGroup");for(let A of M){if(A.data.length===0)continue;const L=O(A.groupTexts);switch(A.type){case"rect":L.selectAll("rect").data(A.data).enter().append("rect").attr("x",(I)=>I.x).attr("y",(I)=>I.y).attr("width",(I)=>I.width).attr("height",(I)=>I.height).attr("fill",(I)=>I.fill).attr("stroke",(I)=>I.strokeFill).attr("stroke-width",(I)=>I.strokeWidth);break;case"text":L.selectAll("text").data(A.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",(I)=>I.fill).attr("font-size",(I)=>I.fontSize).attr("dominant-baseline",(I)=>q(I.verticalPos)).attr("text-anchor",(I)=>z(I.horizontalPos)).attr("transform",(I)=>G(I)).text((I)=>I.text);break;case"path":L.selectAll("path").data(A.data).enter().append("path").attr("d",(I)=>I.path).attr("fill",(I)=>I.fill?I.fill:"none").attr("stroke",(I)=>I.strokeFill).attr("stroke-width",(I)=>I.strokeWidth);break}}},"draw"),Yk0={draw:Uk0},qk0={parser:rv0,db:Xk0,renderer:Yk0}});var dJ0={};q8(dJ0,{diagram:()=>yk0});var jk,zk0,Pk,A6,CF,dX,PF,Gk0,Hk0,Wk0,Fk0,Mk0,Bk0,Rk0,Ok0,Ak0,Lk0,Ik0,Dk0,Nk0,Ek0,wk0,jk0,Ck0,Pk0,Vk0,Sk0,Ck,Tk0,gJ0,gZ,mJ0=0,pJ0,cJ0,lJ0,fk0,vk0,kk0,$k0,_k0,bk0,Tz,xk0,hk0,yk0;var iJ0=_(()=>{X8();i9();ZY();aJ();jk=function(){var Z=R(function(z0,t,B0,X0){for(B0=B0||{},X0=z0.length;X0--;B0[z0[X0]]=t);return B0},"o"),J=[1,3],Q=[1,4],K=[1,5],X=[1,6],U=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],Y=[1,18],q=[2,7],z=[1,22],G=[1,23],H=[1,24],W=[1,25],F=[1,26],M=[1,27],B=[1,20],O=[1,28],A=[1,29],L=[62,63],I=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],D=[1,47],w=[1,48],N=[1,49],E=[1,50],j=[1,51],P=[1,52],C=[1,53],T=[53,54],V=[1,64],S=[1,60],$=[1,61],f=[1,62],h=[1,63],v=[1,65],b=[1,69],y=[1,70],k=[1,67],g=[1,68],u=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],i={trace:R(function z0(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:R(function z0(t,B0,X0,d,o,a,Q0){var K0=a.length-1;switch(o){case 4:this.$=a[K0].trim(),d.setAccTitle(this.$);break;case 5:case 6:this.$=a[K0].trim(),d.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:d.addRequirement(a[K0-3],a[K0-4]);break;case 14:d.setNewReqId(a[K0-2]);break;case 15:d.setNewReqText(a[K0-2]);break;case 16:d.setNewReqRisk(a[K0-2]);break;case 17:d.setNewReqVerifyMethod(a[K0-2]);break;case 20:this.$=d.RequirementType.REQUIREMENT;break;case 21:this.$=d.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=d.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=d.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=d.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=d.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=d.RiskLevel.LOW_RISK;break;case 27:this.$=d.RiskLevel.MED_RISK;break;case 28:this.$=d.RiskLevel.HIGH_RISK;break;case 29:this.$=d.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=d.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=d.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=d.VerifyType.VERIFY_TEST;break;case 33:d.addElement(a[K0-3]);break;case 34:d.setNewElementType(a[K0-2]);break;case 35:d.setNewElementDocRef(a[K0-2]);break;case 38:d.addRelationship(a[K0-2],a[K0],a[K0-4]);break;case 39:d.addRelationship(a[K0-2],a[K0-4],a[K0]);break;case 40:this.$=d.Relationships.CONTAINS;break;case 41:this.$=d.Relationships.COPIES;break;case 42:this.$=d.Relationships.DERIVES;break;case 43:this.$=d.Relationships.SATISFIES;break;case 44:this.$=d.Relationships.VERIFIES;break;case 45:this.$=d.Relationships.REFINES;break;case 46:this.$=d.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:J,9:Q,11:K,13:X},{1:[3]},{3:8,4:2,5:[1,7],6:J,9:Q,11:K,13:X},{5:[1,9]},{10:[1,10]},{12:[1,11]},Z(U,[2,6]),{3:12,4:2,6:J,9:Q,11:K,13:X},{1:[2,2]},{4:17,5:Y,7:13,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},Z(U,[2,4]),Z(U,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:Y,7:31,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},{4:17,5:Y,7:32,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},{4:17,5:Y,7:33,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},{4:17,5:Y,7:34,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},{4:17,5:Y,7:35,8:q,9:Q,11:K,13:X,14:14,15:15,16:16,17:19,23:21,31:z,32:G,33:H,34:W,35:F,36:M,44:B,62:O,63:A},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},Z(L,[2,20]),Z(L,[2,21]),Z(L,[2,22]),Z(L,[2,23]),Z(L,[2,24]),Z(L,[2,25]),Z(I,[2,49]),Z(I,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:D,56:w,57:N,58:E,59:j,60:P,61:C},{52:54,55:D,56:w,57:N,58:E,59:j,60:P,61:C},{5:[1,55]},{5:[1,56]},{53:[1,57]},Z(T,[2,40]),Z(T,[2,41]),Z(T,[2,42]),Z(T,[2,43]),Z(T,[2,44]),Z(T,[2,45]),Z(T,[2,46]),{54:[1,58]},{5:V,20:59,21:S,24:$,26:f,28:h,30:v},{5:b,30:y,46:66,47:k,49:g},{23:71,62:O,63:A},{23:72,62:O,63:A},Z(u,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:V,20:77,21:S,24:$,26:f,28:h,30:v},Z(u,[2,19]),Z(u,[2,33]),{22:[1,78]},{22:[1,79]},{5:b,30:y,46:80,47:k,49:g},Z(u,[2,37]),Z(u,[2,38]),Z(u,[2,39]),{23:81,62:O,63:A},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},Z(u,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},Z(u,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:V,20:106,21:S,24:$,26:f,28:h,30:v},{5:V,20:107,21:S,24:$,26:f,28:h,30:v},{5:V,20:108,21:S,24:$,26:f,28:h,30:v},{5:V,20:109,21:S,24:$,26:f,28:h,30:v},{5:b,30:y,46:110,47:k,49:g},{5:b,30:y,46:111,47:k,49:g},Z(u,[2,14]),Z(u,[2,15]),Z(u,[2,16]),Z(u,[2,17]),Z(u,[2,34]),Z(u,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:R(function z0(t,B0){if(B0.recoverable)this.trace(t);else{var X0=new Error(t);throw X0.hash=B0,X0}},"parseError"),parse:R(function z0(t){var B0=this,X0=[0],d=[],o=[null],a=[],Q0=this.table,K0="",A0=0,r=0,v0=0,Y0=2,k0=1,h0=a.slice.call(arguments,1),V0=Object.create(this.lexer),l0={yy:{}};for(var b0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,b0))l0.yy[b0]=this.yy[b0];if(V0.setInput(t,l0.yy),l0.yy.lexer=V0,l0.yy.parser=this,typeof V0.yylloc=="undefined")V0.yylloc={};var S0=V0.yylloc;a.push(S0);var H0=V0.options&&V0.options.ranges;if(typeof l0.yy.parseError==="function")this.parseError=l0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function l(Z9){X0.length=X0.length-2*Z9,o.length=o.length-Z9,a.length=a.length-Z9}R(l,"popStack");function q0(){var Z9=d.pop()||V0.lex()||k0;if(typeof Z9!=="number"){if(Z9 instanceof Array)d=Z9,Z9=d.pop();Z9=B0.symbols_[Z9]||Z9}return Z9}R(q0,"lex");var G0,n,U0,M0,F0,x0,_0={},y0,m0,d0,u0;while(!0){if(U0=X0[X0.length-1],this.defaultActions[U0])M0=this.defaultActions[U0];else{if(G0===null||typeof G0=="undefined")G0=q0();M0=Q0[U0]&&Q0[U0][G0]}if(typeof M0==="undefined"||!M0.length||!M0[0]){var E0="";u0=[];for(y0 in Q0[U0])if(this.terminals_[y0]&&y0>Y0)u0.push("'"+this.terminals_[y0]+"'");if(V0.showPosition)E0="Parse error on line "+(A0+1)+":\n"+V0.showPosition()+"\nExpecting "+u0.join(", ")+", got '"+(this.terminals_[G0]||G0)+"'";else E0="Parse error on line "+(A0+1)+": Unexpected "+(G0==k0?"end of input":"'"+(this.terminals_[G0]||G0)+"'");this.parseError(E0,{text:V0.match,token:this.terminals_[G0]||G0,line:V0.yylineno,loc:S0,expected:u0})}if(M0[0]instanceof Array&&M0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+U0+", token: "+G0);switch(M0[0]){case 1:if(X0.push(G0),o.push(V0.yytext),a.push(V0.yylloc),X0.push(M0[1]),G0=null,!n){if(r=V0.yyleng,K0=V0.yytext,A0=V0.yylineno,S0=V0.yylloc,v0>0)v0--}else G0=n,n=null;break;case 2:if(m0=this.productions_[M0[1]][1],_0.$=o[o.length-m0],_0._$={first_line:a[a.length-(m0||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(m0||1)].first_column,last_column:a[a.length-1].last_column},H0)_0._$.range=[a[a.length-(m0||1)].range[0],a[a.length-1].range[1]];if(x0=this.performAction.apply(_0,[K0,r,A0,l0.yy,M0[1],o,a].concat(h0)),typeof x0!=="undefined")return x0;if(m0)X0=X0.slice(0,-1*m0*2),o=o.slice(0,-1*m0),a=a.slice(0,-1*m0);X0.push(this.productions_[M0[1]][0]),o.push(_0.$),a.push(_0._$),d0=Q0[X0[X0.length-2]][X0[X0.length-1]],X0.push(d0);break;case 3:return!0}}return!0},"parse")},e=function(){var z0={EOF:1,parseError:R(function t(B0,X0){if(this.yy.parser)this.yy.parser.parseError(B0,X0);else throw new Error(B0)},"parseError"),setInput:R(function(t,B0){if(this.yy=B0||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var B0=t.match(/(?:\r\n?|\n).*/g);if(B0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),t},"input"),unput:R(function(t){var B0=t.length,X0=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B0),this.offset-=B0;var d=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),X0.length-1)this.yylineno-=X0.length-1;var o=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:X0?(X0.length===d.length?this.yylloc.first_column:0)+d[d.length-X0.length].length-X0[0].length:this.yylloc.first_column-B0},this.options.ranges)this.yylloc.range=[o[0],o[0]+this.yyleng-B0];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(t){this.unput(this.match.slice(t))},"less"),pastInput:R(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var t=this.match;if(t.length<20)t+=this._input.substr(0,20-t.length);return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var t=this.pastInput(),B0=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+B0+"^"},"showPosition"),test_match:R(function(t,B0){var X0,d,o;if(this.options.backtrack_lexer){if(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)o.yylloc.range=this.yylloc.range.slice(0)}if(d=t[0].match(/(?:\r\n?|\n).*/g),d)this.yylineno+=d.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],X0=this.performAction.call(this,this.yy,this,B0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(X0)return X0;else if(this._backtrack){for(var a in o)this[a]=o[a];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var t,B0,X0,d;if(!this._more)this.yytext="",this.match="";var o=this._currentRules();for(var a=0;a<o.length;a++)if(X0=this._input.match(this.rules[o[a]]),X0&&(!B0||X0[0].length>B0[0].length)){if(B0=X0,d=a,this.options.backtrack_lexer)if(t=this.test_match(X0,o[a]),t!==!1)return t;else if(this._backtrack){B0=!1;continue}else return!1;else if(!this.options.flex)break}if(B0){if(t=this.test_match(B0,o[d]),t!==!1)return t;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function t(){var B0=this.next();if(B0)return B0;else return this.lex()},"lex"),begin:R(function t(B0){this.conditionStack.push(B0)},"begin"),popState:R(function t(){var B0=this.conditionStack.length-1;if(B0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function t(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function t(B0){if(B0=this.conditionStack.length-1-Math.abs(B0||0),B0>=0)return this.conditionStack[B0];else return"INITIAL"},"topState"),pushState:R(function t(B0){this.begin(B0)},"pushState"),stateStackSize:R(function t(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function t(B0,X0,d,o){var a=o;switch(d){case 0:return"title";case 1:return this.begin("acc_title"),9;break;case 2:return this.popState(),"acc_title_value";break;case 3:return this.begin("acc_descr"),11;break;case 4:return this.popState(),"acc_descr_value";break;case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return X0.yytext=X0.yytext.trim(),62;break}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return z0}();i.lexer=e;function J0(){this.yy={}}return R(J0,"Parser"),J0.prototype=i,i.Parser=J0,new J0}();jk.parser=jk;zk0=jk,Pk=[],A6={},CF=new Map,dX={},PF=new Map,Gk0={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},Hk0={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Wk0={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Fk0={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},Mk0=R((Z,J)=>{if(!CF.has(Z))CF.set(Z,{name:Z,type:J,id:A6.id,text:A6.text,risk:A6.risk,verifyMethod:A6.verifyMethod});return A6={},CF.get(Z)},"addRequirement"),Bk0=R(()=>CF,"getRequirements"),Rk0=R((Z)=>{if(A6!==void 0)A6.id=Z},"setNewReqId"),Ok0=R((Z)=>{if(A6!==void 0)A6.text=Z},"setNewReqText"),Ak0=R((Z)=>{if(A6!==void 0)A6.risk=Z},"setNewReqRisk"),Lk0=R((Z)=>{if(A6!==void 0)A6.verifyMethod=Z},"setNewReqVerifyMethod"),Ik0=R((Z)=>{if(!PF.has(Z))PF.set(Z,{name:Z,type:dX.type,docRef:dX.docRef}),p.info("Added new requirement: ",Z);return dX={},PF.get(Z)},"addElement"),Dk0=R(()=>PF,"getElements"),Nk0=R((Z)=>{if(dX!==void 0)dX.type=Z},"setNewElementType"),Ek0=R((Z)=>{if(dX!==void 0)dX.docRef=Z},"setNewElementDocRef"),wk0=R((Z,J,Q)=>{Pk.push({type:Z,src:J,dst:Q})},"addRelationship"),jk0=R(()=>Pk,"getRelationships"),Ck0=R(()=>{Pk=[],A6={},CF=new Map,dX={},PF=new Map,O8()},"clear"),Pk0={RequirementType:Gk0,RiskLevel:Hk0,VerifyType:Wk0,Relationships:Fk0,getConfig:R(()=>W0().req,"getConfig"),addRequirement:Mk0,getRequirements:Bk0,setNewReqId:Rk0,setNewReqText:Ok0,setNewReqRisk:Ak0,setNewReqVerifyMethod:Lk0,setAccTitle:E8,getAccTitle:f8,setAccDescription:v8,getAccDescription:k8,addElement:Ik0,getElements:Dk0,setNewElementType:Nk0,setNewElementDocRef:Ek0,addRelationship:wk0,getRelationships:jk0,clear:Ck0},Vk0=R((Z)=>`

  marker {
    fill: ${Z.relationColor};
    stroke: ${Z.relationColor};
  }

  marker.cross {
    stroke: ${Z.lineColor};
  }

  svg {
    font-family: ${Z.fontFamily};
    font-size: ${Z.fontSize};
  }

  .reqBox {
    fill: ${Z.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${Z.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${Z.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${Z.requirementBorderColor};
    stroke-width: ${Z.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${Z.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${Z.relationLabelColor};
  }

`,"getStyles"),Sk0=Vk0,Ck={CONTAINS:"contains",ARROW:"arrow"},Tk0=R((Z,J)=>{let Q=Z.append("defs").append("marker").attr("id",Ck.CONTAINS+"_line_ending").attr("refX",0).attr("refY",J.line_height/2).attr("markerWidth",J.line_height).attr("markerHeight",J.line_height).attr("orient","auto").append("g");Q.append("circle").attr("cx",J.line_height/2).attr("cy",J.line_height/2).attr("r",J.line_height/2).attr("fill","none"),Q.append("line").attr("x1",0).attr("x2",J.line_height).attr("y1",J.line_height/2).attr("y2",J.line_height/2).attr("stroke-width",1),Q.append("line").attr("y1",0).attr("y2",J.line_height).attr("x1",J.line_height/2).attr("x2",J.line_height/2).attr("stroke-width",1),Z.append("defs").append("marker").attr("id",Ck.ARROW+"_line_ending").attr("refX",J.line_height).attr("refY",0.5*J.line_height).attr("markerWidth",J.line_height).attr("markerHeight",J.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${J.line_height},${J.line_height/2}
      M${J.line_height},${J.line_height/2}
      L0,${J.line_height}`).attr("stroke-width",1)},"insertLineEndings"),gJ0={ReqMarkers:Ck,insertLineEndings:Tk0},gZ={},pJ0=R((Z,J)=>{return Z.insert("rect","#"+J).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",gZ.rect_min_width+"px").attr("height",gZ.rect_min_height+"px")},"newRectNode"),cJ0=R((Z,J,Q)=>{let K=gZ.rect_min_width/2,X=Z.append("text").attr("class","req reqLabel reqTitle").attr("id",J).attr("x",K).attr("y",gZ.rect_padding).attr("dominant-baseline","hanging"),U=0;Q.forEach((G)=>{if(U==0)X.append("tspan").attr("text-anchor","middle").attr("x",gZ.rect_min_width/2).attr("dy",0).text(G);else X.append("tspan").attr("text-anchor","middle").attr("x",gZ.rect_min_width/2).attr("dy",gZ.line_height*0.75).text(G);U++});let Y=1.5*gZ.rect_padding,q=U*gZ.line_height*0.75,z=Y+q;return Z.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",gZ.rect_min_width).attr("y1",z).attr("y2",z),{titleNode:X,y:z}},"newTitleNode"),lJ0=R((Z,J,Q,K)=>{let X=Z.append("text").attr("class","req reqLabel").attr("id",J).attr("x",gZ.rect_padding).attr("y",K).attr("dominant-baseline","hanging"),U=0;const Y=30;let q=[];return Q.forEach((z)=>{let G=z.length;while(G>Y&&U<3){let H=z.substring(0,Y);z=z.substring(Y,z.length),G=z.length,q[q.length]=H,U++}if(U==3){let H=q[q.length-1];q[q.length-1]=H.substring(0,H.length-4)+"..."}else q[q.length]=z;U=0}),q.forEach((z)=>{X.append("tspan").attr("x",gZ.rect_padding).attr("dy",gZ.line_height).text(z)}),X},"newBodyNode"),fk0=R((Z,J,Q,K)=>{const X=J.node().getTotalLength(),U=J.node().getPointAtLength(X*0.5),Y="rel"+mJ0;mJ0++;const z=Z.append("text").attr("class","req relationshipLabel").attr("id",Y).attr("x",U.x).attr("y",U.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(K).node().getBBox();Z.insert("rect","#"+Y).attr("class","req reqLabelBox").attr("x",U.x-z.width/2).attr("y",U.y-z.height/2).attr("width",z.width).attr("height",z.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),vk0=R(function(Z,J,Q,K,X){const U=Q.edge(Tz(J.src),Tz(J.dst)),Y=pJ().x(function(z){return z.x}).y(function(z){return z.y}),q=Z.insert("path","#"+K).attr("class","er relationshipLine").attr("d",Y(U.points)).attr("fill","none");if(J.type==X.db.Relationships.CONTAINS)q.attr("marker-start","url("+g0.getUrl(gZ.arrowMarkerAbsolute)+"#"+J.type+"_line_ending)");else q.attr("stroke-dasharray","10,7"),q.attr("marker-end","url("+g0.getUrl(gZ.arrowMarkerAbsolute)+"#"+gJ0.ReqMarkers.ARROW+"_line_ending)");fk0(Z,q,gZ,`<<${J.type}>>`);return},"drawRelationshipFromLayout"),kk0=R((Z,J,Q)=>{Z.forEach((K,X)=>{X=Tz(X),p.info("Added new requirement: ",X);const U=Q.append("g").attr("id",X),Y="req-"+X,q=pJ0(U,Y);let z=[],G=cJ0(U,X+"_title",[`<<${K.type}>>`,`${K.name}`]);z.push(G.titleNode);let H=lJ0(U,X+"_body",[`Id: ${K.id}`,`Text: ${K.text}`,`Risk: ${K.risk}`,`Verification: ${K.verifyMethod}`],G.y);z.push(H);const W=q.node().getBBox();J.setNode(X,{width:W.width,height:W.height,shape:"rect",id:X})})},"drawReqs"),$k0=R((Z,J,Q)=>{Z.forEach((K,X)=>{const U=Tz(X),Y=Q.append("g").attr("id",U),q="element-"+U,z=pJ0(Y,q);let G=[],H=cJ0(Y,q+"_title",["<<Element>>",`${X}`]);G.push(H.titleNode);let W=lJ0(Y,q+"_body",[`Type: ${K.type||"Not Specified"}`,`Doc Ref: ${K.docRef||"None"}`],H.y);G.push(W);const F=z.node().getBBox();J.setNode(U,{width:F.width,height:F.height,shape:"rect",id:U})})},"drawElements"),_k0=R((Z,J)=>{return Z.forEach(function(Q){let K=Tz(Q.src),X=Tz(Q.dst);J.setEdge(K,X,{relationship:Q})}),Z},"addRelationships"),bk0=R(function(Z,J){J.nodes().forEach(function(Q){if(Q!==void 0&&J.node(Q)!==void 0)Z.select("#"+Q),Z.select("#"+Q).attr("transform","translate("+(J.node(Q).x-J.node(Q).width/2)+","+(J.node(Q).y-J.node(Q).height/2)+" )")});return},"adjustEntities"),Tz=R((Z)=>{return Z.replace(/\s/g,"").replace(/\./g,"_")},"elementString"),xk0=R((Z,J,Q,K)=>{gZ=W0().requirement;const X=gZ.securityLevel;let U;if(X==="sandbox")U=$0("#i"+J);const q=(X==="sandbox"?$0(U.nodes()[0].contentDocument.body):$0("body")).select(`[id='${J}']`);gJ0.insertLineEndings(q,gZ);const z=new J8({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:gZ.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let G=K.db.getRequirements(),H=K.db.getElements(),W=K.db.getRelationships();kk0(G,z,q),$k0(H,z,q),_k0(W,z),g6(z),bk0(q,z),W.forEach(function(A){vk0(q,A,z,J,K)});const F=gZ.rect_padding,M=q.node().getBBox(),B=M.width+F*2,O=M.height+F*2;R8(q,O,B,gZ.useMaxWidth),q.attr("viewBox",`${M.x-F} ${M.y-F} ${B} ${O}`)},"draw"),hk0={draw:xk0},yk0={parser:zk0,db:Pk0,renderer:hk0,styles:Sk0}});var R70={};q8(R70,{diagram:()=>y$0});function yI(Z,J){if(Z.links==null)Z.links=J;else for(let Q in J)Z.links[Q]=J[Q]}function vk(Z,J){if(Z.properties==null)Z.properties=J;else for(let Q in J)Z.properties[Q]=J[Q]}function Z70(){D9.records.currentBox=void 0}async function G70(Z,J){s0.bumpVerticalPos(10);const{startx:Q,stopx:K,message:X}=J,U=g0.splitBreaks(X).length,Y=PJ(X),q=Y?await Nq(X,W0()):B9.calculateTextDimensions(X,bY(j0));if(!Y){const W=q.height/U;J.height+=W,s0.bumpVerticalPos(W)}let z,G=q.height-10;const H=q.width;if(Q===K){if(z=s0.getVerticalPos()+G,!j0.rightAngles)G+=j0.boxMargin,z=s0.getVerticalPos()+G;G+=30;const W=g0.getMax(H/2,j0.width/2);s0.insert(Q-W,s0.getVerticalPos()-10+G,K+W,s0.getVerticalPos()+30+G)}else G+=j0.boxMargin,z=s0.getVerticalPos()+G,s0.insert(Q,z-10,K,z);return s0.bumpVerticalPos(G),J.height+=G,J.stopy=J.starty+J.height,s0.insert(J.fromBounds,J.starty,J.toBounds,J.stopy),z}function G4(Z,J,Q,K,X){s0.bumpVerticalPos(Q);let U=K;if(J.id&&J.message&&Z[J.id]){const Y=Z[J.id].width,q=bY(j0);J.message=B9.wrapLabel(`[${J.message}]`,Y-2*j0.wrapPadding,q),J.width=Y,J.wrap=!0;const z=B9.calculateTextDimensions(J.message,q),G=g0.getMax(z.height,j0.labelBoxHeight);U=K+G,p.debug(`${G} - ${J.message}`)}X(J),s0.bumpVerticalPos(U)}function F70(Z,J,Q,K,X,U,Y){function q(G,H){if(G.x<X.get(Z.from).x)s0.insert(J.stopx-H,J.starty,J.startx,J.stopy+G.height/2+j0.noteMargin),J.stopx=J.stopx+H;else s0.insert(J.startx,J.starty,J.stopx+H,J.stopy+G.height/2+j0.noteMargin),J.stopx=J.stopx-H}R(q,"receiverAdjustment");function z(G,H){if(G.x<X.get(Z.to).x)s0.insert(J.startx-H,J.starty,J.stopx,J.stopy+G.height/2+j0.noteMargin),J.startx=J.startx+H;else s0.insert(J.stopx,J.starty,J.startx+H,J.stopy+G.height/2+j0.noteMargin),J.startx=J.startx-H}if(R(z,"senderAdjustment"),U.get(Z.to)==K){const G=X.get(Z.to),H=G.type=="actor"?$Y/2+3:G.width/2+3;q(G,H),G.starty=Q-G.height/2,s0.bumpVerticalPos(G.height/2)}else if(Y.get(Z.from)==K){const G=X.get(Z.from);if(j0.mirrorActors){const H=G.type=="actor"?$Y/2:G.width/2;z(G,H)}G.stopy=Q-G.height/2,s0.bumpVerticalPos(G.height/2)}else if(Y.get(Z.to)==K){const G=X.get(Z.to);if(j0.mirrorActors){const H=G.type=="actor"?$Y/2+3:G.width/2+3;q(G,H)}G.stopy=Q-G.height/2,s0.bumpVerticalPos(G.height/2)}}async function M70(Z,J,Q){const K={};for(let X of J)if(Z.get(X.to)&&Z.get(X.from)){const U=Z.get(X.to);if(X.placement===Q.db.PLACEMENT.LEFTOF&&!U.prevActor)continue;if(X.placement===Q.db.PLACEMENT.RIGHTOF&&!U.nextActor)continue;const Y=X.placement!==void 0,q=!Y,z=Y?fz(j0):bY(j0),G=X.wrap?B9.wrapLabel(X.message,j0.width-2*j0.wrapPadding,z):X.message,W=(PJ(G)?await Nq(X.message,W0()):B9.calculateTextDimensions(G,z)).width+2*j0.wrapPadding;if(q&&X.from===U.nextActor)K[X.to]=g0.getMax(K[X.to]||0,W);else if(q&&X.from===U.prevActor)K[X.from]=g0.getMax(K[X.from]||0,W);else if(q&&X.from===X.to)K[X.from]=g0.getMax(K[X.from]||0,W/2),K[X.to]=g0.getMax(K[X.to]||0,W/2);else if(X.placement===Q.db.PLACEMENT.RIGHTOF)K[X.from]=g0.getMax(K[X.from]||0,W);else if(X.placement===Q.db.PLACEMENT.LEFTOF)K[U.prevActor]=g0.getMax(K[U.prevActor]||0,W);else if(X.placement===Q.db.PLACEMENT.OVER){if(U.prevActor)K[U.prevActor]=g0.getMax(K[U.prevActor]||0,W/2);if(U.nextActor)K[X.from]=g0.getMax(K[X.from]||0,W/2)}}return p.debug("maxMessageWidthPerActor:",K),K}async function B70(Z,J,Q){let K=0;for(let U of Z.keys()){const Y=Z.get(U);if(Y.wrap)Y.description=B9.wrapLabel(Y.description,j0.width-2*j0.wrapPadding,Tk(j0));const q=PJ(Y.description)?await Nq(Y.description,W0()):B9.calculateTextDimensions(Y.description,Tk(j0));Y.width=Y.wrap?j0.width:g0.getMax(j0.width,q.width+2*j0.wrapPadding),Y.height=Y.wrap?g0.getMax(q.height,j0.height):j0.height,K=g0.getMax(K,Y.height)}for(let U in J){const Y=Z.get(U);if(!Y)continue;const q=Z.get(Y.nextActor);if(!q){const W=J[U]+j0.actorMargin-Y.width/2;Y.margin=g0.getMax(W,j0.actorMargin);continue}const G=J[U]+j0.actorMargin-Y.width/2-q.width/2;Y.margin=g0.getMax(G,j0.actorMargin)}let X=0;return Q.forEach((U)=>{const Y=bY(j0);let q=U.actorKeys.reduce((H,W)=>{return H+=Z.get(W).width+(Z.get(W).margin||0)},0);if(q-=2*j0.boxTextMargin,U.wrap)U.name=B9.wrapLabel(U.name,q-2*j0.wrapPadding,Y);const z=B9.calculateTextDimensions(U.name,Y);X=g0.getMax(z.height,X);const G=g0.getMax(q,z.width+2*j0.wrapPadding);if(U.margin=j0.boxTextMargin,q<G){const H=(G-q)/2;U.margin+=H}}),Q.forEach((U)=>U.textMaxHeight=X),g0.getMax(K,j0.height)}var kk,Vk,uk0,D9,mk0,Sk,gk0,pk0,oZ,ck0,lk0,dk0,ik0,sk0,rk0,nk0,SF,ak0,ok0,tk0,ek0,Z$0,aJ0,_Y,J$0,Q$0,K$0,VF,X$0,U$0,oJ0,tJ0,Y$0,eJ0,J70,q$0,Q70,sJ0,z$0,G$0,$Y=36,K70="actor-top",X70="actor-bottom",H$0="actor-box",rJ0="actor-man",$k,W$0,F$0,hI,vz,U70,BK=-1,Y70,M$0,B$0,R$0,O$0,A$0,L$0,I$0,q70,D$0,N$0,E$0,w$0,j$0,C$0,P$0,z70,V$0,_k,S$0,tZ,j0,s0,T$0,bY,fz,Tk,f$0,v$0,fk,H70,W70,uI,nJ0,k$0,$$0,_$0,b$0,x$0,h$0,y$0;var O70=_(()=>{tO();lV();FZ();X8();i9();kk=z7(Eq(),1);Vk=function(){var Z=R(function(d,o,a,Q0){for(a=a||{},Q0=d.length;Q0--;a[d[Q0]]=o);return a},"o"),J=[1,2],Q=[1,3],K=[1,4],X=[2,4],U=[1,9],Y=[1,11],q=[1,13],z=[1,14],G=[1,16],H=[1,17],W=[1,18],F=[1,24],M=[1,25],B=[1,26],O=[1,27],A=[1,28],L=[1,29],I=[1,30],D=[1,31],w=[1,32],N=[1,33],E=[1,34],j=[1,35],P=[1,36],C=[1,37],T=[1,38],V=[1,39],S=[1,41],$=[1,42],f=[1,43],h=[1,44],v=[1,45],b=[1,46],y=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],k=[4,5,16,50,52,53],g=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],u=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],i=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],e=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],J0=[68,69,70],z0=[1,122],t={trace:R(function d(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:R(function d(o,a,Q0,K0,A0,r,v0){var Y0=r.length-1;switch(A0){case 3:return K0.apply(r[Y0]),r[Y0];break;case 4:case 9:this.$=[];break;case 5:case 10:r[Y0-1].push(r[Y0]),this.$=r[Y0-1];break;case 6:case 7:case 11:case 12:this.$=r[Y0];break;case 8:case 13:this.$=[];break;case 15:r[Y0].type="createParticipant",this.$=r[Y0];break;case 16:r[Y0-1].unshift({type:"boxStart",boxData:K0.parseBoxData(r[Y0-2])}),r[Y0-1].push({type:"boxEnd",boxText:r[Y0-2]}),this.$=r[Y0-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(r[Y0-2]),sequenceIndexStep:Number(r[Y0-1]),sequenceVisible:!0,signalType:K0.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(r[Y0-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:K0.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:K0.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:K0.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:K0.LINETYPE.ACTIVE_START,actor:r[Y0-1].actor};break;case 23:this.$={type:"activeEnd",signalType:K0.LINETYPE.ACTIVE_END,actor:r[Y0-1].actor};break;case 29:K0.setDiagramTitle(r[Y0].substring(6)),this.$=r[Y0].substring(6);break;case 30:K0.setDiagramTitle(r[Y0].substring(7)),this.$=r[Y0].substring(7);break;case 31:this.$=r[Y0].trim(),K0.setAccTitle(this.$);break;case 32:case 33:this.$=r[Y0].trim(),K0.setAccDescription(this.$);break;case 34:r[Y0-1].unshift({type:"loopStart",loopText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.LOOP_START}),r[Y0-1].push({type:"loopEnd",loopText:r[Y0-2],signalType:K0.LINETYPE.LOOP_END}),this.$=r[Y0-1];break;case 35:r[Y0-1].unshift({type:"rectStart",color:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.RECT_START}),r[Y0-1].push({type:"rectEnd",color:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.RECT_END}),this.$=r[Y0-1];break;case 36:r[Y0-1].unshift({type:"optStart",optText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.OPT_START}),r[Y0-1].push({type:"optEnd",optText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.OPT_END}),this.$=r[Y0-1];break;case 37:r[Y0-1].unshift({type:"altStart",altText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.ALT_START}),r[Y0-1].push({type:"altEnd",signalType:K0.LINETYPE.ALT_END}),this.$=r[Y0-1];break;case 38:r[Y0-1].unshift({type:"parStart",parText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.PAR_START}),r[Y0-1].push({type:"parEnd",signalType:K0.LINETYPE.PAR_END}),this.$=r[Y0-1];break;case 39:r[Y0-1].unshift({type:"parStart",parText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.PAR_OVER_START}),r[Y0-1].push({type:"parEnd",signalType:K0.LINETYPE.PAR_END}),this.$=r[Y0-1];break;case 40:r[Y0-1].unshift({type:"criticalStart",criticalText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.CRITICAL_START}),r[Y0-1].push({type:"criticalEnd",signalType:K0.LINETYPE.CRITICAL_END}),this.$=r[Y0-1];break;case 41:r[Y0-1].unshift({type:"breakStart",breakText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.BREAK_START}),r[Y0-1].push({type:"breakEnd",optText:K0.parseMessage(r[Y0-2]),signalType:K0.LINETYPE.BREAK_END}),this.$=r[Y0-1];break;case 43:this.$=r[Y0-3].concat([{type:"option",optionText:K0.parseMessage(r[Y0-1]),signalType:K0.LINETYPE.CRITICAL_OPTION},r[Y0]]);break;case 45:this.$=r[Y0-3].concat([{type:"and",parText:K0.parseMessage(r[Y0-1]),signalType:K0.LINETYPE.PAR_AND},r[Y0]]);break;case 47:this.$=r[Y0-3].concat([{type:"else",altText:K0.parseMessage(r[Y0-1]),signalType:K0.LINETYPE.ALT_ELSE},r[Y0]]);break;case 48:r[Y0-3].draw="participant",r[Y0-3].type="addParticipant",r[Y0-3].description=K0.parseMessage(r[Y0-1]),this.$=r[Y0-3];break;case 49:r[Y0-1].draw="participant",r[Y0-1].type="addParticipant",this.$=r[Y0-1];break;case 50:r[Y0-3].draw="actor",r[Y0-3].type="addParticipant",r[Y0-3].description=K0.parseMessage(r[Y0-1]),this.$=r[Y0-3];break;case 51:r[Y0-1].draw="actor",r[Y0-1].type="addParticipant",this.$=r[Y0-1];break;case 52:r[Y0-1].type="destroyParticipant",this.$=r[Y0-1];break;case 53:this.$=[r[Y0-1],{type:"addNote",placement:r[Y0-2],actor:r[Y0-1].actor,text:r[Y0]}];break;case 54:r[Y0-2]=[].concat(r[Y0-1],r[Y0-1]).slice(0,2),r[Y0-2][0]=r[Y0-2][0].actor,r[Y0-2][1]=r[Y0-2][1].actor,this.$=[r[Y0-1],{type:"addNote",placement:K0.PLACEMENT.OVER,actor:r[Y0-2].slice(0,2),text:r[Y0]}];break;case 55:this.$=[r[Y0-1],{type:"addLinks",actor:r[Y0-1].actor,text:r[Y0]}];break;case 56:this.$=[r[Y0-1],{type:"addALink",actor:r[Y0-1].actor,text:r[Y0]}];break;case 57:this.$=[r[Y0-1],{type:"addProperties",actor:r[Y0-1].actor,text:r[Y0]}];break;case 58:this.$=[r[Y0-1],{type:"addDetails",actor:r[Y0-1].actor,text:r[Y0]}];break;case 61:this.$=[r[Y0-2],r[Y0]];break;case 62:this.$=r[Y0];break;case 63:this.$=K0.PLACEMENT.LEFTOF;break;case 64:this.$=K0.PLACEMENT.RIGHTOF;break;case 65:this.$=[r[Y0-4],r[Y0-1],{type:"addMessage",from:r[Y0-4].actor,to:r[Y0-1].actor,signalType:r[Y0-3],msg:r[Y0],activate:!0},{type:"activeStart",signalType:K0.LINETYPE.ACTIVE_START,actor:r[Y0-1].actor}];break;case 66:this.$=[r[Y0-4],r[Y0-1],{type:"addMessage",from:r[Y0-4].actor,to:r[Y0-1].actor,signalType:r[Y0-3],msg:r[Y0]},{type:"activeEnd",signalType:K0.LINETYPE.ACTIVE_END,actor:r[Y0-4].actor}];break;case 67:this.$=[r[Y0-3],r[Y0-1],{type:"addMessage",from:r[Y0-3].actor,to:r[Y0-1].actor,signalType:r[Y0-2],msg:r[Y0]}];break;case 68:this.$={type:"addParticipant",actor:r[Y0]};break;case 69:this.$=K0.LINETYPE.SOLID_OPEN;break;case 70:this.$=K0.LINETYPE.DOTTED_OPEN;break;case 71:this.$=K0.LINETYPE.SOLID;break;case 72:this.$=K0.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=K0.LINETYPE.DOTTED;break;case 74:this.$=K0.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=K0.LINETYPE.SOLID_CROSS;break;case 76:this.$=K0.LINETYPE.DOTTED_CROSS;break;case 77:this.$=K0.LINETYPE.SOLID_POINT;break;case 78:this.$=K0.LINETYPE.DOTTED_POINT;break;case 79:this.$=K0.parseMessage(r[Y0].trim().substring(1));break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],X,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:U,5:Y,8:8,9:10,12:12,13:q,14:z,17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},Z(y,[2,5]),{9:47,12:12,13:q,14:z,17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},Z(y,[2,7]),Z(y,[2,8]),Z(y,[2,14]),{12:48,50:C,52:T,53:V},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:b},{22:55,70:b},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},Z(y,[2,29]),Z(y,[2,30]),{32:[1,61]},{34:[1,62]},Z(y,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:b},{22:72,70:b},{22:73,70:b},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:b},{22:90,70:b},{22:91,70:b},{22:92,70:b},Z([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),Z(y,[2,6]),Z(y,[2,15]),Z(k,[2,9],{10:93}),Z(y,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},Z(y,[2,21]),{5:[1,97]},{5:[1,98]},Z(y,[2,24]),Z(y,[2,25]),Z(y,[2,26]),Z(y,[2,27]),Z(y,[2,28]),Z(y,[2,31]),Z(y,[2,32]),Z(g,X,{7:99}),Z(g,X,{7:100}),Z(g,X,{7:101}),Z(u,X,{40:102,7:103}),Z(i,X,{42:104,7:105}),Z(i,X,{7:105,42:106}),Z(e,X,{45:107,7:108}),Z(g,X,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:b},Z(J0,[2,69]),Z(J0,[2,70]),Z(J0,[2,71]),Z(J0,[2,72]),Z(J0,[2,73]),Z(J0,[2,74]),Z(J0,[2,75]),Z(J0,[2,76]),Z(J0,[2,77]),Z(J0,[2,78]),{22:118,70:b},{22:120,58:119,70:b},{70:[2,63]},{70:[2,64]},{56:121,81:z0},{56:123,81:z0},{56:124,81:z0},{56:125,81:z0},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:C,52:T,53:V},{5:[1,131]},Z(y,[2,19]),Z(y,[2,20]),Z(y,[2,22]),Z(y,[2,23]),{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[1,132],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[1,133],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[1,134],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{16:[1,135]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[2,46],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,49:[1,136],50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{16:[1,137]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[2,44],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,48:[1,138],50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{16:[1,139]},{16:[1,140]},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[2,42],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,47:[1,141],50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{4:U,5:Y,8:8,9:10,12:12,13:q,14:z,16:[1,142],17:15,18:G,21:H,22:40,23:W,24:19,25:20,26:21,27:22,28:23,29:F,30:M,31:B,33:O,35:A,36:L,37:I,38:D,39:w,41:N,43:E,44:j,46:P,50:C,52:T,53:V,54:S,59:$,60:f,61:h,62:v,70:b},{15:[1,143]},Z(y,[2,49]),{15:[1,144]},Z(y,[2,51]),Z(y,[2,52]),{22:145,70:b},{22:146,70:b},{56:147,81:z0},{56:148,81:z0},{56:149,81:z0},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},Z(y,[2,16]),Z(k,[2,10]),{12:151,50:C,52:T,53:V},Z(k,[2,12]),Z(k,[2,13]),Z(y,[2,18]),Z(y,[2,34]),Z(y,[2,35]),Z(y,[2,36]),Z(y,[2,37]),{15:[1,152]},Z(y,[2,38]),{15:[1,153]},Z(y,[2,39]),Z(y,[2,40]),{15:[1,154]},Z(y,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:z0},{56:158,81:z0},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:b},Z(k,[2,11]),Z(u,X,{7:103,40:160}),Z(i,X,{7:105,42:161}),Z(e,X,{7:108,45:162}),Z(y,[2,48]),Z(y,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:R(function d(o,a){if(a.recoverable)this.trace(o);else{var Q0=new Error(o);throw Q0.hash=a,Q0}},"parseError"),parse:R(function d(o){var a=this,Q0=[0],K0=[],A0=[null],r=[],v0=this.table,Y0="",k0=0,h0=0,V0=0,l0=2,b0=1,S0=r.slice.call(arguments,1),H0=Object.create(this.lexer),l={yy:{}};for(var q0 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,q0))l.yy[q0]=this.yy[q0];if(H0.setInput(o,l.yy),l.yy.lexer=H0,l.yy.parser=this,typeof H0.yylloc=="undefined")H0.yylloc={};var G0=H0.yylloc;r.push(G0);var n=H0.options&&H0.options.ranges;if(typeof l.yy.parseError==="function")this.parseError=l.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function U0(g9){Q0.length=Q0.length-2*g9,A0.length=A0.length-g9,r.length=r.length-g9}R(U0,"popStack");function M0(){var g9=K0.pop()||H0.lex()||b0;if(typeof g9!=="number"){if(g9 instanceof Array)K0=g9,g9=K0.pop();g9=a.symbols_[g9]||g9}return g9}R(M0,"lex");var F0,x0,_0,y0,m0,d0,u0={},E0,Z9,i0,Q8;while(!0){if(_0=Q0[Q0.length-1],this.defaultActions[_0])y0=this.defaultActions[_0];else{if(F0===null||typeof F0=="undefined")F0=M0();y0=v0[_0]&&v0[_0][F0]}if(typeof y0==="undefined"||!y0.length||!y0[0]){var F8="";Q8=[];for(E0 in v0[_0])if(this.terminals_[E0]&&E0>l0)Q8.push("'"+this.terminals_[E0]+"'");if(H0.showPosition)F8="Parse error on line "+(k0+1)+":\n"+H0.showPosition()+"\nExpecting "+Q8.join(", ")+", got '"+(this.terminals_[F0]||F0)+"'";else F8="Parse error on line "+(k0+1)+": Unexpected "+(F0==b0?"end of input":"'"+(this.terminals_[F0]||F0)+"'");this.parseError(F8,{text:H0.match,token:this.terminals_[F0]||F0,line:H0.yylineno,loc:G0,expected:Q8})}if(y0[0]instanceof Array&&y0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_0+", token: "+F0);switch(y0[0]){case 1:if(Q0.push(F0),A0.push(H0.yytext),r.push(H0.yylloc),Q0.push(y0[1]),F0=null,!x0){if(h0=H0.yyleng,Y0=H0.yytext,k0=H0.yylineno,G0=H0.yylloc,V0>0)V0--}else F0=x0,x0=null;break;case 2:if(Z9=this.productions_[y0[1]][1],u0.$=A0[A0.length-Z9],u0._$={first_line:r[r.length-(Z9||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(Z9||1)].first_column,last_column:r[r.length-1].last_column},n)u0._$.range=[r[r.length-(Z9||1)].range[0],r[r.length-1].range[1]];if(d0=this.performAction.apply(u0,[Y0,h0,k0,l.yy,y0[1],A0,r].concat(S0)),typeof d0!=="undefined")return d0;if(Z9)Q0=Q0.slice(0,-1*Z9*2),A0=A0.slice(0,-1*Z9),r=r.slice(0,-1*Z9);Q0.push(this.productions_[y0[1]][0]),A0.push(u0.$),r.push(u0._$),i0=v0[Q0[Q0.length-2]][Q0[Q0.length-1]],Q0.push(i0);break;case 3:return!0}}return!0},"parse")},B0=function(){var d={EOF:1,parseError:R(function o(a,Q0){if(this.yy.parser)this.yy.parser.parseError(a,Q0);else throw new Error(a)},"parseError"),setInput:R(function(o,a){if(this.yy=a||this.yy||{},this._input=o,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var o=this._input[0];this.yytext+=o,this.yyleng++,this.offset++,this.match+=o,this.matched+=o;var a=o.match(/(?:\r\n?|\n).*/g);if(a)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),o},"input"),unput:R(function(o){var a=o.length,Q0=o.split(/(?:\r\n?|\n)/g);this._input=o+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-a),this.offset-=a;var K0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Q0.length-1)this.yylineno-=Q0.length-1;var A0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Q0?(Q0.length===K0.length?this.yylloc.first_column:0)+K0[K0.length-Q0.length].length-Q0[0].length:this.yylloc.first_column-a},this.options.ranges)this.yylloc.range=[A0[0],A0[0]+this.yyleng-a];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(o){this.unput(this.match.slice(o))},"less"),pastInput:R(function(){var o=this.matched.substr(0,this.matched.length-this.match.length);return(o.length>20?"...":"")+o.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var o=this.match;if(o.length<20)o+=this._input.substr(0,20-o.length);return(o.substr(0,20)+(o.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var o=this.pastInput(),a=new Array(o.length+1).join("-");return o+this.upcomingInput()+"\n"+a+"^"},"showPosition"),test_match:R(function(o,a){var Q0,K0,A0;if(this.options.backtrack_lexer){if(A0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)A0.yylloc.range=this.yylloc.range.slice(0)}if(K0=o[0].match(/(?:\r\n?|\n).*/g),K0)this.yylineno+=K0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K0?K0[K0.length-1].length-K0[K0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],Q0=this.performAction.call(this,this.yy,this,a,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(Q0)return Q0;else if(this._backtrack){for(var r in A0)this[r]=A0[r];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var o,a,Q0,K0;if(!this._more)this.yytext="",this.match="";var A0=this._currentRules();for(var r=0;r<A0.length;r++)if(Q0=this._input.match(this.rules[A0[r]]),Q0&&(!a||Q0[0].length>a[0].length)){if(a=Q0,K0=r,this.options.backtrack_lexer)if(o=this.test_match(Q0,A0[r]),o!==!1)return o;else if(this._backtrack){a=!1;continue}else return!1;else if(!this.options.flex)break}if(a){if(o=this.test_match(a,A0[K0]),o!==!1)return o;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function o(){var a=this.next();if(a)return a;else return this.lex()},"lex"),begin:R(function o(a){this.conditionStack.push(a)},"begin"),popState:R(function o(){var a=this.conditionStack.length-1;if(a>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function o(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function o(a){if(a=this.conditionStack.length-1-Math.abs(a||0),a>=0)return this.conditionStack[a];else return"INITIAL"},"topState"),pushState:R(function o(a){this.begin(a)},"pushState"),stateStackSize:R(function o(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function o(a,Q0,K0,A0){var r=A0;switch(K0){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;break;case 8:return this.begin("ID"),50;break;case 9:return this.begin("ID"),52;break;case 10:return 13;case 11:return this.begin("ID"),53;break;case 12:return Q0.yytext=Q0.yytext.trim(),this.begin("ALIAS"),70;break;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;break;case 14:return this.popState(),this.popState(),5;break;case 15:return this.begin("LINE"),36;break;case 16:return this.begin("LINE"),37;break;case 17:return this.begin("LINE"),38;break;case 18:return this.begin("LINE"),39;break;case 19:return this.begin("LINE"),49;break;case 20:return this.begin("LINE"),41;break;case 21:return this.begin("LINE"),43;break;case 22:return this.begin("LINE"),48;break;case 23:return this.begin("LINE"),44;break;case 24:return this.begin("LINE"),47;break;case 25:return this.begin("LINE"),46;break;case 26:return this.popState(),15;break;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;break;case 37:return this.begin("ID"),23;break;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;break;case 41:return this.popState(),"acc_title_value";break;case 42:return this.begin("acc_descr"),33;break;case 43:return this.popState(),"acc_descr_value";break;case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return Q0.yytext=Q0.yytext.trim(),70;break;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return d}();t.lexer=B0;function X0(){this.yy={}}return R(X0,"Parser"),X0.prototype=t,t.Parser=X0,new X0}();Vk.parser=Vk;uk0=Vk,D9=new AA(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),mk0=R(function(Z){D9.records.boxes.push({name:Z.text,wrap:Z.wrap??_Y(),fill:Z.color,actorKeys:[]}),D9.records.currentBox=D9.records.boxes.slice(-1)[0]},"addBox"),Sk=R(function(Z,J,Q,K){let X=D9.records.currentBox;const U=D9.records.actors.get(Z);if(U){if(D9.records.currentBox&&U.box&&D9.records.currentBox!==U.box)throw new Error(`A same participant should only be defined in one Box: ${U.name} can't be in '${U.box.name}' and in '${D9.records.currentBox.name}' at the same time.`);if(X=U.box?U.box:D9.records.currentBox,U.box=X,U&&J===U.name&&Q==null)return}if(Q?.text==null)Q={text:J,type:K};if(K==null||Q.text==null)Q={text:J,type:K};if(D9.records.actors.set(Z,{box:X,name:J,description:Q.text,wrap:Q.wrap??_Y(),prevActor:D9.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:K??"participant"}),D9.records.prevActor){const Y=D9.records.actors.get(D9.records.prevActor);if(Y)Y.nextActor=Z}if(D9.records.currentBox)D9.records.currentBox.actorKeys.push(Z);D9.records.prevActor=Z},"addActor"),gk0=R((Z)=>{let J,Q=0;if(!Z)return 0;for(J=0;J<D9.records.messages.length;J++){if(D9.records.messages[J].type===VF.ACTIVE_START&&D9.records.messages[J].from===Z)Q++;if(D9.records.messages[J].type===VF.ACTIVE_END&&D9.records.messages[J].from===Z)Q--}return Q},"activationCount"),pk0=R(function(Z,J,Q,K){D9.records.messages.push({from:Z,to:J,message:Q.text,wrap:Q.wrap??_Y(),answer:K})},"addMessage"),oZ=R(function(Z,J,Q,K,X=!1){if(K===VF.ACTIVE_END){if(gk0(Z??"")<1){const Y=new Error("Trying to inactivate an inactive participant ("+Z+")");throw Y.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},Y}}return D9.records.messages.push({from:Z,to:J,message:Q?.text??"",wrap:Q?.wrap??_Y(),type:K,activate:X}),!0},"addSignal"),ck0=R(function(){return D9.records.boxes.length>0},"hasAtLeastOneBox"),lk0=R(function(){return D9.records.boxes.some((Z)=>Z.name)},"hasAtLeastOneBoxWithTitle"),dk0=R(function(){return D9.records.messages},"getMessages"),ik0=R(function(){return D9.records.boxes},"getBoxes"),sk0=R(function(){return D9.records.actors},"getActors"),rk0=R(function(){return D9.records.createdActors},"getCreatedActors"),nk0=R(function(){return D9.records.destroyedActors},"getDestroyedActors"),SF=R(function(Z){return D9.records.actors.get(Z)},"getActor"),ak0=R(function(){return[...D9.records.actors.keys()]},"getActorKeys"),ok0=R(function(){D9.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),tk0=R(function(){D9.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),ek0=R(()=>D9.records.sequenceNumbersEnabled,"showSequenceNumbers"),Z$0=R(function(Z){D9.records.wrapEnabled=Z},"setWrap"),aJ0=R((Z)=>{if(Z===void 0)return{};Z=Z.trim();const J=/^:?wrap:/.exec(Z)!==null?!0:/^:?nowrap:/.exec(Z)!==null?!1:void 0;return{cleanedText:(J===void 0?Z:Z.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:J}},"extractWrap"),_Y=R(()=>{if(D9.records.wrapEnabled!==void 0)return D9.records.wrapEnabled;return W0().sequence?.wrap??!1},"autoWrap"),J$0=R(function(){D9.reset(),O8()},"clear"),Q$0=R(function(Z){const J=Z.trim(),{wrap:Q,cleanedText:K}=aJ0(J),X={text:K,wrap:Q};return p.debug(`parseMessage: ${JSON.stringify(X)}`),X},"parseMessage"),K$0=R(function(Z){const J=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(Z);let Q=J?.[1]?J[1].trim():"transparent",K=J?.[2]?J[2].trim():void 0;if(window?.CSS){if(!window.CSS.supports("color",Q))Q="transparent",K=Z.trim()}else{const Y=new Option().style;if(Y.color=Q,Y.color!==Q)Q="transparent",K=Z.trim()}const{wrap:X,cleanedText:U}=aJ0(K);return{text:U?u8(U,W0()):void 0,color:Q,wrap:X}},"parseBoxData"),VF={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},X$0={FILLED:0,OPEN:1},U$0={LEFTOF:0,RIGHTOF:1,OVER:2},oJ0=R(function(Z,J,Q){const K={actor:Z,placement:J,message:Q.text,wrap:Q.wrap??_Y()},X=[].concat(Z,Z);D9.records.notes.push(K),D9.records.messages.push({from:X[0],to:X[1],message:Q.text,wrap:Q.wrap??_Y(),type:VF.NOTE,placement:J})},"addNote"),tJ0=R(function(Z,J){const Q=SF(Z);try{let K=u8(J.text,W0());K=K.replace(/&amp;/g,"&"),K=K.replace(/&equals;/g,"=");const X=JSON.parse(K);yI(Q,X)}catch(K){p.error("error while parsing actor link text",K)}},"addLinks"),Y$0=R(function(Z,J){const Q=SF(Z);try{const K={};let X=u8(J.text,W0());const U=X.indexOf("@");X=X.replace(/&amp;/g,"&"),X=X.replace(/&equals;/g,"=");const Y=X.slice(0,U-1).trim(),q=X.slice(U+1).trim();K[Y]=q,yI(Q,K)}catch(K){p.error("error while parsing actor link text",K)}},"addALink");R(yI,"insertLinks");eJ0=R(function(Z,J){const Q=SF(Z);try{const K=u8(J.text,W0()),X=JSON.parse(K);vk(Q,X)}catch(K){p.error("error while parsing actor properties text",K)}},"addProperties");R(vk,"insertProperties");R(Z70,"boxEnd");J70=R(function(Z,J){const Q=SF(Z),K=document.getElementById(J.text);try{const X=K.innerHTML,U=JSON.parse(X);if(U.properties)vk(Q,U.properties);if(U.links)yI(Q,U.links)}catch(X){p.error("error while parsing actor details text",X)}},"addDetails"),q$0=R(function(Z,J){if(Z?.properties!==void 0)return Z.properties[J];return},"getActorProperty"),Q70=R(function(Z){if(Array.isArray(Z))Z.forEach(function(J){Q70(J)});else switch(Z.type){case"sequenceIndex":D9.records.messages.push({from:void 0,to:void 0,message:{start:Z.sequenceIndex,step:Z.sequenceIndexStep,visible:Z.sequenceVisible},wrap:!1,type:Z.signalType});break;case"addParticipant":Sk(Z.actor,Z.actor,Z.description,Z.draw);break;case"createParticipant":if(D9.records.actors.has(Z.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");D9.records.lastCreated=Z.actor,Sk(Z.actor,Z.actor,Z.description,Z.draw),D9.records.createdActors.set(Z.actor,D9.records.messages.length);break;case"destroyParticipant":D9.records.lastDestroyed=Z.actor,D9.records.destroyedActors.set(Z.actor,D9.records.messages.length);break;case"activeStart":oZ(Z.actor,void 0,void 0,Z.signalType);break;case"activeEnd":oZ(Z.actor,void 0,void 0,Z.signalType);break;case"addNote":oJ0(Z.actor,Z.placement,Z.text);break;case"addLinks":tJ0(Z.actor,Z.text);break;case"addALink":Y$0(Z.actor,Z.text);break;case"addProperties":eJ0(Z.actor,Z.text);break;case"addDetails":J70(Z.actor,Z.text);break;case"addMessage":if(D9.records.lastCreated)if(Z.to!==D9.records.lastCreated)throw new Error("The created participant "+D9.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");else D9.records.lastCreated=void 0;else if(D9.records.lastDestroyed)if(Z.to!==D9.records.lastDestroyed&&Z.from!==D9.records.lastDestroyed)throw new Error("The destroyed participant "+D9.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");else D9.records.lastDestroyed=void 0;oZ(Z.from,Z.to,Z.msg,Z.signalType,Z.activate);break;case"boxStart":mk0(Z.boxData);break;case"boxEnd":Z70();break;case"loopStart":oZ(void 0,void 0,Z.loopText,Z.signalType);break;case"loopEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"rectStart":oZ(void 0,void 0,Z.color,Z.signalType);break;case"rectEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"optStart":oZ(void 0,void 0,Z.optText,Z.signalType);break;case"optEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"altStart":oZ(void 0,void 0,Z.altText,Z.signalType);break;case"else":oZ(void 0,void 0,Z.altText,Z.signalType);break;case"altEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"setAccTitle":E8(Z.text);break;case"parStart":oZ(void 0,void 0,Z.parText,Z.signalType);break;case"and":oZ(void 0,void 0,Z.parText,Z.signalType);break;case"parEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"criticalStart":oZ(void 0,void 0,Z.criticalText,Z.signalType);break;case"option":oZ(void 0,void 0,Z.optionText,Z.signalType);break;case"criticalEnd":oZ(void 0,void 0,void 0,Z.signalType);break;case"breakStart":oZ(void 0,void 0,Z.breakText,Z.signalType);break;case"breakEnd":oZ(void 0,void 0,void 0,Z.signalType);break}},"apply"),sJ0={addActor:Sk,addMessage:pk0,addSignal:oZ,addLinks:tJ0,addDetails:J70,addProperties:eJ0,autoWrap:_Y,setWrap:Z$0,enableSequenceNumbers:ok0,disableSequenceNumbers:tk0,showSequenceNumbers:ek0,getMessages:dk0,getActors:sk0,getCreatedActors:rk0,getDestroyedActors:nk0,getActor:SF,getActorKeys:ak0,getActorProperty:q$0,getAccTitle:f8,getBoxes:ik0,getDiagramTitle:m8,setDiagramTitle:o8,getConfig:R(()=>W0().sequence,"getConfig"),clear:J$0,parseMessage:Q$0,parseBoxData:K$0,LINETYPE:VF,ARROWTYPE:X$0,PLACEMENT:U$0,addNote:oJ0,setAccTitle:E8,apply:Q70,setAccDescription:v8,getAccDescription:k8,hasAtLeastOneBox:ck0,hasAtLeastOneBoxWithTitle:lk0},z$0=R((Z)=>`.actor {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }

  text.actor > tspan {
    fill: ${Z.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${Z.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${Z.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${Z.signalColor};
  }

  #arrowhead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .sequenceNumber {
    fill: ${Z.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${Z.signalColor};
  }

  #crosshead path {
    fill: ${Z.signalColor};
    stroke: ${Z.signalColor};
  }

  .messageText {
    fill: ${Z.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${Z.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${Z.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${Z.labelBoxBorderColor};
    fill: ${Z.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${Z.noteBorderColor};
    fill: ${Z.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${Z.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation1 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .activation2 {
    fill: ${Z.activationBkgColor};
    stroke: ${Z.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${Z.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${Z.actorBorder};
    fill: ${Z.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),G$0=z$0,$k=R(function(Z,J){return XY(Z,J)},"drawRect"),W$0=R(function(Z,J,Q,K,X){if(J.links===void 0||J.links===null||Object.keys(J.links).length===0)return{height:0,width:0};const{links:U,actorCnt:Y,rectData:q}=J;var z="none";if(X)z="block !important";const G=Z.append("g");G.attr("id","actor"+Y+"_popup"),G.attr("class","actorPopupMenu"),G.attr("display",z);var H="";if(q.class!==void 0)H=" "+q.class;let W=q.width>Q?q.width:Q;const F=G.append("rect");if(F.attr("class","actorPopupMenuPanel"+H),F.attr("x",q.x),F.attr("y",q.height),F.attr("fill",q.fill),F.attr("stroke",q.stroke),F.attr("width",W),F.attr("height",q.height),F.attr("rx",q.rx),F.attr("ry",q.ry),U!=null){var M=20;for(let A in U){var B=G.append("a"),O=kk.sanitizeUrl(U[A]);B.attr("xlink:href",O),B.attr("target","_blank"),S$0(K)(A,B,q.x+10,q.height+M,W,20,{class:"actor"},K),M+=30}}return F.attr("height",M),{height:q.height+M,width:W}},"drawPopup"),F$0=R(function(Z){return"var pu = document.getElementById('"+Z+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),hI=R(async function(Z,J,Q=null){let K=Z.append("foreignObject");const X=await r5(J.text,a8()),Y=K.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(X).node().getBoundingClientRect();if(K.attr("height",Math.round(Y.height)).attr("width",Math.round(Y.width)),J.class==="noteText"){const q=Z.node().firstChild;q.setAttribute("height",Y.height+2*J.textMargin);const z=q.getBBox();K.attr("x",Math.round(z.x+z.width/2-Y.width/2)).attr("y",Math.round(z.y+z.height/2-Y.height/2))}else if(Q){let{startx:q,stopx:z,starty:G}=Q;if(q>z){const H=q;q=z,z=H}if(K.attr("x",Math.round(q+Math.abs(q-z)/2-Y.width/2)),J.class==="loopText")K.attr("y",Math.round(G));else K.attr("y",Math.round(G-Y.height))}return[K]},"drawKatex"),vz=R(function(Z,J){let Q=0,K=0;const X=J.text.split(g0.lineBreakRegex),[U,Y]=p4(J.fontSize);let q=[],z=0,G=R(()=>J.y,"yfunc");if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)switch(J.valign){case"top":case"start":G=R(()=>Math.round(J.y+J.textMargin),"yfunc");break;case"middle":case"center":G=R(()=>Math.round(J.y+(Q+K+J.textMargin)/2),"yfunc");break;case"bottom":case"end":G=R(()=>Math.round(J.y+(Q+K+2*J.textMargin)-J.textMargin),"yfunc");break}if(J.anchor!==void 0&&J.textMargin!==void 0&&J.width!==void 0)switch(J.anchor){case"left":case"start":J.x=Math.round(J.x+J.textMargin),J.anchor="start",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"middle":case"center":J.x=Math.round(J.x+J.width/2),J.anchor="middle",J.dominantBaseline="middle",J.alignmentBaseline="middle";break;case"right":case"end":J.x=Math.round(J.x+J.width-J.textMargin),J.anchor="end",J.dominantBaseline="middle",J.alignmentBaseline="middle";break}for(let[H,W]of X.entries()){if(J.textMargin!==void 0&&J.textMargin===0&&U!==void 0)z=H*U;const F=Z.append("text");if(F.attr("x",J.x),F.attr("y",G()),J.anchor!==void 0)F.attr("text-anchor",J.anchor).attr("dominant-baseline",J.dominantBaseline).attr("alignment-baseline",J.alignmentBaseline);if(J.fontFamily!==void 0)F.style("font-family",J.fontFamily);if(Y!==void 0)F.style("font-size",Y);if(J.fontWeight!==void 0)F.style("font-weight",J.fontWeight);if(J.fill!==void 0)F.attr("fill",J.fill);if(J.class!==void 0)F.attr("class",J.class);if(J.dy!==void 0)F.attr("dy",J.dy);else if(z!==0)F.attr("dy",z);const M=W||VC;if(J.tspan){const B=F.append("tspan");if(B.attr("x",J.x),J.fill!==void 0)B.attr("fill",J.fill);B.text(M)}else F.text(M);if(J.valign!==void 0&&J.textMargin!==void 0&&J.textMargin>0)K+=(F._groups||F)[0][0].getBBox().height,Q=K;q.push(F)}return q},"drawText"),U70=R(function(Z,J){function Q(X,U,Y,q,z){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-z)+" "+(X+Y-z*1.2)+","+(U+q)+" "+X+","+(U+q)}R(Q,"genPoints");const K=Z.append("polygon");return K.attr("points",Q(J.x,J.y,J.width,J.height,7)),K.attr("class","labelBox"),J.y=J.y+J.height/2,vz(Z,J),K},"drawLabel"),Y70=R((Z,J,Q,K)=>{if(!Z.select)return;Q.forEach((X)=>{const U=J.get(X),Y=Z.select("#actor"+U.actorCnt);if(!K.mirrorActors&&U.stopy)Y.attr("y2",U.stopy+U.height/2);else if(K.mirrorActors)Y.attr("y2",U.stopy)})},"fixLifeLineHeights"),M$0=R(function(Z,J,Q,K){const X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+5,q=Z.append("g").lower();var z=q;if(!K){if(BK++,Object.keys(J.links||{}).length&&!Q.forceMenus)z.attr("onclick",F$0(`actor${BK}_popup`)).attr("cursor","pointer");if(z.append("line").attr("id","actor"+BK).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),z=q.append("g"),J.actorCnt=BK,J.links!=null)z.attr("id","root-"+BK)}const G=e4();var H="actor";if(J.properties?.class)H=J.properties.class;else G.fill="#eaeaea";if(K)H+=` ${X70}`;else H+=` ${K70}`;G.x=J.x,G.y=X,G.width=J.width,G.height=J.height,G.class=H,G.rx=3,G.ry=3,G.name=J.name;const W=$k(z,G);if(J.rectData=G,J.properties?.icon){const M=J.properties.icon.trim();if(M.charAt(0)==="@")Wo(z,G.x+G.width-20,G.y+10,M.substr(1));else Ho(z,G.x+G.width-20,G.y+10,M)}_k(Q,PJ(J.description))(J.description,z,G.x,G.y,G.width,G.height,{class:`actor ${H$0}`},Q);let F=J.height;if(W.node){const M=W.node().getBBox();J.height=M.height,F=M.height}return F},"drawActorTypeParticipant"),B$0=R(function(Z,J,Q,K){const X=K?J.stopy:J.starty,U=J.x+J.width/2,Y=X+80,q=Z.append("g").lower();if(!K)BK++,q.append("line").attr("id","actor"+BK).attr("x1",U).attr("y1",Y).attr("x2",U).attr("y2",2000).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",J.name),J.actorCnt=BK;const z=Z.append("g");let G=rJ0;if(K)G+=` ${X70}`;else G+=` ${K70}`;z.attr("class",G),z.attr("name",J.name);const H=e4();H.x=J.x,H.y=X,H.fill="#eaeaea",H.width=J.width,H.height=J.height,H.class="actor",H.rx=3,H.ry=3,z.append("line").attr("id","actor-man-torso"+BK).attr("x1",U).attr("y1",X+25).attr("x2",U).attr("y2",X+45),z.append("line").attr("id","actor-man-arms"+BK).attr("x1",U-$Y/2).attr("y1",X+33).attr("x2",U+$Y/2).attr("y2",X+33),z.append("line").attr("x1",U-$Y/2).attr("y1",X+60).attr("x2",U).attr("y2",X+45),z.append("line").attr("x1",U).attr("y1",X+45).attr("x2",U+$Y/2-2).attr("y2",X+60);const W=z.append("circle");W.attr("cx",J.x+J.width/2),W.attr("cy",X+10),W.attr("r",15),W.attr("width",J.width),W.attr("height",J.height);const F=z.node().getBBox();return J.height=F.height,_k(Q,PJ(J.description))(J.description,z,H.x,H.y+35,H.width,H.height,{class:`actor ${rJ0}`},Q),J.height},"drawActorTypeActor"),R$0=R(async function(Z,J,Q,K){switch(J.type){case"actor":return await B$0(Z,J,Q,K);case"participant":return await M$0(Z,J,Q,K)}},"drawActor"),O$0=R(function(Z,J,Q){const X=Z.append("g");if(q70(X,J),J.name)_k(Q)(J.name,X,J.x,J.y+(J.textMaxHeight||0)/2,J.width,0,{class:"text"},Q);X.lower()},"drawBox"),A$0=R(function(Z){return Z.append("g")},"anchorElement"),L$0=R(function(Z,J,Q,K,X){const U=e4(),Y=J.anchored;U.x=J.startx,U.y=J.starty,U.class="activation"+X%3,U.width=J.stopx-J.startx,U.height=Q-J.starty,$k(Y,U)},"drawActivation"),I$0=R(async function(Z,J,Q,K){const{boxMargin:X,boxTextMargin:U,labelBoxHeight:Y,labelBoxWidth:q,messageFontFamily:z,messageFontSize:G,messageFontWeight:H}=K,W=Z.append("g"),F=R(function(O,A,L,I){return W.append("line").attr("x1",O).attr("y1",A).attr("x2",L).attr("y2",I).attr("class","loopLine")},"drawLoopLine");if(F(J.startx,J.starty,J.stopx,J.starty),F(J.stopx,J.starty,J.stopx,J.stopy),F(J.startx,J.stopy,J.stopx,J.stopy),F(J.startx,J.starty,J.startx,J.stopy),J.sections!==void 0)J.sections.forEach(function(O){F(J.startx,O.y,J.stopx,O.y).style("stroke-dasharray","3, 3")});let M=oO();M.text=Q,M.x=J.startx,M.y=J.starty,M.fontFamily=z,M.fontSize=G,M.fontWeight=H,M.anchor="middle",M.valign="middle",M.tspan=!1,M.width=q||50,M.height=Y||20,M.textMargin=U,M.class="labelText",U70(W,M),M=z70(),M.text=J.title,M.x=J.startx+q/2+(J.stopx-J.startx)/2,M.y=J.starty+X+U,M.anchor="middle",M.valign="middle",M.textMargin=U,M.class="loopText",M.fontFamily=z,M.fontSize=G,M.fontWeight=H,M.wrap=!0;let B=PJ(M.text)?await hI(W,M,J):vz(W,M);if(J.sectionTitles!==void 0){for(let[O,A]of Object.entries(J.sectionTitles))if(A.message){if(M.text=A.message,M.x=J.startx+(J.stopx-J.startx)/2,M.y=J.sections[O].y+X+U,M.class="loopText",M.anchor="middle",M.valign="middle",M.tspan=!1,M.fontFamily=z,M.fontSize=G,M.fontWeight=H,M.wrap=J.wrap,PJ(M.text))J.starty=J.sections[O].y,await hI(W,M,J);else vz(W,M);let L=Math.round(B.map((I)=>(I._groups||I)[0][0].getBBox().height).reduce((I,D)=>I+D));J.sections[O].height+=L-(X+U)}}return J.height=Math.round(J.stopy-J.starty),W},"drawLoop"),q70=R(function(Z,J){aO(Z,J)},"drawBackgroundRect"),D$0=R(function(Z){Z.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),N$0=R(function(Z){Z.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),E$0=R(function(Z){Z.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),w$0=R(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),j$0=R(function(Z){Z.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),C$0=R(function(Z){Z.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),P$0=R(function(Z){Z.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),z70=R(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),V$0=R(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),_k=function(){function Z(U,Y,q,z,G,H,W){const F=Y.append("text").attr("x",q+G/2).attr("y",z+H/2+5).style("text-anchor","middle").text(U);X(F,W)}R(Z,"byText");function J(U,Y,q,z,G,H,W,F){const{actorFontSize:M,actorFontFamily:B,actorFontWeight:O}=F,[A,L]=p4(M),I=U.split(g0.lineBreakRegex);for(let D=0;D<I.length;D++){const w=D*A-A*(I.length-1)/2,N=Y.append("text").attr("x",q+G/2).attr("y",z).style("text-anchor","middle").style("font-size",L).style("font-weight",O).style("font-family",B);N.append("tspan").attr("x",q+G/2).attr("dy",w).text(I[D]),N.attr("y",z+H/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),X(N,W)}}R(J,"byTspan");function Q(U,Y,q,z,G,H,W,F){const M=Y.append("switch"),O=M.append("foreignObject").attr("x",q).attr("y",z).attr("width",G).attr("height",H).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");O.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(U),J(U,M,q,z,G,H,W,F),X(O,W)}R(Q,"byFo");async function K(U,Y,q,z,G,H,W,F){const M=await Nq(U,a8()),B=Y.append("switch"),A=B.append("foreignObject").attr("x",q+G/2-M.width/2).attr("y",z+H/2-M.height/2).attr("width",M.width).attr("height",M.height).append("xhtml:div").style("height","100%").style("width","100%");A.append("div").style("text-align","center").style("vertical-align","middle").html(await r5(U,a8())),J(U,B,q,z,G,H,W,F),X(A,W)}R(K,"byKatex");function X(U,Y){for(let q in Y)if(Y.hasOwnProperty(q))U.attr(q,Y[q])}return R(X,"_setTextAttrs"),function(U,Y=!1){if(Y)return K;return U.textPlacement==="fo"?Q:U.textPlacement==="old"?Z:J}}(),S$0=function(){function Z(X,U,Y,q,z,G,H){const W=U.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").text(X);K(W,H)}R(Z,"byText");function J(X,U,Y,q,z,G,H,W){const{actorFontSize:F,actorFontFamily:M,actorFontWeight:B}=W,O=X.split(g0.lineBreakRegex);for(let A=0;A<O.length;A++){const L=A*F-F*(O.length-1)/2,I=U.append("text").attr("x",Y).attr("y",q).style("text-anchor","start").style("font-size",F).style("font-weight",B).style("font-family",M);I.append("tspan").attr("x",Y).attr("dy",L).text(O[A]),I.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(I,H)}}R(J,"byTspan");function Q(X,U,Y,q,z,G,H,W){const F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",z).attr("height",G).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,z,G,H,W),K(B,H)}R(Q,"byFo");function K(X,U){for(let Y in U)if(U.hasOwnProperty(Y))X.attr(Y,U[Y])}return R(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),tZ={drawRect:$k,drawText:vz,drawLabel:U70,drawActor:R$0,drawBox:O$0,drawPopup:W$0,anchorElement:A$0,drawActivation:L$0,drawLoop:I$0,drawBackgroundRect:q70,insertArrowHead:w$0,insertArrowFilledHead:j$0,insertSequenceNumber:C$0,insertArrowCrossHead:P$0,insertDatabaseIcon:D$0,insertComputerIcon:N$0,insertClockIcon:E$0,getTextObj:z70,getNoteRect:V$0,fixLifeLineHeights:Y70,sanitizeUrl:kk.sanitizeUrl},j0={},s0={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:R(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map((Z)=>Z.height||0))+(this.loops.length===0?0:this.loops.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.messages.length===0?0:this.messages.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))+(this.notes.length===0?0:this.notes.map((Z)=>Z.height||0).reduce((Z,J)=>Z+J))},"getHeight"),clear:R(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:R(function(Z){this.boxes.push(Z)},"addBox"),addActor:R(function(Z){this.actors.push(Z)},"addActor"),addLoop:R(function(Z){this.loops.push(Z)},"addLoop"),addMessage:R(function(Z){this.messages.push(Z)},"addMessage"),addNote:R(function(Z){this.notes.push(Z)},"addNote"),lastActor:R(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:R(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:R(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:R(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:R(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,W70(W0())},"init"),updateVal:R(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:R(function(Z,J,Q,K){const X=this;let U=0;function Y(q){return R(function z(G){U++;const H=X.sequenceItems.length-U+1;if(X.updateVal(G,"starty",J-H*j0.boxMargin,Math.min),X.updateVal(G,"stopy",K+H*j0.boxMargin,Math.max),X.updateVal(s0.data,"startx",Z-H*j0.boxMargin,Math.min),X.updateVal(s0.data,"stopx",Q+H*j0.boxMargin,Math.max),q!=="activation")X.updateVal(G,"startx",Z-H*j0.boxMargin,Math.min),X.updateVal(G,"stopx",Q+H*j0.boxMargin,Math.max),X.updateVal(s0.data,"starty",J-H*j0.boxMargin,Math.min),X.updateVal(s0.data,"stopy",K+H*j0.boxMargin,Math.max)},"updateItemBounds")}R(Y,"updateFn"),this.sequenceItems.forEach(Y()),this.activations.forEach(Y("activation"))},"updateBounds"),insert:R(function(Z,J,Q,K){const X=g0.getMin(Z,Q),U=g0.getMax(Z,Q),Y=g0.getMin(J,K),q=g0.getMax(J,K);this.updateVal(s0.data,"startx",X,Math.min),this.updateVal(s0.data,"starty",Y,Math.min),this.updateVal(s0.data,"stopx",U,Math.max),this.updateVal(s0.data,"stopy",q,Math.max),this.updateBounds(X,Y,U,q)},"insert"),newActivation:R(function(Z,J,Q){const K=Q.get(Z.from),X=uI(Z.from).length||0,U=K.x+K.width/2+(X-1)*j0.activationWidth/2;this.activations.push({startx:U,starty:this.verticalPos+2,stopx:U+j0.activationWidth,stopy:void 0,actor:Z.from,anchored:tZ.anchorElement(J)})},"newActivation"),endActivation:R(function(Z){const J=this.activations.map(function(Q){return Q.actor}).lastIndexOf(Z.from);return this.activations.splice(J,1)[0]},"endActivation"),createLoop:R(function(Z={message:void 0,wrap:!1,width:void 0},J){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:Z.message,wrap:Z.wrap,width:Z.width,height:0,fill:J}},"createLoop"),newLoop:R(function(Z={message:void 0,wrap:!1,width:void 0},J){this.sequenceItems.push(this.createLoop(Z,J))},"newLoop"),endLoop:R(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:R(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:R(function(Z){const J=this.sequenceItems.pop();J.sections=J.sections||[],J.sectionTitles=J.sectionTitles||[],J.sections.push({y:s0.getVerticalPos(),height:0}),J.sectionTitles.push(Z),this.sequenceItems.push(J)},"addSectionToLoop"),saveVerticalPos:R(function(){if(this.isLoopOverlap())this.savedVerticalPos=this.verticalPos},"saveVerticalPos"),resetVerticalPos:R(function(){if(this.isLoopOverlap())this.verticalPos=this.savedVerticalPos},"resetVerticalPos"),bumpVerticalPos:R(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=g0.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:R(function(){return this.verticalPos},"getVerticalPos"),getBounds:R(function(){return{bounds:this.data,models:this.models}},"getBounds")},T$0=R(async function(Z,J){s0.bumpVerticalPos(j0.boxMargin),J.height=j0.boxMargin,J.starty=s0.getVerticalPos();const Q=e4();Q.x=J.startx,Q.y=J.starty,Q.width=J.width||j0.width,Q.class="note";const K=Z.append("g"),X=tZ.drawRect(K,Q),U=oO();U.x=J.startx,U.y=J.starty,U.width=Q.width,U.dy="1em",U.text=J.message,U.class="noteText",U.fontFamily=j0.noteFontFamily,U.fontSize=j0.noteFontSize,U.fontWeight=j0.noteFontWeight,U.anchor=j0.noteAlign,U.textMargin=j0.noteMargin,U.valign="center";const Y=PJ(U.text)?await hI(K,U):vz(K,U),q=Math.round(Y.map((z)=>(z._groups||z)[0][0].getBBox().height).reduce((z,G)=>z+G));X.attr("height",q+2*j0.noteMargin),J.height+=q+2*j0.noteMargin,s0.bumpVerticalPos(q+2*j0.noteMargin),J.stopy=J.starty+q+2*j0.noteMargin,J.stopx=J.startx+Q.width,s0.insert(J.startx,J.starty,J.stopx,J.stopy),s0.models.addNote(J)},"drawNote"),bY=R((Z)=>{return{fontFamily:Z.messageFontFamily,fontSize:Z.messageFontSize,fontWeight:Z.messageFontWeight}},"messageFont"),fz=R((Z)=>{return{fontFamily:Z.noteFontFamily,fontSize:Z.noteFontSize,fontWeight:Z.noteFontWeight}},"noteFont"),Tk=R((Z)=>{return{fontFamily:Z.actorFontFamily,fontSize:Z.actorFontSize,fontWeight:Z.actorFontWeight}},"actorFont");R(G70,"boundMessage");f$0=R(async function(Z,J,Q,K){const{startx:X,stopx:U,starty:Y,message:q,type:z,sequenceIndex:G,sequenceVisible:H}=J,W=B9.calculateTextDimensions(q,bY(j0)),F=oO();if(F.x=X,F.y=Y+10,F.width=U-X,F.class="messageText",F.dy="1em",F.text=q,F.fontFamily=j0.messageFontFamily,F.fontSize=j0.messageFontSize,F.fontWeight=j0.messageFontWeight,F.anchor=j0.messageAlign,F.valign="center",F.textMargin=j0.wrapPadding,F.tspan=!1,PJ(F.text))await hI(Z,F,{startx:X,stopx:U,starty:Q});else vz(Z,F);const M=W.width;let B;if(X===U)if(j0.rightAngles)B=Z.append("path").attr("d",`M  ${X},${Q} H ${X+g0.getMax(j0.width/2,M/2)} V ${Q+25} H ${X}`);else B=Z.append("path").attr("d","M "+X+","+Q+" C "+(X+60)+","+(Q-10)+" "+(X+60)+","+(Q+30)+" "+X+","+(Q+20));else B=Z.append("line"),B.attr("x1",X),B.attr("y1",Q),B.attr("x2",U),B.attr("y2",Q);if(z===K.db.LINETYPE.DOTTED||z===K.db.LINETYPE.DOTTED_CROSS||z===K.db.LINETYPE.DOTTED_POINT||z===K.db.LINETYPE.DOTTED_OPEN||z===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.style("stroke-dasharray","3, 3"),B.attr("class","messageLine1");else B.attr("class","messageLine0");let O="";if(j0.arrowMarkerAbsolute)O=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,O=O.replace(/\(/g,"\\("),O=O.replace(/\)/g,"\\)");if(B.attr("stroke-width",2),B.attr("stroke","none"),B.style("fill","none"),z===K.db.LINETYPE.SOLID||z===K.db.LINETYPE.DOTTED)B.attr("marker-end","url("+O+"#arrowhead)");if(z===K.db.LINETYPE.BIDIRECTIONAL_SOLID||z===K.db.LINETYPE.BIDIRECTIONAL_DOTTED)B.attr("marker-start","url("+O+"#arrowhead)"),B.attr("marker-end","url("+O+"#arrowhead)");if(z===K.db.LINETYPE.SOLID_POINT||z===K.db.LINETYPE.DOTTED_POINT)B.attr("marker-end","url("+O+"#filled-head)");if(z===K.db.LINETYPE.SOLID_CROSS||z===K.db.LINETYPE.DOTTED_CROSS)B.attr("marker-end","url("+O+"#crosshead)");if(H||j0.showSequenceNumbers)B.attr("marker-start","url("+O+"#sequencenumber)"),Z.append("text").attr("x",X).attr("y",Q+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(G)},"drawMessage"),v$0=R(function(Z,J,Q,K,X,U,Y){let q=0,z=0,G=void 0,H=0;for(let W of K){const F=J.get(W),M=F.box;if(G&&G!=M){if(!Y)s0.models.addBox(G);z+=j0.boxMargin+G.margin}if(M&&M!=G){if(!Y)M.x=q+z,M.y=X;z+=M.margin}if(F.width=F.width||j0.width,F.height=g0.getMax(F.height||j0.height,j0.height),F.margin=F.margin||j0.actorMargin,H=g0.getMax(H,F.height),Q.get(F.name))z+=F.width/2;if(F.x=q+z,F.starty=s0.getVerticalPos(),s0.insert(F.x,X,F.x+F.width,F.height),q+=F.width+z,F.box)F.box.width=q+M.margin-F.box.x;z=F.margin,G=F.box,s0.models.addActor(F)}if(G&&!Y)s0.models.addBox(G);s0.bumpVerticalPos(H)},"addActorRenderingData"),fk=R(async function(Z,J,Q,K){if(!K)for(let X of Q){const U=J.get(X);await tZ.drawActor(Z,U,j0,!1)}else{let X=0;s0.bumpVerticalPos(j0.boxMargin*2);for(let U of Q){const Y=J.get(U);if(!Y.stopy)Y.stopy=s0.getVerticalPos();const q=await tZ.drawActor(Z,Y,j0,!0);X=g0.getMax(X,q)}s0.bumpVerticalPos(X+j0.boxMargin)}},"drawActors"),H70=R(function(Z,J,Q,K){let X=0,U=0;for(let Y of Q){const q=J.get(Y),z=$$0(q),G=tZ.drawPopup(Z,q,z,j0,j0.forceMenus,K);if(G.height>X)X=G.height;if(G.width+q.x>U)U=G.width+q.x}return{maxHeight:X,maxWidth:U}},"drawActorsPopup"),W70=R(function(Z){if(TZ(j0,Z),Z.fontFamily)j0.actorFontFamily=j0.noteFontFamily=j0.messageFontFamily=Z.fontFamily;if(Z.fontSize)j0.actorFontSize=j0.noteFontSize=j0.messageFontSize=Z.fontSize;if(Z.fontWeight)j0.actorFontWeight=j0.noteFontWeight=j0.messageFontWeight=Z.fontWeight},"setConf"),uI=R(function(Z){return s0.activations.filter(function(J){return J.actor===Z})},"actorActivations"),nJ0=R(function(Z,J){const Q=J.get(Z),K=uI(Z),X=K.reduce(function(Y,q){return g0.getMin(Y,q.startx)},Q.x+Q.width/2-1),U=K.reduce(function(Y,q){return g0.getMax(Y,q.stopx)},Q.x+Q.width/2+1);return[X,U]},"activationBounds");R(G4,"adjustLoopHeightForWrap");R(F70,"adjustCreatedDestroyedData");k$0=R(async function(Z,J,Q,K){const{securityLevel:X,sequence:U}=W0();j0=U;let Y;if(X==="sandbox")Y=$0("#i"+J);const q=X==="sandbox"?$0(Y.nodes()[0].contentDocument.body):$0("body"),z=X==="sandbox"?Y.nodes()[0].contentDocument:document;s0.init(),p.debug(K.db);const G=X==="sandbox"?q.select(`[id="${J}"]`):$0(`[id="${J}"]`),H=K.db.getActors(),W=K.db.getCreatedActors(),F=K.db.getDestroyedActors(),M=K.db.getBoxes();let B=K.db.getActorKeys();const O=K.db.getMessages(),A=K.db.getDiagramTitle(),L=K.db.hasAtLeastOneBox(),I=K.db.hasAtLeastOneBoxWithTitle(),D=await M70(H,O,K);if(j0.height=await B70(H,D,M),tZ.insertComputerIcon(G),tZ.insertDatabaseIcon(G),tZ.insertClockIcon(G),L){if(s0.bumpVerticalPos(j0.boxMargin),I)s0.bumpVerticalPos(M[0].textMaxHeight)}if(j0.hideUnusedParticipants===!0){const y=new Set;O.forEach((k)=>{y.add(k.from),y.add(k.to)}),B=B.filter((k)=>y.has(k))}v$0(G,H,W,B,0,O,!1);const w=await x$0(O,H,D,K);tZ.insertArrowHead(G),tZ.insertArrowCrossHead(G),tZ.insertArrowFilledHead(G),tZ.insertSequenceNumber(G);function N(y,k){const g=s0.endActivation(y);if(g.starty+18>k)g.starty=k-6,k+=12;tZ.drawActivation(G,g,k,j0,uI(y.from).length),s0.insert(g.startx,k-10,g.stopx,k)}R(N,"activeEnd");let E=1,j=1;const P=[],C=[];let T=0;for(let y of O){let k,g,u;switch(y.type){case K.db.LINETYPE.NOTE:s0.resetVerticalPos(),g=y.noteModel,await T$0(G,g);break;case K.db.LINETYPE.ACTIVE_START:s0.newActivation(y,G,H);break;case K.db.LINETYPE.ACTIVE_END:N(y,s0.getVerticalPos());break;case K.db.LINETYPE.LOOP_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i));break;case K.db.LINETYPE.LOOP_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"loop",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;case K.db.LINETYPE.RECT_START:G4(w,y,j0.boxMargin,j0.boxMargin,(i)=>s0.newLoop(void 0,i.message));break;case K.db.LINETYPE.RECT_END:k=s0.endLoop(),C.push(k),s0.models.addLoop(k),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos());break;case K.db.LINETYPE.OPT_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i));break;case K.db.LINETYPE.OPT_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"opt",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;case K.db.LINETYPE.ALT_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i));break;case K.db.LINETYPE.ALT_ELSE:G4(w,y,j0.boxMargin+j0.boxTextMargin,j0.boxMargin,(i)=>s0.addSectionToLoop(i));break;case K.db.LINETYPE.ALT_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"alt",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i)),s0.saveVerticalPos();break;case K.db.LINETYPE.PAR_AND:G4(w,y,j0.boxMargin+j0.boxTextMargin,j0.boxMargin,(i)=>s0.addSectionToLoop(i));break;case K.db.LINETYPE.PAR_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"par",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;case K.db.LINETYPE.AUTONUMBER:if(E=y.message.start||E,j=y.message.step||j,y.message.visible)K.db.enableSequenceNumbers();else K.db.disableSequenceNumbers();break;case K.db.LINETYPE.CRITICAL_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i));break;case K.db.LINETYPE.CRITICAL_OPTION:G4(w,y,j0.boxMargin+j0.boxTextMargin,j0.boxMargin,(i)=>s0.addSectionToLoop(i));break;case K.db.LINETYPE.CRITICAL_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"critical",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;case K.db.LINETYPE.BREAK_START:G4(w,y,j0.boxMargin,j0.boxMargin+j0.boxTextMargin,(i)=>s0.newLoop(i));break;case K.db.LINETYPE.BREAK_END:k=s0.endLoop(),await tZ.drawLoop(G,k,"break",j0),s0.bumpVerticalPos(k.stopy-s0.getVerticalPos()),s0.models.addLoop(k);break;default:try{u=y.msgModel,u.starty=s0.getVerticalPos(),u.sequenceIndex=E,u.sequenceVisible=K.db.showSequenceNumbers();const i=await G70(G,u);F70(y,u,i,T,H,W,F),P.push({messageModel:u,lineStartY:i}),s0.models.addMessage(u)}catch(i){p.error("error while drawing message",i)}}if([K.db.LINETYPE.SOLID_OPEN,K.db.LINETYPE.DOTTED_OPEN,K.db.LINETYPE.SOLID,K.db.LINETYPE.DOTTED,K.db.LINETYPE.SOLID_CROSS,K.db.LINETYPE.DOTTED_CROSS,K.db.LINETYPE.SOLID_POINT,K.db.LINETYPE.DOTTED_POINT,K.db.LINETYPE.BIDIRECTIONAL_SOLID,K.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(y.type))E=E+j;T++}p.debug("createdActors",W),p.debug("destroyedActors",F),await fk(G,H,B,!1);for(let y of P)await f$0(G,y.messageModel,y.lineStartY,K);if(j0.mirrorActors)await fk(G,H,B,!0);C.forEach((y)=>tZ.drawBackgroundRect(G,y)),Y70(G,H,B,j0);for(let y of s0.models.boxes)y.height=s0.getVerticalPos()-y.y,s0.insert(y.x,y.y,y.x+y.width,y.height),y.startx=y.x,y.starty=y.y,y.stopx=y.startx+y.width,y.stopy=y.starty+y.height,y.stroke="rgb(0,0,0, 0.5)",tZ.drawBox(G,y,j0);if(L)s0.bumpVerticalPos(j0.boxMargin);const V=H70(G,H,B,z),{bounds:S}=s0.getBounds();if(S.startx===void 0)S.startx=0;if(S.starty===void 0)S.starty=0;if(S.stopx===void 0)S.stopx=0;if(S.stopy===void 0)S.stopy=0;let $=S.stopy-S.starty;if($<V.maxHeight)$=V.maxHeight;let f=$+2*j0.diagramMarginY;if(j0.mirrorActors)f=f-j0.boxMargin+j0.bottomMarginAdj;let h=S.stopx-S.startx;if(h<V.maxWidth)h=V.maxWidth;const v=h+2*j0.diagramMarginX;if(A)G.append("text").text(A).attr("x",(S.stopx-S.startx)/2-2*j0.diagramMarginX).attr("y",-25);R8(G,f,v,j0.useMaxWidth);const b=A?40:0;G.attr("viewBox",S.startx-j0.diagramMarginX+" -"+(j0.diagramMarginY+b)+" "+v+" "+(f+b)),p.debug("models:",s0.models)},"draw");R(M70,"getMaxMessageWidthPerActor");$$0=R(function(Z){let J=0;const Q=Tk(j0);for(let K in Z.links){const U=B9.calculateTextDimensions(K,Q).width+2*j0.wrapPadding+2*j0.boxMargin;if(J<U)J=U}return J},"getRequiredPopupWidth");R(B70,"calculateActorMargins");_$0=R(async function(Z,J,Q){const K=J.get(Z.from),X=J.get(Z.to),U=K.x,Y=X.x,q=Z.wrap&&Z.message;let z=PJ(Z.message)?await Nq(Z.message,W0()):B9.calculateTextDimensions(q?B9.wrapLabel(Z.message,j0.width,fz(j0)):Z.message,fz(j0));const G={width:q?j0.width:g0.getMax(j0.width,z.width+2*j0.noteMargin),height:0,startx:K.x,stopx:0,starty:0,stopy:0,message:Z.message};if(Z.placement===Q.db.PLACEMENT.RIGHTOF)G.width=q?g0.getMax(j0.width,z.width):g0.getMax(K.width/2+X.width/2,z.width+2*j0.noteMargin),G.startx=U+(K.width+j0.actorMargin)/2;else if(Z.placement===Q.db.PLACEMENT.LEFTOF)G.width=q?g0.getMax(j0.width,z.width+2*j0.noteMargin):g0.getMax(K.width/2+X.width/2,z.width+2*j0.noteMargin),G.startx=U-G.width+(K.width-j0.actorMargin)/2;else if(Z.to===Z.from)z=B9.calculateTextDimensions(q?B9.wrapLabel(Z.message,g0.getMax(j0.width,K.width),fz(j0)):Z.message,fz(j0)),G.width=q?g0.getMax(j0.width,K.width):g0.getMax(K.width,j0.width,z.width+2*j0.noteMargin),G.startx=U+(K.width-G.width)/2;else G.width=Math.abs(U+K.width/2-(Y+X.width/2))+j0.actorMargin,G.startx=U<Y?U+K.width/2-j0.actorMargin/2:Y+X.width/2-j0.actorMargin/2;if(q)G.message=B9.wrapLabel(Z.message,G.width-2*j0.wrapPadding,fz(j0));return p.debug(`NM:[${G.startx},${G.stopx},${G.starty},${G.stopy}:${G.width},${G.height}=${Z.message}]`),G},"buildNoteModel"),b$0=R(function(Z,J,Q){if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN,Q.db.LINETYPE.SOLID,Q.db.LINETYPE.DOTTED,Q.db.LINETYPE.SOLID_CROSS,Q.db.LINETYPE.DOTTED_CROSS,Q.db.LINETYPE.SOLID_POINT,Q.db.LINETYPE.DOTTED_POINT,Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))return{};const[K,X]=nJ0(Z.from,J),[U,Y]=nJ0(Z.to,J),q=K<=U;let z=q?X:K,G=q?U:Y;const H=Math.abs(U-Y)>2,W=R((O)=>{return q?-O:O},"adjustValue");if(Z.from===Z.to)G=z;else{if(Z.activate&&!H)G+=W(j0.activationWidth/2-1);if(![Q.db.LINETYPE.SOLID_OPEN,Q.db.LINETYPE.DOTTED_OPEN].includes(Z.type))G+=W(3);if([Q.db.LINETYPE.BIDIRECTIONAL_SOLID,Q.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(Z.type))z-=W(3)}const F=[K,X,U,Y],M=Math.abs(z-G);if(Z.wrap&&Z.message)Z.message=B9.wrapLabel(Z.message,g0.getMax(M+2*j0.wrapPadding,j0.width),bY(j0));const B=B9.calculateTextDimensions(Z.message,bY(j0));return{width:g0.getMax(Z.wrap?0:B.width+2*j0.wrapPadding,M+2*j0.wrapPadding,j0.width),height:0,startx:z,stopx:G,starty:0,stopy:0,message:Z.message,type:Z.type,wrap:Z.wrap,fromBounds:Math.min.apply(null,F),toBounds:Math.max.apply(null,F)}},"buildMessageModel"),x$0=R(async function(Z,J,Q,K){const X={},U=[];let Y,q,z;for(let G of Z){switch(G.id=B9.random({length:10}),G.type){case K.db.LINETYPE.LOOP_START:case K.db.LINETYPE.ALT_START:case K.db.LINETYPE.OPT_START:case K.db.LINETYPE.PAR_START:case K.db.LINETYPE.PAR_OVER_START:case K.db.LINETYPE.CRITICAL_START:case K.db.LINETYPE.BREAK_START:U.push({id:G.id,msg:G.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case K.db.LINETYPE.ALT_ELSE:case K.db.LINETYPE.PAR_AND:case K.db.LINETYPE.CRITICAL_OPTION:if(G.message)Y=U.pop(),X[Y.id]=Y,X[G.id]=Y,U.push(Y);break;case K.db.LINETYPE.LOOP_END:case K.db.LINETYPE.ALT_END:case K.db.LINETYPE.OPT_END:case K.db.LINETYPE.PAR_END:case K.db.LINETYPE.CRITICAL_END:case K.db.LINETYPE.BREAK_END:Y=U.pop(),X[Y.id]=Y;break;case K.db.LINETYPE.ACTIVE_START:{const W=J.get(G.from?G.from:G.to.actor),F=uI(G.from?G.from:G.to.actor).length,M=W.x+W.width/2+(F-1)*j0.activationWidth/2,B={startx:M,stopx:M+j0.activationWidth,actor:G.from,enabled:!0};s0.activations.push(B)}break;case K.db.LINETYPE.ACTIVE_END:{const W=s0.activations.map((F)=>F.actor).lastIndexOf(G.from);s0.activations.splice(W,1).splice(0,1)}break}if(G.placement!==void 0)q=await _$0(G,J,K),G.noteModel=q,U.forEach((W)=>{Y=W,Y.from=g0.getMin(Y.from,q.startx),Y.to=g0.getMax(Y.to,q.startx+q.width),Y.width=g0.getMax(Y.width,Math.abs(Y.from-Y.to))-j0.labelBoxWidth});else if(z=b$0(G,J,K),G.msgModel=z,z.startx&&z.stopx&&U.length>0)U.forEach((W)=>{if(Y=W,z.startx===z.stopx){const F=J.get(G.from),M=J.get(G.to);Y.from=g0.getMin(F.x-z.width/2,F.x-F.width/2,Y.from),Y.to=g0.getMax(M.x+z.width/2,M.x+F.width/2,Y.to),Y.width=g0.getMax(Y.width,Math.abs(Y.to-Y.from))-j0.labelBoxWidth}else Y.from=g0.getMin(z.startx,Y.from),Y.to=g0.getMax(z.stopx,Y.to),Y.width=g0.getMax(Y.width,z.width)-j0.labelBoxWidth})}return s0.activations=[],p.debug("Loop type widths:",X),X},"calculateLoopBounds"),h$0={bounds:s0,drawActors:fk,drawActorsPopup:H70,setConf:W70,draw:k$0},y$0={parser:uk0,db:sJ0,renderer:h$0,styles:G$0,init:R(({wrap:Z})=>{sJ0.setWrap(Z)},"init")}});var bk,pI,A70,L70,cI="classId-",hk,LJ,mI,I70=0,P5,xk=0,TF,xY,hY,u$0,gI,D70,m$0,g$0,p$0,c$0,l$0,d$0,i$0,N70,s$0,r$0,n$0,yk,a$0,o$0,t$0,e$0,Z_0,J_0,Q_0,K_0,E70,uk="TB",X_0,U_0,Y_0,q_0,z_0,G_0,H_0,kz,W_0,lI;var mk=_(()=>{FZ();X8();i9();bk=function(){var Z=R(function(b0,S0,H0,l){for(H0=H0||{},l=b0.length;l--;H0[b0[l]]=S0);return H0},"o"),J=[1,17],Q=[1,18],K=[1,19],X=[1,39],U=[1,40],Y=[1,25],q=[1,23],z=[1,24],G=[1,31],H=[1,32],W=[1,33],F=[1,34],M=[1,35],B=[1,36],O=[1,26],A=[1,27],L=[1,28],I=[1,29],D=[1,43],w=[1,30],N=[1,42],E=[1,44],j=[1,41],P=[1,45],C=[1,9],T=[1,8,9],V=[1,56],S=[1,57],$=[1,58],f=[1,59],h=[1,60],v=[1,61],b=[1,62],y=[1,8,9,39],k=[1,74],g=[1,8,9,12,13,21,37,39,42,59,60,61,62,63,64,65,70,72],u=[1,8,9,12,13,19,21,37,39,42,46,59,60,61,62,63,64,65,70,72,74,80,95,97,98],i=[13,74,80,95,97,98],e=[13,64,65,74,80,95,97,98],J0=[13,59,60,61,62,63,74,80,95,97,98],z0=[1,93],t=[1,110],B0=[1,108],X0=[1,102],d=[1,103],o=[1,104],a=[1,105],Q0=[1,106],K0=[1,107],A0=[1,109],r=[1,8,9,37,39,42],v0=[1,8,9,21],Y0=[1,8,9,78],k0=[1,8,9,21,73,74,78,80,81,82,83,84,85],h0={trace:R(function b0(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,className:17,classLiteralName:18,GENERICTYPE:19,relationStatement:20,LABEL:21,namespaceStatement:22,classStatement:23,memberStatement:24,annotationStatement:25,clickStatement:26,styleStatement:27,cssClassStatement:28,noteStatement:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,namespaceIdentifier:36,STRUCT_START:37,classStatements:38,STRUCT_STOP:39,NAMESPACE:40,classIdentifier:41,STYLE_SEPARATOR:42,members:43,CLASS:44,ANNOTATION_START:45,ANNOTATION_END:46,MEMBER:47,SEPARATOR:48,relation:49,NOTE_FOR:50,noteText:51,NOTE:52,direction_tb:53,direction_bt:54,direction_rl:55,direction_lr:56,relationType:57,lineType:58,AGGREGATION:59,EXTENSION:60,COMPOSITION:61,DEPENDENCY:62,LOLLIPOP:63,LINE:64,DOTTED_LINE:65,CALLBACK:66,LINK:67,LINK_TARGET:68,CLICK:69,CALLBACK_NAME:70,CALLBACK_ARGS:71,HREF:72,STYLE:73,ALPHA:74,stylesOpt:75,CSSCLASS:76,style:77,COMMA:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,commentToken:86,textToken:87,graphCodeTokens:88,textNoTagsToken:89,TAGSTART:90,TAGEND:91,"==":92,"--":93,DEFAULT:94,MINUS:95,keywords:96,UNICODE_TEXT:97,BQUOTE_STR:98,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",19:"GENERICTYPE",21:"LABEL",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",37:"STRUCT_START",39:"STRUCT_STOP",40:"NAMESPACE",42:"STYLE_SEPARATOR",44:"CLASS",45:"ANNOTATION_START",46:"ANNOTATION_END",47:"MEMBER",48:"SEPARATOR",50:"NOTE_FOR",52:"NOTE",53:"direction_tb",54:"direction_bt",55:"direction_rl",56:"direction_lr",59:"AGGREGATION",60:"EXTENSION",61:"COMPOSITION",62:"DEPENDENCY",63:"LOLLIPOP",64:"LINE",65:"DOTTED_LINE",66:"CALLBACK",67:"LINK",68:"LINK_TARGET",69:"CLICK",70:"CALLBACK_NAME",71:"CALLBACK_ARGS",72:"HREF",73:"STYLE",74:"ALPHA",76:"CSSCLASS",78:"COMMA",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",88:"graphCodeTokens",90:"TAGSTART",91:"TAGEND",92:"==",93:"--",94:"DEFAULT",95:"MINUS",96:"keywords",97:"UNICODE_TEXT",98:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,2],[17,1],[17,1],[17,2],[17,2],[17,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[22,4],[22,5],[36,2],[38,1],[38,2],[38,3],[23,1],[23,3],[23,4],[23,6],[41,2],[41,3],[25,4],[43,1],[43,2],[24,1],[24,2],[24,1],[24,1],[20,3],[20,4],[20,4],[20,5],[29,3],[29,2],[30,1],[30,1],[30,1],[30,1],[49,3],[49,2],[49,2],[49,1],[57,1],[57,1],[57,1],[57,1],[57,1],[58,1],[58,1],[26,3],[26,4],[26,3],[26,4],[26,4],[26,5],[26,3],[26,4],[26,4],[26,5],[26,4],[26,5],[26,5],[26,6],[27,3],[28,3],[75,1],[75,3],[77,1],[77,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[86,1],[86,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,1],[89,1],[89,1],[89,1],[89,1],[16,1],[16,1],[16,1],[16,1],[18,1],[51,1]],performAction:R(function b0(S0,H0,l,q0,G0,n,U0){var M0=n.length-1;switch(G0){case 8:this.$=n[M0-1];break;case 9:case 11:case 12:this.$=n[M0];break;case 10:case 13:this.$=n[M0-1]+n[M0];break;case 14:case 15:this.$=n[M0-1]+"~"+n[M0]+"~";break;case 16:q0.addRelation(n[M0]);break;case 17:n[M0-1].title=q0.cleanupLabel(n[M0]),q0.addRelation(n[M0-1]);break;case 27:this.$=n[M0].trim(),q0.setAccTitle(this.$);break;case 28:case 29:this.$=n[M0].trim(),q0.setAccDescription(this.$);break;case 30:q0.addClassesToNamespace(n[M0-3],n[M0-1]);break;case 31:q0.addClassesToNamespace(n[M0-4],n[M0-1]);break;case 32:this.$=n[M0],q0.addNamespace(n[M0]);break;case 33:this.$=[n[M0]];break;case 34:this.$=[n[M0-1]];break;case 35:n[M0].unshift(n[M0-2]),this.$=n[M0];break;case 37:q0.setCssClass(n[M0-2],n[M0]);break;case 38:q0.addMembers(n[M0-3],n[M0-1]);break;case 39:q0.setCssClass(n[M0-5],n[M0-3]),q0.addMembers(n[M0-5],n[M0-1]);break;case 40:this.$=n[M0],q0.addClass(n[M0]);break;case 41:this.$=n[M0-1],q0.addClass(n[M0-1]),q0.setClassLabel(n[M0-1],n[M0]);break;case 42:q0.addAnnotation(n[M0],n[M0-2]);break;case 43:this.$=[n[M0]];break;case 44:n[M0].push(n[M0-1]),this.$=n[M0];break;case 45:break;case 46:q0.addMember(n[M0-1],q0.cleanupLabel(n[M0]));break;case 47:break;case 48:break;case 49:this.$={id1:n[M0-2],id2:n[M0],relation:n[M0-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:n[M0-3],id2:n[M0],relation:n[M0-1],relationTitle1:n[M0-2],relationTitle2:"none"};break;case 51:this.$={id1:n[M0-3],id2:n[M0],relation:n[M0-2],relationTitle1:"none",relationTitle2:n[M0-1]};break;case 52:this.$={id1:n[M0-4],id2:n[M0],relation:n[M0-2],relationTitle1:n[M0-3],relationTitle2:n[M0-1]};break;case 53:q0.addNote(n[M0],n[M0-1]);break;case 54:q0.addNote(n[M0]);break;case 55:q0.setDirection("TB");break;case 56:q0.setDirection("BT");break;case 57:q0.setDirection("RL");break;case 58:q0.setDirection("LR");break;case 59:this.$={type1:n[M0-2],type2:n[M0],lineType:n[M0-1]};break;case 60:this.$={type1:"none",type2:n[M0],lineType:n[M0-1]};break;case 61:this.$={type1:n[M0-1],type2:"none",lineType:n[M0]};break;case 62:this.$={type1:"none",type2:"none",lineType:n[M0]};break;case 63:this.$=q0.relationType.AGGREGATION;break;case 64:this.$=q0.relationType.EXTENSION;break;case 65:this.$=q0.relationType.COMPOSITION;break;case 66:this.$=q0.relationType.DEPENDENCY;break;case 67:this.$=q0.relationType.LOLLIPOP;break;case 68:this.$=q0.lineType.LINE;break;case 69:this.$=q0.lineType.DOTTED_LINE;break;case 70:case 76:this.$=n[M0-2],q0.setClickEvent(n[M0-1],n[M0]);break;case 71:case 77:this.$=n[M0-3],q0.setClickEvent(n[M0-2],n[M0-1]),q0.setTooltip(n[M0-2],n[M0]);break;case 72:this.$=n[M0-2],q0.setLink(n[M0-1],n[M0]);break;case 73:this.$=n[M0-3],q0.setLink(n[M0-2],n[M0-1],n[M0]);break;case 74:this.$=n[M0-3],q0.setLink(n[M0-2],n[M0-1]),q0.setTooltip(n[M0-2],n[M0]);break;case 75:this.$=n[M0-4],q0.setLink(n[M0-3],n[M0-2],n[M0]),q0.setTooltip(n[M0-3],n[M0-1]);break;case 78:this.$=n[M0-3],q0.setClickEvent(n[M0-2],n[M0-1],n[M0]);break;case 79:this.$=n[M0-4],q0.setClickEvent(n[M0-3],n[M0-2],n[M0-1]),q0.setTooltip(n[M0-3],n[M0]);break;case 80:this.$=n[M0-3],q0.setLink(n[M0-2],n[M0]);break;case 81:this.$=n[M0-4],q0.setLink(n[M0-3],n[M0-1],n[M0]);break;case 82:this.$=n[M0-4],q0.setLink(n[M0-3],n[M0-1]),q0.setTooltip(n[M0-3],n[M0]);break;case 83:this.$=n[M0-5],q0.setLink(n[M0-4],n[M0-2],n[M0]),q0.setTooltip(n[M0-4],n[M0-1]);break;case 84:this.$=n[M0-2],q0.setCssStyle(n[M0-1],n[M0]);break;case 85:q0.setCssClass(n[M0-1],n[M0]);break;case 86:this.$=[n[M0]];break;case 87:n[M0-2].push(n[M0]),this.$=n[M0-2];break;case 89:this.$=n[M0-1]+n[M0];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:37,17:20,18:38,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,31:J,33:Q,35:K,36:21,40:X,41:22,44:U,45:Y,47:q,48:z,50:G,52:H,53:W,54:F,55:M,56:B,66:O,67:A,69:L,73:I,74:D,76:w,80:N,95:E,97:j,98:P},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},Z(C,[2,5],{8:[1,46]}),{8:[1,47]},Z(T,[2,16],{21:[1,48]}),Z(T,[2,18]),Z(T,[2,19]),Z(T,[2,20]),Z(T,[2,21]),Z(T,[2,22]),Z(T,[2,23]),Z(T,[2,24]),Z(T,[2,25]),Z(T,[2,26]),{32:[1,49]},{34:[1,50]},Z(T,[2,29]),Z(T,[2,45],{49:51,57:54,58:55,13:[1,52],21:[1,53],59:V,60:S,61:$,62:f,63:h,64:v,65:b}),{37:[1,63]},Z(y,[2,36],{37:[1,65],42:[1,64]}),Z(T,[2,47]),Z(T,[2,48]),{16:66,74:D,80:N,95:E,97:j},{16:37,17:67,18:38,74:D,80:N,95:E,97:j,98:P},{16:37,17:68,18:38,74:D,80:N,95:E,97:j,98:P},{16:37,17:69,18:38,74:D,80:N,95:E,97:j,98:P},{74:[1,70]},{13:[1,71]},{16:37,17:72,18:38,74:D,80:N,95:E,97:j,98:P},{13:k,51:73},Z(T,[2,55]),Z(T,[2,56]),Z(T,[2,57]),Z(T,[2,58]),Z(g,[2,11],{16:37,18:38,17:75,19:[1,76],74:D,80:N,95:E,97:j,98:P}),Z(g,[2,12],{19:[1,77]}),{15:78,16:79,74:D,80:N,95:E,97:j},{16:37,17:80,18:38,74:D,80:N,95:E,97:j,98:P},Z(u,[2,112]),Z(u,[2,113]),Z(u,[2,114]),Z(u,[2,115]),Z([1,8,9,12,13,19,21,37,39,42,59,60,61,62,63,64,65,70,72],[2,116]),Z(C,[2,6],{10:5,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,17:20,36:21,41:22,16:37,18:38,5:81,31:J,33:Q,35:K,40:X,44:U,45:Y,47:q,48:z,50:G,52:H,53:W,54:F,55:M,56:B,66:O,67:A,69:L,73:I,74:D,76:w,80:N,95:E,97:j,98:P}),{5:82,10:5,16:37,17:20,18:38,20:7,22:8,23:9,24:10,25:11,26:12,27:13,28:14,29:15,30:16,31:J,33:Q,35:K,36:21,40:X,41:22,44:U,45:Y,47:q,48:z,50:G,52:H,53:W,54:F,55:M,56:B,66:O,67:A,69:L,73:I,74:D,76:w,80:N,95:E,97:j,98:P},Z(T,[2,17]),Z(T,[2,27]),Z(T,[2,28]),{13:[1,84],16:37,17:83,18:38,74:D,80:N,95:E,97:j,98:P},{49:85,57:54,58:55,59:V,60:S,61:$,62:f,63:h,64:v,65:b},Z(T,[2,46]),{58:86,64:v,65:b},Z(i,[2,62],{57:87,59:V,60:S,61:$,62:f,63:h}),Z(e,[2,63]),Z(e,[2,64]),Z(e,[2,65]),Z(e,[2,66]),Z(e,[2,67]),Z(J0,[2,68]),Z(J0,[2,69]),{8:[1,89],23:90,38:88,41:22,44:U},{16:91,74:D,80:N,95:E,97:j},{43:92,47:z0},{46:[1,94]},{13:[1,95]},{13:[1,96]},{70:[1,97],72:[1,98]},{21:t,73:B0,74:X0,75:99,77:100,79:101,80:d,81:o,82:a,83:Q0,84:K0,85:A0},{74:[1,111]},{13:k,51:112},Z(T,[2,54]),Z(T,[2,117]),Z(g,[2,13]),Z(g,[2,14]),Z(g,[2,15]),{37:[2,32]},{15:113,16:79,37:[2,9],74:D,80:N,95:E,97:j},Z(r,[2,40],{11:114,12:[1,115]}),Z(C,[2,7]),{9:[1,116]},Z(v0,[2,49]),{16:37,17:117,18:38,74:D,80:N,95:E,97:j,98:P},{13:[1,119],16:37,17:118,18:38,74:D,80:N,95:E,97:j,98:P},Z(i,[2,61],{57:120,59:V,60:S,61:$,62:f,63:h}),Z(i,[2,60]),{39:[1,121]},{23:90,38:122,41:22,44:U},{8:[1,123],39:[2,33]},Z(y,[2,37],{37:[1,124]}),{39:[1,125]},{39:[2,43],43:126,47:z0},{16:37,17:127,18:38,74:D,80:N,95:E,97:j,98:P},Z(T,[2,70],{13:[1,128]}),Z(T,[2,72],{13:[1,130],68:[1,129]}),Z(T,[2,76],{13:[1,131],71:[1,132]}),{13:[1,133]},Z(T,[2,84],{78:[1,134]}),Z(Y0,[2,86],{79:135,21:t,73:B0,74:X0,80:d,81:o,82:a,83:Q0,84:K0,85:A0}),Z(k0,[2,88]),Z(k0,[2,90]),Z(k0,[2,91]),Z(k0,[2,92]),Z(k0,[2,93]),Z(k0,[2,94]),Z(k0,[2,95]),Z(k0,[2,96]),Z(k0,[2,97]),Z(k0,[2,98]),Z(T,[2,85]),Z(T,[2,53]),{37:[2,10]},Z(r,[2,41]),{13:[1,136]},{1:[2,4]},Z(v0,[2,51]),Z(v0,[2,50]),{16:37,17:137,18:38,74:D,80:N,95:E,97:j,98:P},Z(i,[2,59]),Z(T,[2,30]),{39:[1,138]},{23:90,38:139,39:[2,34],41:22,44:U},{43:140,47:z0},Z(y,[2,38]),{39:[2,44]},Z(T,[2,42]),Z(T,[2,71]),Z(T,[2,73]),Z(T,[2,74],{68:[1,141]}),Z(T,[2,77]),Z(T,[2,78],{13:[1,142]}),Z(T,[2,80],{13:[1,144],68:[1,143]}),{21:t,73:B0,74:X0,77:145,79:101,80:d,81:o,82:a,83:Q0,84:K0,85:A0},Z(k0,[2,89]),{14:[1,146]},Z(v0,[2,52]),Z(T,[2,31]),{39:[2,35]},{39:[1,147]},Z(T,[2,75]),Z(T,[2,79]),Z(T,[2,81]),Z(T,[2,82],{68:[1,148]}),Z(Y0,[2,87],{79:135,21:t,73:B0,74:X0,80:d,81:o,82:a,83:Q0,84:K0,85:A0}),Z(r,[2,8]),Z(y,[2,39]),Z(T,[2,83])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],78:[2,32],113:[2,10],116:[2,4],126:[2,44],139:[2,35]},parseError:R(function b0(S0,H0){if(H0.recoverable)this.trace(S0);else{var l=new Error(S0);throw l.hash=H0,l}},"parseError"),parse:R(function b0(S0){var H0=this,l=[0],q0=[],G0=[null],n=[],U0=this.table,M0="",F0=0,x0=0,_0=0,y0=2,m0=1,d0=n.slice.call(arguments,1),u0=Object.create(this.lexer),E0={yy:{}};for(var Z9 in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,Z9))E0.yy[Z9]=this.yy[Z9];if(u0.setInput(S0,E0.yy),E0.yy.lexer=u0,E0.yy.parser=this,typeof u0.yylloc=="undefined")u0.yylloc={};var i0=u0.yylloc;n.push(i0);var Q8=u0.options&&u0.options.ranges;if(typeof E0.yy.parseError==="function")this.parseError=E0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function F8(N9){l.length=l.length-2*N9,G0.length=G0.length-N9,n.length=n.length-N9}R(F8,"popStack");function g9(){var N9=q0.pop()||u0.lex()||m0;if(typeof N9!=="number"){if(N9 instanceof Array)q0=N9,N9=q0.pop();N9=H0.symbols_[N9]||N9}return N9}R(g9,"lex");var t9,H9,f9,t0,T9,l9,O9={},w9,M9,c9,q9;while(!0){if(f9=l[l.length-1],this.defaultActions[f9])t0=this.defaultActions[f9];else{if(t9===null||typeof t9=="undefined")t9=g9();t0=U0[f9]&&U0[f9][t9]}if(typeof t0==="undefined"||!t0.length||!t0[0]){var z8="";q9=[];for(w9 in U0[f9])if(this.terminals_[w9]&&w9>y0)q9.push("'"+this.terminals_[w9]+"'");if(u0.showPosition)z8="Parse error on line "+(F0+1)+":\n"+u0.showPosition()+"\nExpecting "+q9.join(", ")+", got '"+(this.terminals_[t9]||t9)+"'";else z8="Parse error on line "+(F0+1)+": Unexpected "+(t9==m0?"end of input":"'"+(this.terminals_[t9]||t9)+"'");this.parseError(z8,{text:u0.match,token:this.terminals_[t9]||t9,line:u0.yylineno,loc:i0,expected:q9})}if(t0[0]instanceof Array&&t0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f9+", token: "+t9);switch(t0[0]){case 1:if(l.push(t9),G0.push(u0.yytext),n.push(u0.yylloc),l.push(t0[1]),t9=null,!H9){if(x0=u0.yyleng,M0=u0.yytext,F0=u0.yylineno,i0=u0.yylloc,_0>0)_0--}else t9=H9,H9=null;break;case 2:if(M9=this.productions_[t0[1]][1],O9.$=G0[G0.length-M9],O9._$={first_line:n[n.length-(M9||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(M9||1)].first_column,last_column:n[n.length-1].last_column},Q8)O9._$.range=[n[n.length-(M9||1)].range[0],n[n.length-1].range[1]];if(l9=this.performAction.apply(O9,[M0,x0,F0,E0.yy,t0[1],G0,n].concat(d0)),typeof l9!=="undefined")return l9;if(M9)l=l.slice(0,-1*M9*2),G0=G0.slice(0,-1*M9),n=n.slice(0,-1*M9);l.push(this.productions_[t0[1]][0]),G0.push(O9.$),n.push(O9._$),c9=U0[l[l.length-2]][l[l.length-1]],l.push(c9);break;case 3:return!0}}return!0},"parse")},V0=function(){var b0={EOF:1,parseError:R(function S0(H0,l){if(this.yy.parser)this.yy.parser.parseError(H0,l);else throw new Error(H0)},"parseError"),setInput:R(function(S0,H0){if(this.yy=H0||this.yy||{},this._input=S0,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var S0=this._input[0];this.yytext+=S0,this.yyleng++,this.offset++,this.match+=S0,this.matched+=S0;var H0=S0.match(/(?:\r\n?|\n).*/g);if(H0)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),S0},"input"),unput:R(function(S0){var H0=S0.length,l=S0.split(/(?:\r\n?|\n)/g);this._input=S0+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H0),this.offset-=H0;var q0=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1)this.yylineno-=l.length-1;var G0=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===q0.length?this.yylloc.first_column:0)+q0[q0.length-l.length].length-l[0].length:this.yylloc.first_column-H0},this.options.ranges)this.yylloc.range=[G0[0],G0[0]+this.yyleng-H0];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(S0){this.unput(this.match.slice(S0))},"less"),pastInput:R(function(){var S0=this.matched.substr(0,this.matched.length-this.match.length);return(S0.length>20?"...":"")+S0.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var S0=this.match;if(S0.length<20)S0+=this._input.substr(0,20-S0.length);return(S0.substr(0,20)+(S0.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var S0=this.pastInput(),H0=new Array(S0.length+1).join("-");return S0+this.upcomingInput()+"\n"+H0+"^"},"showPosition"),test_match:R(function(S0,H0){var l,q0,G0;if(this.options.backtrack_lexer){if(G0={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)G0.yylloc.range=this.yylloc.range.slice(0)}if(q0=S0[0].match(/(?:\r\n?|\n).*/g),q0)this.yylineno+=q0.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q0?q0[q0.length-1].length-q0[q0.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S0[0].length},this.yytext+=S0[0],this.match+=S0[0],this.matches=S0,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(S0[0].length),this.matched+=S0[0],l=this.performAction.call(this,this.yy,this,H0,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(l)return l;else if(this._backtrack){for(var n in G0)this[n]=G0[n];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var S0,H0,l,q0;if(!this._more)this.yytext="",this.match="";var G0=this._currentRules();for(var n=0;n<G0.length;n++)if(l=this._input.match(this.rules[G0[n]]),l&&(!H0||l[0].length>H0[0].length)){if(H0=l,q0=n,this.options.backtrack_lexer)if(S0=this.test_match(l,G0[n]),S0!==!1)return S0;else if(this._backtrack){H0=!1;continue}else return!1;else if(!this.options.flex)break}if(H0){if(S0=this.test_match(H0,G0[q0]),S0!==!1)return S0;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function S0(){var H0=this.next();if(H0)return H0;else return this.lex()},"lex"),begin:R(function S0(H0){this.conditionStack.push(H0)},"begin"),popState:R(function S0(){var H0=this.conditionStack.length-1;if(H0>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function S0(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function S0(H0){if(H0=this.conditionStack.length-1-Math.abs(H0||0),H0>=0)return this.conditionStack[H0];else return"INITIAL"},"topState"),pushState:R(function S0(H0){this.begin(H0)},"pushState"),stateStackSize:R(function S0(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:R(function S0(H0,l,q0,G0){var n=G0;switch(q0){case 0:return 53;case 1:return 54;case 2:return 55;case 3:return 56;case 4:break;case 5:break;case 6:return this.begin("acc_title"),31;break;case 7:return this.popState(),"acc_title_value";break;case 8:return this.begin("acc_descr"),33;break;case 9:return this.popState(),"acc_descr_value";break;case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 70;case 22:this.popState();break;case 23:return 71;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 73;case 28:return this.begin("namespace"),40;break;case 29:return this.popState(),8;break;case 30:break;case 31:return this.begin("namespace-body"),37;break;case 32:return this.popState(),39;break;case 33:return"EOF_IN_STRUCT";case 34:return 8;case 35:break;case 36:return"EDGE_STATE";case 37:return this.begin("class"),44;break;case 38:return this.popState(),8;break;case 39:break;case 40:return this.popState(),this.popState(),39;break;case 41:return this.begin("class-body"),37;break;case 42:return this.popState(),39;break;case 43:return"EOF_IN_STRUCT";case 44:return"EDGE_STATE";case 45:return"OPEN_IN_STRUCT";case 46:break;case 47:return"MEMBER";case 48:return 76;case 49:return 66;case 50:return 67;case 51:return 69;case 52:return 50;case 53:return 52;case 54:return 45;case 55:return 46;case 56:return 72;case 57:this.popState();break;case 58:return"GENERICTYPE";case 59:this.begin("generic");break;case 60:this.popState();break;case 61:return"BQUOTE_STR";case 62:this.begin("bqstring");break;case 63:return 68;case 64:return 68;case 65:return 68;case 66:return 68;case 67:return 60;case 68:return 60;case 69:return 62;case 70:return 62;case 71:return 61;case 72:return 59;case 73:return 63;case 74:return 64;case 75:return 65;case 76:return 21;case 77:return 42;case 78:return 95;case 79:return"DOT";case 80:return"PLUS";case 81:return 81;case 82:return 78;case 83:return 84;case 84:return 84;case 85:return 85;case 86:return"EQUALS";case 87:return"EQUALS";case 88:return 74;case 89:return 12;case 90:return 14;case 91:return"PUNCTUATION";case 92:return 80;case 93:return 97;case 94:return 83;case 95:return 83;case 96:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,32,33,34,35,36,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},namespace:{rules:[26,28,29,30,31,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},"class-body":{rules:[26,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},class:{rules:[26,38,39,40,41,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_descr:{rules:[9,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},acc_title:{rules:[7,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_args:{rules:[22,23,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},callback_name:{rules:[19,20,21,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},href:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},struct:{rules:[26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},generic:{rules:[26,48,49,50,51,52,53,54,55,56,57,58,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},bqstring:{rules:[26,48,49,50,51,52,53,54,55,56,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},string:{rules:[24,25,26,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,85,86,87,88,89,90,91,92,93,94,96],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,37,48,49,50,51,52,53,54,55,56,59,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96],inclusive:!0}}};return b0}();h0.lexer=V0;function l0(){this.yy={}}return R(l0,"Parser"),l0.prototype=h0,h0.Parser=l0,new l0}();bk.parser=bk;pI=bk,A70=["#","+","~","-",""],L70=class{static{R(this,"ClassMember")}constructor(Z,J){this.memberType=J,this.visibility="",this.classifier="";const Q=u8(Z,W0());this.parseMember(Q)}getDisplayDetails(){let Z=this.visibility+s5(this.id);if(this.memberType==="method"){if(Z+=`(${s5(this.parameters.trim())})`,this.returnType)Z+=" : "+s5(this.returnType)}Z=Z.trim();const J=this.parseClassifier();return{displayText:Z,cssStyle:J}}parseMember(Z){let J="";if(this.memberType==="method"){const K=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(Z);if(K){const X=K[1]?K[1].trim():"";if(A70.includes(X))this.visibility=X;if(this.id=K[2].trim(),this.parameters=K[3]?K[3].trim():"",J=K[4]?K[4].trim():"",this.returnType=K[5]?K[5].trim():"",J===""){const U=this.returnType.substring(this.returnType.length-1);if(/[$*]/.exec(U))J=U,this.returnType=this.returnType.substring(0,this.returnType.length-1)}}}else{const Q=Z.length,K=Z.substring(0,1),X=Z.substring(Q-1);if(A70.includes(K))this.visibility=K;if(/[$*]/.exec(X))J=X;this.id=Z.substring(this.visibility===""?0:1,J===""?Q:Q-1)}this.classifier=J}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},hk=[],LJ=new Map,mI=[],P5=new Map,TF=[],xY=R((Z)=>g0.sanitizeText(Z,W0()),"sanitizeText"),hY=R(function(Z){const J=g0.sanitizeText(Z,W0());let Q="",K=J;if(J.indexOf("~")>0){const X=J.split("~");K=xY(X[0]),Q=xY(X[1])}return{className:K,type:Q}},"splitClassNameAndType"),u$0=R(function(Z,J){const Q=g0.sanitizeText(Z,W0());if(J)J=xY(J);const{className:K}=hY(Q);LJ.get(K).label=J},"setClassLabel"),gI=R(function(Z){const J=g0.sanitizeText(Z,W0()),{className:Q,type:K}=hY(J);if(LJ.has(Q))return;const X=g0.sanitizeText(Q,W0());LJ.set(X,{id:X,type:K,label:X,cssClasses:[],methods:[],members:[],annotations:[],styles:[],domId:cI+X+"-"+I70}),I70++},"addClass"),D70=R(function(Z){const J=g0.sanitizeText(Z,W0());if(LJ.has(J))return LJ.get(J).domId;throw new Error("Class not found: "+J)},"lookUpDomId"),m$0=R(function(){hk=[],LJ=new Map,mI=[],TF=[],TF.push(E70),P5=new Map,xk=0,uk="TB",O8()},"clear"),g$0=R(function(Z){return LJ.get(Z)},"getClass"),p$0=R(function(){return LJ},"getClasses"),c$0=R(function(){return hk},"getRelations"),l$0=R(function(){return mI},"getNotes"),d$0=R(function(Z){p.debug("Adding relation: "+JSON.stringify(Z)),gI(Z.id1),gI(Z.id2),Z.id1=hY(Z.id1).className,Z.id2=hY(Z.id2).className,Z.relationTitle1=g0.sanitizeText(Z.relationTitle1.trim(),W0()),Z.relationTitle2=g0.sanitizeText(Z.relationTitle2.trim(),W0()),hk.push(Z)},"addRelation"),i$0=R(function(Z,J){const Q=hY(Z).className;LJ.get(Q).annotations.push(J)},"addAnnotation"),N70=R(function(Z,J){gI(Z);const Q=hY(Z).className,K=LJ.get(Q);if(typeof J==="string"){const X=J.trim();if(X.startsWith("<<")&&X.endsWith(">>"))K.annotations.push(xY(X.substring(2,X.length-2)));else if(X.indexOf(")")>0)K.methods.push(new L70(X,"method"));else if(X)K.members.push(new L70(X,"attribute"))}},"addMember"),s$0=R(function(Z,J){if(Array.isArray(J))J.reverse(),J.forEach((Q)=>N70(Z,Q))},"addMembers"),r$0=R(function(Z,J){const Q={id:`note${mI.length}`,class:J,text:Z};mI.push(Q)},"addNote"),n$0=R(function(Z){if(Z.startsWith(":"))Z=Z.substring(1);return xY(Z.trim())},"cleanupLabel"),yk=R(function(Z,J){Z.split(",").forEach(function(Q){let K=Q;if(/\d/.exec(Q[0]))K=cI+K;const X=LJ.get(K);if(X)X.cssClasses.push(J)})},"setCssClass"),a$0=R(function(Z,J){Z.split(",").forEach(function(Q){if(J!==void 0)LJ.get(Q).tooltip=xY(J)})},"setTooltip"),o$0=R(function(Z,J){if(J&&P5.has(J))return P5.get(J).classes.get(Z).tooltip;return LJ.get(Z).tooltip},"getTooltip"),t$0=R(function(Z,J,Q){const K=W0();Z.split(",").forEach(function(X){let U=X;if(/\d/.exec(X[0]))U=cI+U;const Y=LJ.get(U);if(Y)if(Y.link=B9.formatUrl(J,K),K.securityLevel==="sandbox")Y.linkTarget="_top";else if(typeof Q==="string")Y.linkTarget=xY(Q);else Y.linkTarget="_blank"}),yk(Z,"clickable")},"setLink"),e$0=R(function(Z,J,Q){Z.split(",").forEach(function(K){Z_0(K,J,Q),LJ.get(K).haveCallback=!0}),yk(Z,"clickable")},"setClickEvent"),Z_0=R(function(Z,J,Q){const K=g0.sanitizeText(Z,W0());if(W0().securityLevel!=="loose")return;if(J===void 0)return;const U=K;if(LJ.has(U)){const Y=D70(U);let q=[];if(typeof Q==="string"){q=Q.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let z=0;z<q.length;z++){let G=q[z].trim();if(G.startsWith('"')&&G.endsWith('"'))G=G.substr(1,G.length-2);q[z]=G}}if(q.length===0)q.push(Y);TF.push(function(){const z=document.querySelector(`[id="${Y}"]`);if(z!==null)z.addEventListener("click",function(){B9.runFunc(J,...q)},!1)})}},"setClickFunc"),J_0=R(function(Z){TF.forEach(function(J){J(Z)})},"bindFunctions"),Q_0={LINE:0,DOTTED_LINE:1},K_0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},E70=R(function(Z){let J=$0(".mermaidTooltip");if((J._groups||J)[0][0]===null)J=$0("body").append("div").attr("class","mermaidTooltip").style("opacity",0);$0(Z).select("svg").selectAll("g.node").on("mouseover",function(){const X=$0(this);if(X.attr("title")===null)return;const Y=this.getBoundingClientRect();J.transition().duration(200).style("opacity",".9"),J.text(X.attr("title")).style("left",window.scrollX+Y.left+(Y.right-Y.left)/2+"px").style("top",window.scrollY+Y.top-14+document.body.scrollTop+"px"),J.html(J.html().replace(/&lt;br\/&gt;/g,"<br/>")),X.classed("hover",!0)}).on("mouseout",function(){J.transition().duration(500).style("opacity",0),$0(this).classed("hover",!1)})},"setupToolTips");TF.push(E70);X_0=R(()=>uk,"getDirection"),U_0=R((Z)=>{uk=Z},"setDirection"),Y_0=R(function(Z){if(P5.has(Z))return;P5.set(Z,{id:Z,classes:new Map,children:{},domId:cI+Z+"-"+xk}),xk++},"addNamespace"),q_0=R(function(Z){return P5.get(Z)},"getNamespace"),z_0=R(function(){return P5},"getNamespaces"),G_0=R(function(Z,J){if(!P5.has(Z))return;for(let Q of J){const{className:K}=hY(Q);LJ.get(K).parent=Z,P5.get(Z).classes.set(K,LJ.get(K))}},"addClassesToNamespace"),H_0=R(function(Z,J){const Q=LJ.get(Z);if(!J||!Q)return;for(let K of J)if(K.includes(","))Q.styles.push(...K.split(","));else Q.styles.push(K)},"setCssStyle"),kz={setAccTitle:E8,getAccTitle:f8,getAccDescription:k8,setAccDescription:v8,getConfig:R(()=>W0().class,"getConfig"),addClass:gI,bindFunctions:J_0,clear:m$0,getClass:g$0,getClasses:p$0,getNotes:l$0,addAnnotation:i$0,addNote:r$0,getRelations:c$0,addRelation:d$0,getDirection:X_0,setDirection:U_0,addMember:N70,addMembers:s$0,cleanupLabel:n$0,lineType:Q_0,relationType:K_0,setClickEvent:e$0,setCssClass:yk,setLink:t$0,getTooltip:o$0,setTooltip:a$0,lookUpDomId:D70,setDiagramTitle:o8,getDiagramTitle:m8,setClassLabel:u$0,addNamespace:Y_0,addClassesToNamespace:G_0,getNamespace:q_0,getNamespaces:z_0,setCssStyle:H_0},W_0=R((Z)=>`g.classGroup text {
  fill: ${Z.nodeBorder||Z.classText};
  stroke: none;
  font-family: ${Z.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${Z.classText};
}
.edgeLabel .label rect {
  fill: ${Z.mainBkg};
}
.label text {
  fill: ${Z.classText};
}
.edgeLabel .label span {
  background: ${Z.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.classGroup line {
  stroke: ${Z.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${Z.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${Z.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${Z.lineColor} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${Z.mainBkg} !important;
  stroke: ${Z.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
`,"getStyles"),lI=W_0});var P70={};q8(P70,{diagram:()=>L_0});var w70=0,F_0,M_0,C70,B_0,j70,gk,iI,dI=20,fF,R_0,O_0,A_0,L_0;var V70=_(()=>{mk();FZ();X8();i9();ZY();aJ();i9();F_0=R(function(Z,J,Q,K,X){const U=R(function(I){switch(I){case X.db.relationType.AGGREGATION:return"aggregation";case X.db.relationType.EXTENSION:return"extension";case X.db.relationType.COMPOSITION:return"composition";case X.db.relationType.DEPENDENCY:return"dependency";case X.db.relationType.LOLLIPOP:return"lollipop"}},"getRelationType");J.points=J.points.filter((I)=>!Number.isNaN(I.y));const Y=J.points,q=pJ().x(function(I){return I.x}).y(function(I){return I.y}).curve(o7),z=Z.append("path").attr("d",q(Y)).attr("id","edge"+w70).attr("class","relation");let G="";if(K.arrowMarkerAbsolute)G=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,G=G.replace(/\(/g,"\\("),G=G.replace(/\)/g,"\\)");if(Q.relation.lineType==1)z.attr("class","relation dashed-line");if(Q.relation.lineType==10)z.attr("class","relation dotted-line");if(Q.relation.type1!=="none")z.attr("marker-start","url("+G+"#"+U(Q.relation.type1)+"Start)");if(Q.relation.type2!=="none")z.attr("marker-end","url("+G+"#"+U(Q.relation.type2)+"End)");let H,W;const F=J.points.length;let M=B9.calcLabelPosition(J.points);H=M.x,W=M.y;let B,O,A,L;if(F%2!==0&&F>1){let I=B9.calcCardinalityPosition(Q.relation.type1!=="none",J.points,J.points[0]),D=B9.calcCardinalityPosition(Q.relation.type2!=="none",J.points,J.points[F-1]);p.debug("cardinality_1_point "+JSON.stringify(I)),p.debug("cardinality_2_point "+JSON.stringify(D)),B=I.x,O=I.y,A=D.x,L=D.y}if(Q.title!==void 0){const I=Z.append("g").attr("class","classLabel"),D=I.append("text").attr("class","label").attr("x",H).attr("y",W).attr("fill","red").attr("text-anchor","middle").text(Q.title);window.label=D;const w=D.node().getBBox();I.insert("rect",":first-child").attr("class","box").attr("x",w.x-K.padding/2).attr("y",w.y-K.padding/2).attr("width",w.width+K.padding).attr("height",w.height+K.padding)}if(p.info("Rendering relation "+JSON.stringify(Q)),Q.relationTitle1!==void 0&&Q.relationTitle1!=="none")Z.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",B).attr("y",O).attr("fill","black").attr("font-size","6").text(Q.relationTitle1);if(Q.relationTitle2!==void 0&&Q.relationTitle2!=="none")Z.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",A).attr("y",L).attr("fill","black").attr("font-size","6").text(Q.relationTitle2);w70++},"drawEdge"),M_0=R(function(Z,J,Q,K){p.debug("Rendering class ",J,Q);const X=J.id,U={id:X,label:J.id,width:0,height:0},Y=Z.append("g").attr("id",K.db.lookUpDomId(X)).attr("class","classGroup");let q;if(J.link)q=Y.append("svg:a").attr("xlink:href",J.link).attr("target",J.linkTarget).append("text").attr("y",Q.textHeight+Q.padding).attr("x",0);else q=Y.append("text").attr("y",Q.textHeight+Q.padding).attr("x",0);let z=!0;J.annotations.forEach(function(D){const w=q.append("tspan").text("\xAB"+D+"\xBB");if(!z)w.attr("dy",Q.textHeight);z=!1});let G=C70(J);const H=q.append("tspan").text(G).attr("class","title");if(!z)H.attr("dy",Q.textHeight);const W=q.node().getBBox().height;let F,M,B;if(J.members.length>0){F=Y.append("line").attr("x1",0).attr("y1",Q.padding+W+Q.dividerMargin/2).attr("y2",Q.padding+W+Q.dividerMargin/2);const D=Y.append("text").attr("x",Q.padding).attr("y",W+Q.dividerMargin+Q.textHeight).attr("fill","white").attr("class","classText");z=!0,J.members.forEach(function(w){j70(D,w,z,Q),z=!1}),M=D.node().getBBox()}if(J.methods.length>0){B=Y.append("line").attr("x1",0).attr("y1",Q.padding+W+Q.dividerMargin+M.height).attr("y2",Q.padding+W+Q.dividerMargin+M.height);const D=Y.append("text").attr("x",Q.padding).attr("y",W+2*Q.dividerMargin+M.height+Q.textHeight).attr("fill","white").attr("class","classText");z=!0,J.methods.forEach(function(w){j70(D,w,z,Q),z=!1})}const O=Y.node().getBBox();var A=" ";if(J.cssClasses.length>0)A=A+J.cssClasses.join(" ");const I=Y.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",O.width+2*Q.padding).attr("height",O.height+Q.padding+0.5*Q.dividerMargin).attr("class",A).node().getBBox().width;if(q.node().childNodes.forEach(function(D){D.setAttribute("x",(I-D.getBBox().width)/2)}),J.tooltip)q.insert("title").text(J.tooltip);if(F)F.attr("x2",I);if(B)B.attr("x2",I);return U.width=I,U.height=O.height+Q.padding+0.5*Q.dividerMargin,U},"drawClass"),C70=R(function(Z){let J=Z.id;if(Z.type)J+="<"+s5(Z.type)+">";return J},"getClassTitleString"),B_0=R(function(Z,J,Q,K){p.debug("Rendering note ",J,Q);const X=J.id,U={id:X,text:J.text,width:0,height:0},Y=Z.append("g").attr("id",X).attr("class","classGroup");let q=Y.append("text").attr("y",Q.textHeight+Q.padding).attr("x",0);const z=JSON.parse(`"${J.text}"`).split("\n");z.forEach(function(F){p.debug(`Adding line: ${F}`),q.append("tspan").text(F).attr("class","title").attr("dy",Q.textHeight)});const G=Y.node().getBBox(),W=Y.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",G.width+2*Q.padding).attr("height",G.height+z.length*Q.textHeight+Q.padding+0.5*Q.dividerMargin).node().getBBox().width;return q.node().childNodes.forEach(function(F){F.setAttribute("x",(W-F.getBBox().width)/2)}),U.width=W,U.height=G.height+z.length*Q.textHeight+Q.padding+0.5*Q.dividerMargin,U},"drawNote"),j70=R(function(Z,J,Q,K){const{displayText:X,cssStyle:U}=J.getDisplayDetails(),Y=Z.append("tspan").attr("x",K.padding).text(X);if(U!=="")Y.attr("style",J.cssStyle);if(!Q)Y.attr("dy",K.textHeight)},"addTspan"),gk={getClassTitleString:C70,drawClass:M_0,drawEdge:F_0,drawNote:B_0},iI={},fF=R(function(Z){const J=Object.entries(iI).find((Q)=>Q[1].label===Z);if(J)return J[0]},"getGraphId"),R_0=R(function(Z){Z.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),Z.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),O_0=R(function(Z,J,Q,K){const X=W0().class;iI={},p.info("Rendering diagram "+Z);const U=W0().securityLevel;let Y;if(U==="sandbox")Y=$0("#i"+J);const q=U==="sandbox"?$0(Y.nodes()[0].contentDocument.body):$0("body"),z=q.select(`[id='${J}']`);R_0(z);const G=new J8({multigraph:!0});G.setGraph({isMultiGraph:!0}),G.setDefaultEdgeLabel(function(){return{}});const H=K.db.getClasses(),W=[...H.keys()];for(let I of W){const D=H.get(I),w=gk.drawClass(z,D,X,K);iI[w.id]=w,G.setNode(w.id,w),p.info("Org height: "+w.height)}K.db.getRelations().forEach(function(I){p.info("tjoho"+fF(I.id1)+fF(I.id2)+JSON.stringify(I)),G.setEdge(fF(I.id1),fF(I.id2),{relation:I},I.title||"DEFAULT")}),K.db.getNotes().forEach(function(I){p.debug(`Adding note: ${JSON.stringify(I)}`);const D=gk.drawNote(z,I,X,K);if(iI[D.id]=D,G.setNode(D.id,D),I.class&&H.has(I.class))G.setEdge(I.id,fF(I.class),{relation:{id1:I.id,id2:I.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),g6(G),G.nodes().forEach(function(I){if(I!==void 0&&G.node(I)!==void 0)p.debug("Node "+I+": "+JSON.stringify(G.node(I))),q.select("#"+(K.db.lookUpDomId(I)||I)).attr("transform","translate("+(G.node(I).x-G.node(I).width/2)+","+(G.node(I).y-G.node(I).height/2)+" )")}),G.edges().forEach(function(I){if(I!==void 0&&G.edge(I)!==void 0)p.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(G.edge(I))),gk.drawEdge(z,G.edge(I),G.edge(I).relation,X,K)});const B=z.node().getBBox(),O=B.width+dI*2,A=B.height+dI*2;R8(z,A,O,X.useMaxWidth);const L=`${B.x-dI} ${B.y-dI} ${O} ${A}`;p.debug(`viewBox ${L}`),z.attr("viewBox",L)},"draw"),A_0={draw:O_0},L_0={parser:pI,db:kz,renderer:A_0,styles:lI,init:R((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,kz.clear()},"init")}});function vF(Z,J){if(W0().flowchart.htmlLabels&&Z)Z.style.width=J.length*9+"px",Z.style.height="12px"}var I_0,D_0,N_0,E_0,w_0,j_0,C_0,P_0,V_0,S_0,T_0,rI,f_0,v_0,S70,sI,J7,f70,nI,aI,k_0,$_0,T70,oI;var pk=_(()=>{UY();f4();x6();FZ();X8();i9();I_0=R((Z,J,Q,K)=>{J.forEach((X)=>{T_0[X](Z,Q,K)})},"insertMarkers"),D_0=R((Z,J,Q)=>{p.trace("Making markers for ",Q),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionStart").attr("class","marker extension "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-extensionEnd").attr("class","marker extension "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),N_0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionStart").attr("class","marker composition "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-compositionEnd").attr("class","marker composition "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),E_0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationStart").attr("class","marker aggregation "+J).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-aggregationEnd").attr("class","marker aggregation "+J).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),w_0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyStart").attr("class","marker dependency "+J).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-dependencyEnd").attr("class","marker dependency "+J).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),j_0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopStart").attr("class","marker lollipop "+J).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),Z.append("defs").append("marker").attr("id",Q+"_"+J+"-lollipopEnd").attr("class","marker lollipop "+J).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),C_0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-pointEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-pointStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),P_0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-circleEnd").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-circleStart").attr("class","marker "+J).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),V_0=R((Z,J,Q)=>{Z.append("marker").attr("id",Q+"_"+J+"-crossEnd").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),Z.append("marker").attr("id",Q+"_"+J+"-crossStart").attr("class","marker cross "+J).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),S_0=R((Z,J,Q)=>{Z.append("defs").append("marker").attr("id",Q+"_"+J+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),T_0={extension:D_0,composition:N_0,aggregation:E_0,dependency:w_0,lollipop:j_0,point:C_0,circle:P_0,cross:V_0,barb:S_0},rI=I_0,f_0=R((Z,J,Q,K,X)=>{if(J.arrowTypeStart)S70(Z,"start",J.arrowTypeStart,Q,K,X);if(J.arrowTypeEnd)S70(Z,"end",J.arrowTypeEnd,Q,K,X)},"addEdgeMarkers"),v_0={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},S70=R((Z,J,Q,K,X,U)=>{const Y=v_0[Q];if(!Y){p.warn(`Unknown arrow type: ${Q}`);return}const q=J==="start"?"Start":"End";Z.attr(`marker-${J}`,`url(${K}#${X}_${U}-${Y}${q})`)},"addEdgeMarker"),sI={},J7={},f70=R(()=>{sI={},J7={}},"clear"),nI=R((Z,J)=>{const Q=W0(),K=b8(Q.flowchart.htmlLabels),X=J.labelType==="markdown"?MQ(Z,J.label,{style:J.labelStyle,useHtmlLabels:K,addSvgBackground:!0},Q):B7(J.label,J.labelStyle),U=Z.insert("g").attr("class","edgeLabel"),Y=U.insert("g").attr("class","label");Y.node().appendChild(X);let q=X.getBBox();if(K){const G=X.children[0],H=$0(X);q=G.getBoundingClientRect(),H.attr("width",q.width),H.attr("height",q.height)}Y.attr("transform","translate("+-q.width/2+", "+-q.height/2+")"),sI[J.id]=U,J.width=q.width,J.height=q.height;let z;if(J.startLabelLeft){const G=B7(J.startLabelLeft,J.labelStyle),H=Z.insert("g").attr("class","edgeTerminals"),W=H.insert("g").attr("class","inner");z=W.node().appendChild(G);const F=G.getBBox();if(W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!J7[J.id])J7[J.id]={};J7[J.id].startLeft=H,vF(z,J.startLabelLeft)}if(J.startLabelRight){const G=B7(J.startLabelRight,J.labelStyle),H=Z.insert("g").attr("class","edgeTerminals"),W=H.insert("g").attr("class","inner");z=H.node().appendChild(G),W.node().appendChild(G);const F=G.getBBox();if(W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),!J7[J.id])J7[J.id]={};J7[J.id].startRight=H,vF(z,J.startLabelRight)}if(J.endLabelLeft){const G=B7(J.endLabelLeft,J.labelStyle),H=Z.insert("g").attr("class","edgeTerminals"),W=H.insert("g").attr("class","inner");z=W.node().appendChild(G);const F=G.getBBox();if(W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),H.node().appendChild(G),!J7[J.id])J7[J.id]={};J7[J.id].endLeft=H,vF(z,J.endLabelLeft)}if(J.endLabelRight){const G=B7(J.endLabelRight,J.labelStyle),H=Z.insert("g").attr("class","edgeTerminals"),W=H.insert("g").attr("class","inner");z=W.node().appendChild(G);const F=G.getBBox();if(W.attr("transform","translate("+-F.width/2+", "+-F.height/2+")"),H.node().appendChild(G),!J7[J.id])J7[J.id]={};J7[J.id].endRight=H,vF(z,J.endLabelRight)}return X},"insertEdgeLabel");R(vF,"setTerminalWidth");aI=R((Z,J)=>{p.debug("Moving label abc88 ",Z.id,Z.label,sI[Z.id],J);let Q=J.updatedPath?J.updatedPath:J.originalPath;const K=W0(),{subGraphTitleTotalMargin:X}=xQ(K);if(Z.label){const U=sI[Z.id];let{x:Y,y:q}=Z;if(Q){const z=B9.calcLabelPosition(Q);if(p.debug("Moving label "+Z.label+" from (",Y,",",q,") to (",z.x,",",z.y,") abc88"),J.updatedPath)Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q+X/2})`)}if(Z.startLabelLeft){const U=J7[Z.id].startLeft;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_left",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.startLabelRight){const U=J7[Z.id].startRight;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeStart?10:0,"start_right",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelLeft){const U=J7[Z.id].endLeft;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_left",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}if(Z.endLabelRight){const U=J7[Z.id].endRight;let{x:Y,y:q}=Z;if(Q){const z=B9.calcTerminalLabelPosition(Z.arrowTypeEnd?10:0,"end_right",Q);Y=z.x,q=z.y}U.attr("transform",`translate(${Y}, ${q})`)}},"positionEdgeLabel"),k_0=R((Z,J)=>{const{x:Q,y:K}=Z,X=Math.abs(J.x-Q),U=Math.abs(J.y-K),Y=Z.width/2,q=Z.height/2;if(X>=Y||U>=q)return!0;return!1},"outsideNode"),$_0=R((Z,J,Q)=>{p.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(J)}
  insidePoint : ${JSON.stringify(Q)}
  node        : x:${Z.x} y:${Z.y} w:${Z.width} h:${Z.height}`);const{x:K,y:X}=Z,U=Math.abs(K-Q.x),Y=Z.width/2;let q=Q.x<J.x?Y-U:Y+U;const z=Z.height/2,G=Math.abs(J.y-Q.y),H=Math.abs(J.x-Q.x);if(Math.abs(X-J.y)*Y>Math.abs(K-J.x)*z){let W=Q.y<J.y?J.y-z-X:X-z-J.y;q=H*W/G;const F={x:Q.x<J.x?Q.x+q:Q.x-H+q,y:Q.y<J.y?Q.y+G-W:Q.y-G+W};if(q===0)F.x=J.x,F.y=J.y;if(H===0)F.x=J.x;if(G===0)F.y=J.y;return p.debug(`abc89 topp/bott calc, Q ${G}, q ${W}, R ${H}, r ${q}`,F),F}else{if(Q.x<J.x)q=J.x-Y-K;else q=K-Y-J.x;let W=G*q/H,F=Q.x<J.x?Q.x+H-q:Q.x-H+q,M=Q.y<J.y?Q.y+W:Q.y-W;if(p.debug(`sides calc abc89, Q ${G}, q ${W}, R ${H}, r ${q}`,{_x:F,_y:M}),q===0)F=J.x,M=J.y;if(H===0)F=J.x;if(G===0)M=J.y;return{x:F,y:M}}},"intersection"),T70=R((Z,J)=>{p.debug("abc88 cutPathAtIntersect",Z,J);let Q=[],K=Z[0],X=!1;return Z.forEach((U)=>{if(!k_0(J,U)&&!X){const Y=$_0(J,K,U);let q=!1;if(Q.forEach((z)=>{q=q||z.x===Y.x&&z.y===Y.y}),!Q.some((z)=>z.x===Y.x&&z.y===Y.y))Q.push(Y);X=!0}else if(K=U,!X)Q.push(U)}),Q},"cutPathAtIntersect"),oI=R(function(Z,J,Q,K,X,U,Y){let q=Q.points;p.debug("abc88 InsertEdge: edge=",Q,"e=",J);let z=!1;const G=U.node(J.v);var H=U.node(J.w);if(H?.intersect&&G?.intersect)q=q.slice(1,Q.points.length-1),q.unshift(G.intersect(q[0])),q.push(H.intersect(q[q.length-1]));if(Q.toCluster)p.debug("to cluster abc88",K[Q.toCluster]),q=T70(Q.points,K[Q.toCluster].node),z=!0;if(Q.fromCluster)p.debug("from cluster abc88",K[Q.fromCluster]),q=T70(q.reverse(),K[Q.fromCluster].node).reverse(),z=!0;const W=q.filter((w)=>!Number.isNaN(w.y));let F=o7;if(Q.curve&&(X==="graph"||X==="flowchart"))F=Q.curve;const{x:M,y:B}=E2(Q),O=pJ().x(M).y(B).curve(F);let A;switch(Q.thickness){case"normal":A="edge-thickness-normal";break;case"thick":A="edge-thickness-thick";break;case"invisible":A="edge-thickness-thick";break;default:A=""}switch(Q.pattern){case"solid":A+=" edge-pattern-solid";break;case"dotted":A+=" edge-pattern-dotted";break;case"dashed":A+=" edge-pattern-dashed";break}const L=Z.append("path").attr("d",O(W)).attr("id",Q.id).attr("class"," "+A+(Q.classes?" "+Q.classes:"")).attr("style",Q.style);let I="";if(W0().flowchart.arrowMarkerAbsolute||W0().state.arrowMarkerAbsolute)I=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,I=I.replace(/\(/g,"\\("),I=I.replace(/\)/g,"\\)");f_0(L,Q,I,Y,X);let D={};if(z)D.updatedPath=q;return D.originalPath=Q.points,D},"insertEdge")});var u70={};q8(u70,{diagram:()=>t_0});function lk(Z){let J;switch(Z){case 0:J="aggregation";break;case 1:J="extension";break;case 2:J="composition";break;case 3:J="dependency";break;case 4:J="lollipop";break;default:J="none"}return J}var n9,H4,v70,__0,eI,b_0,k70,$70,kF,tI,x_0,_70,b70,h_0,y_0,u_0,m_0,g_0,p_0,x70,c_0,l_0,h70,d_0,dk,ck,i_0,y70,s_0,r_0,n_0,a_0,o_0,t_0;var m70=_(()=>{pk();mk();UY();f4();x6();FZ();X8();i9();aJ();ZY();GW();GW();aJ();i9();n9={},H4={},v70={},__0=R(()=>{H4={},v70={},n9={}},"clear"),eI=R((Z,J)=>{if(p.trace("In isDescendant",J," ",Z," = ",H4[J].includes(Z)),H4[J].includes(Z))return!0;return!1},"isDescendant"),b_0=R((Z,J)=>{if(p.info("Descendants of ",J," is ",H4[J]),p.info("Edge is ",Z),Z.v===J)return!1;if(Z.w===J)return!1;if(!H4[J])return p.debug("Tilt, ",J,",not in descendants"),!1;return H4[J].includes(Z.v)||eI(Z.v,J)||eI(Z.w,J)||H4[J].includes(Z.w)},"edgeInCluster"),k70=R((Z,J,Q,K)=>{p.warn("Copying children of ",Z,"root",K,"data",J.node(Z),K);const X=J.children(Z)||[];if(Z!==K)X.push(Z);p.warn("Copying (nodes) clusterId",Z,"nodes",X),X.forEach((U)=>{if(J.children(U).length>0)k70(U,J,Q,K);else{const Y=J.node(U);if(p.info("cp ",U," to ",K," with parent ",Z),Q.setNode(U,Y),K!==J.parent(U))p.warn("Setting parent",U,J.parent(U)),Q.setParent(U,J.parent(U));if(Z!==K&&U!==Z)p.debug("Setting parent",U,Z),Q.setParent(U,Z);else p.info("In copy ",Z,"root",K,"data",J.node(Z),K),p.debug("Not Setting parent for node=",U,"cluster!==rootId",Z!==K,"node!==clusterId",U!==Z);const q=J.edges(U);p.debug("Copying Edges",q),q.forEach((z)=>{p.info("Edge",z);const G=J.edge(z.v,z.w,z.name);p.info("Edge data",G,K);try{if(b_0(z,K))p.info("Copying as ",z.v,z.w,G,z.name),Q.setEdge(z.v,z.w,G,z.name),p.info("newGraph edges ",Q.edges(),Q.edge(Q.edges()[0]));else p.info("Skipping copy of edge ",z.v,"-->",z.w," rootId: ",K," clusterId:",Z)}catch(H){p.error(H)}})}p.debug("Removing node",U),J.removeNode(U)})},"copy"),$70=R((Z,J)=>{const Q=J.children(Z);let K=[...Q];for(let X of Q)v70[X]=Z,K=[...K,...$70(X,J)];return K},"extractDescendants"),kF=R((Z,J)=>{p.trace("Searching",Z);const Q=J.children(Z);if(p.trace("Searching children of id ",Z,Q),Q.length<1)return p.trace("This is a valid node",Z),Z;for(let K of Q){const X=kF(K,J);if(X)return p.trace("Found replacement for",Z," => ",X),X}},"findNonClusterChild"),tI=R((Z)=>{if(!n9[Z])return Z;if(!n9[Z].externalConnections)return Z;if(n9[Z])return n9[Z].id;return Z},"getAnchorId"),x_0=R((Z,J)=>{if(!Z||J>10){p.debug("Opting out, no graph ");return}else p.debug("Opting in, graph ");Z.nodes().forEach(function(Q){if(Z.children(Q).length>0)p.warn("Cluster identified",Q," Replacement id in edges: ",kF(Q,Z)),H4[Q]=$70(Q,Z),n9[Q]={id:kF(Q,Z),clusterData:Z.node(Q)}}),Z.nodes().forEach(function(Q){const K=Z.children(Q),X=Z.edges();if(K.length>0)p.debug("Cluster identified",Q,H4),X.forEach((U)=>{if(U.v!==Q&&U.w!==Q){const Y=eI(U.v,Q),q=eI(U.w,Q);if(Y^q)p.warn("Edge: ",U," leaves cluster ",Q),p.warn("Descendants of XXX ",Q,": ",H4[Q]),n9[Q].externalConnections=!0}});else p.debug("Not a cluster ",Q,H4)});for(let Q of Object.keys(n9)){const K=n9[Q].id,X=Z.parent(K);if(X!==Q&&n9[X]&&!n9[X].externalConnections)n9[Q].id=X}Z.edges().forEach(function(Q){const K=Z.edge(Q);p.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Q)),p.warn("Edge "+Q.v+" -> "+Q.w+": "+JSON.stringify(Z.edge(Q)));let{v:X,w:U}=Q;if(p.warn("Fix XXX",n9,"ids:",Q.v,Q.w,"Translating: ",n9[Q.v]," --- ",n9[Q.w]),n9[Q.v]&&n9[Q.w]&&n9[Q.v]===n9[Q.w]){p.warn("Fixing and trixing link to self - removing XXX",Q.v,Q.w,Q.name),p.warn("Fixing and trixing - removing XXX",Q.v,Q.w,Q.name),X=tI(Q.v),U=tI(Q.w),Z.removeEdge(Q.v,Q.w,Q.name);const Y=Q.w+"---"+Q.v;Z.setNode(Y,{domId:Y,id:Y,labelStyle:"",labelText:K.label,padding:0,shape:"labelRect",style:""});const q=structuredClone(K),z=structuredClone(K);q.label="",q.arrowTypeEnd="none",z.label="",q.fromCluster=Q.v,z.toCluster=Q.v,Z.setEdge(X,Y,q,Q.name+"-cyclic-special"),Z.setEdge(Y,U,z,Q.name+"-cyclic-special")}else if(n9[Q.v]||n9[Q.w]){if(p.warn("Fixing and trixing - removing XXX",Q.v,Q.w,Q.name),X=tI(Q.v),U=tI(Q.w),Z.removeEdge(Q.v,Q.w,Q.name),X!==Q.v){const Y=Z.parent(X);n9[Y].externalConnections=!0,K.fromCluster=Q.v}if(U!==Q.w){const Y=Z.parent(U);n9[Y].externalConnections=!0,K.toCluster=Q.w}p.warn("Fix Replacing with XXX",X,U,Q.name),Z.setEdge(X,U,K,Q.name)}}),p.warn("Adjusted Graph",NZ(Z)),_70(Z,0),p.trace(n9)},"adjustClustersAndEdges"),_70=R((Z,J)=>{if(p.warn("extractor - ",J,NZ(Z),Z.children("D")),J>10){p.error("Bailing out");return}let Q=Z.nodes(),K=!1;for(let X of Q){const U=Z.children(X);K=K||U.length>0}if(!K){p.debug("Done, no node has children",Z.nodes());return}p.debug("Nodes = ",Q,J);for(let X of Q)if(p.debug("Extracting node",X,n9,n9[X]&&!n9[X].externalConnections,!Z.parent(X),Z.node(X),Z.children("D")," Depth ",J),!n9[X])p.debug("Not a cluster",X,J);else if(!n9[X].externalConnections&&Z.children(X)&&Z.children(X).length>0){p.warn("Cluster without external connections, without a parent and with children",X,J);let Y=Z.graph().rankdir==="TB"?"LR":"TB";if(n9[X]?.clusterData?.dir)Y=n9[X].clusterData.dir,p.warn("Fixing dir",n9[X].clusterData.dir,Y);const q=new J8({multigraph:!0,compound:!0}).setGraph({rankdir:Y,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});p.warn("Old graph before copy",NZ(Z)),k70(X,Z,q,X),Z.setNode(X,{clusterNode:!0,id:X,clusterData:n9[X].clusterData,labelText:n9[X].labelText,graph:q}),p.warn("New graph after copy node: (",X,")",NZ(q)),p.debug("Old graph after copy",NZ(Z))}else p.warn("Cluster ** ",X," **not meeting the criteria !externalConnections:",!n9[X].externalConnections," no parent: ",!Z.parent(X)," children ",Z.children(X)&&Z.children(X).length>0,Z.children("D"),J),p.debug(n9);Q=Z.nodes(),p.warn("New list of nodes",Q);for(let X of Q){const U=Z.node(X);if(p.warn(" Now next level",X,U),U.clusterNode)_70(U.graph,J+1)}},"extractor"),b70=R((Z,J)=>{if(J.length===0)return[];let Q=Object.assign(J);return J.forEach((K)=>{const X=Z.children(K),U=b70(Z,X);Q=[...Q,...U]}),Q},"sorter"),h_0=R((Z)=>b70(Z,Z.children()),"sortNodesByHierarchy"),y_0=R((Z,J)=>{p.info("Creating subgraph rect for ",J.id,J);const Q=W0(),K=Z.insert("g").attr("class","cluster"+(J.class?" "+J.class:"")).attr("id",J.id),X=K.insert("rect",":first-child"),U=b8(Q.flowchart.htmlLabels),Y=K.insert("g").attr("class","cluster-label"),q=J.labelType==="markdown"?MQ(Y,J.labelText,{style:J.labelStyle,useHtmlLabels:U},Q):Y.node().appendChild(B7(J.labelText,J.labelStyle,void 0,!0));let z=q.getBBox();if(b8(Q.flowchart.htmlLabels)){const B=q.children[0],O=$0(q);z=B.getBoundingClientRect(),O.attr("width",z.width),O.attr("height",z.height)}const G=0*J.padding,H=G/2,W=J.width<=z.width+G?z.width+G:J.width;if(J.width<=z.width+G)J.diff=(z.width-J.width)/2-J.padding/2;else J.diff=-J.padding/2;p.trace("Data ",J,JSON.stringify(J)),X.attr("style",J.style).attr("rx",J.rx).attr("ry",J.ry).attr("x",J.x-W/2).attr("y",J.y-J.height/2-H).attr("width",W).attr("height",J.height+G);const{subGraphTitleTopMargin:F}=xQ(Q);if(U)Y.attr("transform",`translate(${J.x-z.width/2}, ${J.y-J.height/2+F})`);else Y.attr("transform",`translate(${J.x}, ${J.y-J.height/2+F})`);const M=X.node().getBBox();return J.width=M.width,J.height=M.height,J.intersect=function(B){return b1(J,B)},K},"rect"),u_0=R((Z,J)=>{const Q=Z.insert("g").attr("class","note-cluster").attr("id",J.id),K=Q.insert("rect",":first-child"),X=0*J.padding,U=X/2;K.attr("rx",J.rx).attr("ry",J.ry).attr("x",J.x-J.width/2-U).attr("y",J.y-J.height/2-U).attr("width",J.width+X).attr("height",J.height+X).attr("fill","none");const Y=K.node().getBBox();return J.width=Y.width,J.height=Y.height,J.intersect=function(q){return b1(J,q)},Q},"noteGroup"),m_0=R((Z,J)=>{const Q=W0(),K=Z.insert("g").attr("class",J.classes).attr("id",J.id),X=K.insert("rect",":first-child"),U=K.insert("g").attr("class","cluster-label"),Y=K.append("rect"),q=U.node().appendChild(B7(J.labelText,J.labelStyle,void 0,!0));let z=q.getBBox();if(b8(Q.flowchart.htmlLabels)){const B=q.children[0],O=$0(q);z=B.getBoundingClientRect(),O.attr("width",z.width),O.attr("height",z.height)}z=q.getBBox();const G=0*J.padding,H=G/2,W=J.width<=z.width+J.padding?z.width+J.padding:J.width;if(J.width<=z.width+J.padding)J.diff=(z.width+J.padding*0-J.width)/2;else J.diff=-J.padding/2;X.attr("class","outer").attr("x",J.x-W/2-H).attr("y",J.y-J.height/2-H).attr("width",W+G).attr("height",J.height+G),Y.attr("class","inner").attr("x",J.x-W/2-H).attr("y",J.y-J.height/2-H+z.height-1).attr("width",W+G).attr("height",J.height+G-z.height-3);const{subGraphTitleTopMargin:F}=xQ(Q);U.attr("transform",`translate(${J.x-z.width/2}, ${J.y-J.height/2-J.padding/3+(b8(Q.flowchart.htmlLabels)?5:3)+F})`);const M=X.node().getBBox();return J.height=M.height,J.intersect=function(B){return b1(J,B)},K},"roundedWithTitle"),g_0=R((Z,J)=>{const Q=Z.insert("g").attr("class",J.classes).attr("id",J.id),K=Q.insert("rect",":first-child"),X=0*J.padding,U=X/2;K.attr("class","divider").attr("x",J.x-J.width/2-U).attr("y",J.y-J.height/2).attr("width",J.width+X).attr("height",J.height+X);const Y=K.node().getBBox();return J.width=Y.width,J.height=Y.height,J.diff=-J.padding/2,J.intersect=function(q){return b1(J,q)},Q},"divider"),p_0={rect:y_0,roundedWithTitle:m_0,noteGroup:u_0,divider:g_0},x70={},c_0=R((Z,J)=>{p.trace("Inserting cluster");const Q=J.shape||"rect";x70[J.id]=p_0[Q](Z,J)},"insertCluster"),l_0=R(()=>{x70={}},"clear"),h70=R(async(Z,J,Q,K,X,U)=>{p.info("Graph in recursive render: XXX",NZ(J),X);const Y=J.graph().rankdir;p.trace("Dir in recursive render - dir:",Y);const q=Z.insert("g").attr("class","root");if(!J.nodes())p.info("No nodes found for",J);else p.info("Recursive render XXX",J.nodes());if(J.edges().length>0)p.trace("Recursive edges",J.edge(J.edges()[0]));const z=q.insert("g").attr("class","clusters"),G=q.insert("g").attr("class","edgePaths"),H=q.insert("g").attr("class","edgeLabels"),W=q.insert("g").attr("class","nodes");await Promise.all(J.nodes().map(async function(B){const O=J.node(B);if(X!==void 0){const A=JSON.parse(JSON.stringify(X.clusterData));if(p.info("Setting data for cluster XXX (",B,") ",A,X),J.setNode(X.id,A),!J.parent(B))p.trace("Setting parent",B,X.id),J.setParent(B,X.id,A)}if(p.info("(Insert) Node XXX"+B+": "+JSON.stringify(J.node(B))),O?.clusterNode){p.info("Cluster identified",B,O.width,J.node(B));const{ranksep:A,nodesep:L}=J.graph();O.graph.setGraph({...O.graph.graph(),ranksep:A,nodesep:L});const I=await h70(W,O.graph,Q,K,J.node(B),U),D=I.elem;EZ(O,D),O.diff=I.diff||0,p.info("Node bounds (abc123)",B,O,O.width,O.x,O.y),xo(D,O),p.warn("Recursive render complete ",D,O)}else if(J.children(B).length>0)p.info("Cluster - the non recursive path XXX",B,O.id,O,J),p.info(kF(O.id,J)),n9[O.id]={id:kF(O.id,J),node:O};else p.info("Node - the non recursive path",B,O.id,O),await IW(W,J.node(B),Y)})),J.edges().forEach(async function(B){const O=J.edge(B.v,B.w,B.name);p.info("Edge "+B.v+" -> "+B.w+": "+JSON.stringify(B)),p.info("Edge "+B.v+" -> "+B.w+": ",B," ",JSON.stringify(J.edge(B))),p.info("Fix",n9,"ids:",B.v,B.w,"Translating: ",n9[B.v],n9[B.w]),await nI(H,O)}),J.edges().forEach(function(B){p.info("Edge "+B.v+" -> "+B.w+": "+JSON.stringify(B))}),p.info("Graph before layout:",JSON.stringify(NZ(J))),p.info("#############################################"),p.info("###                Layout                 ###"),p.info("#############################################"),p.info(J),g6(J),p.info("Graph after layout:",JSON.stringify(NZ(J)));let F=0;const{subGraphTitleTotalMargin:M}=xQ(U);return h_0(J).forEach(function(B){const O=J.node(B);if(p.info("Position "+B+": "+JSON.stringify(J.node(B))),p.info("Position "+B+": ("+O.x,","+O.y,") width: ",O.width," height: ",O.height),O?.clusterNode)O.y+=M,DW(O);else if(J.children(B).length>0)O.height+=M,c_0(z,O),n9[O.id].node=O;else O.y+=M/2,DW(O)}),J.edges().forEach(function(B){const O=J.edge(B);p.info("Edge "+B.v+" -> "+B.w+": "+JSON.stringify(O),O),O.points.forEach((L)=>L.y+=M/2);const A=oI(G,B,O,n9,Q,J,K);aI(O,A)}),J.nodes().forEach(function(B){const O=J.node(B);if(p.info(B,O.type,O.diff),O.type==="group")F=O.diff}),{elem:q,diff:F}},"recursiveRender"),d_0=R(async(Z,J,Q,K,X)=>{rI(Z,Q,K,X),ho(),f70(),l_0(),__0(),p.warn("Graph at first:",JSON.stringify(NZ(J))),x_0(J),p.warn("Graph after:",JSON.stringify(NZ(J)));const U=W0();await h70(Z,J,K,X,void 0,U)},"render"),dk=R((Z)=>g0.sanitizeText(Z,W0()),"sanitizeText"),ck={dividerMargin:10,padding:5,textHeight:10,curve:void 0},i_0=R(function(Z,J,Q,K){p.info("keys:",[...Z.keys()]),p.info(Z),Z.forEach(function(X){const Y={shape:"rect",id:X.id,domId:X.domId,labelText:dk(X.id),labelStyle:"",style:"fill: none; stroke: black",padding:W0().flowchart?.padding??W0().class?.padding};J.setNode(X.id,Y),y70(X.classes,J,Q,K,X.id),p.info("setNode",Y)})},"addNamespaces"),y70=R(function(Z,J,Q,K,X){p.info("keys:",[...Z.keys()]),p.info(Z),[...Z.values()].filter((U)=>U.parent===X).forEach(function(U){const Y=U.cssClasses.join(" "),q=yU(U.styles),z=U.label??U.id,W={labelStyle:q.labelStyle,shape:"class_box",labelText:dk(z),classData:U,rx:0,ry:0,class:Y,style:q.style,id:U.id,domId:U.domId,tooltip:K.db.getTooltip(U.id,X)||"",haveCallback:U.haveCallback,link:U.link,width:U.type==="group"?500:void 0,type:U.type,padding:W0().flowchart?.padding??W0().class?.padding};if(J.setNode(U.id,W),X)J.setParent(U.id,X);p.info("setNode",W)})},"addClasses"),s_0=R(function(Z,J,Q,K){p.info(Z),Z.forEach(function(X,U){const Y=X,z={labelStyle:"",style:""},G=Y.text,F={labelStyle:z.labelStyle,shape:"note",labelText:dk(G),noteData:Y,rx:0,ry:0,class:"",style:z.style,id:Y.id,domId:Y.id,tooltip:"",type:"note",padding:W0().flowchart?.padding??W0().class?.padding};if(J.setNode(Y.id,F),p.info("setNode",F),!Y.class||!K.has(Y.class))return;const M=Q+U,B={id:`edgeNote${M}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:hU(ck.curve,tK)};J.setEdge(Y.id,Y.class,B,M)})},"addNotes"),r_0=R(function(Z,J){const Q=W0().flowchart;let K=0;Z.forEach(function(X){K++;const U={classes:"relation",pattern:X.relation.lineType==1?"dashed":"solid",id:GR(X.id1,X.id2,{prefix:"id",counter:K}),arrowhead:X.type==="arrow_open"?"none":"normal",startLabelRight:X.relationTitle1==="none"?"":X.relationTitle1,endLabelLeft:X.relationTitle2==="none"?"":X.relationTitle2,arrowTypeStart:lk(X.relation.type1),arrowTypeEnd:lk(X.relation.type2),style:"fill:none",labelStyle:"",curve:hU(Q?.curve,tK)};if(p.info(U,X),X.style!==void 0){const Y=yU(X.style);U.style=Y.style,U.labelStyle=Y.labelStyle}if(X.text=X.title,X.text===void 0){if(X.style!==void 0)U.arrowheadStyle="fill: #333"}else if(U.arrowheadStyle="fill: #333",U.labelpos="c",W0().flowchart?.htmlLabels??W0().htmlLabels)U.labelType="html",U.label='<span class="edgeLabel">'+X.text+"</span>";else{if(U.labelType="text",U.label=X.text.replace(g0.lineBreakRegex,"\n"),X.style===void 0)U.style=U.style||"stroke: #333; stroke-width: 1.5px;fill:none";U.labelStyle=U.labelStyle.replace("color:","fill:")}J.setEdge(X.id1,X.id2,U,K)})},"addRelations"),n_0=R(function(Z){ck={...ck,...Z}},"setConf"),a_0=R(async function(Z,J,Q,K){p.info("Drawing class - ",J);const X=W0().flowchart??W0().class,U=W0().securityLevel;p.info("config:",X);const Y=X?.nodeSpacing??50,q=X?.rankSpacing??50,z=new J8({multigraph:!0,compound:!0}).setGraph({rankdir:K.db.getDirection(),nodesep:Y,ranksep:q,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),G=K.db.getNamespaces(),H=K.db.getClasses(),W=K.db.getRelations(),F=K.db.getNotes();p.info(W),i_0(G,z,J,K),y70(H,z,J,K),r_0(W,z),s_0(F,z,W.length+1,H);let M;if(U==="sandbox")M=$0("#i"+J);const B=U==="sandbox"?$0(M.nodes()[0].contentDocument.body):$0("body"),O=B.select(`[id="${J}"]`),A=B.select("#"+J+" g");if(await d_0(A,z,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",J),B9.insertTitle(O,"classTitleText",X?.titleTopMargin??5,K.db.getDiagramTitle()),gK(z,O,X?.diagramPadding,X?.useMaxWidth),!X?.htmlLabels){const L=U==="sandbox"?M.nodes()[0].contentDocument:document,I=L.querySelectorAll('[id="'+J+'"] .edgeLabel .label');for(let D of I){const w=D.getBBox(),N=L.createElementNS("http://www.w3.org/2000/svg","rect");N.setAttribute("rx",0),N.setAttribute("ry",0),N.setAttribute("width",w.width),N.setAttribute("height",w.height),D.insertBefore(N,D.firstChild)}}},"draw");R(lk,"getArrowMarker");o_0={setConf:n_0,draw:a_0},t_0={parser:pI,db:kz,renderer:o_0,styles:lI,init:R((Z)=>{if(!Z.class)Z.class={};Z.class.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,kz.clear()},"init")}});function Q3(Z="",J=0,Q="",K=ok){const X=Q!==null&&Q.length>0?`${K}${Q}`:"";return`${Ab0}-${Z}${X}-${J}`}function $F(Z,J,Q){if(!J.id||J.id==="</join></fork>"||J.id==="</choice>")return;if(J.cssClasses){if(!Array.isArray(J.cssCompiledStyles))J.cssCompiledStyles=[];J.cssClasses.split(" ").forEach((X)=>{if(Q.get(X)){const U=Q.get(X);J.cssCompiledStyles=[...J.cssCompiledStyles,...U.styles]}})}const K=Z.find((X)=>X.id===J.id);if(K)Object.assign(K,J);else Z.push(J)}function Y60(Z){return Z?.classes?.join(" ")??""}function q60(Z){return Z?.styles??[]}function ek(){return new Map}function z3(Z=""){let J=Z;if(Z===tk)bF++,J=`${z60}${bF}`;return J}function G3(Z="",J=xF){return Z===tk?z60:J}function R60(Z=""){let J=Z;if(Z===G60)bF++,J=`${H60}${bF}`;return J}function O60(Z="",J=xF){return Z===G60?H60:J}function A60(Z,J,Q){let K=z3(Z.id.trim()),X=G3(Z.id.trim(),Z.type),U=z3(J.id.trim()),Y=G3(J.id.trim(),J.type);sX(K,X,Z.doc,Z.description,Z.note,Z.classes,Z.styles,Z.textStyles),sX(U,Y,J.doc,J.description,J.note,J.classes,J.styles,J.textStyles),L6.relations.push({id1:K,id2:U,relationTitle:g0.sanitizeText(Q,W0())})}var rk,H3,e_0="LR",r70="TB",X3="state",ak="relation",Zb0="classDef",Jb0="style",Qb0="applyClass",xF="default",n70="divider",a70="fill:none",o70="fill: #333",t70="c",e70="text",Z60="normal",ik="rect",sk="rectWithTitle",Kb0="stateStart",Xb0="stateEnd",g70="divider",p70="roundedWithTitle",Ub0="note",Yb0="noteGroup",hF="statediagram",qb0="state",zb0,J60="transition",Gb0="note",Hb0="note-edge",Wb0,Fb0,Mb0="cluster",Bb0,Rb0="cluster-alt",Ob0,Q60="parent",K60="note",Ab0="state",ok="----",Lb0,c70,X60,Ib0,Db0,U60,J3,iX=0,Nb0,l70,_F,Eb0,tk="[*]",z60="start",G60,H60="end",d70="color",i70="fill",wb0="bgFill",jb0=",",U3,Z$,W60,Y3,$z,F60,q3,L6,bF=0,s70=0,Cb0,Pb0,Z3,Vb0,Sb0,K3,J$,Tb0,sX,M60,yY,B60,fb0,vb0,L60,nk,kb0,$b0,I60,_b0,Q$,bb0,xb0,hb0,yb0,ub0,mb0,W4,gb0,W3;var K$=_(()=>{LW();T1();FZ();X8();rk=function(){var Z=R(function(y,k,g,u){for(g=g||{},u=y.length;u--;g[y[u]]=k);return g},"o"),J=[1,2],Q=[1,3],K=[1,4],X=[2,4],U=[1,9],Y=[1,11],q=[1,16],z=[1,17],G=[1,18],H=[1,19],W=[1,32],F=[1,20],M=[1,21],B=[1,22],O=[1,23],A=[1,24],L=[1,26],I=[1,27],D=[1,28],w=[1,29],N=[1,30],E=[1,31],j=[1,34],P=[1,35],C=[1,36],T=[1,37],V=[1,33],S=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],$=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],f=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],h={trace:R(function y(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:R(function y(k,g,u,i,e,J0,z0){var t=J0.length-1;switch(e){case 3:return i.setRootDoc(J0[t]),J0[t];break;case 4:this.$=[];break;case 5:if(J0[t]!="nl")J0[t-1].push(J0[t]),this.$=J0[t-1];break;case 6:case 7:this.$=J0[t];break;case 8:this.$="nl";break;case 12:this.$=J0[t];break;case 13:const o=J0[t-1];o.description=i.trimColon(J0[t]),this.$=o;break;case 14:this.$={stmt:"relation",state1:J0[t-2],state2:J0[t]};break;case 15:const a=i.trimColon(J0[t]);this.$={stmt:"relation",state1:J0[t-3],state2:J0[t-1],description:a};break;case 19:this.$={stmt:"state",id:J0[t-3],type:"default",description:"",doc:J0[t-1]};break;case 20:var B0=J0[t],X0=J0[t-2].trim();if(J0[t].match(":")){var d=J0[t].split(":");B0=d[0],X0=[X0,d[1]]}this.$={stmt:"state",id:B0,type:"default",description:X0};break;case 21:this.$={stmt:"state",id:J0[t-3],type:"default",description:J0[t-5],doc:J0[t-1]};break;case 22:this.$={stmt:"state",id:J0[t],type:"fork"};break;case 23:this.$={stmt:"state",id:J0[t],type:"join"};break;case 24:this.$={stmt:"state",id:J0[t],type:"choice"};break;case 25:this.$={stmt:"state",id:i.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:J0[t-1].trim(),note:{position:J0[t-2].trim(),text:J0[t].trim()}};break;case 29:this.$=J0[t].trim(),i.setAccTitle(this.$);break;case 30:case 31:this.$=J0[t].trim(),i.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:J0[t-1].trim(),classes:J0[t].trim()};break;case 34:this.$={stmt:"style",id:J0[t-1].trim(),styleClass:J0[t].trim()};break;case 35:this.$={stmt:"applyClass",id:J0[t-1].trim(),styleClass:J0[t].trim()};break;case 36:i.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:i.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:i.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:i.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:J0[t].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:J0[t-2].trim(),classes:[J0[t].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:J0[t-2].trim(),classes:[J0[t].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:J,5:Q,6:K},{1:[3]},{3:5,4:J,5:Q,6:K},{3:6,4:J,5:Q,6:K},Z([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],X,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:z,19:G,22:H,24:W,25:F,26:M,27:B,28:O,29:A,32:25,33:L,35:I,37:D,38:w,42:N,45:E,48:j,49:P,50:C,51:T,54:V},Z(S,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:q,17:z,19:G,22:H,24:W,25:F,26:M,27:B,28:O,29:A,32:25,33:L,35:I,37:D,38:w,42:N,45:E,48:j,49:P,50:C,51:T,54:V},Z(S,[2,7]),Z(S,[2,8]),Z(S,[2,9]),Z(S,[2,10]),Z(S,[2,11]),Z(S,[2,12],{14:[1,39],15:[1,40]}),Z(S,[2,16]),{18:[1,41]},Z(S,[2,18],{20:[1,42]}),{23:[1,43]},Z(S,[2,22]),Z(S,[2,23]),Z(S,[2,24]),Z(S,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},Z(S,[2,28]),{34:[1,48]},{36:[1,49]},Z(S,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},Z($,[2,42],{55:[1,54]}),Z($,[2,43],{55:[1,55]}),Z(S,[2,36]),Z(S,[2,37]),Z(S,[2,38]),Z(S,[2,39]),Z(S,[2,6]),Z(S,[2,13]),{13:56,24:W,54:V},Z(S,[2,17]),Z(f,X,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},Z(S,[2,29]),Z(S,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},Z(S,[2,14],{14:[1,67]}),{4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:z,19:G,21:[1,68],22:H,24:W,25:F,26:M,27:B,28:O,29:A,32:25,33:L,35:I,37:D,38:w,42:N,45:E,48:j,49:P,50:C,51:T,54:V},Z(S,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},Z(S,[2,32]),Z(S,[2,33]),Z(S,[2,34]),Z(S,[2,35]),Z($,[2,44]),Z($,[2,45]),Z(S,[2,15]),Z(S,[2,19]),Z(f,X,{7:72}),Z(S,[2,26]),Z(S,[2,27]),{4:U,5:Y,8:8,9:10,10:12,11:13,12:14,13:15,16:q,17:z,19:G,21:[1,73],22:H,24:W,25:F,26:M,27:B,28:O,29:A,32:25,33:L,35:I,37:D,38:w,42:N,45:E,48:j,49:P,50:C,51:T,54:V},Z(S,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:R(function y(k,g){if(g.recoverable)this.trace(k);else{var u=new Error(k);throw u.hash=g,u}},"parseError"),parse:R(function y(k){var g=this,u=[0],i=[],e=[null],J0=[],z0=this.table,t="",B0=0,X0=0,d=0,o=2,a=1,Q0=J0.slice.call(arguments,1),K0=Object.create(this.lexer),A0={yy:{}};for(var r in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,r))A0.yy[r]=this.yy[r];if(K0.setInput(k,A0.yy),A0.yy.lexer=K0,A0.yy.parser=this,typeof K0.yylloc=="undefined")K0.yylloc={};var v0=K0.yylloc;J0.push(v0);var Y0=K0.options&&K0.options.ranges;if(typeof A0.yy.parseError==="function")this.parseError=A0.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function k0(x0){u.length=u.length-2*x0,e.length=e.length-x0,J0.length=J0.length-x0}R(k0,"popStack");function h0(){var x0=i.pop()||K0.lex()||a;if(typeof x0!=="number"){if(x0 instanceof Array)i=x0,x0=i.pop();x0=g.symbols_[x0]||x0}return x0}R(h0,"lex");var V0,l0,b0,S0,H0,l,q0={},G0,n,U0,M0;while(!0){if(b0=u[u.length-1],this.defaultActions[b0])S0=this.defaultActions[b0];else{if(V0===null||typeof V0=="undefined")V0=h0();S0=z0[b0]&&z0[b0][V0]}if(typeof S0==="undefined"||!S0.length||!S0[0]){var F0="";M0=[];for(G0 in z0[b0])if(this.terminals_[G0]&&G0>o)M0.push("'"+this.terminals_[G0]+"'");if(K0.showPosition)F0="Parse error on line "+(B0+1)+":\n"+K0.showPosition()+"\nExpecting "+M0.join(", ")+", got '"+(this.terminals_[V0]||V0)+"'";else F0="Parse error on line "+(B0+1)+": Unexpected "+(V0==a?"end of input":"'"+(this.terminals_[V0]||V0)+"'");this.parseError(F0,{text:K0.match,token:this.terminals_[V0]||V0,line:K0.yylineno,loc:v0,expected:M0})}if(S0[0]instanceof Array&&S0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b0+", token: "+V0);switch(S0[0]){case 1:if(u.push(V0),e.push(K0.yytext),J0.push(K0.yylloc),u.push(S0[1]),V0=null,!l0){if(X0=K0.yyleng,t=K0.yytext,B0=K0.yylineno,v0=K0.yylloc,d>0)d--}else V0=l0,l0=null;break;case 2:if(n=this.productions_[S0[1]][1],q0.$=e[e.length-n],q0._$={first_line:J0[J0.length-(n||1)].first_line,last_line:J0[J0.length-1].last_line,first_column:J0[J0.length-(n||1)].first_column,last_column:J0[J0.length-1].last_column},Y0)q0._$.range=[J0[J0.length-(n||1)].range[0],J0[J0.length-1].range[1]];if(l=this.performAction.apply(q0,[t,X0,B0,A0.yy,S0[1],e,J0].concat(Q0)),typeof l!=="undefined")return l;if(n)u=u.slice(0,-1*n*2),e=e.slice(0,-1*n),J0=J0.slice(0,-1*n);u.push(this.productions_[S0[1]][0]),e.push(q0.$),J0.push(q0._$),U0=z0[u[u.length-2]][u[u.length-1]],u.push(U0);break;case 3:return!0}}return!0},"parse")},v=function(){var y={EOF:1,parseError:R(function k(g,u){if(this.yy.parser)this.yy.parser.parseError(g,u);else throw new Error(g)},"parseError"),setInput:R(function(k,g){if(this.yy=g||this.yy||{},this._input=k,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var k=this._input[0];this.yytext+=k,this.yyleng++,this.offset++,this.match+=k,this.matched+=k;var g=k.match(/(?:\r\n?|\n).*/g);if(g)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),k},"input"),unput:R(function(k){var g=k.length,u=k.split(/(?:\r\n?|\n)/g);this._input=k+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var i=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1)this.yylineno-=u.length-1;var e=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===i.length?this.yylloc.first_column:0)+i[i.length-u.length].length-u[0].length:this.yylloc.first_column-g},this.options.ranges)this.yylloc.range=[e[0],e[0]+this.yyleng-g];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(k){this.unput(this.match.slice(k))},"less"),pastInput:R(function(){var k=this.matched.substr(0,this.matched.length-this.match.length);return(k.length>20?"...":"")+k.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var k=this.match;if(k.length<20)k+=this._input.substr(0,20-k.length);return(k.substr(0,20)+(k.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var k=this.pastInput(),g=new Array(k.length+1).join("-");return k+this.upcomingInput()+"\n"+g+"^"},"showPosition"),test_match:R(function(k,g){var u,i,e;if(this.options.backtrack_lexer){if(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)e.yylloc.range=this.yylloc.range.slice(0)}if(i=k[0].match(/(?:\r\n?|\n).*/g),i)this.yylineno+=i.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+k[0].length},this.yytext+=k[0],this.match+=k[0],this.matches=k,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(k[0].length),this.matched+=k[0],u=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(u)return u;else if(this._backtrack){for(var J0 in e)this[J0]=e[J0];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var k,g,u,i;if(!this._more)this.yytext="",this.match="";var e=this._currentRules();for(var J0=0;J0<e.length;J0++)if(u=this._input.match(this.rules[e[J0]]),u&&(!g||u[0].length>g[0].length)){if(g=u,i=J0,this.options.backtrack_lexer)if(k=this.test_match(u,e[J0]),k!==!1)return k;else if(this._backtrack){g=!1;continue}else return!1;else if(!this.options.flex)break}if(g){if(k=this.test_match(g,e[i]),k!==!1)return k;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function k(){var g=this.next();if(g)return g;else return this.lex()},"lex"),begin:R(function k(g){this.conditionStack.push(g)},"begin"),popState:R(function k(){var g=this.conditionStack.length-1;if(g>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function k(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function k(g){if(g=this.conditionStack.length-1-Math.abs(g||0),g>=0)return this.conditionStack[g];else return"INITIAL"},"topState"),pushState:R(function k(g){this.begin(g)},"pushState"),stateStackSize:R(function k(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function k(g,u,i,e){var J0=e;switch(i){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;break;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;break;case 16:return this.popState(),"acc_title_value";break;case 17:return this.begin("acc_descr"),35;break;case 18:return this.popState(),"acc_descr_value";break;case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;break;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 24:return this.popState(),this.pushState("CLASSDEFID"),39;break;case 25:return this.popState(),40;break;case 26:return this.pushState("CLASS"),45;break;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;break;case 28:return this.popState(),47;break;case 29:return this.pushState("STYLE"),42;break;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;break;case 31:return this.popState(),44;break;case 32:return this.pushState("SCALE"),17;break;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),u.yytext=u.yytext.slice(0,-8).trim(),25;break;case 37:return this.popState(),u.yytext=u.yytext.slice(0,-8).trim(),26;break;case 38:return this.popState(),u.yytext=u.yytext.slice(0,-10).trim(),27;break;case 39:return this.popState(),u.yytext=u.yytext.slice(0,-8).trim(),25;break;case 40:return this.popState(),u.yytext=u.yytext.slice(0,-8).trim(),26;break;case 41:return this.popState(),u.yytext=u.yytext.slice(0,-10).trim(),27;break;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";break;case 48:return this.popState(),"ID";break;case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;break;case 54:break;case 55:return this.popState(),21;break;case 56:break;case 57:return this.begin("NOTE"),29;break;case 58:return this.popState(),this.pushState("NOTE_ID"),56;break;case 59:return this.popState(),this.pushState("NOTE_ID"),57;break;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";break;case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";break;case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;break;case 66:return this.popState(),u.yytext=u.yytext.substr(2).trim(),31;break;case 67:return this.popState(),u.yytext=u.yytext.slice(0,-8).trim(),31;break;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return u.yytext=u.yytext.trim(),14;break;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return y}();h.lexer=v;function b(){this.yy={}}return R(b,"Parser"),b.prototype=h,h.Parser=b,new b}();rk.parser=rk;H3=rk,zb0=`${hF}-${qb0}`,Wb0=`${J60} ${Hb0}`,Fb0=`${hF}-${Gb0}`,Bb0=`${hF}-${Mb0}`,Ob0=`${hF}-${Rb0}`,Lb0=`${ok}${K60}`,c70=`${ok}${Q60}`,X60=R((Z,J=r70)=>{if(!Z.doc)return J;let Q=J;for(let K of Z.doc)if(K.stmt==="dir")Q=K.value;return Q},"getDir"),Ib0=R(function(Z,J){return J.db.extract(J.db.getRootDocV2()),J.db.getClasses()},"getClasses"),Db0=R(async function(Z,J,Q,K){p.info("REF0:"),p.info("Drawing state diagram (v2)",J);const{securityLevel:X,state:U,layout:Y}=W0();K.db.extract(K.db.getRootDocV2());const q=K.db.getData(),z=UA(J,X);q.type=K.type,q.layoutAlgorithm=Y,q.nodeSpacing=U?.nodeSpacing||50,q.rankSpacing=U?.rankSpacing||50,q.markers=["barb"],q.diagramId=J,await uO(q,z);const G=8;B9.insertTitle(z,"statediagramTitleText",U?.titleTopMargin??25,K.db.getDiagramTitle()),YA(z,G,hF,U?.useMaxWidth??!0)},"draw"),U60={getClasses:Ib0,draw:Db0,getDir:X60},J3=new Map;R(Q3,"stateDomId");Nb0=R((Z,J,Q,K,X,U,Y,q)=>{p.trace("items",J),J.forEach((z)=>{switch(z.stmt){case X3:_F(Z,z,Q,K,X,U,Y,q);break;case xF:_F(Z,z,Q,K,X,U,Y,q);break;case ak:{_F(Z,z.state1,Q,K,X,U,Y,q),_F(Z,z.state2,Q,K,X,U,Y,q);const G={id:"edge"+iX,start:z.state1.id,end:z.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:a70,labelStyle:"",label:g0.sanitizeText(z.description,W0()),arrowheadStyle:o70,labelpos:t70,labelType:e70,thickness:Z60,classes:J60,look:Y};X.push(G),iX++}break}})},"setupDoc"),l70=R((Z,J=r70)=>{let Q=J;if(Z.doc){for(let K of Z.doc)if(K.stmt==="dir")Q=K.value}return Q},"getDir");R($F,"insertOrUpdateNode");R(Y60,"getClassesFromDbInfo");R(q60,"getStylesFromDbInfo");_F=R((Z,J,Q,K,X,U,Y,q)=>{const z=J.id,G=Q.get(z),H=Y60(G),W=q60(G);if(p.info("dataFetcher parsedItem",J,G,W),z!=="root"){let F=ik;if(J.start===!0)F=Kb0;else if(J.start===!1)F=Xb0;if(J.type!==xF)F=J.type;if(!J3.get(z))J3.set(z,{id:z,shape:F,description:g0.sanitizeText(z,W0()),cssClasses:`${H} ${zb0}`,cssStyles:W});const M=J3.get(z);if(J.description){if(Array.isArray(M.description))M.shape=sk,M.description.push(J.description);else if(M.description?.length>0)if(M.shape=sk,M.description===z)M.description=[J.description];else M.description=[M.description,J.description];else M.shape=ik,M.description=J.description;M.description=g0.sanitizeTextOrArray(M.description,W0())}if(M.description?.length===1&&M.shape===sk)if(M.type==="group")M.shape=p70;else M.shape=ik;if(!M.type&&J.doc)p.info("Setting cluster for XCX",z,l70(J)),M.type="group",M.isGroup=!0,M.dir=l70(J),M.shape=J.type===n70?g70:p70,M.cssClasses=`${M.cssClasses} ${Bb0} ${U?Ob0:""}`;const B={labelStyle:"",shape:M.shape,label:M.description,cssClasses:M.cssClasses,cssCompiledStyles:[],cssStyles:M.cssStyles,id:z,dir:M.dir,domId:Q3(z,iX),type:M.type,isGroup:M.type==="group",padding:8,rx:10,ry:10,look:Y};if(B.shape===g70)B.label="";if(Z&&Z.id!=="root")p.trace("Setting node ",z," to be child of its parent ",Z.id),B.parentId=Z.id;if(B.centerLabel=!0,J.note){const O={labelStyle:"",shape:Ub0,label:J.note.text,cssClasses:Fb0,cssStyles:[],cssCompilesStyles:[],id:z+Lb0+"-"+iX,domId:Q3(z,iX,K60),type:M.type,isGroup:M.type==="group",padding:W0().flowchart.padding,look:Y,position:J.note.position},A=z+c70,L={labelStyle:"",shape:Yb0,label:J.note.text,cssClasses:M.cssClasses,cssStyles:[],id:z+c70,domId:Q3(z,iX,Q60),type:"group",isGroup:!0,padding:16,look:Y,position:J.note.position};iX++,L.id=A,O.parentId=A,$F(K,L,q),$F(K,O,q),$F(K,B,q);let I=z,D=O.id;if(J.note.position==="left of")I=O.id,D=z;X.push({id:I+"-"+D,start:I,end:D,arrowhead:"none",arrowTypeEnd:"",style:a70,labelStyle:"",classes:Wb0,arrowheadStyle:o70,labelpos:t70,labelType:e70,thickness:Z60,look:Y})}else $F(K,B,q)}if(J.doc)p.trace("Adding nodes children "),Nb0(J,J.doc,Q,K,X,!U,Y,q)},"dataFetcher"),Eb0=R(()=>{J3.clear(),iX=0},"reset"),G60=tk;R(ek,"newClassesList");U3=[],Z$=[],W60=e_0,Y3=[],$z=ek(),F60=R(()=>{return{relations:[],states:new Map,documents:{}}},"newDoc"),q3={root:F60()},L6=q3.root,Cb0={LINE:0,DOTTED_LINE:1},Pb0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Z3=R((Z)=>JSON.parse(JSON.stringify(Z)),"clone"),Vb0=R((Z)=>{p.info("Setting root doc",Z),Y3=Z},"setRootDoc"),Sb0=R(()=>Y3,"getRootDoc"),K3=R((Z,J,Q)=>{if(J.stmt===ak)K3(Z,J.state1,!0),K3(Z,J.state2,!1);else{if(J.stmt===X3)if(J.id==="[*]")J.id=Q?Z.id+"_start":Z.id+"_end",J.start=Q;else J.id=J.id.trim();if(J.doc){const K=[];let X=[],U;for(U=0;U<J.doc.length;U++)if(J.doc[U].type===n70){const Y=Z3(J.doc[U]);Y.doc=Z3(X),K.push(Y),X=[]}else X.push(J.doc[U]);if(K.length>0&&X.length>0){const Y={stmt:X3,id:fC(),type:"divider",doc:Z3(X)};K.push(Z3(Y)),J.doc=K}J.doc.forEach((Y)=>K3(J,Y,!0))}}},"docTranslator"),J$=R(()=>{return K3({id:"root"},{id:"root",doc:Y3},!0),{id:"root",doc:Y3}},"getRootDocV2"),Tb0=R((Z)=>{let J;if(Z.doc)J=Z.doc;else J=Z;p.info(J),M60(!0),p.info("Extract initial document:",J),J.forEach((U)=>{switch(p.warn("Statement",U.stmt),U.stmt){case X3:sX(U.id.trim(),U.type,U.doc,U.description,U.note,U.classes,U.styles,U.textStyles);break;case ak:L60(U.state1,U.state2,U.description);break;case Zb0:I60(U.id.trim(),U.classes);break;case Jb0:{const Y=U.id.trim().split(","),q=U.styleClass.split(",");Y.forEach((z)=>{let G=yY(z);if(G===void 0){const H=z.trim();sX(H),G=yY(H)}G.styles=q.map((H)=>H.replace(/;/g,"")?.trim())})}break;case Qb0:Q$(U.id.trim(),U.styleClass);break}});const Q=B60(),X=W0().look;Eb0(),_F(void 0,J$(),Q,U3,Z$,!0,X,$z),U3.forEach((U)=>{if(Array.isArray(U.label)){if(U.description=U.label.slice(1),U.isGroup&&U.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+U.id+"]");U.label=U.label[0]}})},"extract"),sX=R(function(Z,J=xF,Q=null,K=null,X=null,U=null,Y=null,q=null){const z=Z?.trim();if(!L6.states.has(z))p.info("Adding state ",z,K),L6.states.set(z,{id:z,descriptions:[],type:J,doc:Q,note:X,classes:[],styles:[],textStyles:[]});else{if(!L6.states.get(z).doc)L6.states.get(z).doc=Q;if(!L6.states.get(z).type)L6.states.get(z).type=J}if(K){if(p.info("Setting state description",z,K),typeof K==="string")nk(z,K.trim());if(typeof K==="object")K.forEach((G)=>nk(z,G.trim()))}if(X){const G=L6.states.get(z);G.note=X,G.note.text=g0.sanitizeText(G.note.text,W0())}if(U)p.info("Setting state classes",z,U),(typeof U==="string"?[U]:U).forEach((H)=>Q$(z,H.trim()));if(Y)p.info("Setting state styles",z,Y),(typeof Y==="string"?[Y]:Y).forEach((H)=>bb0(z,H.trim()));if(q)p.info("Setting state styles",z,Y),(typeof q==="string"?[q]:q).forEach((H)=>xb0(z,H.trim()))},"addState"),M60=R(function(Z){if(U3=[],Z$=[],q3={root:F60()},L6=q3.root,bF=0,$z=ek(),!Z)O8()},"clear"),yY=R(function(Z){return L6.states.get(Z)},"getState"),B60=R(function(){return L6.states},"getStates"),fb0=R(function(){p.info("Documents = ",q3)},"logDocuments"),vb0=R(function(){return L6.relations},"getRelations");R(z3,"startIdIfNeeded");R(G3,"startTypeIfNeeded");R(R60,"endIdIfNeeded");R(O60,"endTypeIfNeeded");R(A60,"addRelationObjs");L60=R(function(Z,J,Q){if(typeof Z==="object")A60(Z,J,Q);else{const K=z3(Z.trim()),X=G3(Z),U=R60(J.trim()),Y=O60(J);sX(K,X),sX(U,Y),L6.relations.push({id1:K,id2:U,title:g0.sanitizeText(Q,W0())})}},"addRelation"),nk=R(function(Z,J){const Q=L6.states.get(Z),K=J.startsWith(":")?J.replace(":","").trim():J;Q.descriptions.push(g0.sanitizeText(K,W0()))},"addDescription"),kb0=R(function(Z){if(Z.substring(0,1)===":")return Z.substr(2).trim();else return Z.trim()},"cleanupLabel"),$b0=R(()=>{return s70++,"divider-id-"+s70},"getDividerId"),I60=R(function(Z,J=""){if(!$z.has(Z))$z.set(Z,{id:Z,styles:[],textStyles:[]});const Q=$z.get(Z);if(J!==void 0&&J!==null)J.split(jb0).forEach((K)=>{const X=K.replace(/([^;]*);/,"$1").trim();if(RegExp(d70).exec(K)){const Y=X.replace(i70,wb0).replace(d70,i70);Q.textStyles.push(Y)}Q.styles.push(X)})},"addStyleClass"),_b0=R(function(){return $z},"getClasses"),Q$=R(function(Z,J){Z.split(",").forEach(function(Q){let K=yY(Q);if(K===void 0){const X=Q.trim();sX(X),K=yY(X)}K.classes.push(J)})},"setCssClass"),bb0=R(function(Z,J){const Q=yY(Z);if(Q!==void 0)Q.styles.push(J)},"setStyle"),xb0=R(function(Z,J){const Q=yY(Z);if(Q!==void 0)Q.textStyles.push(J)},"setTextStyle"),hb0=R(()=>W60,"getDirection"),yb0=R((Z)=>{W60=Z},"setDirection"),ub0=R((Z)=>Z&&Z[0]===":"?Z.substr(1).trim():Z.trim(),"trimColon"),mb0=R(()=>{const Z=W0();return{nodes:U3,edges:Z$,other:{},config:Z,direction:X60(J$())}},"getData"),W4={getConfig:R(()=>W0().state,"getConfig"),getData:mb0,addState:sX,clear:M60,getState:yY,getStates:B60,getRelations:vb0,getClasses:_b0,getDirection:hb0,addRelation:L60,getDividerId:$b0,setDirection:yb0,cleanupLabel:kb0,lineType:Cb0,relationType:Pb0,logDocuments:fb0,getRootDoc:Sb0,setRootDoc:Vb0,getRootDocV2:J$,extract:Tb0,trimColon:ub0,getAccTitle:f8,setAccTitle:E8,getAccDescription:k8,setAccDescription:v8,addStyleClass:I60,setCssClass:Q$,addDescription:nk,setDiagramTitle:o8,getDiagramTitle:m8},gb0=R((Z)=>`
defs #statediagram-barbEnd {
    fill: ${Z.transitionColor};
    stroke: ${Z.transitionColor};
  }
g.stateGroup text {
  fill: ${Z.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${Z.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${Z.stateLabelColor};
}

g.stateGroup rect {
  fill: ${Z.mainBkg};
  stroke: ${Z.nodeBorder};
}

g.stateGroup line {
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${Z.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${Z.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${Z.noteBorderColor};
  fill: ${Z.noteBkgColor};

  text {
    fill: ${Z.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${Z.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${Z.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${Z.edgeLabelBackground};
  p {
    background-color: ${Z.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${Z.edgeLabelBackground};
    fill: ${Z.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${Z.transitionLabelColor||Z.tertiaryTextColor};
}

.stateLabel text {
  fill: ${Z.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node .fork-join {
  fill: ${Z.specialStateColor};
  stroke: ${Z.specialStateColor};
}

.node circle.state-end {
  fill: ${Z.innerEndBackground};
  stroke: ${Z.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${Z.compositeBackground||Z.background};
  // stroke: ${Z.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${Z.stateBkg||Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${Z.mainBkg};
  stroke: ${Z.stateBorder||Z.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${Z.lineColor};
}

.statediagram-cluster rect {
  fill: ${Z.compositeTitleBackground};
  stroke: ${Z.stateBorder||Z.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${Z.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${Z.stateBorder||Z.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${Z.compositeBackground||Z.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${Z.altBackground?Z.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${Z.noteBkgColor};
  stroke: ${Z.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${Z.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${Z.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${Z.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${Z.lineColor};
  stroke: ${Z.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${Z.textColor};
}
`,"getStyles"),W3=gb0});var j60={};q8(j60,{diagram:()=>qx0});var U$,pb0,cb0,E60,lb0,db0,ib0,sb0,rb0,nb0,ab0,ob0,tb0,eb0,Zx0,D60,N60=0,Jx0,s6,X$,Qx0,Kx0,Xx0,Ux0,w60,Yx0,qx0;var C60=_(()=>{K$();LW();UY();T1();cU();f4();x6();FZ();X8();i9();ZY();aJ();i9();U$={},pb0=R((Z,J)=>{U$[Z]=J},"set"),cb0=R((Z)=>U$[Z],"get"),E60=R(()=>Object.keys(U$),"keys"),lb0=R(()=>E60().length,"size"),db0={get:cb0,set:pb0,keys:E60,size:lb0},ib0=R((Z)=>Z.append("circle").attr("class","start-state").attr("r",W0().state.sizeUnit).attr("cx",W0().state.padding+W0().state.sizeUnit).attr("cy",W0().state.padding+W0().state.sizeUnit),"drawStartState"),sb0=R((Z)=>Z.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",W0().state.textHeight).attr("class","divider").attr("x2",W0().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),rb0=R((Z,J)=>{const Q=Z.append("text").attr("x",2*W0().state.padding).attr("y",W0().state.textHeight+2*W0().state.padding).attr("font-size",W0().state.fontSize).attr("class","state-title").text(J.id),K=Q.node().getBBox();return Z.insert("rect",":first-child").attr("x",W0().state.padding).attr("y",W0().state.padding).attr("width",K.width+2*W0().state.padding).attr("height",K.height+2*W0().state.padding).attr("rx",W0().state.radius),Q},"drawSimpleState"),nb0=R((Z,J)=>{const Q=R(function(F,M,B){const O=F.append("tspan").attr("x",2*W0().state.padding).text(M);if(!B)O.attr("dy",W0().state.textHeight)},"addTspan"),X=Z.append("text").attr("x",2*W0().state.padding).attr("y",W0().state.textHeight+1.3*W0().state.padding).attr("font-size",W0().state.fontSize).attr("class","state-title").text(J.descriptions[0]).node().getBBox(),U=X.height,Y=Z.append("text").attr("x",W0().state.padding).attr("y",U+W0().state.padding*0.4+W0().state.dividerMargin+W0().state.textHeight).attr("class","state-description");let q=!0,z=!0;J.descriptions.forEach(function(F){if(!q)Q(Y,F,z),z=!1;q=!1});const G=Z.append("line").attr("x1",W0().state.padding).attr("y1",W0().state.padding+U+W0().state.dividerMargin/2).attr("y2",W0().state.padding+U+W0().state.dividerMargin/2).attr("class","descr-divider"),H=Y.node().getBBox(),W=Math.max(H.width,X.width);return G.attr("x2",W+3*W0().state.padding),Z.insert("rect",":first-child").attr("x",W0().state.padding).attr("y",W0().state.padding).attr("width",W+2*W0().state.padding).attr("height",H.height+U+2*W0().state.padding).attr("rx",W0().state.radius),Z},"drawDescrState"),ab0=R((Z,J,Q)=>{const K=W0().state.padding,X=2*W0().state.padding,U=Z.node().getBBox(),Y=U.width,q=U.x,z=Z.append("text").attr("x",0).attr("y",W0().state.titleShift).attr("font-size",W0().state.fontSize).attr("class","state-title").text(J.id),H=z.node().getBBox().width+X;let W=Math.max(H,Y);if(W===Y)W=W+X;let F;const M=Z.node().getBBox();if(J.doc);if(F=q-K,H>Y)F=(Y-W)/2+K;if(Math.abs(q-M.x)<K&&H>Y)F=q-(H-Y)/2;const B=1-W0().state.textHeight;if(Z.insert("rect",":first-child").attr("x",F).attr("y",B).attr("class",Q?"alt-composit":"composit").attr("width",W).attr("height",M.height+W0().state.textHeight+W0().state.titleShift+1).attr("rx","0"),z.attr("x",F+K),H<=Y)z.attr("x",q+(W-X)/2-H/2+K);return Z.insert("rect",":first-child").attr("x",F).attr("y",W0().state.titleShift-W0().state.textHeight-W0().state.padding).attr("width",W).attr("height",W0().state.textHeight*3).attr("rx",W0().state.radius),Z.insert("rect",":first-child").attr("x",F).attr("y",W0().state.titleShift-W0().state.textHeight-W0().state.padding).attr("width",W).attr("height",M.height+3+2*W0().state.textHeight).attr("rx",W0().state.radius),Z},"addTitleAndBox"),ob0=R((Z)=>{return Z.append("circle").attr("class","end-state-outer").attr("r",W0().state.sizeUnit+W0().state.miniPadding).attr("cx",W0().state.padding+W0().state.sizeUnit+W0().state.miniPadding).attr("cy",W0().state.padding+W0().state.sizeUnit+W0().state.miniPadding),Z.append("circle").attr("class","end-state-inner").attr("r",W0().state.sizeUnit).attr("cx",W0().state.padding+W0().state.sizeUnit+2).attr("cy",W0().state.padding+W0().state.sizeUnit+2)},"drawEndState"),tb0=R((Z,J)=>{let Q=W0().state.forkWidth,K=W0().state.forkHeight;if(J.parentId){let X=Q;Q=K,K=X}return Z.append("rect").style("stroke","black").style("fill","black").attr("width",Q).attr("height",K).attr("x",W0().state.padding).attr("y",W0().state.padding)},"drawForkJoinState"),eb0=R((Z,J,Q,K)=>{let X=0;const U=K.append("text");U.style("text-anchor","start"),U.attr("class","noteText");let Y=Z.replace(/\r\n/g,"<br/>");Y=Y.replace(/\n/g,"<br/>");const q=Y.split(g0.lineBreakRegex);let z=1.25*W0().state.noteMargin;for(let G of q){const H=G.trim();if(H.length>0){const W=U.append("tspan");if(W.text(H),z===0){const F=W.node().getBBox();z+=F.height}X+=z,W.attr("x",J+W0().state.noteMargin),W.attr("y",Q+X+1.25*W0().state.noteMargin)}}return{textWidth:U.node().getBBox().width,textHeight:X}},"_drawLongText"),Zx0=R((Z,J)=>{J.attr("class","state-note");const Q=J.append("rect").attr("x",0).attr("y",W0().state.padding),K=J.append("g"),{textWidth:X,textHeight:U}=eb0(Z,0,0,K);return Q.attr("height",U+2*W0().state.noteMargin),Q.attr("width",X+W0().state.noteMargin*2),Q},"drawNote"),D60=R(function(Z,J){const Q=J.id,K={id:Q,label:J.id,width:0,height:0},X=Z.append("g").attr("id",Q).attr("class","stateGroup");if(J.type==="start")ib0(X);if(J.type==="end")ob0(X);if(J.type==="fork"||J.type==="join")tb0(X,J);if(J.type==="note")Zx0(J.note.text,X);if(J.type==="divider")sb0(X);if(J.type==="default"&&J.descriptions.length===0)rb0(X,J);if(J.type==="default"&&J.descriptions.length>0)nb0(X,J);const U=X.node().getBBox();return K.width=U.width+2*W0().state.padding,K.height=U.height+2*W0().state.padding,db0.set(Q,K),K},"drawState"),Jx0=R(function(Z,J,Q){const K=R(function(z){switch(z){case W4.relationType.AGGREGATION:return"aggregation";case W4.relationType.EXTENSION:return"extension";case W4.relationType.COMPOSITION:return"composition";case W4.relationType.DEPENDENCY:return"dependency"}},"getRelationType");J.points=J.points.filter((z)=>!Number.isNaN(z.y));const X=J.points,U=pJ().x(function(z){return z.x}).y(function(z){return z.y}).curve(o7),Y=Z.append("path").attr("d",U(X)).attr("id","edge"+N60).attr("class","transition");let q="";if(W0().state.arrowMarkerAbsolute)q=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,q=q.replace(/\(/g,"\\("),q=q.replace(/\)/g,"\\)");if(Y.attr("marker-end","url("+q+"#"+K(W4.relationType.DEPENDENCY)+"End)"),Q.title!==void 0){const z=Z.append("g").attr("class","stateLabel"),{x:G,y:H}=B9.calcLabelPosition(J.points),W=g0.getRows(Q.title);let F=0;const M=[];let B=0,O=0;for(let I=0;I<=W.length;I++){const D=z.append("text").attr("text-anchor","middle").text(W[I]).attr("x",G).attr("y",H+F),w=D.node().getBBox();if(B=Math.max(B,w.width),O=Math.min(O,w.x),p.info(w.x,G,H+F),F===0)F=D.node().getBBox().height,p.info("Title height",F,H);M.push(D)}let A=F*W.length;if(W.length>1){const I=(W.length-1)*F*0.5;M.forEach((D,w)=>D.attr("y",H+w*F-I)),A=F*W.length}const L=z.node().getBBox();z.insert("rect",":first-child").attr("class","box").attr("x",G-B/2-W0().state.padding/2).attr("y",H-A/2-W0().state.padding/2-3.5).attr("width",B+W0().state.padding).attr("height",A+W0().state.padding),p.info(L)}N60++},"drawEdge"),X$={},Qx0=R(function(){},"setConf"),Kx0=R(function(Z){Z.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),Xx0=R(function(Z,J,Q,K){s6=W0().state;const X=W0().securityLevel;let U;if(X==="sandbox")U=$0("#i"+J);const Y=X==="sandbox"?$0(U.nodes()[0].contentDocument.body):$0("body"),q=X==="sandbox"?U.nodes()[0].contentDocument:document;p.debug("Rendering diagram "+Z);const z=Y.select(`[id='${J}']`);Kx0(z);const G=K.db.getRootDoc();w60(G,z,void 0,!1,Y,q,K);const H=s6.padding,W=z.node().getBBox(),F=W.width+H*2,M=W.height+H*2,B=F*1.75;R8(z,M,B,s6.useMaxWidth),z.attr("viewBox",`${W.x-s6.padding}  ${W.y-s6.padding} `+F+" "+M)},"draw"),Ux0=R((Z)=>{return Z?Z.length*s6.fontSizeFactor:1},"getLabelWidth"),w60=R((Z,J,Q,K,X,U,Y)=>{const q=new J8({compound:!0,multigraph:!0});let z,G=!0;for(z=0;z<Z.length;z++)if(Z[z].stmt==="relation"){G=!1;break}if(Q)q.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:G?1:s6.edgeLengthFactor,nodeSep:G?1:50,isMultiGraph:!0});else q.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:G?1:s6.edgeLengthFactor,nodeSep:G?1:50,ranker:"tight-tree",isMultiGraph:!0});q.setDefaultEdgeLabel(function(){return{}}),Y.db.extract(Z);const H=Y.db.getStates(),W=Y.db.getRelations(),F=Object.keys(H);let M=!0;for(let I of F){const D=H[I];if(Q)D.parentId=Q;let w;if(D.doc){let N=J.append("g").attr("id",D.id).attr("class","stateGroup");if(w=w60(D.doc,N,D.id,!K,X,U,Y),M){N=ab0(N,D,K);let E=N.node().getBBox();w.width=E.width,w.height=E.height+s6.padding/2,X$[D.id]={y:s6.compositTitleSize}}else{let E=N.node().getBBox();w.width=E.width,w.height=E.height}}else w=D60(J,D,q);if(D.note){const N={descriptions:[],id:D.id+"-note",note:D.note,type:"note"},E=D60(J,N,q);if(D.note.position==="left of")q.setNode(w.id+"-note",E),q.setNode(w.id,w);else q.setNode(w.id,w),q.setNode(w.id+"-note",E);q.setParent(w.id,w.id+"-group"),q.setParent(w.id+"-note",w.id+"-group")}else q.setNode(w.id,w)}p.debug("Count=",q.nodeCount(),q);let B=0;W.forEach(function(I){B++,p.debug("Setting edge",I),q.setEdge(I.id1,I.id2,{relation:I,width:Ux0(I.title),height:s6.labelHeight*g0.getRows(I.title).length,labelpos:"c"},"id"+B)}),g6(q),p.debug("Graph after layout",q.nodes());const O=J.node();q.nodes().forEach(function(I){if(I!==void 0&&q.node(I)!==void 0)p.warn("Node "+I+": "+JSON.stringify(q.node(I))),X.select("#"+O.id+" #"+I).attr("transform","translate("+(q.node(I).x-q.node(I).width/2)+","+(q.node(I).y+(X$[I]?X$[I].y:0)-q.node(I).height/2)+" )"),X.select("#"+O.id+" #"+I).attr("data-x-shift",q.node(I).x-q.node(I).width/2),U.querySelectorAll("#"+O.id+" #"+I+" .divider").forEach((w)=>{const N=w.parentElement;let E=0,j=0;if(N){if(N.parentElement)E=N.parentElement.getBBox().width;if(j=parseInt(N.getAttribute("data-x-shift"),10),Number.isNaN(j))j=0}w.setAttribute("x1",0-j+8),w.setAttribute("x2",E-j-8)});else p.debug("No Node "+I+": "+JSON.stringify(q.node(I)))});let A=O.getBBox();q.edges().forEach(function(I){if(I!==void 0&&q.edge(I)!==void 0)p.debug("Edge "+I.v+" -> "+I.w+": "+JSON.stringify(q.edge(I))),Jx0(J,q.edge(I),q.edge(I).relation)}),A=O.getBBox();const L={id:Q?Q:"root",label:Q?Q:"root",width:0,height:0};return L.width=A.width+2*s6.padding,L.height=A.height+2*s6.padding,p.debug("Doc rendered",L,q),L},"renderDoc"),Yx0={setConf:Qx0,draw:Xx0},qx0={parser:H3,db:W4,renderer:Yx0,styles:W3,init:R((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,W4.clear()},"init")}});var P60={};q8(P60,{diagram:()=>zx0});var zx0;var V60=_(()=>{K$();LW();UY();T1();cU();f4();x6();FZ();X8();zx0={parser:H3,db:W4,renderer:U60,styles:W3,init:R((Z)=>{if(!Z.state)Z.state={};Z.state.arrowMarkerAbsolute=Z.arrowMarkerAbsolute,W4.clear()},"init")}});var h60={};q8(h60,{diagram:()=>Tx0});function x60(Z){const J=W0().journey;let Q=60;Object.keys(V5).forEach((K)=>{const X=V5[K].color,U={cx:20,cy:Q,r:7,fill:X,stroke:"#000",pos:V5[K].position};mF.drawCircle(Z,U);const Y={x:40,y:Q+7,fill:"#666",text:K,textMargin:J.boxTextMargin|5};mF.drawText(Z,Y),Q+=20})}var q$,Gx0,_z="",z$,yF,uF,Hx0,Wx0,Fx0,Mx0,Bx0,Rx0,Ox0,S60,Ax0,T60,Lx0,Ix0,G$,Dx0,$60,_60,Nx0,Ex0,f60=-1,wx0,jx0,b60,Cx0,mF,Px0,V5,F3,uY,Vx0,TQ,Y$,v60,Sx0,k60,Tx0;var y60=_(()=>{tO();X8();i9();i9();q$=function(){var Z=R(function(W,F,M,B){for(M=M||{},B=W.length;B--;M[W[B]]=F);return M},"o"),J=[6,8,10,11,12,14,16,17,18],Q=[1,9],K=[1,10],X=[1,11],U=[1,12],Y=[1,13],q=[1,14],z={trace:R(function W(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:R(function W(F,M,B,O,A,L,I){var D=L.length-1;switch(A){case 1:return L[D-1];case 2:this.$=[];break;case 3:L[D-1].push(L[D]),this.$=L[D-1];break;case 4:case 5:this.$=L[D];break;case 6:case 7:this.$=[];break;case 8:O.setDiagramTitle(L[D].substr(6)),this.$=L[D].substr(6);break;case 9:this.$=L[D].trim(),O.setAccTitle(this.$);break;case 10:case 11:this.$=L[D].trim(),O.setAccDescription(this.$);break;case 12:O.addSection(L[D].substr(8)),this.$=L[D].substr(8);break;case 13:O.addTask(L[D-1],L[D]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:X,16:U,17:Y,18:q},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:15,11:Q,12:K,14:X,16:U,17:Y,18:q},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,16]},{15:[1,17]},Z(J,[2,11]),Z(J,[2,12]),{19:[1,18]},Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10]),Z(J,[2,13])],defaultActions:{},parseError:R(function W(F,M){if(M.recoverable)this.trace(F);else{var B=new Error(F);throw B.hash=M,B}},"parseError"),parse:R(function W(F){var M=this,B=[0],O=[],A=[null],L=[],I=this.table,D="",w=0,N=0,E=0,j=2,P=1,C=L.slice.call(arguments,1),T=Object.create(this.lexer),V={yy:{}};for(var S in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,S))V.yy[S]=this.yy[S];if(T.setInput(F,V.yy),V.yy.lexer=T,V.yy.parser=this,typeof T.yylloc=="undefined")T.yylloc={};var $=T.yylloc;L.push($);var f=T.options&&T.options.ranges;if(typeof V.yy.parseError==="function")this.parseError=V.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function h(d){B.length=B.length-2*d,A.length=A.length-d,L.length=L.length-d}R(h,"popStack");function v(){var d=O.pop()||T.lex()||P;if(typeof d!=="number"){if(d instanceof Array)O=d,d=O.pop();d=M.symbols_[d]||d}return d}R(v,"lex");var b,y,k,g,u,i,e={},J0,z0,t,B0;while(!0){if(k=B[B.length-1],this.defaultActions[k])g=this.defaultActions[k];else{if(b===null||typeof b=="undefined")b=v();g=I[k]&&I[k][b]}if(typeof g==="undefined"||!g.length||!g[0]){var X0="";B0=[];for(J0 in I[k])if(this.terminals_[J0]&&J0>j)B0.push("'"+this.terminals_[J0]+"'");if(T.showPosition)X0="Parse error on line "+(w+1)+":\n"+T.showPosition()+"\nExpecting "+B0.join(", ")+", got '"+(this.terminals_[b]||b)+"'";else X0="Parse error on line "+(w+1)+": Unexpected "+(b==P?"end of input":"'"+(this.terminals_[b]||b)+"'");this.parseError(X0,{text:T.match,token:this.terminals_[b]||b,line:T.yylineno,loc:$,expected:B0})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+b);switch(g[0]){case 1:if(B.push(b),A.push(T.yytext),L.push(T.yylloc),B.push(g[1]),b=null,!y){if(N=T.yyleng,D=T.yytext,w=T.yylineno,$=T.yylloc,E>0)E--}else b=y,y=null;break;case 2:if(z0=this.productions_[g[1]][1],e.$=A[A.length-z0],e._$={first_line:L[L.length-(z0||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(z0||1)].first_column,last_column:L[L.length-1].last_column},f)e._$.range=[L[L.length-(z0||1)].range[0],L[L.length-1].range[1]];if(i=this.performAction.apply(e,[D,N,w,V.yy,g[1],A,L].concat(C)),typeof i!=="undefined")return i;if(z0)B=B.slice(0,-1*z0*2),A=A.slice(0,-1*z0),L=L.slice(0,-1*z0);B.push(this.productions_[g[1]][0]),A.push(e.$),L.push(e._$),t=I[B[B.length-2]][B[B.length-1]],B.push(t);break;case 3:return!0}}return!0},"parse")},G=function(){var W={EOF:1,parseError:R(function F(M,B){if(this.yy.parser)this.yy.parser.parseError(M,B);else throw new Error(M)},"parseError"),setInput:R(function(F,M){if(this.yy=M||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var M=F.match(/(?:\r\n?|\n).*/g);if(M)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),F},"input"),unput:R(function(F){var M=F.length,B=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-M),this.offset-=M;var O=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),B.length-1)this.yylineno-=B.length-1;var A=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:B?(B.length===O.length?this.yylloc.first_column:0)+O[O.length-B.length].length-B[0].length:this.yylloc.first_column-M},this.options.ranges)this.yylloc.range=[A[0],A[0]+this.yyleng-M];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(F){this.unput(this.match.slice(F))},"less"),pastInput:R(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var F=this.match;if(F.length<20)F+=this._input.substr(0,20-F.length);return(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var F=this.pastInput(),M=new Array(F.length+1).join("-");return F+this.upcomingInput()+"\n"+M+"^"},"showPosition"),test_match:R(function(F,M){var B,O,A;if(this.options.backtrack_lexer){if(A={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)A.yylloc.range=this.yylloc.range.slice(0)}if(O=F[0].match(/(?:\r\n?|\n).*/g),O)this.yylineno+=O.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],B=this.performAction.call(this,this.yy,this,M,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(B)return B;else if(this._backtrack){for(var L in A)this[L]=A[L];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var F,M,B,O;if(!this._more)this.yytext="",this.match="";var A=this._currentRules();for(var L=0;L<A.length;L++)if(B=this._input.match(this.rules[A[L]]),B&&(!M||B[0].length>M[0].length)){if(M=B,O=L,this.options.backtrack_lexer)if(F=this.test_match(B,A[L]),F!==!1)return F;else if(this._backtrack){M=!1;continue}else return!1;else if(!this.options.flex)break}if(M){if(F=this.test_match(M,A[O]),F!==!1)return F;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function F(){var M=this.next();if(M)return M;else return this.lex()},"lex"),begin:R(function F(M){this.conditionStack.push(M)},"begin"),popState:R(function F(){var M=this.conditionStack.length-1;if(M>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function F(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function F(M){if(M=this.conditionStack.length-1-Math.abs(M||0),M>=0)return this.conditionStack[M];else return"INITIAL"},"topState"),pushState:R(function F(M){this.begin(M)},"pushState"),stateStackSize:R(function F(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function F(M,B,O,A){var L=A;switch(O){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return W}();z.lexer=G;function H(){this.yy={}}return R(H,"Parser"),H.prototype=z,z.Parser=H,new H}();q$.parser=q$;Gx0=q$,z$=[],yF=[],uF=[],Hx0=R(function(){z$.length=0,yF.length=0,_z="",uF.length=0,O8()},"clear"),Wx0=R(function(Z){_z=Z,z$.push(Z)},"addSection"),Fx0=R(function(){return z$},"getSections"),Mx0=R(function(){let Z=S60();const J=100;let Q=0;while(!Z&&Q<J)Z=S60(),Q++;return yF.push(...uF),yF},"getTasks"),Bx0=R(function(){const Z=[];return yF.forEach((Q)=>{if(Q.people)Z.push(...Q.people)}),[...new Set(Z)].sort()},"updateActors"),Rx0=R(function(Z,J){const Q=J.substr(1).split(":");let K=0,X=[];if(Q.length===1)K=Number(Q[0]),X=[];else K=Number(Q[0]),X=Q[1].split(",");const U=X.map((q)=>q.trim()),Y={section:_z,type:_z,people:U,task:Z,score:K};uF.push(Y)},"addTask"),Ox0=R(function(Z){const J={section:_z,type:_z,description:Z,task:Z,classes:[]};yF.push(J)},"addTaskOrg"),S60=R(function(){const Z=R(function(Q){return uF[Q].processed},"compileTask");let J=!0;for(let[Q,K]of uF.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),Ax0=R(function(){return Bx0()},"getActors"),T60={getConfig:R(()=>W0().journey,"getConfig"),clear:Hx0,setDiagramTitle:o8,getDiagramTitle:m8,setAccTitle:E8,getAccTitle:f8,setAccDescription:v8,getAccDescription:k8,addSection:Wx0,getSections:Fx0,getTasks:Mx0,addTask:Rx0,addTaskOrg:Ox0,getActors:Ax0},Lx0=R((Z)=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${Z.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${Z.textColor}
  }

  .legend {
    fill: ${Z.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${Z.textColor}
  }

  .face {
    ${Z.faceColor?`fill: ${Z.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${Z.fillType0?`fill: ${Z.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${Z.fillType0?`fill: ${Z.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${Z.fillType0?`fill: ${Z.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${Z.fillType0?`fill: ${Z.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${Z.fillType0?`fill: ${Z.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${Z.fillType0?`fill: ${Z.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${Z.fillType0?`fill: ${Z.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${Z.fillType0?`fill: ${Z.fillType7}`:""};
  }

  .actor-0 {
    ${Z.actor0?`fill: ${Z.actor0}`:""};
  }
  .actor-1 {
    ${Z.actor1?`fill: ${Z.actor1}`:""};
  }
  .actor-2 {
    ${Z.actor2?`fill: ${Z.actor2}`:""};
  }
  .actor-3 {
    ${Z.actor3?`fill: ${Z.actor3}`:""};
  }
  .actor-4 {
    ${Z.actor4?`fill: ${Z.actor4}`:""};
  }
  .actor-5 {
    ${Z.actor5?`fill: ${Z.actor5}`:""};
  }
`,"getStyles"),Ix0=Lx0,G$=R(function(Z,J){return XY(Z,J)},"drawRect"),Dx0=R(function(Z,J){const K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),X=Z.append("g");X.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),X.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function U(z){const G=iQ().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);z.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}R(U,"smile");function Y(z){const G=iQ().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);z.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}R(Y,"sad");function q(z){z.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(R(q,"ambivalent"),J.score>3)U(X);else if(J.score<3)Y(X);else q(X);return K},"drawFace"),$60=R(function(Z,J){const Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),_60=R(function(Z,J){return Go(Z,J)},"drawText"),Nx0=R(function(Z,J){function Q(X,U,Y,q,z){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-z)+" "+(X+Y-z*1.2)+","+(U+q)+" "+X+","+(U+q)}R(Q,"genPoints");const K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,_60(Z,J)},"drawLabel"),Ex0=R(function(Z,J,Q){const K=Z.append("g"),X=e4();X.x=J.x,X.y=J.y,X.fill=J.fill,X.width=Q.width*J.taskCount+Q.diagramMarginX*(J.taskCount-1),X.height=Q.height,X.class="journey-section section-type-"+J.num,X.rx=3,X.ry=3,G$(K,X),b60(Q)(J.text,K,X.x,X.y,X.width,X.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),wx0=R(function(Z,J,Q){const K=J.x+Q.width/2,X=Z.append("g");f60++;const U=450;X.append("line").attr("id","task"+f60).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",U).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),Dx0(X,{cx:K,cy:300+(5-J.score)*30,score:J.score});const Y=e4();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,G$(X,Y);let q=J.x+14;J.people.forEach((z)=>{const G=J.actors[z].color,H={cx:q,cy:J.y,r:7,fill:G,stroke:"#000",title:z,pos:J.actors[z].position};$60(X,H),q+=10}),b60(Q)(J.task,X,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),jx0=R(function(Z,J){aO(Z,J)},"drawBackgroundRect"),b60=function(){function Z(X,U,Y,q,z,G,H,W){const F=U.append("text").attr("x",Y+z/2).attr("y",q+G/2+5).style("font-color",W).style("text-anchor","middle").text(X);K(F,H)}R(Z,"byText");function J(X,U,Y,q,z,G,H,W,F){const{taskFontSize:M,taskFontFamily:B}=W,O=X.split(/<br\s*\/?>/gi);for(let A=0;A<O.length;A++){const L=A*M-M*(O.length-1)/2,I=U.append("text").attr("x",Y+z/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);I.append("tspan").attr("x",Y+z/2).attr("dy",L).text(O[A]),I.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(I,H)}}R(J,"byTspan");function Q(X,U,Y,q,z,G,H,W){const F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",z).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,z,G,H,W),K(B,H)}R(Q,"byFo");function K(X,U){for(let Y in U)if(Y in U)X.attr(Y,U[Y])}return R(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),Cx0=R(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),mF={drawRect:G$,drawCircle:$60,drawSection:Ex0,drawText:_60,drawLabel:Nx0,drawTask:wx0,drawBackgroundRect:jx0,initGraphics:Cx0},Px0=R(function(Z){Object.keys(Z).forEach(function(Q){F3[Q]=Z[Q]})},"setConf"),V5={};R(x60,"drawActorLegend");F3=W0().journey,uY=F3.leftMargin,Vx0=R(function(Z,J,Q,K){const X=W0().journey,U=W0().securityLevel;let Y;if(U==="sandbox")Y=$0("#i"+J);const q=U==="sandbox"?$0(Y.nodes()[0].contentDocument.body):$0("body");TQ.init();const z=q.select("#"+J);mF.initGraphics(z);const G=K.db.getTasks(),H=K.db.getDiagramTitle(),W=K.db.getActors();for(let L in V5)delete V5[L];let F=0;W.forEach((L)=>{V5[L]={color:X.actorColours[F%X.actorColours.length],position:F},F++}),x60(z),TQ.insert(0,0,uY,Object.keys(V5).length*50),Sx0(z,G,0);const M=TQ.getBounds();if(H)z.append("text").text(H).attr("x",uY).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const B=M.stopy-M.starty+2*X.diagramMarginY,O=uY+M.stopx+2*X.diagramMarginX;R8(z,B,O,X.useMaxWidth),z.append("line").attr("x1",uY).attr("y1",X.height*4).attr("x2",O-uY-4).attr("y2",X.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const A=H?70:0;z.attr("viewBox",`${M.startx} -25 ${O} ${B+A}`),z.attr("preserveAspectRatio","xMinYMin meet"),z.attr("height",B+A+25)},"draw"),TQ={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:R(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:R(function(Z,J,Q,K){if(Z[J]===void 0)Z[J]=Q;else Z[J]=K(Q,Z[J])},"updateVal"),updateBounds:R(function(Z,J,Q,K){const X=W0().journey,U=this;let Y=0;function q(z){return R(function G(H){Y++;const W=U.sequenceItems.length-Y+1;if(U.updateVal(H,"starty",J-W*X.boxMargin,Math.min),U.updateVal(H,"stopy",K+W*X.boxMargin,Math.max),U.updateVal(TQ.data,"startx",Z-W*X.boxMargin,Math.min),U.updateVal(TQ.data,"stopx",Q+W*X.boxMargin,Math.max),z!=="activation")U.updateVal(H,"startx",Z-W*X.boxMargin,Math.min),U.updateVal(H,"stopx",Q+W*X.boxMargin,Math.max),U.updateVal(TQ.data,"starty",J-W*X.boxMargin,Math.min),U.updateVal(TQ.data,"stopy",K+W*X.boxMargin,Math.max)},"updateItemBounds")}R(q,"updateFn"),this.sequenceItems.forEach(q())},"updateBounds"),insert:R(function(Z,J,Q,K){const X=Math.min(Z,Q),U=Math.max(Z,Q),Y=Math.min(J,K),q=Math.max(J,K);this.updateVal(TQ.data,"startx",X,Math.min),this.updateVal(TQ.data,"starty",Y,Math.min),this.updateVal(TQ.data,"stopx",U,Math.max),this.updateVal(TQ.data,"stopy",q,Math.max),this.updateBounds(X,Y,U,q)},"insert"),bumpVerticalPos:R(function(Z){this.verticalPos=this.verticalPos+Z,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:R(function(){return this.verticalPos},"getVerticalPos"),getBounds:R(function(){return this.data},"getBounds")},Y$=F3.sectionFills,v60=F3.sectionColours,Sx0=R(function(Z,J,Q){const K=W0().journey;let X="";const U=K.height*2+K.diagramMarginY,Y=Q+U;let q=0,z="#CCC",G="black",H=0;for(let[W,F]of J.entries()){if(X!==F.section){z=Y$[q%Y$.length],H=q%Y$.length,G=v60[q%v60.length];let B=0;const O=F.section;for(let L=W;L<J.length;L++)if(J[L].section==O)B=B+1;else break;const A={x:W*K.taskMargin+W*K.width+uY,y:50,text:F.section,fill:z,num:H,colour:G,taskCount:B};mF.drawSection(Z,A,K),X=F.section,q++}const M=F.people.reduce((B,O)=>{if(V5[O])B[O]=V5[O];return B},{});F.x=W*K.taskMargin+W*K.width+uY,F.y=Y,F.width=K.diagramMarginX,F.height=K.diagramMarginY,F.colour=G,F.fill=z,F.num=H,F.actors=M,mF.drawTask(Z,F,K),TQ.insert(F.x,F.y,F.x+F.width+K.taskMargin,450)}},"drawTasks"),k60={setConf:Px0,draw:Vx0},Tx0={parser:Gx0,db:T60,renderer:k60,styles:Ix0,init:R((Z)=>{k60.setConf(Z.journey),T60.clear()},"init")}});var ZQ0={};q8(ZQ0,{diagram:()=>ax0});function M$(Z,J){Z.each(function(){var Q=$0(this),K=Q.text().split(/(\s+|<br>)/).reverse(),X,U=[],Y=1.1,q=Q.attr("y"),z=parseFloat(Q.attr("dy")),G=Q.text(null).append("tspan").attr("x",0).attr("y",q).attr("dy",z+"em");for(let H=0;H<K.length;H++)if(X=K[K.length-1-H],U.push(X),G.text(U.join(" ").trim()),G.node().getComputedTextLength()>J||X==="<br>"){if(U.pop(),G.text(U.join(" ").trim()),X==="<br>")U=[""];else U=[X];G=Q.append("tspan").attr("x",0).attr("y",q).attr("dy",Y+"em").text(X)}})}var H$,fx0,p60,bz="",c60=0,W$,M3,xz,l60,d60,i60,s60,r60,n60,a60,o60,u60,vx0,kx0=12,B3,$x0,_x0,t60,bx0,xx0,m60=-1,hx0,yx0,ux0,F$,e60,mx0,gx0,px0,cx0,mY,lx0,g60,dx0,ix0,sx0,rx0,nx0,ax0;var JQ0=_(()=>{X8();i9();i9();_Q();H$=function(){var Z=R(function(F,M,B,O){for(B=B||{},O=F.length;O--;B[F[O]]=M);return B},"o"),J=[6,8,10,11,12,14,16,17,20,21],Q=[1,9],K=[1,10],X=[1,11],U=[1,12],Y=[1,13],q=[1,16],z=[1,17],G={trace:R(function F(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:R(function F(M,B,O,A,L,I,D){var w=I.length-1;switch(L){case 1:return I[w-1];case 2:this.$=[];break;case 3:I[w-1].push(I[w]),this.$=I[w-1];break;case 4:case 5:this.$=I[w];break;case 6:case 7:this.$=[];break;case 8:A.getCommonDb().setDiagramTitle(I[w].substr(6)),this.$=I[w].substr(6);break;case 9:this.$=I[w].trim(),A.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=I[w].trim(),A.getCommonDb().setAccDescription(this.$);break;case 12:A.addSection(I[w].substr(8)),this.$=I[w].substr(8);break;case 15:A.addTask(I[w],0,""),this.$=I[w];break;case 16:A.addEvent(I[w].substr(2)),this.$=I[w];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},Z(J,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:Q,12:K,14:X,16:U,17:Y,18:14,19:15,20:q,21:z},Z(J,[2,7],{1:[2,1]}),Z(J,[2,3]),{9:18,11:Q,12:K,14:X,16:U,17:Y,18:14,19:15,20:q,21:z},Z(J,[2,5]),Z(J,[2,6]),Z(J,[2,8]),{13:[1,19]},{15:[1,20]},Z(J,[2,11]),Z(J,[2,12]),Z(J,[2,13]),Z(J,[2,14]),Z(J,[2,15]),Z(J,[2,16]),Z(J,[2,4]),Z(J,[2,9]),Z(J,[2,10])],defaultActions:{},parseError:R(function F(M,B){if(B.recoverable)this.trace(M);else{var O=new Error(M);throw O.hash=B,O}},"parseError"),parse:R(function F(M){var B=this,O=[0],A=[],L=[null],I=[],D=this.table,w="",N=0,E=0,j=0,P=2,C=1,T=I.slice.call(arguments,1),V=Object.create(this.lexer),S={yy:{}};for(var $ in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,$))S.yy[$]=this.yy[$];if(V.setInput(M,S.yy),S.yy.lexer=V,S.yy.parser=this,typeof V.yylloc=="undefined")V.yylloc={};var f=V.yylloc;I.push(f);var h=V.options&&V.options.ranges;if(typeof S.yy.parseError==="function")this.parseError=S.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function v(o){O.length=O.length-2*o,L.length=L.length-o,I.length=I.length-o}R(v,"popStack");function b(){var o=A.pop()||V.lex()||C;if(typeof o!=="number"){if(o instanceof Array)A=o,o=A.pop();o=B.symbols_[o]||o}return o}R(b,"lex");var y,k,g,u,i,e,J0={},z0,t,B0,X0;while(!0){if(g=O[O.length-1],this.defaultActions[g])u=this.defaultActions[g];else{if(y===null||typeof y=="undefined")y=b();u=D[g]&&D[g][y]}if(typeof u==="undefined"||!u.length||!u[0]){var d="";X0=[];for(z0 in D[g])if(this.terminals_[z0]&&z0>P)X0.push("'"+this.terminals_[z0]+"'");if(V.showPosition)d="Parse error on line "+(N+1)+":\n"+V.showPosition()+"\nExpecting "+X0.join(", ")+", got '"+(this.terminals_[y]||y)+"'";else d="Parse error on line "+(N+1)+": Unexpected "+(y==C?"end of input":"'"+(this.terminals_[y]||y)+"'");this.parseError(d,{text:V.match,token:this.terminals_[y]||y,line:V.yylineno,loc:f,expected:X0})}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+y);switch(u[0]){case 1:if(O.push(y),L.push(V.yytext),I.push(V.yylloc),O.push(u[1]),y=null,!k){if(E=V.yyleng,w=V.yytext,N=V.yylineno,f=V.yylloc,j>0)j--}else y=k,k=null;break;case 2:if(t=this.productions_[u[1]][1],J0.$=L[L.length-t],J0._$={first_line:I[I.length-(t||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(t||1)].first_column,last_column:I[I.length-1].last_column},h)J0._$.range=[I[I.length-(t||1)].range[0],I[I.length-1].range[1]];if(e=this.performAction.apply(J0,[w,E,N,S.yy,u[1],L,I].concat(T)),typeof e!=="undefined")return e;if(t)O=O.slice(0,-1*t*2),L=L.slice(0,-1*t),I=I.slice(0,-1*t);O.push(this.productions_[u[1]][0]),L.push(J0.$),I.push(J0._$),B0=D[O[O.length-2]][O[O.length-1]],O.push(B0);break;case 3:return!0}}return!0},"parse")},H=function(){var F={EOF:1,parseError:R(function M(B,O){if(this.yy.parser)this.yy.parser.parseError(B,O);else throw new Error(B)},"parseError"),setInput:R(function(M,B){if(this.yy=B||this.yy||{},this._input=M,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var M=this._input[0];this.yytext+=M,this.yyleng++,this.offset++,this.match+=M,this.matched+=M;var B=M.match(/(?:\r\n?|\n).*/g);if(B)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),M},"input"),unput:R(function(M){var B=M.length,O=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var A=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1)this.yylineno-=O.length-1;var L=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===A.length?this.yylloc.first_column:0)+A[A.length-O.length].length-O[0].length:this.yylloc.first_column-B},this.options.ranges)this.yylloc.range=[L[0],L[0]+this.yyleng-B];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(M){this.unput(this.match.slice(M))},"less"),pastInput:R(function(){var M=this.matched.substr(0,this.matched.length-this.match.length);return(M.length>20?"...":"")+M.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var M=this.match;if(M.length<20)M+=this._input.substr(0,20-M.length);return(M.substr(0,20)+(M.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var M=this.pastInput(),B=new Array(M.length+1).join("-");return M+this.upcomingInput()+"\n"+B+"^"},"showPosition"),test_match:R(function(M,B){var O,A,L;if(this.options.backtrack_lexer){if(L={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)L.yylloc.range=this.yylloc.range.slice(0)}if(A=M[0].match(/(?:\r\n?|\n).*/g),A)this.yylineno+=A.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-A[A.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+M[0].length},this.yytext+=M[0],this.match+=M[0],this.matches=M,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(M[0].length),this.matched+=M[0],O=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(O)return O;else if(this._backtrack){for(var I in L)this[I]=L[I];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var M,B,O,A;if(!this._more)this.yytext="",this.match="";var L=this._currentRules();for(var I=0;I<L.length;I++)if(O=this._input.match(this.rules[L[I]]),O&&(!B||O[0].length>B[0].length)){if(B=O,A=I,this.options.backtrack_lexer)if(M=this.test_match(O,L[I]),M!==!1)return M;else if(this._backtrack){B=!1;continue}else return!1;else if(!this.options.flex)break}if(B){if(M=this.test_match(B,L[A]),M!==!1)return M;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function M(){var B=this.next();if(B)return B;else return this.lex()},"lex"),begin:R(function M(B){this.conditionStack.push(B)},"begin"),popState:R(function M(){var B=this.conditionStack.length-1;if(B>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function M(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function M(B){if(B=this.conditionStack.length-1-Math.abs(B||0),B>=0)return this.conditionStack[B];else return"INITIAL"},"topState"),pushState:R(function M(B){this.begin(B)},"pushState"),stateStackSize:R(function M(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function M(B,O,A,L){var I=L;switch(A){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;break;case 8:return this.popState(),"acc_title_value";break;case 9:return this.begin("acc_descr"),14;break;case 10:return this.popState(),"acc_descr_value";break;case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return F}();G.lexer=H;function W(){this.yy={}}return R(W,"Parser"),W.prototype=G,G.Parser=W,new W}();H$.parser=H$;fx0=H$,p60={};xN(p60,{addEvent:()=>a60,addSection:()=>i60,addTask:()=>n60,addTaskOrg:()=>o60,clear:()=>d60,default:()=>vx0,getCommonDb:()=>l60,getSections:()=>s60,getTasks:()=>r60});W$=[],M3=[],xz=[],l60=R(()=>L2,"getCommonDb"),d60=R(function(){W$.length=0,M3.length=0,bz="",xz.length=0,O8()},"clear"),i60=R(function(Z){bz=Z,W$.push(Z)},"addSection"),s60=R(function(){return W$},"getSections"),r60=R(function(){let Z=u60();const J=100;let Q=0;while(!Z&&Q<J)Z=u60(),Q++;return M3.push(...xz),M3},"getTasks"),n60=R(function(Z,J,Q){const K={id:c60++,section:bz,type:bz,task:Z,score:J?J:0,events:Q?[Q]:[]};xz.push(K)},"addTask"),a60=R(function(Z){xz.find((Q)=>Q.id===c60-1).events.push(Z)},"addEvent"),o60=R(function(Z){const J={section:bz,type:bz,description:Z,task:Z,classes:[]};M3.push(J)},"addTaskOrg"),u60=R(function(){const Z=R(function(Q){return xz[Q].processed},"compileTask");let J=!0;for(let[Q,K]of xz.entries())Z(Q),J=J&&K.processed;return J},"compileTasks"),vx0={clear:d60,getCommonDb:l60,addSection:i60,getSections:s60,getTasks:r60,addTask:n60,addTaskOrg:o60,addEvent:a60},B3=R(function(Z,J){const Q=Z.append("rect");if(Q.attr("x",J.x),Q.attr("y",J.y),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("width",J.width),Q.attr("height",J.height),Q.attr("rx",J.rx),Q.attr("ry",J.ry),J.class!==void 0)Q.attr("class",J.class);return Q},"drawRect"),$x0=R(function(Z,J){const K=Z.append("circle").attr("cx",J.cx).attr("cy",J.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),X=Z.append("g");X.append("circle").attr("cx",J.cx-5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),X.append("circle").attr("cx",J.cx+5).attr("cy",J.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function U(z){const G=iQ().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);z.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+2)+")")}R(U,"smile");function Y(z){const G=iQ().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);z.append("path").attr("class","mouth").attr("d",G).attr("transform","translate("+J.cx+","+(J.cy+7)+")")}R(Y,"sad");function q(z){z.append("line").attr("class","mouth").attr("stroke",2).attr("x1",J.cx-5).attr("y1",J.cy+7).attr("x2",J.cx+5).attr("y2",J.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}if(R(q,"ambivalent"),J.score>3)U(X);else if(J.score<3)Y(X);else q(X);return K},"drawFace"),_x0=R(function(Z,J){const Q=Z.append("circle");if(Q.attr("cx",J.cx),Q.attr("cy",J.cy),Q.attr("class","actor-"+J.pos),Q.attr("fill",J.fill),Q.attr("stroke",J.stroke),Q.attr("r",J.r),Q.class!==void 0)Q.attr("class",Q.class);if(J.title!==void 0)Q.append("title").text(J.title);return Q},"drawCircle"),t60=R(function(Z,J){const Q=J.text.replace(/<br\s*\/?>/gi," "),K=Z.append("text");if(K.attr("x",J.x),K.attr("y",J.y),K.attr("class","legend"),K.style("text-anchor",J.anchor),J.class!==void 0)K.attr("class",J.class);const X=K.append("tspan");return X.attr("x",J.x+J.textMargin*2),X.text(Q),K},"drawText"),bx0=R(function(Z,J){function Q(X,U,Y,q,z){return X+","+U+" "+(X+Y)+","+U+" "+(X+Y)+","+(U+q-z)+" "+(X+Y-z*1.2)+","+(U+q)+" "+X+","+(U+q)}R(Q,"genPoints");const K=Z.append("polygon");K.attr("points",Q(J.x,J.y,50,20,7)),K.attr("class","labelBox"),J.y=J.y+J.labelMargin,J.x=J.x+0.5*J.labelMargin,t60(Z,J)},"drawLabel"),xx0=R(function(Z,J,Q){const K=Z.append("g"),X=F$();X.x=J.x,X.y=J.y,X.fill=J.fill,X.width=Q.width,X.height=Q.height,X.class="journey-section section-type-"+J.num,X.rx=3,X.ry=3,B3(K,X),e60(Q)(J.text,K,X.x,X.y,X.width,X.height,{class:"journey-section section-type-"+J.num},Q,J.colour)},"drawSection"),hx0=R(function(Z,J,Q){const K=J.x+Q.width/2,X=Z.append("g");m60++;const U=450;X.append("line").attr("id","task"+m60).attr("x1",K).attr("y1",J.y).attr("x2",K).attr("y2",U).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),$x0(X,{cx:K,cy:300+(5-J.score)*30,score:J.score});const Y=F$();Y.x=J.x,Y.y=J.y,Y.fill=J.fill,Y.width=Q.width,Y.height=Q.height,Y.class="task task-type-"+J.num,Y.rx=3,Y.ry=3,B3(X,Y),e60(Q)(J.task,X,Y.x,Y.y,Y.width,Y.height,{class:"task"},Q,J.colour)},"drawTask"),yx0=R(function(Z,J){B3(Z,{x:J.startx,y:J.starty,width:J.stopx-J.startx,height:J.stopy-J.starty,fill:J.fill,class:"rect"}).lower()},"drawBackgroundRect"),ux0=R(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),F$=R(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),e60=function(){function Z(X,U,Y,q,z,G,H,W){const F=U.append("text").attr("x",Y+z/2).attr("y",q+G/2+5).style("font-color",W).style("text-anchor","middle").text(X);K(F,H)}R(Z,"byText");function J(X,U,Y,q,z,G,H,W,F){const{taskFontSize:M,taskFontFamily:B}=W,O=X.split(/<br\s*\/?>/gi);for(let A=0;A<O.length;A++){const L=A*M-M*(O.length-1)/2,I=U.append("text").attr("x",Y+z/2).attr("y",q).attr("fill",F).style("text-anchor","middle").style("font-size",M).style("font-family",B);I.append("tspan").attr("x",Y+z/2).attr("dy",L).text(O[A]),I.attr("y",q+G/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),K(I,H)}}R(J,"byTspan");function Q(X,U,Y,q,z,G,H,W){const F=U.append("switch"),B=F.append("foreignObject").attr("x",Y).attr("y",q).attr("width",z).attr("height",G).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");B.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(X),J(X,F,Y,q,z,G,H,W),K(B,H)}R(Q,"byFo");function K(X,U){for(let Y in U)if(Y in U)X.attr(Y,U[Y])}return R(K,"_setTextAttrs"),function(X){return X.textPlacement==="fo"?Q:X.textPlacement==="old"?Z:J}}(),mx0=R(function(Z){Z.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics");R(M$,"wrap");gx0=R(function(Z,J,Q,K){const X=Q%kx0-1,U=Z.append("g");J.section=X,U.attr("class",(J.class?J.class+" ":"")+"timeline-node "+("section-"+X));const Y=U.append("g"),q=U.append("g"),G=q.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(M$,J.width).node().getBBox(),H=K.fontSize?.replace?K.fontSize.replace("px",""):K.fontSize;return J.height=G.height+H*1.1*0.5+J.padding,J.height=Math.max(J.height,J.maxHeight),J.width=J.width+2*J.padding,q.attr("transform","translate("+J.width/2+", "+J.padding/2+")"),cx0(Y,J,X,K),J},"drawNode"),px0=R(function(Z,J,Q){const K=Z.append("g"),U=K.append("text").text(J.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(M$,J.width).node().getBBox(),Y=Q.fontSize?.replace?Q.fontSize.replace("px",""):Q.fontSize;return K.remove(),U.height+Y*1.1*0.5+J.padding},"getVirtualNodeHeight"),cx0=R(function(Z,J,Q){Z.append("path").attr("id","node-"+J.id).attr("class","node-bkg node-"+J.type).attr("d",`M0 ${J.height-5} v${-J.height+10} q0,-5 5,-5 h${J.width-10} q5,0 5,5 v${J.height-5} H0 Z`),Z.append("line").attr("class","node-line-"+Q).attr("x1",0).attr("y1",J.height).attr("x2",J.width).attr("y2",J.height)},"defaultBkg"),mY={drawRect:B3,drawCircle:_x0,drawSection:xx0,drawText:t60,drawLabel:bx0,drawTask:hx0,drawBackgroundRect:yx0,getTextObj:ux0,getNoteRect:F$,initGraphics:mx0,drawNode:gx0,getVirtualNodeHeight:px0},lx0=R(function(Z,J,Q,K){const X=W0(),U=X.leftMargin??50;p.debug("timeline",K.db);const Y=X.securityLevel;let q;if(Y==="sandbox")q=$0("#i"+J);const G=(Y==="sandbox"?$0(q.nodes()[0].contentDocument.body):$0("body")).select("#"+J);G.append("g");const H=K.db.getTasks(),W=K.db.getCommonDb().getDiagramTitle();p.debug("task",H),mY.initGraphics(G);const F=K.db.getSections();p.debug("sections",F);let M=0,B=0,O=0,A=0,L=50+U,I=50;A=50;let D=0,w=!0;F.forEach(function(C){const T={number:D,descr:C,section:D,width:150,padding:20,maxHeight:M},V=mY.getVirtualNodeHeight(G,T,X);p.debug("sectionHeight before draw",V),M=Math.max(M,V+20)});let N=0,E=0;p.debug("tasks.length",H.length);for(let[C,T]of H.entries()){const V={number:C,descr:T,section:T.section,width:150,padding:20,maxHeight:B},S=mY.getVirtualNodeHeight(G,V,X);p.debug("taskHeight before draw",S),B=Math.max(B,S+20),N=Math.max(N,T.events.length);let $=0;for(let f of T.events){const h={descr:f,section:T.section,number:T.section,width:150,padding:20,maxHeight:50};$+=mY.getVirtualNodeHeight(G,h,X)}E=Math.max(E,$)}if(p.debug("maxSectionHeight before draw",M),p.debug("maxTaskHeight before draw",B),F&&F.length>0)F.forEach((C)=>{const T=H.filter((f)=>f.section===C),V={number:D,descr:C,section:D,width:200*Math.max(T.length,1)-50,padding:20,maxHeight:M};p.debug("sectionNode",V);const S=G.append("g"),$=mY.drawNode(S,V,D,X);if(p.debug("sectionNode output",$),S.attr("transform",`translate(${L}, ${A})`),I+=M+50,T.length>0)g60(G,T,D,L,I,B,X,N,E,M,!1);L+=200*Math.max(T.length,1),I=A,D++});else w=!1,g60(G,H,D,L,I,B,X,N,E,M,!0);const j=G.node().getBBox();if(p.debug("bounds",j),W)G.append("text").text(W).attr("x",j.width/2-U).attr("font-size","4ex").attr("font-weight","bold").attr("y",20);O=w?M+B+150:B+100,G.append("g").attr("class","lineWrapper").append("line").attr("x1",U).attr("y1",O).attr("x2",j.width+3*U).attr("y2",O).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),gK(void 0,G,X.timeline?.padding??50,X.timeline?.useMaxWidth??!1)},"draw"),g60=R(function(Z,J,Q,K,X,U,Y,q,z,G,H){for(let W of J){const F={descr:W.task,section:Q,number:Q,width:150,padding:20,maxHeight:U};p.debug("taskNode",F);const M=Z.append("g").attr("class","taskWrapper"),O=mY.drawNode(M,F,Q,Y).height;if(p.debug("taskHeight after draw",O),M.attr("transform",`translate(${K}, ${X})`),U=Math.max(U,O),W.events){const A=Z.append("g").attr("class","lineWrapper");let L=U;X+=100,L=L+dx0(Z,W.events,Q,K,X,Y),X-=100,A.append("line").attr("x1",K+95).attr("y1",X+U).attr("x2",K+95).attr("y2",X+U+(H?U:G)+z+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}if(K=K+200,H&&!Y.timeline?.disableMulticolor)Q++}X=X-10},"drawTasks"),dx0=R(function(Z,J,Q,K,X,U){let Y=0;const q=X;X=X+100;for(let z of J){const G={descr:z,section:Q,number:Q,width:150,padding:20,maxHeight:50};p.debug("eventNode",G);const H=Z.append("g").attr("class","eventWrapper"),F=mY.drawNode(H,G,Q,U).height;Y=Y+F,H.attr("transform",`translate(${K}, ${X})`),X=X+10+F}return X=q,Y},"drawEvents"),ix0={setConf:R(()=>{},"setConf"),draw:lx0},sx0=R((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],V7(Z["lineColor"+Q]))Z["lineColor"+Q]=W9(Z["lineColor"+Q],20);else Z["lineColor"+Q]=R9(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){const K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${Z["cScaleLabel"+Q]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),rx0=R((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${sx0(Z)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),nx0=rx0,ax0={db:p60,renderer:ix0,parser:fx0,styles:nx0}});function NJ(Z){return NJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},NJ(Z)}function c$(Z,J){if(!(Z instanceof J))throw new TypeError("Cannot call a class as a function")}function QQ0(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];if(K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K)K.writable=!0;Object.defineProperty(Z,K.key,K)}}function l$(Z,J,Q){if(J)QQ0(Z.prototype,J);if(Q)QQ0(Z,Q);return Object.defineProperty(Z,"prototype",{writable:!1}),Z}function O40(Z,J,Q){if(J in Z)Object.defineProperty(Z,J,{value:Q,enumerable:!0,configurable:!0,writable:!0});else Z[J]=Q;return Z}function F4(Z,J){return ox0(Z)||tx0(Z,J)||A40(Z,J)||ex0()}function ox0(Z){if(Array.isArray(Z))return Z}function tx0(Z,J){var Q=Z==null?null:typeof Symbol!=="undefined"&&Z[Symbol.iterator]||Z["@@iterator"];if(Q==null)return;var K=[],X=!0,U=!1,Y,q;try{for(Q=Q.call(Z);!(X=(Y=Q.next()).done);X=!0)if(K.push(Y.value),J&&K.length===J)break}catch(z){U=!0,q=z}finally{try{if(!X&&Q.return!=null)Q.return()}finally{if(U)throw q}}return K}function A40(Z,J){if(!Z)return;if(typeof Z==="string")return KQ0(Z,J);var Q=Object.prototype.toString.call(Z).slice(8,-1);if(Q==="Object"&&Z.constructor)Q=Z.constructor.name;if(Q==="Map"||Q==="Set")return Array.from(Z);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return KQ0(Z,J)}function KQ0(Z,J){if(J==null||J>Z.length)J=Z.length;for(var Q=0,K=new Array(J);Q<J;Q++)K[Q]=Z[Q];return K}function ex0(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L40(Z,J){var Q=typeof Symbol!=="undefined"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Q){if(Array.isArray(Z)||(Q=A40(Z))||J&&Z&&typeof Z.length==="number"){if(Q)Z=Q;var K=0,X=function(){};return{s:X,n:function(){if(K>=Z.length)return{done:!0};return{done:!1,value:Z[K++]}},e:function(z){throw z},f:X}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var U=!0,Y=!1,q;return{s:function(){Q=Q.call(Z)},n:function(){var z=Q.next();return U=z.done,z},e:function(z){Y=!0,q=z},f:function(){try{if(!U&&Q.return!=null)Q.return()}finally{if(Y)throw q}}}}function wh0(Z){var J=typeof Z;return Z!=null&&(J=="object"||J=="function")}function jh0(Z,J){return J={exports:{}},Z(J,J.exports),J.exports}function vh0(Z){var J=Z.length;while(J--&&fh0.test(Z.charAt(J)));return J}function _h0(Z){return Z?Z.slice(0,kh0(Z)+1).replace($h0,""):Z}function uh0(Z){var J=hh0.call(Z,gF),Q=Z[gF];try{Z[gF]=void 0;var K=!0}catch(U){}var X=yh0.call(Z);if(K)if(J)Z[gF]=Q;else delete Z[gF];return X}function ch0(Z){return ph0.call(Z)}function sh0(Z){if(Z==null)return Z===void 0?ih0:dh0;return YQ0&&YQ0 in Object(Z)?mh0(Z):lh0(Z)}function rh0(Z){return Z!=null&&typeof Z=="object"}function oh0(Z){return typeof Z=="symbol"||nh0(Z)&&V40(Z)==ah0}function Qy0(Z){if(typeof Z=="number")return Z;if(FM(Z))return qQ0;if(rY(Z)){var J=typeof Z.valueOf=="function"?Z.valueOf():Z;Z=rY(J)?J+"":J}if(typeof Z!="string")return Z===0?Z:+Z;Z=bh0(Z);var Q=eh0.test(Z);return Q||Zy0.test(Z)?Jy0(Z.slice(2),Q?2:8):th0.test(Z)?qQ0:+Z}function Yy0(Z,J,Q){var K,X,U,Y,q,z,G=0,H=!1,W=!1,F=!0;if(typeof Z!="function")throw new TypeError(Ky0);if(J=zQ0(J)||0,rY(Q))H=!!Q.leading,W="maxWait"in Q,U=W?Xy0(zQ0(Q.maxWait)||0,J):U,F="trailing"in Q?!!Q.trailing:F;function M(E){var j=K,P=X;return K=X=void 0,G=E,Y=Z.apply(P,j),Y}function B(E){return G=E,q=setTimeout(L,J),H?M(E):Y}function O(E){var j=E-z,P=E-G,C=J-j;return W?Uy0(C,U-P):C}function A(E){var j=E-z,P=E-G;return z===void 0||j>=J||j<0||W&&P>=U}function L(){var E=B$();if(A(E))return I(E);q=setTimeout(L,O(E))}function I(E){if(q=void 0,F&&K)return M(E);return K=X=void 0,Y}function D(){if(q!==void 0)clearTimeout(q);G=0,K=z=X=q=void 0}function w(){return q===void 0?Y:I(B$())}function N(){var E=B$(),j=A(E);if(K=arguments,X=this,z=E,j){if(q===void 0)return B(z);if(W)return clearTimeout(q),q=setTimeout(L,J),M(z)}if(q===void 0)q=setTimeout(L,J);return Y}return N.cancel=D,N.flush=w,N}function t3(Z,J,Q,K,X,U){var Y;if($Z(Z))Y=Z;else Y=oz[Z]||oz.euclidean;if(J===0&&$Z(Z))return Y(X,U);else return Y(J,Q,K,X,U)}function tu0(Z,J){if(e3(Z))return!1;var Q=typeof Z;if(Q=="number"||Q=="symbol"||Q=="boolean"||Z==null||FM(Z))return!0;return ou0.test(Z)||!au0.test(Z)||J!=null&&Z in Object(J)}function Xm0(Z){if(!rY(Z))return!1;var J=V40(Z);return J==Jm0||J==Qm0||J==Zm0||J==Km0}function qm0(Z){return!!SQ0&&SQ0 in Z}function Wm0(Z){if(Z!=null){try{return Hm0.call(Z)}catch(J){}try{return Z+""}catch(J){}}return""}function Dm0(Z){if(!rY(Z)||zm0(Z))return!1;var J=Um0(Z)?Im0:Bm0;return J.test(Fm0(Z))}function Em0(Z,J){return Z==null?void 0:Z[J]}function jm0(Z,J){var Q=wm0(Z,J);return Nm0(Q)?Q:void 0}function Pm0(){this.__data__=UM?UM(null):{},this.size=0}function Sm0(Z){var J=this.has(Z)&&delete this.__data__[Z];return this.size-=J?1:0,J}function $m0(Z){var J=this.__data__;if(UM){var Q=J[Z];return Q===fm0?void 0:Q}return km0.call(J,Z)?J[Z]:void 0}function hm0(Z){var J=this.__data__;return UM?J[Z]!==void 0:xm0.call(J,Z)}function mm0(Z,J){var Q=this.__data__;return this.size+=this.has(Z)?0:1,Q[Z]=UM&&J===void 0?um0:J,this}function JG(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}function pm0(){this.__data__=[],this.size=0}function lm0(Z,J){return Z===J||Z!==Z&&J!==J}function dm0(Z,J){var Q=Z.length;while(Q--)if(t40(Z[Q][0],J))return Q;return-1}function rm0(Z){var J=this.__data__,Q=ZD(J,Z);if(Q<0)return!1;var K=J.length-1;if(Q==K)J.pop();else sm0.call(J,Q,1);return--this.size,!0}function am0(Z){var J=this.__data__,Q=ZD(J,Z);return Q<0?void 0:J[Q][1]}function tm0(Z){return ZD(this.__data__,Z)>-1}function Zg0(Z,J){var Q=this.__data__,K=ZD(Q,Z);if(K<0)++this.size,Q.push([Z,J]);else Q[K][1]=J;return this}function QG(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}function Ug0(){this.size=0,this.__data__={hash:new TQ0,map:new(Xg0||Qg0),string:new TQ0}}function qg0(Z){var J=typeof Z;return J=="string"||J=="number"||J=="symbol"||J=="boolean"?Z!=="__proto__":Z===null}function Gg0(Z,J){var Q=Z.__data__;return zg0(J)?Q[typeof J=="string"?"string":"hash"]:Q.map}function Hg0(Z){var J=JD(this,Z).delete(Z);return this.size-=J?1:0,J}function Fg0(Z){return JD(this,Z).get(Z)}function Bg0(Z){return JD(this,Z).has(Z)}function Og0(Z,J){var Q=JD(this,Z),K=Q.size;return Q.set(Z,J),this.size+=Q.size==K?0:1,this}function KG(Z){var J=-1,Q=Z==null?0:Z.length;this.clear();while(++J<Q){var K=Z[J];this.set(K[0],K[1])}}function J_(Z,J){if(typeof Z!="function"||J!=null&&typeof J!="function")throw new TypeError(Lg0);var Q=function(){var K=arguments,X=J?J.apply(this,K):K[0],U=Q.cache;if(U.has(X))return U.get(X);var Y=Z.apply(this,K);return Q.cache=U.set(X,Y)||U,Y};return Q.cache=new(J_.Cache||e40),Q}function Ng0(Z){var J=Ig0(Z,function(K){if(Q.size===Dg0)Q.clear();return K}),Q=J.cache;return J}function Pg0(Z,J){var Q=-1,K=Z==null?0:Z.length,X=Array(K);while(++Q<K)X[Q]=J(Z[Q],Q,Z);return X}function QK0(Z){if(typeof Z=="string")return Z;if(e3(Z))return JK0(Z,QK0)+"";if(FM(Z))return vQ0?vQ0.call(Z):"";var J=Z+"";return J=="0"&&1/Z==-Vg0?"-0":J}function Tg0(Z){return Z==null?"":Sg0(Z)}function fg0(Z,J){if(e3(Z))return Z;return eu0(Z,J)?[Z]:ZK0(KK0(Z))}function kg0(Z){if(typeof Z=="string"||FM(Z))return Z;var J=Z+"";return J=="0"&&1/Z==-vg0?"-0":J}function $g0(Z,J){J=XK0(J,Z);var Q=0,K=J.length;while(Z!=null&&Q<K)Z=Z[Q_(J[Q++])];return Q&&Q==K?Z:void 0}function bg0(Z,J,Q){var K=Z==null?void 0:_g0(Z,J);return K===void 0?Q:K}function yg0(Z,J,Q){if(J=="__proto__"&&kQ0)kQ0(Z,J,{configurable:!0,enumerable:!0,value:Q,writable:!0});else Z[J]=Q}function pg0(Z,J,Q){var K=Z[J];if(!(gg0.call(Z,J)&&t40(K,Q))||Q===void 0&&!(J in Z))ug0(Z,J,Q)}function ig0(Z,J){var Q=typeof Z;return J=J==null?lg0:J,!!J&&(Q=="number"||Q!="symbol"&&dg0.test(Z))&&(Z>-1&&Z%1==0&&Z<J)}function rg0(Z,J,Q,K){if(!rY(Z))return Z;J=XK0(J,Z);var X=-1,U=J.length,Y=U-1,q=Z;while(q!=null&&++X<U){var z=Q_(J[X]),G=Q;if(z==="__proto__"||z==="constructor"||z==="prototype")return Z;if(X!=Y){var H=q[z];if(G=K?K(H,z,q):void 0,G===void 0)G=rY(H)?H:sg0(J[X+1])?[]:{}}cg0(q,z,G),q=q[z]}return Z}function ag0(Z,J,Q){return Z==null?Z:ng0(Z,J,Q)}function tg0(Z,J){var Q=-1,K=Z.length;J||(J=Array(K));while(++Q<K)J[Q]=Z[Q];return J}function Zp0(Z){if(e3(Z))return JK0(Z,Q_);return FM(Z)?[Z]:eg0(ZK0(KK0(Z)))}function X_(Z,J,Q,K){var X=[],U=new ez,Y=Z.cy(),q=Y.hasCompoundNodes();for(var z=0;z<Z.length;z++){var G=Z[z];if(Q)X.push(G);else if(q)K(X,U,G)}while(X.length>0){var H=X.shift();if(J(H),U.add(H.id()),q)K(X,U,H)}return Z}function YK0(Z,J,Q){if(Q.isParent()){var K=Q._private.children;for(var X=0;X<K.length;X++){var U=K[X];if(!J.has(U.id()))Z.push(U)}}}function qK0(Z,J,Q){if(Q.isChild()){var K=Q._private.parent;if(!J.has(K.id()))Z.push(K)}}function Ip0(Z,J,Q){qK0(Z,J,Q),YK0(Z,J,Q)}function D$(Z){return function(J){var Q=this;if(J===void 0)J=!0;if(Q.length===0)return;if(Q.isNode()&&!Q.removed()){var K=0,X=Q[0],U=X._private.edges;for(var Y=0;Y<U.length;Y++){var q=U[Y];if(!J&&q.isLoop())continue;K+=Z(X,q)}return K}else return}}function yz(Z,J){return function(Q){var K,X=this.nodes();for(var U=0;U<X.length;U++){var Y=X[U],q=Y[Z](Q);if(q!==void 0&&(K===void 0||J(q,K)))K=q}return K}}function lF(){return!1}function E3(){return!0}function KD(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yp0,J=arguments.length>1?arguments[1]:void 0;for(var Q=0;Q<yQ0.length;Q++){var K=yQ0[Q];this[K]=Z[K]||OK0[K]}this.context=J||this.context,this.listeners=[],this.emitting=0}function NK0(Z,J,Q){var K=Q._private,X=K.styleCache=K.styleCache||[],U;if((U=X[Z])!=null)return U;else return U=X[Z]=J(Q),U}function XD(Z,J){return Z=nY(Z),function Q(K){return NK0(Z,J,K)}}function UD(Z,J){Z=nY(Z);var Q=function K(X){return J.call(X)};return function K(){var X=this[0];if(X)return NK0(Z,Q,X)}}function E$(Z,J){var Q=Z._private,K=Q.data.parent?Z.parents():null;if(K)for(var X=0;X<K.length;X++){var U=K[X];if(!J(U))return!1}return!0}function U_(Z){var J=Z.ok,Q=Z.edgeOkViaNode||Z.ok,K=Z.parentOk||Z.ok;return function(){var X=this.cy();if(!X.styleEnabled())return!0;var U=this[0],Y=X.hasCompoundNodes();if(U){var q=U._private;if(!J(U))return!1;if(U.isNode())return!Y||E$(U,K);else{var{source:z,target:G}=q;return Q(z)&&(!Y||E$(z,Q))&&(z===G||Q(G)&&(!Y||E$(G,Q)))}}}}function mQ0(Z){return function(){var J=arguments,Q=[];if(J.length===2){var K=J[0],X=J[1];this.on(Z.event,K,X)}else if(J.length===1&&$Z(J[0])){var U=J[0];this.on(Z.event,U)}else if(J.length===0||J.length===1&&JZ(J[0])){var Y=J.length===1?J[0]:null;for(var q=0;q<this.length;q++){var z=this[q],G=!Z.ableField||z._private[Z.ableField],H=z._private[Z.field]!=Z.value;if(Z.overrideAble){var W=Z.overrideAble(z);if(W!==void 0){if(G=W,!W)return this}}if(G){if(z._private[Z.field]=Z.value,H)Q.push(z)}}var F=this.spawn(Q);if(F.updateStyle(),F.emit(Z.event),Y)F.emit(Y)}return this}}function UG(Z){eX[Z.field]=function(){var J=this[0];if(J){if(Z.overrideField){var Q=Z.overrideField(J);if(Q!==void 0)return Q}return J._private[Z.field]}},eX[Z.on]=mQ0({event:Z.on,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!0}),eX[Z.off]=mQ0({event:Z.off,field:Z.field,ableField:Z.ableField,overrideAble:Z.overrideAble,value:!1})}function lQ0(Z){return function J(Q){var K=[];for(var X=0;X<this.length;X++){var U=this[X],Y=U._private[Z.attr];if(Y)K.push(Y)}return this.spawn(K,!0).filter(Q)}}function dQ0(Z){return function J(Q){var K=[],X=this._private.cy,U=Z||{};if(S9(Q))Q=X.$(Q);for(var Y=0;Y<Q.length;Y++){var q=Q[Y]._private.edges;for(var z=0;z<q.length;z++){var G=q[z],H=G._private.data,W=this.hasElementWithId(H.source)&&Q.hasElementWithId(H.target),F=Q.hasElementWithId(H.source)&&this.hasElementWithId(H.target),M=W||F;if(!M)continue;if(U.thisIsSrc||U.thisIsTgt){if(U.thisIsSrc&&!W)continue;if(U.thisIsTgt&&!F)continue}K.push(G)}}return this.spawn(K,!0)}}function iQ0(Z){var J={codirected:!1};return Z=b9({},J,Z),function Q(K){var X=[],U=this.edges(),Y=Z;for(var q=0;q<U.length;q++){var z=U[q],G=z._private,H=G.source,W=H._private.data.id,F=G.data.target,M=H._private.edges;for(var B=0;B<M.length;B++){var O=M[B],A=O._private.data,L=A.target,I=A.source,D=L===F&&I===W,w=W===L&&F===I;if(Y.codirected&&D||!Y.codirected&&(D||w))X.push(O)}}return this.spawn(X,!0).filter(K)}}function np0(Z,J,Q,K){var X=4,U=0.001,Y=0.0000001,q=10,z=11,G=1/(z-1),H=typeof Float32Array!=="undefined";if(arguments.length!==4)return!1;for(var W=0;W<4;++W)if(typeof arguments[W]!=="number"||isNaN(arguments[W])||!isFinite(arguments[W]))return!1;Z=Math.min(Z,1),Q=Math.min(Q,1),Z=Math.max(Z,0),Q=Math.max(Q,0);var F=H?new Float32Array(z):new Array(z);function M(T,V){return 1-3*V+3*T}function B(T,V){return 3*V-6*T}function O(T){return 3*T}function A(T,V,S){return((M(V,S)*T+B(V,S))*T+O(V))*T}function L(T,V,S){return 3*M(V,S)*T*T+2*B(V,S)*T+O(V)}function I(T,V){for(var S=0;S<X;++S){var $=L(V,Z,Q);if($===0)return V;var f=A(V,Z,Q)-T;V-=f/$}return V}function D(){for(var T=0;T<z;++T)F[T]=A(T*G,Z,Q)}function w(T,V,S){var $,f,h=0;do if(f=V+(S-V)/2,$=A(f,Z,Q)-T,$>0)S=f;else V=f;while(Math.abs($)>Y&&++h<q);return f}function N(T){var V=0,S=1,$=z-1;for(;S!==$&&F[S]<=T;++S)V+=G;--S;var f=(T-F[S])/(F[S+1]-F[S]),h=V+f*G,v=L(h,Z,Q);if(v>=U)return I(T,h);else if(v===0)return h;else return w(T,V,V+G)}var E=!1;function j(){if(E=!0,Z!==J||Q!==K)D()}var P=function T(V){if(!E)j();if(Z===J&&Q===K)return V;if(V===0)return 0;if(V===1)return 1;return A(N(V),J,K)};P.getControlPoints=function(){return[{x:Z,y:J},{x:Q,y:K}]};var C="generateBezier("+[Z,J,Q,K]+")";return P.toString=function(){return C},P}function sQ0(Z,J,Q,K,X){if(K===1)return Q;if(J===Q)return Q;var U=X(J,Q,K);if(Z==null)return U;if(Z.roundValue||Z.color)U=Math.round(U);if(Z.min!==void 0)U=Math.max(U,Z.min);if(Z.max!==void 0)U=Math.min(U,Z.max);return U}function rQ0(Z,J){if(Z.pfValue!=null||Z.value!=null)if(Z.pfValue!=null&&(J==null||J.type.units!=="%"))return Z.pfValue;else return Z.value;else return Z}function uz(Z,J,Q,K,X){var U=X!=null?X.type:null;if(Q<0)Q=0;else if(Q>1)Q=1;var Y=rQ0(Z,X),q=rQ0(J,X);if(K9(Y)&&K9(q))return sQ0(U,Y,q,Q,K);else if(JZ(Y)&&JZ(q)){var z=[];for(var G=0;G<q.length;G++){var H=Y[G],W=q[G];if(H!=null&&W!=null){var F=sQ0(U,H,W,Q,K);z.push(F)}else z.push(W)}return z}return}function op0(Z,J,Q,K){var X=!K,U=Z._private,Y=J._private,q=Y.easing,z=Y.startTime,G=K?Z:Z.cy(),H=G.style();if(!Y.easingImpl)if(q==null)Y.easingImpl=v3.linear;else{var W;if(S9(q)){var F=H.parse("transition-timing-function",q);W=F.value}else W=q;var M,B;if(S9(W))M=W,B=[];else M=W[1],B=W.slice(2).map(function(k){return+k});if(B.length>0){if(M==="spring")B.push(Y.duration);Y.easingImpl=v3[M].apply(null,B)}else Y.easingImpl=v3[M]}var O=Y.easingImpl,A;if(Y.duration===0)A=1;else A=(Q-z)/Y.duration;if(Y.applying)A=Y.progress;if(A<0)A=0;else if(A>1)A=1;if(Y.delay==null){var{startPosition:L,position:I}=Y;if(I&&X&&!Z.locked()){var D={};if(dF(L.x,I.x))D.x=uz(L.x,I.x,A,O);if(dF(L.y,I.y))D.y=uz(L.y,I.y,A,O);Z.position(D)}var{startPan:w,pan:N}=Y,E=U.pan,j=N!=null&&K;if(j){if(dF(w.x,N.x))E.x=uz(w.x,N.x,A,O);if(dF(w.y,N.y))E.y=uz(w.y,N.y,A,O);Z.emit("pan")}var{startZoom:P,zoom:C}=Y,T=C!=null&&K;if(T){if(dF(P,C))U.zoom=KM(U.minZoom,uz(P,C,A,O),U.maxZoom);Z.emit("zoom")}if(j||T)Z.emit("viewport");var V=Y.style;if(V&&V.length>0&&X){for(var S=0;S<V.length;S++){var $=V[S],f=$.name,h=$,v=Y.startStyle[f],b=H.properties[v.name],y=uz(v,h,A,O,b);H.overrideBypass(Z,f,y)}Z.emit("style")}}return Y.progress=A,A}function dF(Z,J){if(Z==null||J==null)return!1;if(K9(Z)&&K9(J))return!0;else if(Z&&J)return!0;return!1}function tp0(Z,J,Q,K){var X=J._private;X.started=!0,X.startTime=Q-X.progress*X.duration}function nQ0(Z,J){var Q=J._private.aniEles,K=[];function X(H,W){var F=H._private,M=F.animation.current,B=F.animation.queue,O=!1;if(M.length===0){var A=B.shift();if(A)M.push(A)}var L=function N(E){for(var j=E.length-1;j>=0;j--){var P=E[j];P()}E.splice(0,E.length)};for(var I=M.length-1;I>=0;I--){var D=M[I],w=D._private;if(w.stopped){M.splice(I,1),w.hooked=!1,w.playing=!1,w.started=!1,L(w.frames);continue}if(!w.playing&&!w.applying)continue;if(w.playing&&w.applying)w.applying=!1;if(!w.started)tp0(H,D,Z);if(op0(H,D,Z,W),w.applying)w.applying=!1;if(L(w.frames),w.step!=null)w.step(Z);if(D.completed())M.splice(I,1),w.hooked=!1,w.playing=!1,w.started=!1,L(w.completes);O=!0}if(!W&&M.length===0&&B.length===0)K.push(H);return O}var U=!1;for(var Y=0;Y<Q.length;Y++){var q=Q[Y],z=X(q);U=U||z}var G=X(J,!0);if(U||G)if(Q.length>0)J.notify("draw",Q);else J.notify("draw");Q.unmerge(K),J.emit("step")}function wK0(Z){this.options=b9({},Yc0,qc0,Z)}function jK0(Z){this.options=b9({},zc0,Z)}function CK0(Z){this.options=b9({},Gc0,Z)}function zD(Z){this.options=b9({},Hc0,Z),this.options.layout=this;var J=this.options.eles.nodes(),Q=this.options.eles.edges(),K=Q.filter(function(X){var U=X.source().data("id"),Y=X.target().data("id"),q=J.some(function(G){return G.data("id")===U}),z=J.some(function(G){return G.data("id")===Y});return!q||!z});this.options.eles=this.options.eles.not(K)}function VK0(Z){this.options=b9({},Vc0,Z)}function z_(Z){this.options=b9({},Sc0,Z)}function SK0(Z){this.options=b9({},Tc0,Z)}function TK0(Z){this.options=b9({},fc0,Z)}function fK0(Z){this.options=Z,this.notifications=0}function $K0(Z,J){if(J.radius===0)Z.lineTo(J.cx,J.cy);else Z.arc(J.cx,J.cy,J.radius,J.startAngle,J.endAngle,J.counterClockwise)}function H_(Z,J,Q,K){var X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(K===0||J.radius===0)return{cx:J.x,cy:J.y,radius:0,startX:J.x,startY:J.y,stopX:J.x,stopY:J.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0};return $c0(Z,J,Q,K,X),{cx:b$,cy:x$,radius:dY,startX:vK0,startY:kK0,stopX:h$,stopY:y$,startAngle:OK.ang+Math.PI/2*iY,endAngle:fQ.ang-Math.PI/2*iY,counterClockwise:_3}}function _K0(Z){var J=[];if(Z==null)return;for(var Q=0;Q<Z.length;Q+=2){var K=Z[Q],X=Z[Q+1];J.push({x:K,y:X})}return J}function _c0(Z,J,Q){var K=function z(G,H,W,F){return bJ(G,H,W,F)},X=J._private,U=X.rstyle.bezierPts;for(var Y=0;Y<Z.bezierProjPcts.length;Y++){var q=Z.bezierProjPcts[Y];U.push({x:K(Q[0],Q[2],Q[4],q),y:K(Q[1],Q[3],Q[5],q)})}}function Wl0(Z,J){for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.lineTo(K.x,K.y)}}function Fl0(Z,J,Q){var K;for(var X=0;X<J.length;X++){var U=J[X];if(X===0)K=U;Z.lineTo(U.x,U.y)}Z.quadraticCurveTo(Q.x,Q.y,K.x,K.y)}function F40(Z,J,Q){if(Z.beginPath)Z.beginPath();var K=J;for(var X=0;X<K.length;X++){var U=K[X];Z.lineTo(U.x,U.y)}var Y=Q,q=Q[0];Z.moveTo(q.x,q.y);for(var X=1;X<Y.length;X++){var U=Y[X];Z.lineTo(U.x,U.y)}if(Z.closePath)Z.closePath()}function Ml0(Z,J,Q,K,X){if(Z.beginPath)Z.beginPath();Z.arc(Q,K,X,0,Math.PI*2,!1);var U=J,Y=U[0];Z.moveTo(Y.x,Y.y);for(var q=0;q<U.length;q++){var z=U[q];Z.lineTo(z.x,z.y)}if(Z.closePath)Z.closePath()}function Bl0(Z,J,Q,K){Z.arc(J,Q,K,0,Math.PI*2,!1)}function P$(Z,J,Q,K,X){var U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,Y=arguments.length>6?arguments[6]:void 0;if(Z.beginPath(),Z.moveTo(J+U,Q),Z.lineTo(J+K-U,Q),Z.quadraticCurveTo(J+K,Q,J+K,Q+U),Z.lineTo(J+K,Q+X-U),Z.quadraticCurveTo(J+K,Q+X,J+K-U,Q+X),Z.lineTo(J+U,Q+X),Z.quadraticCurveTo(J,Q+X,J,Q+X-U),Z.lineTo(J,Q+U),Z.quadraticCurveTo(J,Q,J+U,Q),Z.closePath(),Y)Z.stroke();else Z.fill()}function Nl0(Z,J){var Q=atob(Z),K=new ArrayBuffer(Q.length),X=new Uint8Array(K);for(var U=0;U<Q.length;U++)X[U]=Q.charCodeAt(U);return new Blob([K],{type:J})}function R40(Z){var J=Z.indexOf(",");return Z.substr(J+1)}function sK0(Z,J,Q){var K=function X(){return J.toDataURL(Q,Z.quality)};switch(Z.output){case"blob-promise":return new ZG(function(X,U){try{J.toBlob(function(Y){if(Y!=null)X(Y);else U(new Error("`canvas.toBlob()` sent a null value in its callback"))},Q,Z.quality)}catch(Y){U(Y)}});case"blob":return Nl0(R40(K()),Q);case"base64":return R40(K());case"base64uri":default:return K()}}function nK0(Z){var J=this,Q=J.cy.window(),K=Q.document;J.data={canvases:new Array(S8.CANVAS_LAYERS),contexts:new Array(S8.CANVAS_LAYERS),canvasNeedsRedraw:new Array(S8.CANVAS_LAYERS),bufferCanvases:new Array(S8.BUFFER_COUNT),bufferContexts:new Array(S8.CANVAS_LAYERS)};var X="-webkit-tap-highlight-color",U="rgba(0,0,0,0)";J.data.canvasContainer=K.createElement("div");var Y=J.data.canvasContainer.style;J.data.canvasContainer.style[X]=U,Y.position="relative",Y.zIndex="0",Y.overflow="hidden";var q=Z.cy.container();q.appendChild(J.data.canvasContainer),q.style[X]=U;var z={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};if(Gh0())z["-ms-touch-action"]="none",z["touch-action"]="none";for(var G=0;G<S8.CANVAS_LAYERS;G++){var H=J.data.canvases[G]=K.createElement("canvas");J.data.contexts[G]=H.getContext("2d"),Object.keys(z).forEach(function(X0){H.style[X0]=z[X0]}),H.style.position="absolute",H.setAttribute("data-id","layer"+G),H.style.zIndex=String(S8.CANVAS_LAYERS-G),J.data.canvasContainer.appendChild(H),J.data.canvasNeedsRedraw[G]=!1}J.data.topCanvas=J.data.canvases[0],J.data.canvases[S8.NODE].setAttribute("data-id","layer"+S8.NODE+"-node"),J.data.canvases[S8.SELECT_BOX].setAttribute("data-id","layer"+S8.SELECT_BOX+"-selectbox"),J.data.canvases[S8.DRAG].setAttribute("data-id","layer"+S8.DRAG+"-drag");for(var G=0;G<S8.BUFFER_COUNT;G++)J.data.bufferCanvases[G]=K.createElement("canvas"),J.data.bufferContexts[G]=J.data.bufferCanvases[G].getContext("2d"),J.data.bufferCanvases[G].style.position="absolute",J.data.bufferCanvases[G].setAttribute("data-id","buffer"+G),J.data.bufferCanvases[G].style.zIndex=String(-G-1),J.data.bufferCanvases[G].style.visibility="hidden";J.pathsEnabled=!0;var W=D6(),F=function X0(d){return{x:(d.x1+d.x2)/2,y:(d.y1+d.y2)/2}},M=function X0(d){return{x:-d.w/2,y:-d.h/2}},B=function X0(d){var o=d[0]._private,a=o.oldBackgroundTimestamp===o.backgroundTimestamp;return!a},O=function X0(d){return d[0]._private.nodeKey},A=function X0(d){return d[0]._private.labelStyleKey},L=function X0(d){return d[0]._private.sourceLabelStyleKey},I=function X0(d){return d[0]._private.targetLabelStyleKey},D=function X0(d,o,a,Q0,K0){return J.drawElement(d,o,a,!1,!1,K0)},w=function X0(d,o,a,Q0,K0){return J.drawElementText(d,o,a,Q0,"main",K0)},N=function X0(d,o,a,Q0,K0){return J.drawElementText(d,o,a,Q0,"source",K0)},E=function X0(d,o,a,Q0,K0){return J.drawElementText(d,o,a,Q0,"target",K0)},j=function X0(d){return d.boundingBox(),d[0]._private.bodyBounds},P=function X0(d){return d.boundingBox(),d[0]._private.labelBounds.main||W},C=function X0(d){return d.boundingBox(),d[0]._private.labelBounds.source||W},T=function X0(d){return d.boundingBox(),d[0]._private.labelBounds.target||W},V=function X0(d,o){return o},S=function X0(d){return F(j(d))},$=function X0(d,o,a){var Q0=d?d+"-":"";return{x:o.x+a.pstyle(Q0+"text-margin-x").pfValue,y:o.y+a.pstyle(Q0+"text-margin-y").pfValue}},f=function X0(d,o,a){var Q0=d[0]._private.rscratch;return{x:Q0[o],y:Q0[a]}},h=function X0(d){return $("",f(d,"labelX","labelY"),d)},v=function X0(d){return $("source",f(d,"sourceLabelX","sourceLabelY"),d)},b=function X0(d){return $("target",f(d,"targetLabelX","targetLabelY"),d)},y=function X0(d){return M(j(d))},k=function X0(d){return M(C(d))},g=function X0(d){return M(T(d))},u=function X0(d){var o=P(d),a=M(P(d));if(d.isNode()){switch(d.pstyle("text-halign").value){case"left":a.x=-o.w;break;case"right":a.x=0;break}switch(d.pstyle("text-valign").value){case"top":a.y=-o.h;break;case"bottom":a.y=0;break}}return a},i=J.data.eleTxrCache=new aF(J,{getKey:O,doesEleInvalidateKey:B,drawElement:D,getBoundingBox:j,getRotationPoint:S,getRotationOffset:y,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),e=J.data.lblTxrCache=new aF(J,{getKey:A,drawElement:w,getBoundingBox:P,getRotationPoint:h,getRotationOffset:u,isVisible:V}),J0=J.data.slbTxrCache=new aF(J,{getKey:L,drawElement:N,getBoundingBox:C,getRotationPoint:v,getRotationOffset:k,isVisible:V}),z0=J.data.tlbTxrCache=new aF(J,{getKey:I,drawElement:E,getBoundingBox:T,getRotationPoint:b,getRotationOffset:g,isVisible:V}),t=J.data.lyrTxrCache=new pK0(J);J.onUpdateEleCalcs(function X0(d,o){i.invalidateElements(o),e.invalidateElements(o),J0.invalidateElements(o),z0.invalidateElements(o),t.invalidateElements(o);for(var a=0;a<o.length;a++){var Q0=o[a]._private;Q0.oldBackgroundTimestamp=Q0.backgroundTimestamp}});var B0=function X0(d){for(var o=0;o<d.length;o++)t.enqueueElementRefinement(d[o].ele)};i.onDequeue(B0),e.onDequeue(B0),J0.onDequeue(B0),z0.onDequeue(B0)}function tK0(Z,J,Q){var K=Q,X=function j(P){y8("Can not register `"+J+"` for `"+Z+"` since `"+P+"` already exists in the prototype and can not be overridden")};if(Z==="core")if(GM.prototype[J])return X(J);else GM.prototype[J]=Q;else if(Z==="collection")if(X7.prototype[J])return X(J);else X7.prototype[J]=Q;else if(Z==="layout"){var U=function j(P){if(this.options=P,Q.call(this,P),!D8(this._private))this._private={};this._private.cy=P.cy,this._private.listeners=[],this.createEmitter()},Y=U.prototype=Object.create(Q.prototype),q=[];for(var z=0;z<q.length;z++){var G=q[z];Y[G]=Y[G]||function(){return this}}if(Y.start&&!Y.run)Y.run=function(){return this.start(),this};else if(!Y.start&&Y.run)Y.start=function(){return this.run(),this};var H=Q.prototype.stop;if(Y.stop=function(){var j=this.options;if(j&&j.animate){var P=this.animations;if(P)for(var C=0;C<P.length;C++)P[C].stop()}if(H)H.call(this);else this.emit("layoutstop");return this},!Y.destroy)Y.destroy=function(){return this};Y.cy=function(){return this._private.cy};var W=function j(P){return P._private.cy},F={addEventFields:function j(P,C){C.layout=P,C.cy=W(P),C.target=P},bubble:function j(){return!0},parent:function j(P){return W(P)}};b9(Y,{createEmitter:function j(){return this._private.emitter=new KD(F,this),this},emitter:function j(){return this._private.emitter},on:function j(P,C){return this.emitter().on(P,C),this},one:function j(P,C){return this.emitter().one(P,C),this},once:function j(P,C){return this.emitter().one(P,C),this},removeListener:function j(P,C){return this.emitter().removeListener(P,C),this},removeAllListeners:function j(){return this.emitter().removeAllListeners(),this},emit:function j(P,C){return this.emitter().emit(P,C),this}}),h8.eventAliasesOn(Y),K=U}else if(Z==="renderer"&&J!=="null"&&J!=="base"){var M=eK0("renderer","base"),B=M.prototype,O=Q,A=Q.prototype,L=function j(){M.apply(this,arguments),O.apply(this,arguments)},I=L.prototype;for(var D in B){var w=B[D],N=A[D]!=null;if(N)return X(D);I[D]=w}for(var E in A)I[E]=A[E];B.clientFunctions.forEach(function(j){I[j]=I[j]||function(){pZ("Renderer does not implement `renderer."+j+"()` on its prototype")}}),K=L}else if(Z==="__proto__"||Z==="constructor"||Z==="prototype")return pZ(Z+" is an illegal type to be registered, possibly lead to prototype pollutions");return j40({map:aK0,keys:[Z,J],value:K})}function eK0(Z,J){return C40({map:aK0,keys:[Z,J]})}function Pl0(Z,J,Q,K,X){return j40({map:oK0,keys:[Z,J,Q,K],value:X})}function Vl0(Z,J,Q,K){return C40({map:oK0,keys:[Z,J,Q,K]})}var IJ,XQ0,Zh0,I40,Jh0,Qh0,HM=function Z(J){return J&&J.instanceString&&$Z(J.instanceString)?J.instanceString():null},S9=function Z(J){return J!=null&&NJ(J)==Zh0},$Z=function Z(J){return J!=null&&NJ(J)===Jh0},JZ=function Z(J){return!r6(J)&&(Array.isArray?Array.isArray(J):J!=null&&J instanceof Array)},D8=function Z(J){return J!=null&&NJ(J)===I40&&!JZ(J)&&J.constructor===Object},Kh0=function Z(J){return J!=null&&NJ(J)===I40},K9=function Z(J){return J!=null&&NJ(J)===NJ(1)&&!isNaN(J)},Xh0=function Z(J){return K9(J)&&Math.floor(J)===J},x3=function Z(J){if(Qh0==="undefined")return;else return J!=null&&J instanceof HTMLElement},r6=function Z(J){return WM(J)||D40(J)},WM=function Z(J){return HM(J)==="collection"&&J._private.single},D40=function Z(J){return HM(J)==="collection"&&!J._private.single},d$=function Z(J){return HM(J)==="core"},N40=function Z(J){return HM(J)==="stylesheet"},Uh0=function Z(J){return HM(J)==="event"},ZU=function Z(J){if(J===void 0||J===null)return!0;else if(J===""||J.match(/^\s+$/))return!0;return!1},Yh0=function Z(J){if(typeof HTMLElement==="undefined")return!1;else return J instanceof HTMLElement},qh0=function Z(J){return D8(J)&&K9(J.x1)&&K9(J.x2)&&K9(J.y1)&&K9(J.y2)},zh0=function Z(J){return Kh0(J)&&$Z(J.then)},Gh0=function Z(){return XQ0&&XQ0.userAgent.match(/msie|trident|edge/i)},eF=function Z(J,Q){if(!Q)Q=function X(){if(arguments.length===1)return arguments[0];else if(arguments.length===0)return"undefined";var U=[];for(var Y=0;Y<arguments.length;Y++)U.push(arguments[Y]);return U.join("$")};var K=function X(){var U=this,Y=arguments,q,z=Q.apply(U,Y),G=X.cache;if(!(q=G[z]))q=G[z]=J.apply(U,Y);return q};return K.cache={},K},i$,s3,E40,UQ0=function Z(J){if(ZU(J))return J;return J.charAt(0).toUpperCase()+J.substring(1)},DJ="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Hh0,Wh0,Fh0,Mh0,Bh0="\\#[0-9a-fA-F]{3}",Rh0="\\#[0-9a-fA-F]{6}",w40=function Z(J,Q){if(J<Q)return-1;else if(J>Q)return 1;else return 0},Oh0=function Z(J,Q){return-1*w40(J,Q)},b9,Ah0=function Z(J){if(!(J.length===4||J.length===7)||J[0]!=="#")return;var Q=J.length===4,K,X,U,Y=16;if(Q)K=parseInt(J[1]+J[1],Y),X=parseInt(J[2]+J[2],Y),U=parseInt(J[3]+J[3],Y);else K=parseInt(J[1]+J[2],Y),X=parseInt(J[3]+J[4],Y),U=parseInt(J[5]+J[6],Y);return[K,X,U]},Lh0=function Z(J){var Q,K,X,U,Y,q,z,G;function H(B,O,A){if(A<0)A+=1;if(A>1)A-=1;if(A<0.16666666666666666)return B+(O-B)*6*A;if(A<0.5)return O;if(A<0.6666666666666666)return B+(O-B)*(0.6666666666666666-A)*6;return B}var W=new RegExp("^"+Fh0+"$").exec(J);if(W){if(K=parseInt(W[1]),K<0)K=(360- -1*K%360)%360;else if(K>360)K=K%360;if(K/=360,X=parseFloat(W[2]),X<0||X>100)return;if(X=X/100,U=parseFloat(W[3]),U<0||U>100)return;if(U=U/100,Y=W[4],Y!==void 0){if(Y=parseFloat(Y),Y<0||Y>1)return}if(X===0)q=z=G=Math.round(U*255);else{var F=U<0.5?U*(1+X):U+X-U*X,M=2*U-F;q=Math.round(255*H(M,F,K+0.3333333333333333)),z=Math.round(255*H(M,F,K)),G=Math.round(255*H(M,F,K-0.3333333333333333))}Q=[q,z,G,Y]}return Q},Ih0=function Z(J){var Q,K=new RegExp("^"+Hh0+"$").exec(J);if(K){Q=[];var X=[];for(var U=1;U<=3;U++){var Y=K[U];if(Y[Y.length-1]==="%")X[U]=!0;if(Y=parseFloat(Y),X[U])Y=Y/100*255;if(Y<0||Y>255)return;Q.push(Math.floor(Y))}var q=X[1]||X[2]||X[3],z=X[1]&&X[2]&&X[3];if(q&&!z)return;var G=K[4];if(G!==void 0){if(G=parseFloat(G),G<0||G>1)return;Q.push(G)}}return Q},Dh0=function Z(J){return Eh0[J.toLowerCase()]},Nh0=function Z(J){return(JZ(J)?J:null)||Dh0(J)||Ah0(J)||Ih0(J)||Lh0(J)},Eh0,j40=function Z(J){var{map:Q,keys:K}=J,X=K.length;for(var U=0;U<X;U++){var Y=K[U];if(D8(Y))throw Error("Tried to set map with object key");if(U<K.length-1){if(Q[Y]==null)Q[Y]={};Q=Q[Y]}else Q[Y]=J.value}},C40=function Z(J){var{map:Q,keys:K}=J,X=K.length;for(var U=0;U<X;U++){var Y=K[U];if(D8(Y))throw Error("Tried to get map with object key");if(Q=Q[Y],Q==null)return Q}return Q},rY,iF,Ch0,Ph0,Vh0,Sh0,r3,Th0=function(){return r3.Date.now()},B$,fh0,kh0,$h0,bh0,xh0,nz,P40,hh0,yh0,gF,mh0,gh0,ph0,lh0,dh0="[object Null]",ih0="[object Undefined]",YQ0,V40,nh0,ah0="[object Symbol]",FM,qQ0=NaN,th0,eh0,Zy0,Jy0,zQ0,Ky0="Expected a function",Xy0,Uy0,n3,R$,S40,qy0,h3=function Z(J){return qy0(J)},T5,pz=9261,T40=65599,sF=5381,f40=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pz,K=Q,X;for(;;){if(X=J.next(),X.done)break;K=K*T40+X.value|0}return K},ZM=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pz;return Q*T40+J|0},JM=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sF;return(Q<<5)+Q+J|0},zy0=function Z(J,Q){return J*2097152+Q},rX=function Z(J){return J[0]*2097152+J[1]},R3=function Z(J,Q){return[ZM(J[0],Q[0]),JM(J[1],Q[1])]},Gy0=function Z(J,Q){var K={value:0,done:!1},X=0,U=J.length,Y={next:function q(){if(X<U)K.value=J[X++];else K.done=!0;return K}};return f40(Y,Q)},nY=function Z(J,Q){var K={value:0,done:!1},X=0,U=J.length,Y={next:function q(){if(X<U)K.value=J.charCodeAt(X++);else K.done=!0;return K}};return f40(Y,Q)},v40=function Z(){return Hy0(arguments)},Hy0=function Z(J){var Q;for(var K=0;K<J.length;K++){var X=J[K];if(K===0)Q=nY(X);else Q=nY(X,Q)}return Q},GQ0=!0,Wy0,Fy0,s$,k40=function Z(){return!0},y3=function Z(){return!1},HQ0=function Z(){return 0},r$=function Z(){},pZ=function Z(J){throw new Error(J)},$40=function Z(J){if(J!==void 0)GQ0=!!J;else return GQ0},y8=function Z(J){if(!$40())return;if(Wy0)console.warn(J);else if(console.log(J),Fy0)console.trace()},My0=function Z(J){return b9({},J)},AK=function Z(J){if(J==null)return J;if(JZ(J))return J.slice();else if(D8(J))return My0(J);else return J},By0=function Z(J){return J.slice()},_40=function Z(J,Q){for(Q=J="";J++<36;Q+=J*51&52?(J^15?8^Math.random()*(J^20?16:4):4).toString(16):"-");return Q},Ry0,b40=function Z(){return Ry0},U7=function Z(J){var Q=Object.keys(J);return function(K){var X={};for(var U=0;U<Q.length;U++){var Y=Q[U],q=K==null?void 0:K[Y];X[Y]=q===void 0?J[Y]:q}return X}},JU=function Z(J,Q,K){for(var X=J.length-1;X>=0;X--)if(J[X]===Q){if(J.splice(X,1),K)break}},n$=function Z(J){J.splice(0,J.length)},Oy0=function Z(J,Q){for(var K=0;K<Q.length;K++){var X=Q[K];J.push(X)}},B4=function Z(J,Q,K){if(K)Q=E40(K,Q);return J[Q]},aX=function Z(J,Q,K,X){if(K)Q=E40(K,Q);J[Q]=X},Ay0,LK,Ly0="undefined",Iy0,ez,a3=function Z(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(J===void 0||Q===void 0||!d$(J)){pZ("An element must have a core reference and parameters set");return}var X=Q.group;if(X==null)if(Q.data&&Q.data.source!=null&&Q.data.target!=null)X="edges";else X="nodes";if(X!=="nodes"&&X!=="edges"){pZ("An element must be of type `nodes` or `edges`; you specified `"+X+"`");return}this.length=1,this[0]=this;var U=this._private={cy:J,single:!0,data:Q.data||{},position:Q.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:X,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:Q.selected?!0:!1,selectable:Q.selectable===void 0?!0:Q.selectable?!0:!1,locked:Q.locked?!0:!1,grabbed:!1,grabbable:Q.grabbable===void 0?!0:Q.grabbable?!0:!1,pannable:Q.pannable===void 0?X==="edges"?!0:!1:Q.pannable?!0:!1,active:!1,classes:new ez,animation:{current:[],queue:[]},rscratch:{},scratch:Q.scratch||{},edges:[],children:[],parent:Q.parent&&Q.parent.isNode()?Q.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(U.position.x==null)U.position.x=0;if(U.position.y==null)U.position.y=0;if(Q.renderedPosition){var Y=Q.renderedPosition,q=J.pan(),z=J.zoom();U.position={x:(Y.x-q.x)/z,y:(Y.y-q.y)/z}}var G=[];if(JZ(Q.classes))G=Q.classes;else if(S9(Q.classes))G=Q.classes.split(/\s+/);for(var H=0,W=G.length;H<W;H++){var F=G[H];if(!F||F==="")continue;U.classes.add(F)}this.createEmitter();var M=Q.style||Q.css;if(M)y8("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(M);if(K===void 0||K)this.restore()},WQ0=function Z(J){return J={bfs:J.bfs||!J.dfs,dfs:J.dfs||!J.bfs},function Q(K,X,U){var Y;if(D8(K)&&!r6(K))Y=K,K=Y.roots||Y.root,X=Y.visit,U=Y.directed;U=arguments.length===2&&!$Z(X)?X:U,X=$Z(X)?X:function(){};var q=this._private.cy,z=K=S9(K)?this.filter(K):K,G=[],H=[],W={},F={},M={},B=0,O,A=this.byGroup(),L=A.nodes,I=A.edges;for(var D=0;D<z.length;D++){var w=z[D],N=w.id();if(w.isNode()){if(G.unshift(w),J.bfs)M[N]=!0,H.push(w);F[N]=0}}var E=function S(){var $=J.bfs?G.shift():G.pop(),f=$.id();if(J.dfs){if(M[f])return"continue";M[f]=!0,H.push($)}var h=F[f],v=W[f],b=v!=null?v.source():null,y=v!=null?v.target():null,k=v==null?void 0:$.same(b)?y[0]:b[0],g=void 0;if(g=X($,v,k,B++,h),g===!0)return O=$,"break";if(g===!1)return"break";var u=$.connectedEdges().filter(function(t){return(!U||t.source().same($))&&I.has(t)});for(var i=0;i<u.length;i++){var e=u[i],J0=e.connectedNodes().filter(function(t){return!t.same($)&&L.has(t)}),z0=J0.id();if(J0.length!==0&&!M[z0]){if(J0=J0[0],G.push(J0),J.bfs)M[z0]=!0,H.push(J0);W[z0]=e,F[z0]=F[f]+1}}};while(G.length!==0){var j=E();if(j==="continue")continue;if(j==="break")break}var P=q.collection();for(var C=0;C<H.length;C++){var T=H[C],V=W[T.id()];if(V!=null)P.push(V);P.push(T)}return{path:q.collection(P),found:q.collection(O)}}},QM,Dy0,MM,Ny0,Ey0,wy0,jy0,Cy0,Py0,Vy0,Sy0,Ty0,fy0,vy0=function Z(J,Q,K){if(K.length===0)pZ("Karger-Stein must be run on a connected (sub)graph");var X=K[J],U=X[1],Y=X[2],q=Q[U],z=Q[Y],G=K;for(var H=G.length-1;H>=0;H--){var W=G[H],F=W[1],M=W[2];if(Q[F]===q&&Q[M]===z||Q[F]===z&&Q[M]===q)G.splice(H,1)}for(var B=0;B<G.length;B++){var O=G[B];if(O[1]===z)G[B]=O.slice(),G[B][1]=q;else if(O[2]===z)G[B]=O.slice(),G[B][2]=q}for(var A=0;A<Q.length;A++)if(Q[A]===z)Q[A]=q;return G},O$=function Z(J,Q,K,X){while(K>X){var U=Math.floor(Math.random()*Q.length);Q=vy0(U,J,Q),K--}return Q},ky0,$y0=function Z(J){return{x:J.x,y:J.y}},o3=function Z(J,Q,K){return{x:J.x*Q+K.x,y:J.y*Q+K.y}},x40=function Z(J,Q,K){return{x:(J.x-K.x)/Q,y:(J.y-K.y)/Q}},cz=function Z(J){return{x:J[0],y:J[1]}},_y0=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=1/0;for(var U=Q;U<K;U++){var Y=J[U];if(isFinite(Y))X=Math.min(Y,X)}return X},by0=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=-1/0;for(var U=Q;U<K;U++){var Y=J[U];if(isFinite(Y))X=Math.max(Y,X)}return X},xy0=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=0,U=0;for(var Y=Q;Y<K;Y++){var q=J[Y];if(isFinite(q))X+=q,U++}return X/U},hy0=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:J.length,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(X)J=J.slice(Q,K);else{if(K<J.length)J.splice(K,J.length-K);if(Q>0)J.splice(0,Q)}var q=0;for(var z=J.length-1;z>=0;z--){var G=J[z];if(Y){if(!isFinite(G))J[z]=-1/0,q++}else J.splice(z,1)}if(U)J.sort(function(F,M){return F-M});var H=J.length,W=Math.floor(H/2);if(H%2!==0)return J[W+1+q];else return(J[W-1+q]+J[W+q])/2},yy0=function Z(J){return Math.PI*J/180},O3=function Z(J,Q){return Math.atan2(Q,J)-Math.PI/2},a$,h40=function Z(J){if(J>0)return 1;else if(J<0)return-1;else return 0},aY=function Z(J,Q){return Math.sqrt(cY(J,Q))},cY=function Z(J,Q){var K=Q.x-J.x,X=Q.y-J.y;return K*K+X*X},uy0=function Z(J){var Q=J.length,K=0;for(var X=0;X<Q;X++)K+=J[X];for(var U=0;U<Q;U++)J[U]=J[U]/K;return J},bJ=function Z(J,Q,K,X){return(1-X)*(1-X)*J+2*(1-X)*X*Q+X*X*K},dz=function Z(J,Q,K,X){return{x:bJ(J.x,Q.x,K.x,X),y:bJ(J.y,Q.y,K.y,X)}},my0=function Z(J,Q,K,X){var U={x:Q.x-J.x,y:Q.y-J.y},Y=aY(J,Q),q={x:U.x/Y,y:U.y/Y};return K=K==null?0:K,X=X!=null?X:K*Y,{x:J.x+q.x*X,y:J.y+q.y*X}},KM=function Z(J,Q,K){return Math.max(J,Math.min(K,Q))},D6=function Z(J){if(J==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};else if(J.x1!=null&&J.y1!=null){if(J.x2!=null&&J.y2!=null&&J.x2>=J.x1&&J.y2>=J.y1)return{x1:J.x1,y1:J.y1,x2:J.x2,y2:J.y2,w:J.x2-J.x1,h:J.y2-J.y1};else if(J.w!=null&&J.h!=null&&J.w>=0&&J.h>=0)return{x1:J.x1,y1:J.y1,x2:J.x1+J.w,y2:J.y1+J.h,w:J.w,h:J.h}}},gy0=function Z(J){return{x1:J.x1,x2:J.x2,w:J.w,y1:J.y1,y2:J.y2,h:J.h}},py0=function Z(J){J.x1=1/0,J.y1=1/0,J.x2=-1/0,J.y2=-1/0,J.w=0,J.h=0},cy0=function Z(J,Q,K){return{x1:J.x1+Q,x2:J.x2+Q,y1:J.y1+K,y2:J.y2+K,w:J.w,h:J.h}},y40=function Z(J,Q){J.x1=Math.min(J.x1,Q.x1),J.x2=Math.max(J.x2,Q.x2),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,Q.y1),J.y2=Math.max(J.y2,Q.y2),J.h=J.y2-J.y1},ly0=function Z(J,Q,K){J.x1=Math.min(J.x1,Q),J.x2=Math.max(J.x2,Q),J.w=J.x2-J.x1,J.y1=Math.min(J.y1,K),J.y2=Math.max(J.y2,K),J.h=J.y2-J.y1},V3=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return J.x1-=Q,J.x2+=Q,J.y1-=Q,J.y2+=Q,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},S3=function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],K,X,U,Y;if(Q.length===1)K=X=U=Y=Q[0];else if(Q.length===2)K=U=Q[0],Y=X=Q[1];else if(Q.length===4){var q=F4(Q,4);K=q[0],X=q[1],U=q[2],Y=q[3]}return J.x1-=Y,J.x2+=X,J.y1-=K,J.y2+=U,J.w=J.x2-J.x1,J.h=J.y2-J.y1,J},FQ0=function Z(J,Q){J.x1=Q.x1,J.y1=Q.y1,J.x2=Q.x2,J.y2=Q.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},o$=function Z(J,Q){if(J.x1>Q.x2)return!1;if(Q.x1>J.x2)return!1;if(J.x2<Q.x1)return!1;if(Q.x2<J.x1)return!1;if(J.y2<Q.y1)return!1;if(Q.y2<J.y1)return!1;if(J.y1>Q.y2)return!1;if(Q.y1>J.y2)return!1;return!0},az=function Z(J,Q,K){return J.x1<=Q&&Q<=J.x2&&J.y1<=K&&K<=J.y2},dy0=function Z(J,Q){return az(J,Q.x,Q.y)},u40=function Z(J,Q){return az(J,Q.x1,Q.y1)&&az(J,Q.x2,Q.y2)},m40=function Z(J,Q,K,X,U,Y,q){var z=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",G=z==="auto"?oY(U,Y):z,H=U/2,W=Y/2;G=Math.min(G,H,W);var F=G!==H,M=G!==W,B;if(F){var O=K-H+G-q,A=X-W-q,L=K+H-G+q,I=A;if(B=oX(J,Q,K,X,O,A,L,I,!1),B.length>0)return B}if(M){var D=K+H+q,w=X-W+G-q,N=D,E=X+W-G+q;if(B=oX(J,Q,K,X,D,w,N,E,!1),B.length>0)return B}if(F){var j=K-H+G-q,P=X+W+q,C=K+H-G+q,T=P;if(B=oX(J,Q,K,X,j,P,C,T,!1),B.length>0)return B}if(M){var V=K-H-q,S=X-W+G-q,$=V,f=X+W-G+q;if(B=oX(J,Q,K,X,V,S,$,f,!1),B.length>0)return B}var h;{var v=K-H+G,b=X-W+G;if(h=rF(J,Q,K,X,v,b,G+q),h.length>0&&h[0]<=v&&h[1]<=b)return[h[0],h[1]]}{var y=K+H-G,k=X-W+G;if(h=rF(J,Q,K,X,y,k,G+q),h.length>0&&h[0]>=y&&h[1]<=k)return[h[0],h[1]]}{var g=K+H-G,u=X+W-G;if(h=rF(J,Q,K,X,g,u,G+q),h.length>0&&h[0]>=g&&h[1]>=u)return[h[0],h[1]]}{var i=K-H+G,e=X+W-G;if(h=rF(J,Q,K,X,i,e,G+q),h.length>0&&h[0]<=i&&h[1]>=e)return[h[0],h[1]]}return[]},iy0=function Z(J,Q,K,X,U,Y,q){var z=q,G=Math.min(K,U),H=Math.max(K,U),W=Math.min(X,Y),F=Math.max(X,Y);return G-z<=J&&J<=H+z&&W-z<=Q&&Q<=F+z},sy0=function Z(J,Q,K,X,U,Y,q,z,G){var H={x1:Math.min(K,q,U)-G,x2:Math.max(K,q,U)+G,y1:Math.min(X,z,Y)-G,y2:Math.max(X,z,Y)+G};if(J<H.x1||J>H.x2||Q<H.y1||Q>H.y2)return!1;else return!0},ry0=function Z(J,Q,K,X){K-=X;var U=Q*Q-4*J*K;if(U<0)return[];var Y=Math.sqrt(U),q=2*J,z=(-Q+Y)/q,G=(-Q-Y)/q;return[z,G]},ny0=function Z(J,Q,K,X,U){var Y=0.00001;if(J===0)J=Y;Q/=J,K/=J,X/=J;var q,z,G,H,W,F,M,B;if(z=(3*K-Q*Q)/9,G=-(27*X)+Q*(9*K-2*(Q*Q)),G/=54,q=z*z*z+G*G,U[1]=0,M=Q/3,q>0){W=G+Math.sqrt(q),W=W<0?-Math.pow(-W,0.3333333333333333):Math.pow(W,0.3333333333333333),F=G-Math.sqrt(q),F=F<0?-Math.pow(-F,0.3333333333333333):Math.pow(F,0.3333333333333333),U[0]=-M+W+F,M+=(W+F)/2,U[4]=U[2]=-M,M=Math.sqrt(3)*(-F+W)/2,U[3]=M,U[5]=-M;return}if(U[5]=U[3]=0,q===0){B=G<0?-Math.pow(-G,0.3333333333333333):Math.pow(G,0.3333333333333333),U[0]=-M+2*B,U[4]=U[2]=-(B+M);return}z=-z,H=z*z*z,H=Math.acos(G/Math.sqrt(H)),B=2*Math.sqrt(z),U[0]=-M+B*Math.cos(H/3),U[2]=-M+B*Math.cos((H+2*Math.PI)/3),U[4]=-M+B*Math.cos((H+4*Math.PI)/3);return},ay0=function Z(J,Q,K,X,U,Y,q,z){var G=1*K*K-4*K*U+2*K*q+4*U*U-4*U*q+q*q+X*X-4*X*Y+2*X*z+4*Y*Y-4*Y*z+z*z,H=9*K*U-3*K*K-3*K*q-6*U*U+3*U*q+9*X*Y-3*X*X-3*X*z-6*Y*Y+3*Y*z,W=3*K*K-6*K*U+K*q-K*J+2*U*U+2*U*J-q*J+3*X*X-6*X*Y+X*z-X*Q+2*Y*Y+2*Y*Q-z*Q,F=1*K*U-K*K+K*J-U*J+X*Y-X*X+X*Q-Y*Q,M=[];ny0(G,H,W,F,M);var B=0.0000001,O=[];for(var A=0;A<6;A+=2)if(Math.abs(M[A+1])<B&&M[A]>=0&&M[A]<=1)O.push(M[A]);O.push(1),O.push(0);var L=-1,I,D,w;for(var N=0;N<O.length;N++)if(I=Math.pow(1-O[N],2)*K+2*(1-O[N])*O[N]*U+O[N]*O[N]*q,D=Math.pow(1-O[N],2)*X+2*(1-O[N])*O[N]*Y+O[N]*O[N]*z,w=Math.pow(I-J,2)+Math.pow(D-Q,2),L>=0){if(w<L)L=w}else L=w;return L},oy0=function Z(J,Q,K,X,U,Y){var q=[J-K,Q-X],z=[U-K,Y-X],G=z[0]*z[0]+z[1]*z[1],H=q[0]*q[0]+q[1]*q[1],W=q[0]*z[0]+q[1]*z[1],F=W*W/G;if(W<0)return H;if(F>G)return(J-U)*(J-U)+(Q-Y)*(Q-Y);return H-F},I6=function Z(J,Q,K){var X,U,Y,q,z,G=0;for(var H=0;H<K.length/2;H++){if(X=K[H*2],U=K[H*2+1],H+1<K.length/2)Y=K[(H+1)*2],q=K[(H+1)*2+1];else Y=K[(H+1-K.length/2)*2],q=K[(H+1-K.length/2)*2+1];if(X==J&&Y==J);else if(X>=J&&J>=Y||X<=J&&J<=Y){if(z=(J-X)/(Y-X)*(q-U)+U,z>Q)G++}else continue}if(G%2===0)return!1;else return!0},f5=function Z(J,Q,K,X,U,Y,q,z,G){var H=new Array(K.length),W;if(z[0]!=null)if(W=Math.atan(z[1]/z[0]),z[0]<0)W=W+Math.PI/2;else W=-W-Math.PI/2;else W=z;var F=Math.cos(-W),M=Math.sin(-W);for(var B=0;B<H.length/2;B++)H[B*2]=Y/2*(K[B*2]*F-K[B*2+1]*M),H[B*2+1]=q/2*(K[B*2+1]*F+K[B*2]*M),H[B*2]+=X,H[B*2+1]+=U;var O;if(G>0){var A=m3(H,-G);O=u3(A)}else O=H;return I6(J,Q,O)},ty0=function Z(J,Q,K,X,U,Y,q,z){var G=new Array(K.length*2);for(var H=0;H<z.length;H++){var W=z[H];G[H*4+0]=W.startX,G[H*4+1]=W.startY,G[H*4+2]=W.stopX,G[H*4+3]=W.stopY;var F=Math.pow(W.cx-J,2)+Math.pow(W.cy-Q,2);if(F<=Math.pow(W.radius,2))return!0}return I6(J,Q,G)},u3=function Z(J){var Q=new Array(J.length/2),K,X,U,Y,q,z,G,H;for(var W=0;W<J.length/4;W++){if(K=J[W*4],X=J[W*4+1],U=J[W*4+2],Y=J[W*4+3],W<J.length/4-1)q=J[(W+1)*4],z=J[(W+1)*4+1],G=J[(W+1)*4+2],H=J[(W+1)*4+3];else q=J[0],z=J[1],G=J[2],H=J[3];var F=oX(K,X,U,Y,q,z,G,H,!0);Q[W*2]=F[0],Q[W*2+1]=F[1]}return Q},m3=function Z(J,Q){var K=new Array(J.length*2),X,U,Y,q;for(var z=0;z<J.length/2;z++){if(X=J[z*2],U=J[z*2+1],z<J.length/2-1)Y=J[(z+1)*2],q=J[(z+1)*2+1];else Y=J[0],q=J[1];var G=q-U,H=-(Y-X),W=Math.sqrt(G*G+H*H),F=G/W,M=H/W;K[z*4]=X+F*Q,K[z*4+1]=U+M*Q,K[z*4+2]=Y+F*Q,K[z*4+3]=q+M*Q}return K},ey0=function Z(J,Q,K,X,U,Y){var q=K-J,z=X-Q;q/=U,z/=Y;var G=Math.sqrt(q*q+z*z),H=G-1;if(H<0)return[];var W=H/G;return[(K-J)*W+J,(X-Q)*W+Q]},sY=function Z(J,Q,K,X,U,Y,q){return J-=U,Q-=Y,J/=K/2+q,Q/=X/2+q,J*J+Q*Q<=1},rF=function Z(J,Q,K,X,U,Y,q){var z=[K-J,X-Q],G=[J-U,Q-Y],H=z[0]*z[0]+z[1]*z[1],W=2*(G[0]*z[0]+G[1]*z[1]),F=G[0]*G[0]+G[1]*G[1]-q*q,M=W*W-4*H*F;if(M<0)return[];var B=(-W+Math.sqrt(M))/(2*H),O=(-W-Math.sqrt(M))/(2*H),A=Math.min(B,O),L=Math.max(B,O),I=[];if(A>=0&&A<=1)I.push(A);if(L>=0&&L<=1)I.push(L);if(I.length===0)return[];var D=I[0]*z[0]+J,w=I[0]*z[1]+Q;if(I.length>1)if(I[0]==I[1])return[D,w];else{var N=I[1]*z[0]+J,E=I[1]*z[1]+Q;return[D,w,N,E]}else return[D,w]},A$=function Z(J,Q,K){if(Q<=J&&J<=K||K<=J&&J<=Q)return J;else if(J<=Q&&Q<=K||K<=Q&&Q<=J)return Q;else return K},oX=function Z(J,Q,K,X,U,Y,q,z,G){var H=J-U,W=K-J,F=q-U,M=Q-Y,B=X-Q,O=z-Y,A=F*M-O*H,L=W*M-B*H,I=O*W-F*B;if(I!==0){var D=A/I,w=L/I,N=0.001,E=0-N,j=1+N;if(E<=D&&D<=j&&E<=w&&w<=j)return[J+D*W,Q+D*B];else if(!G)return[];else return[J+D*W,Q+D*B]}else if(A===0||L===0){if(A$(J,K,q)===q)return[q,z];if(A$(J,K,U)===U)return[U,Y];if(A$(U,q,K)===K)return[K,X];return[]}else return[]},XM=function Z(J,Q,K,X,U,Y,q,z){var G=[],H,W=new Array(K.length),F=!0;if(Y==null)F=!1;var M;if(F){for(var B=0;B<W.length/2;B++)W[B*2]=K[B*2]*Y+X,W[B*2+1]=K[B*2+1]*q+U;if(z>0){var O=m3(W,-z);M=u3(O)}else M=W}else M=K;var A,L,I,D;for(var w=0;w<M.length/2;w++){if(A=M[w*2],L=M[w*2+1],w<M.length/2-1)I=M[(w+1)*2],D=M[(w+1)*2+1];else I=M[0],D=M[1];if(H=oX(J,Q,X,U,A,L,I,D),H.length!==0)G.push(H[0],H[1])}return G},Zu0=function Z(J,Q,K,X,U,Y,q,z,G){var H=[],W,F=new Array(K.length*2);G.forEach(function(I,D){if(D===0)F[F.length-2]=I.startX,F[F.length-1]=I.startY;else F[D*4-2]=I.startX,F[D*4-1]=I.startY;if(F[D*4]=I.stopX,F[D*4+1]=I.stopY,W=rF(J,Q,X,U,I.cx,I.cy,I.radius),W.length!==0)H.push(W[0],W[1])});for(var M=0;M<F.length/4;M++)if(W=oX(J,Q,X,U,F[M*4],F[M*4+1],F[M*4+2],F[M*4+3],!1),W.length!==0)H.push(W[0],W[1]);if(H.length>2){var B=[H[0],H[1]],O=Math.pow(B[0]-J,2)+Math.pow(B[1]-Q,2);for(var A=1;A<H.length/2;A++){var L=Math.pow(H[A*2]-J,2)+Math.pow(H[A*2+1]-Q,2);if(L<=O)B[0]=H[A*2],B[1]=H[A*2+1],O=L}return B}return H},A3=function Z(J,Q,K){var X=[J[0]-Q[0],J[1]-Q[1]],U=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Y=(U-K)/U;if(Y<0)Y=0.00001;return[Q[0]+Y*X[0],Q[1]+Y*X[1]]},g7=function Z(J,Q){var K=V$(J,Q);return K=g40(K),K},g40=function Z(J){var Q,K,X=J.length/2,U=1/0,Y=1/0,q=-1/0,z=-1/0;for(var G=0;G<X;G++)Q=J[2*G],K=J[2*G+1],U=Math.min(U,Q),q=Math.max(q,Q),Y=Math.min(Y,K),z=Math.max(z,K);var H=2/(q-U),W=2/(z-Y);for(var F=0;F<X;F++)Q=J[2*F]=J[2*F]*H,K=J[2*F+1]=J[2*F+1]*W,U=Math.min(U,Q),q=Math.max(q,Q),Y=Math.min(Y,K),z=Math.max(z,K);if(Y<-1)for(var M=0;M<X;M++)K=J[2*M+1]=J[2*M+1]+(-1-Y);return J},V$=function Z(J,Q){var K=1/J*2*Math.PI,X=J%2===0?Math.PI/2+K/2:Math.PI/2;X+=Q;var U=new Array(J*2),Y;for(var q=0;q<J;q++)Y=q*K+X,U[2*q]=Math.cos(Y),U[2*q+1]=Math.sin(-Y);return U},oY=function Z(J,Q){return Math.min(J/4,Q/4,8)},p40=function Z(J,Q){return Math.min(J/10,Q/10,8)},t$=function Z(){return 8},Ju0=function Z(J,Q,K){return[J-2*Q+K,2*(Q-J),J]},S$=function Z(J,Q){return{heightOffset:Math.min(15,0.05*Q),widthOffset:Math.min(100,0.25*J),ctrlPtOffsetPct:0.05}},Qu0,Ku0,MQ0,iz,BQ0,sz,Xu0,T$,Uu0,Yu0=function Z(J){return Uu0(J)},qu0=function Z(J,Q){var K=0;for(var X=0;X<Q.length;X++)K+=Q[X](J);return K},zu0=function Z(J,Q,K){for(var X=0;X<Q;X++)J[X*Q+X]=K},c40=function Z(J,Q){var K;for(var X=0;X<Q;X++){K=0;for(var U=0;U<Q;U++)K+=J[U*Q+X];for(var Y=0;Y<Q;Y++)J[Y*Q+X]=J[Y*Q+X]/K}},Gu0=function Z(J,Q,K){var X=new Array(K*K);for(var U=0;U<K;U++){for(var Y=0;Y<K;Y++)X[U*K+Y]=0;for(var q=0;q<K;q++)for(var z=0;z<K;z++)X[U*K+z]+=J[U*K+q]*Q[q*K+z]}return X},Hu0=function Z(J,Q,K){var X=J.slice(0);for(var U=1;U<K;U++)J=Gu0(J,X,Q);return J},Wu0=function Z(J,Q,K){var X=new Array(Q*Q);for(var U=0;U<Q*Q;U++)X[U]=Math.pow(J[U],K);return c40(X,Q),X},Fu0=function Z(J,Q,K,X){for(var U=0;U<K;U++){var Y=Math.round(J[U]*Math.pow(10,X))/Math.pow(10,X),q=Math.round(Q[U]*Math.pow(10,X))/Math.pow(10,X);if(Y!==q)return!1}return!0},Mu0=function Z(J,Q,K,X){var U=[];for(var Y=0;Y<Q;Y++){var q=[];for(var z=0;z<Q;z++)if(Math.round(J[Y*Q+z]*1000)/1000>0)q.push(K[z]);if(q.length!==0)U.push(X.collection(q))}return U},Bu0=function Z(J,Q){for(var K=0;K<J.length;K++)if(!Q[K]||J[K].id()!==Q[K].id())return!1;return!0},Ru0=function Z(J){for(var Q=0;Q<J.length;Q++)for(var K=0;K<J.length;K++)if(Q!=K&&Bu0(J[Q],J[K]))J.splice(K,1);return J},RQ0=function Z(J){var Q=this.nodes(),K=this.edges(),X=this.cy(),U=Yu0(J),Y={};for(var q=0;q<Q.length;q++)Y[Q[q].id()]=q;var z=Q.length,G=z*z,H=new Array(G),W;for(var F=0;F<G;F++)H[F]=0;for(var M=0;M<K.length;M++){var B=K[M],O=Y[B.source().id()],A=Y[B.target().id()],L=qu0(B,U.attributes);H[O*z+A]+=L,H[A*z+O]+=L}zu0(H,z,U.multFactor),c40(H,z);var I=!0,D=0;while(I&&D<U.maxIterations){if(I=!1,W=Hu0(H,z,U.expandFactor),H=Wu0(W,z,U.inflateFactor),!Fu0(H,W,G,4))I=!0;D++}var w=Mu0(H,z,Q,X);return w=Ru0(w),w},Ou0,Au0=function Z(J){return J},l40=function Z(J,Q){return Math.abs(Q-J)},OQ0=function Z(J,Q,K){return J+l40(Q,K)},AQ0=function Z(J,Q,K){return J+Math.pow(K-Q,2)},Lu0=function Z(J){return Math.sqrt(J)},Iu0=function Z(J,Q,K){return Math.max(J,l40(Q,K))},pF=function Z(J,Q,K,X,U){var Y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Au0,q=X,z,G;for(var H=0;H<J;H++)z=Q(H),G=K(H),q=U(q,z,G);return Y(q)},oz,Du0,e$=function Z(J){return Du0(J)},g3=function Z(J,Q,K,X,U){var Y=U!=="kMedoids",q=Y?function(W){return K[W]}:function(W){return X[W](K)},z=function W(F){return X[F](Q)},G=K,H=Q;return t3(J,X.length,q,z,G,H)},L$=function Z(J,Q,K){var X=K.length,U=new Array(X),Y=new Array(X),q=new Array(Q),z=null;for(var G=0;G<X;G++)U[G]=J.min(K[G]).value,Y[G]=J.max(K[G]).value;for(var H=0;H<Q;H++){z=[];for(var W=0;W<X;W++)z[W]=Math.random()*(Y[W]-U[W])+U[W];q[H]=z}return q},d40=function Z(J,Q,K,X,U){var Y=1/0,q=0;for(var z=0;z<Q.length;z++){var G=g3(K,J,Q[z],X,U);if(G<Y)Y=G,q=z}return q},i40=function Z(J,Q,K){var X=[],U=null;for(var Y=0;Y<Q.length;Y++)if(U=Q[Y],K[U.id()]===J)X.push(U);return X},Nu0=function Z(J,Q,K){return Math.abs(Q-J)<=K},Eu0=function Z(J,Q,K){for(var X=0;X<J.length;X++)for(var U=0;U<J[X].length;U++){var Y=Math.abs(J[X][U]-Q[X][U]);if(Y>K)return!1}return!0},wu0=function Z(J,Q,K){for(var X=0;X<K;X++)if(J===Q[X])return!0;return!1},LQ0=function Z(J,Q){var K=new Array(Q);if(J.length<50)for(var X=0;X<Q;X++){var U=J[Math.floor(Math.random()*J.length)];while(wu0(U,K,X))U=J[Math.floor(Math.random()*J.length)];K[X]=U}else for(var Y=0;Y<Q;Y++)K[Y]=J[Math.floor(Math.random()*J.length)];return K},IQ0=function Z(J,Q,K){var X=0;for(var U=0;U<Q.length;U++)X+=g3("manhattan",Q[U],J,K,"kMedoids");return X},ju0=function Z(J){var Q=this.cy(),K=this.nodes(),X=null,U=e$(J),Y=new Array(U.k),q={},z;if(U.testMode)if(typeof U.testCentroids==="number")U.testCentroids,z=L$(K,U.k,U.attributes);else if(NJ(U.testCentroids)==="object")z=U.testCentroids;else z=L$(K,U.k,U.attributes);else z=L$(K,U.k,U.attributes);var G=!0,H=0;while(G&&H<U.maxIterations){for(var W=0;W<K.length;W++)X=K[W],q[X.id()]=d40(X,z,U.distance,U.attributes,"kMeans");G=!1;for(var F=0;F<U.k;F++){var M=i40(F,K,q);if(M.length===0)continue;var B=U.attributes.length,O=z[F],A=new Array(B),L=new Array(B);for(var I=0;I<B;I++){L[I]=0;for(var D=0;D<M.length;D++)X=M[D],L[I]+=U.attributes[I](X);if(A[I]=L[I]/M.length,!Nu0(A[I],O[I],U.sensitivityThreshold))G=!0}z[F]=A,Y[F]=Q.collection(M)}H++}return Y},Cu0=function Z(J){var Q=this.cy(),K=this.nodes(),X=null,U=e$(J),Y=new Array(U.k),q,z={},G,H=new Array(U.k);if(U.testMode)if(typeof U.testCentroids==="number");else if(NJ(U.testCentroids)==="object")q=U.testCentroids;else q=LQ0(K,U.k);else q=LQ0(K,U.k);var W=!0,F=0;while(W&&F<U.maxIterations){for(var M=0;M<K.length;M++)X=K[M],z[X.id()]=d40(X,q,U.distance,U.attributes,"kMedoids");W=!1;for(var B=0;B<q.length;B++){var O=i40(B,K,z);if(O.length===0)continue;H[B]=IQ0(q[B],O,U.attributes);for(var A=0;A<O.length;A++)if(G=IQ0(O[A],O,U.attributes),G<H[B])H[B]=G,q[B]=O[A],W=!0;Y[B]=Q.collection(O)}F++}return Y},Pu0=function Z(J,Q,K,X,U){var Y,q;for(var z=0;z<Q.length;z++)for(var G=0;G<J.length;G++)X[z][G]=Math.pow(K[z][G],U.m);for(var H=0;H<J.length;H++)for(var W=0;W<U.attributes.length;W++){Y=0,q=0;for(var F=0;F<Q.length;F++)Y+=X[F][H]*U.attributes[W](Q[F]),q+=X[F][H];J[H][W]=Y/q}},Vu0=function Z(J,Q,K,X,U){for(var Y=0;Y<J.length;Y++)Q[Y]=J[Y].slice();var q,z,G,H=2/(U.m-1);for(var W=0;W<K.length;W++)for(var F=0;F<X.length;F++){q=0;for(var M=0;M<K.length;M++)z=g3(U.distance,X[F],K[W],U.attributes,"cmeans"),G=g3(U.distance,X[F],K[M],U.attributes,"cmeans"),q+=Math.pow(z/G,H);J[F][W]=1/q}},Su0=function Z(J,Q,K,X){var U=new Array(K.k);for(var Y=0;Y<U.length;Y++)U[Y]=[];var q,z;for(var G=0;G<Q.length;G++){q=-1/0,z=-1;for(var H=0;H<Q[0].length;H++)if(Q[G][H]>q)q=Q[G][H],z=H;U[z].push(J[G])}for(var W=0;W<U.length;W++)U[W]=X.collection(U[W]);return U},DQ0=function Z(J){var Q=this.cy(),K=this.nodes(),X=e$(J),U,Y,q,z,G;z=new Array(K.length);for(var H=0;H<K.length;H++)z[H]=new Array(X.k);q=new Array(K.length);for(var W=0;W<K.length;W++)q[W]=new Array(X.k);for(var F=0;F<K.length;F++){var M=0;for(var B=0;B<X.k;B++)q[F][B]=Math.random(),M+=q[F][B];for(var O=0;O<X.k;O++)q[F][O]=q[F][O]/M}Y=new Array(X.k);for(var A=0;A<X.k;A++)Y[A]=new Array(X.attributes.length);G=new Array(K.length);for(var L=0;L<K.length;L++)G[L]=new Array(X.k);var I=!0,D=0;while(I&&D<X.maxIterations){if(I=!1,Pu0(Y,K,q,G,X),Vu0(q,z,Y,K,X),!Eu0(q,z,X.sensitivityThreshold))I=!0;D++}return U=Su0(K,q,X,Q),{clusters:U,degreeOfMembership:q}},Tu0,fu0,vu0,ku0=function Z(J){var Q=fu0(J),K=vu0[Q.linkage];if(K!=null)Q.linkage=K;return Q},NQ0=function Z(J,Q,K,X,U){var Y=0,q=1/0,z,G=U.attributes,H=function P(C,T){return t3(U.distance,G.length,function(V){return G[V](C)},function(V){return G[V](T)},C,T)};for(var W=0;W<J.length;W++){var F=J[W].key,M=K[F][X[F]];if(M<q)Y=F,q=M}if(U.mode==="threshold"&&q>=U.threshold||U.mode==="dendrogram"&&J.length===1)return!1;var B=Q[Y],O=Q[X[Y]],A;if(U.mode==="dendrogram")A={left:B,right:O,key:B.key};else A={value:B.value.concat(O.value),key:B.key};J[B.index]=A,J.splice(O.index,1),Q[B.key]=A;for(var L=0;L<J.length;L++){var I=J[L];if(B.key===I.key)z=1/0;else if(U.linkage==="min"){if(z=K[B.key][I.key],K[B.key][I.key]>K[O.key][I.key])z=K[O.key][I.key]}else if(U.linkage==="max"){if(z=K[B.key][I.key],K[B.key][I.key]<K[O.key][I.key])z=K[O.key][I.key]}else if(U.linkage==="mean")z=(K[B.key][I.key]*B.size+K[O.key][I.key]*O.size)/(B.size+O.size);else if(U.mode==="dendrogram")z=H(I.value,B.value);else z=H(I.value[0],B.value[0]);K[B.key][I.key]=K[I.key][B.key]=z}for(var D=0;D<J.length;D++){var w=J[D].key;if(X[w]===B.key||X[w]===O.key){var N=w;for(var E=0;E<J.length;E++){var j=J[E].key;if(K[w][j]<K[w][N])N=j}X[w]=N}J[D].index=D}return B.key=O.key=B.index=O.index=null,!0},L3=function Z(J,Q,K){if(!J)return;if(J.value)Q.push(J.value);else{if(J.left)Z(J.left,Q);if(J.right)Z(J.right,Q)}},$u0=function Z(J,Q){if(!J)return"";if(J.left&&J.right){var K=Z(J.left,Q),X=Z(J.right,Q),U=Q.add({group:"nodes",data:{id:K+","+X}});return Q.add({group:"edges",data:{source:K,target:U.id()}}),Q.add({group:"edges",data:{source:X,target:U.id()}}),U.id()}else if(J.value)return J.value.id()},_u0=function Z(J,Q,K){if(!J)return[];var X=[],U=[],Y=[];if(Q===0){if(J.left)L3(J.left,X);if(J.right)L3(J.right,U);return Y=X.concat(U),[K.collection(Y)]}else if(Q===1)if(J.value)return[K.collection(J.value)];else{if(J.left)L3(J.left,X);if(J.right)L3(J.right,U);return[K.collection(X),K.collection(U)]}else if(J.value)return[K.collection(J.value)];else{if(J.left)X=Z(J.left,Q-1,K);if(J.right)U=Z(J.right,Q-1,K);return X.concat(U)}},EQ0=function Z(J){var Q=this.cy(),K=this.nodes(),X=ku0(J),U=X.attributes,Y=function I(D,w){return t3(X.distance,U.length,function(N){return U[N](D)},function(N){return U[N](w)},D,w)},q=[],z=[],G=[],H=[];for(var W=0;W<K.length;W++){var F={value:X.mode==="dendrogram"?K[W]:[K[W]],key:W,index:W};q[W]=F,H[W]=F,z[W]=[],G[W]=0}for(var M=0;M<q.length;M++)for(var B=0;B<=M;B++){var O=void 0;if(X.mode==="dendrogram")O=M===B?1/0:Y(q[M].value,q[B].value);else O=M===B?1/0:Y(q[M].value[0],q[B].value[0]);if(z[M][B]=O,z[B][M]=O,O<z[M][G[M]])G[M]=B}var A=NQ0(q,H,z,G,X);while(A)A=NQ0(q,H,z,G,X);var L;if(X.mode==="dendrogram"){if(L=_u0(q[0],X.dendrogramDepth,Q),X.addDendrogram)$u0(q[0],Q)}else L=new Array(q.length),q.forEach(function(I,D){I.key=I.index=null,L[D]=Q.collection(I.value)});return L},bu0,xu0,hu0=function Z(J){var{damping:Q,preference:K}=J;if(!(0.5<=Q&&Q<1))pZ("Damping must range on [0.5, 1).  Got: ".concat(Q));var X=["median","mean","min","max"];if(!(X.some(function(U){return U===K})||K9(K)))pZ("Preference must be one of [".concat(X.map(function(U){return"'".concat(U,"'")}).join(", "),"] or a number.  Got: ").concat(K));return xu0(J)},yu0=function Z(J,Q,K,X){var U=function Y(q,z){return X[z](q)};return-t3(J,X.length,function(Y){return U(Q,Y)},function(Y){return U(K,Y)},Q,K)},uu0=function Z(J,Q){var K=null;if(Q==="median")K=hy0(J);else if(Q==="mean")K=xy0(J);else if(Q==="min")K=_y0(J);else if(Q==="max")K=by0(J);else K=Q;return K},mu0=function Z(J,Q,K){var X=[];for(var U=0;U<J;U++)if(Q[U*J+U]+K[U*J+U]>0)X.push(U);return X},wQ0=function Z(J,Q,K){var X=[];for(var U=0;U<J;U++){var Y=-1,q=-1/0;for(var z=0;z<K.length;z++){var G=K[z];if(Q[U*J+G]>q)Y=G,q=Q[U*J+G]}if(Y>0)X.push(Y)}for(var H=0;H<K.length;H++)X[K[H]]=K[H];return X},gu0=function Z(J,Q,K){var X=wQ0(J,Q,K);for(var U=0;U<K.length;U++){var Y=[];for(var q=0;q<X.length;q++)if(X[q]===K[U])Y.push(q);var z=-1,G=-1/0;for(var H=0;H<Y.length;H++){var W=0;for(var F=0;F<Y.length;F++)W+=Q[Y[F]*J+Y[H]];if(W>G)z=H,G=W}K[U]=Y[z]}return X=wQ0(J,Q,K),X},jQ0=function Z(J){var Q=this.cy(),K=this.nodes(),X=hu0(J),U={};for(var Y=0;Y<K.length;Y++)U[K[Y].id()]=Y;var q,z,G,H,W,F;q=K.length,z=q*q,G=new Array(z);for(var M=0;M<z;M++)G[M]=-1/0;for(var B=0;B<q;B++)for(var O=0;O<q;O++)if(B!==O)G[B*q+O]=yu0(X.distance,K[B],K[O],X.attributes);H=uu0(G,X.preference);for(var A=0;A<q;A++)G[A*q+A]=H;W=new Array(z);for(var L=0;L<z;L++)W[L]=0;F=new Array(z);for(var I=0;I<z;I++)F[I]=0;var D=new Array(q),w=new Array(q),N=new Array(q);for(var E=0;E<q;E++)D[E]=0,w[E]=0,N[E]=0;var j=new Array(q*X.minIterations);for(var P=0;P<j.length;P++)j[P]=0;var C;for(C=0;C<X.maxIterations;C++){for(var T=0;T<q;T++){var V=-1/0,S=-1/0,$=-1,f=0;for(var h=0;h<q;h++)if(D[h]=W[T*q+h],f=F[T*q+h]+G[T*q+h],f>=V)S=V,V=f,$=h;else if(f>S)S=f;for(var v=0;v<q;v++)W[T*q+v]=(1-X.damping)*(G[T*q+v]-V)+X.damping*D[v];W[T*q+$]=(1-X.damping)*(G[T*q+$]-S)+X.damping*D[$]}for(var b=0;b<q;b++){var y=0;for(var k=0;k<q;k++)D[k]=F[k*q+b],w[k]=Math.max(0,W[k*q+b]),y+=w[k];y-=w[b],w[b]=W[b*q+b],y+=w[b];for(var g=0;g<q;g++)F[g*q+b]=(1-X.damping)*Math.min(0,y-w[g])+X.damping*D[g];F[b*q+b]=(1-X.damping)*(y-w[b])+X.damping*D[b]}var u=0;for(var i=0;i<q;i++){var e=F[i*q+i]+W[i*q+i]>0?1:0;j[C%X.minIterations*q+i]=e,u+=e}if(u>0&&(C>=X.minIterations-1||C==X.maxIterations-1)){var J0=0;for(var z0=0;z0<q;z0++){N[z0]=0;for(var t=0;t<X.minIterations;t++)N[z0]+=j[t*q+z0];if(N[z0]===0||N[z0]===X.minIterations)J0++}if(J0===q)break}}var B0=mu0(q,W,F),X0=gu0(q,G,B0),d={};for(var o=0;o<B0.length;o++)d[B0[o]]=[];for(var a=0;a<K.length;a++){var Q0=U[K[a].id()],K0=X0[Q0];if(K0!=null)d[K0].push(K[a])}var A0=new Array(B0.length);for(var r=0;r<B0.length;r++)A0[r]=Q.collection(d[B0[r]]);return A0},pu0,cu0,lu0,I3=function Z(){var J=this,Q={},K=0,X=0,U=[],Y=[],q={},z=function W(F,M){var B=Y.length-1,O=[],A=J.spawn();while(Y[B].x!=F||Y[B].y!=M)O.push(Y.pop().edge),B--;O.push(Y.pop().edge),O.forEach(function(L){var I=L.connectedNodes().intersection(J);A.merge(L),I.forEach(function(D){var w=D.id(),N=D.connectedEdges().intersection(J);if(A.merge(D),!Q[w].cutVertex)A.merge(N);else A.merge(N.filter(function(E){return E.isLoop()}))})}),U.push(A)},G=function W(F,M,B){if(F===B)X+=1;Q[M]={id:K,low:K++,cutVertex:!1};var O=J.getElementById(M).connectedEdges().intersection(J);if(O.size()===0)U.push(J.spawn(J.getElementById(M)));else{var A,L,I,D;O.forEach(function(w){if(A=w.source().id(),L=w.target().id(),I=A===M?L:A,I!==B){if(D=w.id(),!q[D])q[D]=!0,Y.push({x:M,y:I,edge:w});if(!(I in Q)){if(W(F,I,M),Q[M].low=Math.min(Q[M].low,Q[I].low),Q[M].id<=Q[I].low)Q[M].cutVertex=!0,z(M,I)}else Q[M].low=Math.min(Q[M].low,Q[I].id)}})}};J.forEach(function(W){if(W.isNode()){var F=W.id();if(!(F in Q))X=0,G(F,F),Q[F].cutVertex=X>1}});var H=Object.keys(Q).filter(function(W){return Q[W].cutVertex}).map(function(W){return J.getElementById(W)});return{cut:J.spawn(H),components:U}},du0,D3=function Z(){var J=this,Q={},K=0,X=[],U=[],Y=J.spawn(J),q=function z(G){U.push(G),Q[G]={index:K,low:K++,explored:!1};var H=J.getElementById(G).connectedEdges().intersection(J);if(H.forEach(function(O){var A=O.target().id();if(A!==G){if(!(A in Q))z(A);if(!Q[A].explored)Q[G].low=Math.min(Q[G].low,Q[A].low)}}),Q[G].index===Q[G].low){var W=J.spawn();for(;;){var F=U.pop();if(W.merge(J.getElementById(F)),Q[F].low=Q[G].index,Q[F].explored=!0,F===G)break}var M=W.edgesWith(W),B=W.merge(M);X.push(B),Y=Y.difference(B)}};return J.forEach(function(z){if(z.isNode()){var G=z.id();if(!(G in Q))q(G)}}),{cut:Y,components:X}},iu0,s40,r40=0,n40=1,a40=2,v5=function Z(J){if(!(this instanceof Z))return new Z(J);if(this.id="Thenable/1.0.7",this.state=r40,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof J==="function")J.call(this,this.fulfill.bind(this),this.reject.bind(this))},CQ0=function Z(J,Q,K,X){if(J.state===r40)J.state=Q,J[K]=X,o40(J);return J},o40=function Z(J){if(J.state===n40)PQ0(J,"onFulfilled",J.fulfillValue);else if(J.state===a40)PQ0(J,"onRejected",J.rejectReason)},PQ0=function Z(J,Q,K){if(J[Q].length===0)return;var X=J[Q];J[Q]=[];var U=function Y(){for(var q=0;q<X.length;q++)X[q](K)};if(typeof setImmediate==="function")setImmediate(U);else setTimeout(U,0)},VQ0=function Z(J,Q,K){return function(X){if(typeof J!=="function")Q[K].call(Q,X);else{var U;try{U=J(X)}catch(Y){Q.reject(Y);return}su0(Q,U)}}},su0=function Z(J,Q){if(J===Q||J.proxy===Q){J.reject(new TypeError("cannot resolve promise with itself"));return}var K;if(NJ(Q)==="object"&&Q!==null||typeof Q==="function")try{K=Q.then}catch(U){J.reject(U);return}if(typeof K==="function"){var X=!1;try{K.call(Q,function(U){if(X)return;if(X=!0,U===Q)J.reject(new TypeError("circular thenable chain"));else Z(J,U)},function(U){if(X)return;X=!0,J.reject(U)})}catch(U){if(!X)J.reject(U)}return}J.fulfill(Q)},ZG,f$=function Z(J,Q,K){var X=d$(J),U=!X,Y=this._private=b9({duration:1000},Q,K);if(Y.target=J,Y.style=Y.style||Y.css,Y.started=!1,Y.playing=!1,Y.hooked=!1,Y.applying=!1,Y.progress=0,Y.completes=[],Y.frames=[],Y.complete&&$Z(Y.complete))Y.completes.push(Y.complete);if(U){var q=J.position();Y.startPosition=Y.startPosition||{x:q.x,y:q.y},Y.startStyle=Y.startStyle||J.cy().style().getAnimationStartStyle(J,Y.style)}if(X){var z=J.pan();Y.startPan={x:z.x,y:z.y},Y.startZoom=J.zoom()}this.length=1,this[0]=this},tY,ru0,nu0,e3,au0,ou0,eu0,Zm0="[object AsyncFunction]",Jm0="[object Function]",Qm0="[object GeneratorFunction]",Km0="[object Proxy]",Um0,Ym0,I$,SQ0,zm0,Gm0,Hm0,Fm0,Mm0,Bm0,Rm0,Om0,Am0,Lm0,Im0,Nm0,wm0,Z_,Cm0,UM,Vm0,Tm0,fm0="__lodash_hash_undefined__",vm0,km0,_m0,bm0,xm0,ym0,um0="__lodash_hash_undefined__",gm0,TQ0,cm0,t40,ZD,im0,sm0,nm0,om0,em0,Jg0,Qg0,Kg0,Xg0,Yg0,zg0,JD,Wg0,Mg0,Rg0,Ag0,e40,Lg0="Expected a function",Ig0,Dg0=500,Eg0,wg0,jg0,Cg0,ZK0,JK0,Vg0=1/0,fQ0,vQ0,Sg0,KK0,XK0,vg0=1/0,Q_,_g0,xg0,hg0,kQ0,ug0,mg0,gg0,cg0,lg0=9007199254740991,dg0,sg0,ng0,og0,eg0,Jp0,Qp0,Kp0,h8,Xp0,T3,I8,r8=function Z(){return{checks:[]}},F9,v$,Up0,Yp0=function Z(J,Q){return Up0[J](Q)},qp0,hz=function Z(J){return J.replace(new RegExp("\\\\("+I8.metaChar+")","g"),function(Q,K){return K})},nX=function Z(J,Q,K){J[J.length-1]=K},k$,zp0=function Z(J){var Q,K,X;for(var U=0;U<k$.length;U++){var Y=k$[U],q=Y.name,z=J.match(Y.regexObj);if(z!=null){K=z,Q=Y,X=q;var G=z[0];J=J.substring(G.length);break}}return{expr:Q,match:K,name:X,remaining:J}},Gp0=function Z(J){var Q=J.match(/^\s+/);if(Q){var K=Q[0];J=J.substring(K.length)}return J},Hp0=function Z(J){var Q=this,K=Q.inputText=J,X=Q[0]=r8();Q.length=1,K=Gp0(K);for(;;){var U=zp0(K);if(U.expr==null)return y8("The selector `"+J+"`is invalid"),!1;else{var Y=U.match.slice(1),q=U.expr.populate(Q,X,Y);if(q===!1)return!1;else if(q!=null)X=q}if(K=U.remaining,K.match(/^\s*$/))break}var z=Q[Q.length-1];if(Q.currentSubject!=null)z.subject=Q.currentSubject;z.edgeCount=Q.edgeCount,z.compoundCount=Q.compoundCount;for(var G=0;G<Q.length;G++){var H=Q[G];if(H.compoundCount>0&&H.edgeCount>0)return y8("The selector `"+J+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(H.edgeCount>1)return y8("The selector `"+J+"` is invalid because it uses multiple edge selectors"),!1;else if(H.edgeCount===1)y8("The selector `"+J+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Wp0=function Z(){if(this.toStringCache!=null)return this.toStringCache;var J=function G(H){if(H==null)return"";else return H},Q=function G(H){if(S9(H))return'"'+H+'"';else return J(H)},K=function G(H){return" "+H+" "},X=function G(H,W){var{type:F,value:M}=H;switch(F){case F9.GROUP:{var B=J(M);return B.substring(0,B.length-1)}case F9.DATA_COMPARE:{var{field:O,operator:A}=H;return"["+O+K(J(A))+Q(M)+"]"}case F9.DATA_BOOL:{var{operator:L,field:I}=H;return"["+J(L)+I+"]"}case F9.DATA_EXIST:{var D=H.field;return"["+D+"]"}case F9.META_COMPARE:{var{operator:w,field:N}=H;return"[["+N+K(J(w))+Q(M)+"]]"}case F9.STATE:return M;case F9.ID:return"#"+M;case F9.CLASS:return"."+M;case F9.PARENT:case F9.CHILD:return U(H.parent,W)+K(">")+U(H.child,W);case F9.ANCESTOR:case F9.DESCENDANT:return U(H.ancestor,W)+" "+U(H.descendant,W);case F9.COMPOUND_SPLIT:{var E=U(H.left,W),j=U(H.subject,W),P=U(H.right,W);return E+(E.length>0?" ":"")+j+P}case F9.TRUE:return""}},U=function G(H,W){return H.checks.reduce(function(F,M,B){return F+(W===H&&B===0?"$":"")+X(M,W)},"")},Y="";for(var q=0;q<this.length;q++){var z=this[q];if(Y+=U(z,z.subject),this.length>1&&q<this.length-1)Y+=", "}return this.toStringCache=Y,Y},Fp0,UK0=function Z(J,Q,K){var X,U=S9(J),Y=K9(J),q=S9(K),z,G,H=!1,W=!1,F=!1;if(Q.indexOf("!")>=0)Q=Q.replace("!",""),W=!0;if(Q.indexOf("@")>=0)Q=Q.replace("@",""),H=!0;if(U||q||H)z=!U&&!Y?"":""+J,G=""+K;if(H)J=z=z.toLowerCase(),K=G=G.toLowerCase();switch(Q){case"*=":X=z.indexOf(G)>=0;break;case"$=":X=z.indexOf(G,z.length-G.length)>=0;break;case"^=":X=z.indexOf(G)===0;break;case"=":X=J===K;break;case">":F=!0,X=J>K;break;case">=":F=!0,X=J>=K;break;case"<":F=!0,X=J<K;break;case"<=":F=!0,X=J<=K;break;default:X=!1;break}if(W&&(J!=null||!F))X=!X;return X},Mp0=function Z(J,Q){switch(Q){case"?":return J?!0:!1;case"!":return J?!1:!0;case"^":return J===void 0}},Bp0=function Z(J){return J!==void 0},K_=function Z(J,Q){return J.data(Q)},Rp0=function Z(J,Q){return J[Q]()},cZ,OZ=function Z(J,Q){return J.checks.every(function(K){return cZ[K.type](K,Q)})},Op0=function Z(J){var Q=this;if(Q.length===1&&Q[0].checks.length===1&&Q[0].checks[0].type===F9.ID)return J.getElementById(Q[0].checks[0].value).collection();var K=function X(U){for(var Y=0;Y<Q.length;Y++){var q=Q[Y];if(OZ(q,U))return!0}return!1};if(Q.text()==null)K=function X(){return!0};return J.filter(K)},Ap0=function Z(J){var Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(OZ(X,J))return!0}return!1},Lp0,QU=function Z(J){if(this.inputText=J,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,J==null||S9(J)&&J.match(/^\s*$/));else if(r6(J))this.addQuery({checks:[{type:F9.COLLECTION,value:J.collection()}]});else if($Z(J))this.addQuery({checks:[{type:F9.FILTER,value:J}]});else if(S9(J)){if(!this.parse(J))this.invalid=!0}else pZ("A selector must be created from a string; found ")},KU,tX,kQ=function Z(J,Q){return function K(X,U,Y,q){var z=X,G=this,H;if(z==null)H="";else if(r6(z)&&z.length===1)H=z.id();if(G.length===1&&H){var W=G[0]._private,F=W.traversalCache=W.traversalCache||{},M=F[Q]=F[Q]||[],B=nY(H),O=M[B];if(O)return O;else return M[B]=J.call(G,X,U,Y,q)}else return J.call(G,X,U,Y,q)}},tz,YM,zK0,Dp0,QD,R4,GK0,HK0=function Z(J,Q,K){for(var X=0;X<J.length;X++){var U=J[X];if(!U.locked()){var Y=U._private.position,q={x:Q.x!=null?Q.x-Y.x:0,y:Q.y!=null?Q.y-Y.y:0};if(U.isParent()&&!(q.x===0&&q.y===0))U.children().shift(q,K);U.dirtyBoundingBoxCache()}}},$Q0,Np0,rz,UU,vQ=function Z(J){if(J===1/0||J===-1/0)return 0;return J},M4=function Z(J,Q,K,X,U){if(X-Q===0||U-K===0)return;if(Q==null||K==null||X==null||U==null)return;J.x1=Q<J.x1?Q:J.x1,J.x2=X>J.x2?X:J.x2,J.y1=K<J.y1?K:J.y1,J.y2=U>J.y2?U:J.y2,J.w=J.x2-J.x1,J.h=J.y2-J.y1},lY=function Z(J,Q){if(Q==null)return J;return M4(J,Q.x1,Q.y1,Q.x2,Q.y2)},cF=function Z(J,Q,K){return B4(J,Q,K)},N3=function Z(J,Q,K){if(Q.cy().headless())return;var X=Q._private,U=X.rstyle,Y=U.arrowWidth/2,q=Q.pstyle(K+"-arrow-shape").value,z,G;if(q!=="none"){if(K==="source")z=U.srcX,G=U.srcY;else if(K==="target")z=U.tgtX,G=U.tgtY;else z=U.midX,G=U.midY;var H=X.arrowBounds=X.arrowBounds||{},W=H[K]=H[K]||{};W.x1=z-Y,W.y1=G-Y,W.x2=z+Y,W.y2=G+Y,W.w=W.x2-W.x1,W.h=W.y2-W.y1,V3(W,1),M4(J,W.x1,W.y1,W.x2,W.y2)}},N$=function Z(J,Q,K){if(Q.cy().headless())return;var X;if(K)X=K+"-";else X="";var U=Q._private,Y=U.rstyle,q=Q.pstyle(X+"label").strValue;if(q){var z=Q.pstyle("text-halign"),G=Q.pstyle("text-valign"),H=cF(Y,"labelWidth",K),W=cF(Y,"labelHeight",K),F=cF(Y,"labelX",K),M=cF(Y,"labelY",K),B=Q.pstyle(X+"text-margin-x").pfValue,O=Q.pstyle(X+"text-margin-y").pfValue,A=Q.isEdge(),L=Q.pstyle(X+"text-rotation"),I=Q.pstyle("text-outline-width").pfValue,D=Q.pstyle("text-border-width").pfValue,w=D/2,N=Q.pstyle("text-background-padding").pfValue,E=2,j=W,P=H,C=P/2,T=j/2,V,S,$,f;if(A)V=F-C,S=F+C,$=M-T,f=M+T;else{switch(z.value){case"left":V=F-P,S=F;break;case"center":V=F-C,S=F+C;break;case"right":V=F,S=F+P;break}switch(G.value){case"top":$=M-j,f=M;break;case"center":$=M-T,f=M+T;break;case"bottom":$=M,f=M+j;break}}V+=B-Math.max(I,w)-N-E,S+=B+Math.max(I,w)+N+E,$+=O-Math.max(I,w)-N-E,f+=O+Math.max(I,w)+N+E;var h=K||"main",v=U.labelBounds,b=v[h]=v[h]||{};b.x1=V,b.y1=$,b.x2=S,b.y2=f,b.w=S-V,b.h=f-$;var y=A&&L.strValue==="autorotate",k=L.pfValue!=null&&L.pfValue!==0;if(y||k){var g=y?cF(U.rstyle,"labelAngle",K):L.pfValue,u=Math.cos(g),i=Math.sin(g),e=(V+S)/2,J0=($+f)/2;if(!A){switch(z.value){case"left":e=S;break;case"right":e=V;break}switch(G.value){case"top":J0=f;break;case"bottom":J0=$;break}}var z0=function Q0(K0,A0){return K0=K0-e,A0=A0-J0,{x:K0*u-A0*i+e,y:K0*i+A0*u+J0}},t=z0(V,$),B0=z0(V,f),X0=z0(S,$),d=z0(S,f);V=Math.min(t.x,B0.x,X0.x,d.x),S=Math.max(t.x,B0.x,X0.x,d.x),$=Math.min(t.y,B0.y,X0.y,d.y),f=Math.max(t.y,B0.y,X0.y,d.y)}var o=h+"Rot",a=v[o]=v[o]||{};a.x1=V,a.y1=$,a.x2=S,a.y2=f,a.w=S-V,a.h=f-$,M4(J,V,$,S,f),M4(U.labelBounds.all,V,$,S,f)}return J},Ep0=function Z(J,Q){if(Q.cy().headless())return;var K=Q.pstyle("outline-opacity").value,X=Q.pstyle("outline-width").value;if(K>0&&X>0){var U=Q.pstyle("outline-offset").value,Y=Q.pstyle("shape").value,q=X+U,z=(J.w+q*2)/J.w,G=(J.h+q*2)/J.h,H=0,W=0;if(["diamond","pentagon","round-triangle"].includes(Y))z=(J.w+q*2.4)/J.w,W=-q/3.6;else if(["concave-hexagon","rhomboid","right-rhomboid"].includes(Y))z=(J.w+q*2.4)/J.w;else if(Y==="star")z=(J.w+q*2.8)/J.w,G=(J.h+q*2.6)/J.h,W=-q/3.8;else if(Y==="triangle")z=(J.w+q*2.8)/J.w,G=(J.h+q*2.4)/J.h,W=-q/1.4;else if(Y==="vee")z=(J.w+q*4.4)/J.w,G=(J.h+q*3.8)/J.h,W=-q*0.5;var F=J.h*G-J.h,M=J.w*z-J.w;if(S3(J,[Math.ceil(F/2),Math.ceil(M/2)]),H!=0||W!==0){var B=cy0(J,H,W);y40(J,B)}}},wp0=function Z(J,Q){var K=J._private.cy,X=K.styleEnabled(),U=K.headless(),Y=D6(),q=J._private,z=J.isNode(),G=J.isEdge(),H,W,F,M,B,O,A=q.rstyle,L=z&&X?J.pstyle("bounds-expansion").pfValue:[0],I=function r(v0){return v0.pstyle("display").value!=="none"},D=!X||I(J)&&(!G||I(J.source())&&I(J.target()));if(D){var w=0,N=0;if(X&&Q.includeOverlays){if(w=J.pstyle("overlay-opacity").value,w!==0)N=J.pstyle("overlay-padding").value}var E=0,j=0;if(X&&Q.includeUnderlays){if(E=J.pstyle("underlay-opacity").value,E!==0)j=J.pstyle("underlay-padding").value}var P=Math.max(N,j),C=0,T=0;if(X)C=J.pstyle("width").pfValue,T=C/2;if(z&&Q.includeNodes){var V=J.position();B=V.x,O=V.y;var S=J.outerWidth(),$=S/2,f=J.outerHeight(),h=f/2;if(H=B-$,W=B+$,F=O-h,M=O+h,M4(Y,H,F,W,M),X&&Q.includeOutlines)Ep0(Y,J)}else if(G&&Q.includeEdges)if(X&&!U){var v=J.pstyle("curve-style").strValue;if(H=Math.min(A.srcX,A.midX,A.tgtX),W=Math.max(A.srcX,A.midX,A.tgtX),F=Math.min(A.srcY,A.midY,A.tgtY),M=Math.max(A.srcY,A.midY,A.tgtY),H-=T,W+=T,F-=T,M+=T,M4(Y,H,F,W,M),v==="haystack"){var b=A.haystackPts;if(b&&b.length===2){if(H=b[0].x,F=b[0].y,W=b[1].x,M=b[1].y,H>W){var y=H;H=W,W=y}if(F>M){var k=F;F=M,M=k}M4(Y,H-T,F-T,W+T,M+T)}}else if(v==="bezier"||v==="unbundled-bezier"||v.endsWith("segments")||v.endsWith("taxi")){var g;switch(v){case"bezier":case"unbundled-bezier":g=A.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":g=A.linePts;break}if(g!=null)for(var u=0;u<g.length;u++){var i=g[u];H=i.x-T,W=i.x+T,F=i.y-T,M=i.y+T,M4(Y,H,F,W,M)}}}else{var e=J.source(),J0=e.position(),z0=J.target(),t=z0.position();if(H=J0.x,W=t.x,F=J0.y,M=t.y,H>W){var B0=H;H=W,W=B0}if(F>M){var X0=F;F=M,M=X0}H-=T,W+=T,F-=T,M+=T,M4(Y,H,F,W,M)}if(X&&Q.includeEdges&&G)N3(Y,J,"mid-source"),N3(Y,J,"mid-target"),N3(Y,J,"source"),N3(Y,J,"target");if(X){var d=J.pstyle("ghost").value==="yes";if(d){var o=J.pstyle("ghost-offset-x").pfValue,a=J.pstyle("ghost-offset-y").pfValue;M4(Y,Y.x1+o,Y.y1+a,Y.x2+o,Y.y2+a)}}var Q0=q.bodyBounds=q.bodyBounds||{};if(FQ0(Q0,Y),S3(Q0,L),V3(Q0,1),X)H=Y.x1,W=Y.x2,F=Y.y1,M=Y.y2,M4(Y,H-P,F-P,W+P,M+P);var K0=q.overlayBounds=q.overlayBounds||{};FQ0(K0,Y),S3(K0,L),V3(K0,1);var A0=q.labelBounds=q.labelBounds||{};if(A0.all!=null)py0(A0.all);else A0.all=D6();if(X&&Q.includeLabels){if(Q.includeMainLabels)N$(Y,J,null);if(G){if(Q.includeSourceLabels)N$(Y,J,"source");if(Q.includeTargetLabels)N$(Y,J,"target")}}}if(Y.x1=vQ(Y.x1),Y.y1=vQ(Y.y1),Y.x2=vQ(Y.x2),Y.y2=vQ(Y.y2),Y.w=vQ(Y.x2-Y.x1),Y.h=vQ(Y.y2-Y.y1),Y.w>0&&Y.h>0&&D)S3(Y,L),V3(Y,1);return Y},WK0=function Z(J){var Q=0,K=function U(Y){return(Y?1:0)<<Q++},X=0;return X+=K(J.incudeNodes),X+=K(J.includeEdges),X+=K(J.includeLabels),X+=K(J.includeMainLabels),X+=K(J.includeSourceLabels),X+=K(J.includeTargetLabels),X+=K(J.includeOverlays),X+=K(J.includeOutlines),X},FK0=function Z(J){if(J.isEdge()){var Q=J.source().position(),K=J.target().position(),X=function U(Y){return Math.round(Y)};return Gy0([X(Q.x),X(Q.y),X(K.x),X(K.y)])}else return 0},_Q0=function Z(J,Q){var K=J._private,X,U=J.isEdge(),Y=Q==null?bQ0:WK0(Q),q=Y===bQ0,z=FK0(J),G=K.bbCachePosKey===z,H=Q.useCache&&G,W=function B(O){return O._private.bbCache==null||O._private.styleDirty},F=!H||W(J)||U&&W(J.source())||W(J.target());if(F){if(!G)J.recalculateRenderedStyle(H);X=wp0(J,qM),K.bbCache=X,K.bbCachePosKey=z}else X=K.bbCache;if(!q){var M=J.isNode();if(X=D6(),Q.includeNodes&&M||Q.includeEdges&&!M)if(Q.includeOverlays)lY(X,K.overlayBounds);else lY(X,K.bodyBounds);if(Q.includeLabels)if(Q.includeMainLabels&&(!U||Q.includeSourceLabels&&Q.includeTargetLabels))lY(X,K.labelBounds.all);else{if(Q.includeMainLabels)lY(X,K.labelBounds.mainRot);if(Q.includeSourceLabels)lY(X,K.labelBounds.sourceRot);if(Q.includeTargetLabels)lY(X,K.labelBounds.targetRot)}X.w=X.x2-X.x1,X.h=X.y2-X.y1}return X},qM,bQ0,xQ0,jp0,nF,BM,MK0=function Z(J){J.uppercaseName=UQ0(J.name),J.autoName="auto"+J.uppercaseName,J.labelName="label"+J.uppercaseName,J.outerName="outer"+J.uppercaseName,J.uppercaseOuterName=UQ0(J.outerName),nF[J.name]=function Q(){var K=this[0],X=K._private,U=X.cy,Y=U._private.styleEnabled;if(K)if(Y){if(K.isParent())return K.updateCompoundBounds(),X[J.autoName]||0;var q=K.pstyle(J.name);switch(q.strValue){case"label":return K.recalculateRenderedStyle(),X.rstyle[J.labelName]||0;default:return q.pfValue}}else return 1},nF["outer"+J.uppercaseName]=function Q(){var K=this[0],X=K._private,U=X.cy,Y=U._private.styleEnabled;if(K)if(Y){var q=K[J.name](),z=K.pstyle("border-width").pfValue,G=2*K.padding();return q+z+G}else return 1},nF["rendered"+J.uppercaseName]=function Q(){var K=this[0];if(K){var X=K[J.name]();return X*this.cy().zoom()}},nF["rendered"+J.uppercaseOuterName]=function Q(){var K=this[0];if(K){var X=K[J.outerName]();return X*this.cy().zoom()}}},Cp0,Pp0=function Z(J,Q){if(J.isEdge())return Q(J)},Vp0=function Z(J,Q){if(J.isEdge()){var K=J.cy();return o3(Q(J),K.zoom(),K.pan())}},Sp0=function Z(J,Q){if(J.isEdge()){var K=J.cy(),X=K.pan(),U=K.zoom();return Q(J).map(function(Y){return o3(Y,U,X)})}},Tp0=function Z(J){return J.renderer().getControlPoints(J)},fp0=function Z(J){return J.renderer().getSegmentPoints(J)},vp0=function Z(J){return J.renderer().getSourceEndpoint(J)},kp0=function Z(J){return J.renderer().getTargetEndpoint(J)},$p0=function Z(J){return J.renderer().getEdgeMidpoint(J)},hQ0,_p0=function Z(J){return"rendered"+J[0].toUpperCase()+J.substr(1)},bp0,xp0,BK0=function Z(J,Q){this.recycle(J,Q)},RK0,hp0=".*",OK0,yQ0,yp0,XU,AK0=function Z(J,Q,K,X,U,Y,q){if($Z(X))U=X,X=null;if(q)if(Y==null)Y=q;else Y=b9({},Y,q);var z=JZ(K)?K:K.split(/\s+/);for(var G=0;G<z.length;G++){var H=z[G];if(ZU(H))continue;var W=H.match(RK0);if(W){var F=W[1],M=W[2]?W[2]:null,B=Q(J,H,F,M,X,U,Y);if(B===!1)break}}},uQ0=function Z(J,Q){return J.addEventFields(J.context,Q),new BK0(Q.type,Q)},up0=function Z(J,Q,K){if(Uh0(K)){Q(J,K);return}else if(D8(K)){Q(J,uQ0(J,K));return}var X=JZ(K)?K:K.split(/\s+/);for(var U=0;U<X.length;U++){var Y=X[U];if(ZU(Y))continue;var q=Y.match(RK0);if(q){var z=q[1],G=q[2]?q[2]:null,H=uQ0(J,{type:z,namespace:G,target:J.context});Q(J,H)}}},mp0,w3=function Z(J){if(S9(J))return new QU(J);else return J},LK0,IK0,T8,gp0,DK0=function Z(J,Q){var K=J.cy(),X=K.hasCompoundNodes();function U(H){var W=H.pstyle("z-compound-depth");if(W.value==="auto")return X?H.zDepth():0;else if(W.value==="bottom")return-1;else if(W.value==="top")return s$;return 0}var Y=U(J)-U(Q);if(Y!==0)return Y;function q(H){var W=H.pstyle("z-index-compare");if(W.value==="auto")return H.isNode()?1:0;return 0}var z=q(J)-q(Q);if(z!==0)return z;var G=J.pstyle("z-index").value-Q.pstyle("z-index").value;if(G!==0)return G;return J.poolIndex()-Q.poolIndex()},p3,pp0=function Z(){var J="undefined",Q=(typeof Symbol==="undefined"?"undefined":NJ(Symbol))!=J&&NJ(Symbol.iterator)!=J;if(Q)p3[Symbol.iterator]=function(){var K=this,X={value:void 0,done:!1},U=0,Y=this.length;return O40({next:function q(){if(U<Y)X.value=K[U++];else X.value=void 0,X.done=!0;return X}},Symbol.iterator,function(){return this})}},cp0,f3,K7,XG,lp0,dp0,ip0,sp0,eX,L7,gQ0=function Z(J){return function Q(K){var X=this,U=[];for(var Y=0;Y<X.length;Y++){var q=X[Y];if(!q.isNode())continue;var z=!1,G=q.connectedEdges();for(var H=0;H<G.length;H++){var W=G[H],F=W.source(),M=W.target();if(J.noIncomingEdges&&M===q&&F!==q||J.noOutgoingEdges&&F===q&&M!==q){z=!0;break}}if(!z)U.push(q)}return this.spawn(U,!0).filter(K)}},pQ0=function Z(J){return function(Q){var K=this,X=[];for(var U=0;U<K.length;U++){var Y=K[U];if(!Y.isNode())continue;var q=Y.connectedEdges();for(var z=0;z<q.length;z++){var G=q[z],H=G.source(),W=G.target();if(J.outgoing&&H===Y)X.push(G),X.push(W);else if(J.incoming&&W===Y)X.push(G),X.push(H)}}return this.spawn(X,!0).filter(Q)}},cQ0=function Z(J){return function(Q){var K=this,X=[],U={};for(;;){var Y=J.outgoing?K.outgoers():K.incomers();if(Y.length===0)break;var q=!1;for(var z=0;z<Y.length;z++){var G=Y[z],H=G.id();if(!U[H])U[H]=!0,X.push(G),q=!0}if(!q)break;K=Y}return this.spawn(X,!0).filter(Q)}},X7=function Z(J,Q){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(J===void 0){pZ("A collection must have a reference to the core");return}var U=new LK,Y=!1;if(!Q)Q=[];else if(Q.length>0&&D8(Q[0])&&!WM(Q[0])){Y=!0;var q=[],z=new ez;for(var G=0,H=Q.length;G<H;G++){var W=Q[G];if(W.data==null)W.data={};var F=W.data;if(F.id==null)F.id=_40();else if(J.hasElementWithId(F.id)||z.has(F.id))continue;var M=new a3(J,W,!1);q.push(M),z.add(F.id)}Q=q}this.length=0;for(var B=0,O=Q.length;B<O;B++){var A=Q[B][0];if(A==null)continue;var L=A._private.data.id;if(!K||!U.has(L)){if(K)U.set(L,{index:this.length,ele:A});this[this.length]=A,this.length++}}if(this._private={eles:this,cy:J,get map(){if(this.lazyMap==null)this.rebuildMap();return this.lazyMap},set map(I){this.lazyMap=I},rebuildMap:function I(){var D=this.lazyMap=new LK,w=this.eles;for(var N=0;N<w.length;N++){var E=w[N];D.set(E.id(),{index:N,ele:E})}}},K)this._private.map=U;if(Y&&!X)this.restore()},zZ,rp0,ap0,qZ=function Z(J,Q,K,X){var U=np0(J,Q,K,X);return function(Y,q,z){return Y+(q-Y)*U(z)}},v3,ep0,Zc0,j3=function Z(J){if(S9(J))return new QU(J);else return J},EK0,$$,k3,Jc0,Qc0,_$,$3,D7,oF="t",Kc0="f",RM,Y_,IK,YD,q_,Q7,qD,A7=function Z(J){if(!(this instanceof Z))return new Z(J);if(!d$(J)){pZ("A style must have a core reference");return}this._private={cy:J,coreStyle:{}},this.length=0,this.resetToDefault()},I7,Xc0,Uc0="single",eY,zM,GM=function Z(J){var Q=this;J=b9({},J);var K=J.container;if(K&&!x3(K)&&x3(K[0]))K=K[0];var X=K?K._cyreg:null;if(X=X||{},X&&X.cy)X.cy.destroy(),X={};var U=X.readies=X.readies||[];if(K)K._cyreg=X;X.cy=Q;var Y=IJ!==void 0&&K!==void 0&&!J.headless,q=J;q.layout=b9({name:Y?"grid":"null"},q.layout),q.renderer=b9({name:Y?"canvas":"null"},q.renderer);var z=function M(B,O,A){if(O!==void 0)return O;else if(A!==void 0)return A;else return B},G=this._private={container:K,ready:!1,options:q,elements:new X7(this),listeners:[],aniEles:new X7(this),data:q.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:0.00000000000000000000000000000000000000000000000001,maxZoom:100000000000000000000000000000000000000000000000000,zoomingEnabled:z(!0,q.zoomingEnabled),userZoomingEnabled:z(!0,q.userZoomingEnabled),panningEnabled:z(!0,q.panningEnabled),userPanningEnabled:z(!0,q.userPanningEnabled),boxSelectionEnabled:z(!0,q.boxSelectionEnabled),autolock:z(!1,q.autolock,q.autolockNodes),autoungrabify:z(!1,q.autoungrabify,q.autoungrabifyNodes),autounselectify:z(!1,q.autounselectify),styleEnabled:q.styleEnabled===void 0?Y:q.styleEnabled,zoom:K9(q.zoom)?q.zoom:1,pan:{x:D8(q.pan)&&K9(q.pan.x)?q.pan.x:0,y:D8(q.pan)&&K9(q.pan.y)?q.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:z(250,q.multiClickDebounceTime)};this.createEmitter(),this.selectionType(q.selectionType),this.zoomRange({min:q.minZoom,max:q.maxZoom});var H=function M(B,O){var A=B.some(zh0);if(A)return ZG.all(B).then(O);else O(B)};if(G.styleEnabled)Q.setStyle([]);var W=b9({},q,q.renderer);Q.initRenderer(W);var F=function M(B,O,A){Q.notifications(!1);var L=Q.mutableElements();if(L.length>0)L.remove();if(B!=null){if(D8(B)||JZ(B))Q.add(B)}Q.one("layoutready",function(D){Q.notifications(!0),Q.emit(D),Q.one("load",O),Q.emitAndNotify("load")}).one("layoutstop",function(){Q.one("done",A),Q.emit("done")});var I=b9({},Q._private.options.layout);I.eles=Q.elements(),Q.layout(I).run()};H([q.style,q.elements],function(M){var B=M[0],O=M[1];if(G.styleEnabled)Q.style().append(B);F(O,function(){if(Q.startAnimationLoop(),G.ready=!0,$Z(q.ready))Q.on("ready",q.ready);for(var A=0;A<U.length;A++){var L=U[A];Q.on("ready",L)}if(X)X.readies=[];Q.emit("ready")},q.done)})},c3,Yc0,qc0,mz=function Z(J){return J.scratch("breadthfirst")},aQ0=function Z(J,Q){return J.scratch("breadthfirst",Q)},zc0,Gc0,w$,Hc0,Wc0=function Z(J,Q,K){var X=K.eles.edges(),U=K.eles.nodes(),Y=D6(K.boundingBox?K.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),q={isCompound:J.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:U.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:X.size(),temperature:K.initialTemp,clientWidth:Y.w,clientHeight:Y.h,boundingBox:Y},z=K.eles.components(),G={};for(var H=0;H<z.length;H++){var W=z[H];for(var F=0;F<W.length;F++){var M=W[F];G[M.id()]=H}}for(var H=0;H<q.nodeSize;H++){var B=U[H],O=B.layoutDimensions(K),A={};A.isLocked=B.locked(),A.id=B.data("id"),A.parentId=B.data("parent"),A.cmptId=G[B.id()],A.children=[],A.positionX=B.position("x"),A.positionY=B.position("y"),A.offsetX=0,A.offsetY=0,A.height=O.w,A.width=O.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(B.style("padding")),A.padRight=parseFloat(B.style("padding")),A.padTop=parseFloat(B.style("padding")),A.padBottom=parseFloat(B.style("padding")),A.nodeRepulsion=$Z(K.nodeRepulsion)?K.nodeRepulsion(B):K.nodeRepulsion,q.layoutNodes.push(A),q.idToIndex[A.id]=H}var L=[],I=0,D=-1,w=[];for(var H=0;H<q.nodeSize;H++){var B=q.layoutNodes[H],N=B.parentId;if(N!=null)q.layoutNodes[q.idToIndex[N]].children.push(B.id);else L[++D]=B.id,w.push(B.id)}q.graphSet.push(w);while(I<=D){var E=L[I++],j=q.idToIndex[E],M=q.layoutNodes[j],P=M.children;if(P.length>0){q.graphSet.push(P);for(var H=0;H<P.length;H++)L[++D]=P[H]}}for(var H=0;H<q.graphSet.length;H++){var C=q.graphSet[H];for(var F=0;F<C.length;F++){var T=q.idToIndex[C[F]];q.indexToGraph[T]=H}}for(var H=0;H<q.edgeSize;H++){var V=X[H],S={};S.id=V.data("id"),S.sourceId=V.data("source"),S.targetId=V.data("target");var $=$Z(K.idealEdgeLength)?K.idealEdgeLength(V):K.idealEdgeLength,f=$Z(K.edgeElasticity)?K.edgeElasticity(V):K.edgeElasticity,h=q.idToIndex[S.sourceId],v=q.idToIndex[S.targetId],b=q.indexToGraph[h],y=q.indexToGraph[v];if(b!=y){var k=Fc0(S.sourceId,S.targetId,q),g=q.graphSet[k],u=0,A=q.layoutNodes[h];while(g.indexOf(A.id)===-1)A=q.layoutNodes[q.idToIndex[A.parentId]],u++;A=q.layoutNodes[v];while(g.indexOf(A.id)===-1)A=q.layoutNodes[q.idToIndex[A.parentId]],u++;$*=u*K.nestingFactor}S.idealLength=$,S.elasticity=f,q.layoutEdges.push(S)}return q},Fc0=function Z(J,Q,K){var X=Mc0(J,Q,0,K);if(2>X.count)return 0;else return X.graph},Mc0=function Z(J,Q,K,X){var U=X.graphSet[K];if(-1<U.indexOf(J)&&-1<U.indexOf(Q))return{count:2,graph:K};var Y=0;for(var q=0;q<U.length;q++){var z=U[q],G=X.idToIndex[z],H=X.layoutNodes[G].children;if(H.length===0)continue;var W=X.indexToGraph[X.idToIndex[H[0]]],F=Z(J,Q,W,X);if(F.count===0)continue;else if(F.count===1){if(Y++,Y===2)break}else return F}return{count:Y,graph:K}},Bc0=function Z(J,Q,K,X){var U=X.graphSet[K];if(-1<U.indexOf(J)&&-1<U.indexOf(Q))return{count:2,graph:K};var Y=0;for(var q=0;q<U.length;q++){var z=U[q],G=X.idToIndex[z],H=X.layoutNodes[G].children;if(H.length===0)continue;var W=X.indexToGraph[X.idToIndex[H[0]]],F=Z(J,Q,W,X);if(F.count===0)continue;else if(F.count===1){if(Y++,Y===2)break}else return F}return{count:Y,graph:K}},Rc0=function Z(J,Q){var{clientWidth:K,clientHeight:X}=J;for(var U=0;U<J.nodeSize;U++){var Y=J.layoutNodes[U];if(Y.children.length===0&&!Y.isLocked)Y.positionX=Math.random()*K,Y.positionY=Math.random()*X}},PK0=function Z(J,Q,K){var X=J.boundingBox,U={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};if(Q.boundingBox)K.forEach(function(Y){var q=J.layoutNodes[J.idToIndex[Y.data("id")]];U.x1=Math.min(U.x1,q.positionX),U.x2=Math.max(U.x2,q.positionX),U.y1=Math.min(U.y1,q.positionY),U.y2=Math.max(U.y2,q.positionY)}),U.w=U.x2-U.x1,U.h=U.y2-U.y1;return function(Y,q){var z=J.layoutNodes[J.idToIndex[Y.data("id")]];if(Q.boundingBox){var G=(z.positionX-U.x1)/U.w,H=(z.positionY-U.y1)/U.h;return{x:X.x1+G*X.w,y:X.y1+H*X.h}}else return{x:z.positionX,y:z.positionY}}},Oc0=function Z(J,Q,K){var X=K.layout,U=K.eles.nodes(),Y=PK0(J,K,U);if(U.positions(Y),J.ready!==!0)J.ready=!0,X.one("layoutready",K.ready),X.emit({type:"layoutready",layout:this})},Ac0=function Z(J,Q,K){Lc0(J,Q),Nc0(J),Ec0(J,Q),wc0(J),jc0(J)},Lc0=function Z(J,Q){for(var K=0;K<J.graphSet.length;K++){var X=J.graphSet[K],U=X.length;for(var Y=0;Y<U;Y++){var q=J.layoutNodes[J.idToIndex[X[Y]]];for(var z=Y+1;z<U;z++){var G=J.layoutNodes[J.idToIndex[X[z]]];Ic0(q,G,J,Q)}}}},oQ0=function Z(J){return-J+2*J*Math.random()},Ic0=function Z(J,Q,K,X){var U=J.cmptId,Y=Q.cmptId;if(U!==Y&&!K.isCompound)return;var q=Q.positionX-J.positionX,z=Q.positionY-J.positionY,G=1;if(q===0&&z===0)q=oQ0(G),z=oQ0(G);var H=Dc0(J,Q,q,z);if(H>0)var W=X.nodeOverlap*H,F=Math.sqrt(q*q+z*z),M=W*q/F,B=W*z/F;else var O=l3(J,q,z),A=l3(Q,-1*q,-1*z),L=A.x-O.x,I=A.y-O.y,D=L*L+I*I,F=Math.sqrt(D),W=(J.nodeRepulsion+Q.nodeRepulsion)/D,M=W*L/F,B=W*I/F;if(!J.isLocked)J.offsetX-=M,J.offsetY-=B;if(!Q.isLocked)Q.offsetX+=M,Q.offsetY+=B;return},Dc0=function Z(J,Q,K,X){if(K>0)var U=J.maxX-Q.minX;else var U=Q.maxX-J.minX;if(X>0)var Y=J.maxY-Q.minY;else var Y=Q.maxY-J.minY;if(U>=0&&Y>=0)return Math.sqrt(U*U+Y*Y);else return 0},l3=function Z(J,Q,K){var{positionX:X,positionY:U}=J,Y=J.height||1,q=J.width||1,z=K/Q,G=Y/q,H={};if(Q===0&&0<K)return H.x=X,H.y=U+Y/2,H;if(Q===0&&0>K)return H.x=X,H.y=U+Y/2,H;if(0<Q&&-1*G<=z&&z<=G)return H.x=X+q/2,H.y=U+q*K/2/Q,H;if(0>Q&&-1*G<=z&&z<=G)return H.x=X-q/2,H.y=U-q*K/2/Q,H;if(0<K&&(z<=-1*G||z>=G))return H.x=X+Y*Q/2/K,H.y=U+Y/2,H;if(0>K&&(z<=-1*G||z>=G))return H.x=X-Y*Q/2/K,H.y=U-Y/2,H;return H},Nc0=function Z(J,Q){for(var K=0;K<J.edgeSize;K++){var X=J.layoutEdges[K],U=J.idToIndex[X.sourceId],Y=J.layoutNodes[U],q=J.idToIndex[X.targetId],z=J.layoutNodes[q],G=z.positionX-Y.positionX,H=z.positionY-Y.positionY;if(G===0&&H===0)continue;var W=l3(Y,G,H),F=l3(z,-1*G,-1*H),M=F.x-W.x,B=F.y-W.y,O=Math.sqrt(M*M+B*B),A=Math.pow(X.idealLength-O,2)/X.elasticity;if(O!==0)var L=A*M/O,I=A*B/O;else var L=0,I=0;if(!Y.isLocked)Y.offsetX+=L,Y.offsetY+=I;if(!z.isLocked)z.offsetX-=L,z.offsetY-=I}},Ec0=function Z(J,Q){if(Q.gravity===0)return;var K=1;for(var X=0;X<J.graphSet.length;X++){var U=J.graphSet[X],Y=U.length;if(X===0)var q=J.clientHeight/2,z=J.clientWidth/2;else var G=J.layoutNodes[J.idToIndex[U[0]]],H=J.layoutNodes[J.idToIndex[G.parentId]],q=H.positionX,z=H.positionY;for(var W=0;W<Y;W++){var F=J.layoutNodes[J.idToIndex[U[W]]];if(F.isLocked)continue;var M=q-F.positionX,B=z-F.positionY,O=Math.sqrt(M*M+B*B);if(O>K){var A=Q.gravity*M/O,L=Q.gravity*B/O;F.offsetX+=A,F.offsetY+=L}}}},wc0=function Z(J,Q){var K=[],X=0,U=-1;K.push.apply(K,J.graphSet[0]),U+=J.graphSet[0].length;while(X<=U){var Y=K[X++],q=J.idToIndex[Y],z=J.layoutNodes[q],G=z.children;if(0<G.length&&!z.isLocked){var{offsetX:H,offsetY:W}=z;for(var F=0;F<G.length;F++){var M=J.layoutNodes[J.idToIndex[G[F]]];M.offsetX+=H,M.offsetY+=W,K[++U]=G[F]}z.offsetX=0,z.offsetY=0}}},jc0=function Z(J,Q){for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length)X.maxX=void 0,X.minX=void 0,X.maxY=void 0,X.minY=void 0}for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length||X.isLocked)continue;var U=Cc0(X.offsetX,X.offsetY,J.temperature);X.positionX+=U.x,X.positionY+=U.y,X.offsetX=0,X.offsetY=0,X.minX=X.positionX-X.width,X.maxX=X.positionX+X.width,X.minY=X.positionY-X.height,X.maxY=X.positionY+X.height,Pc0(X,J)}for(var K=0;K<J.nodeSize;K++){var X=J.layoutNodes[K];if(0<X.children.length&&!X.isLocked)X.positionX=(X.maxX+X.minX)/2,X.positionY=(X.maxY+X.minY)/2,X.width=X.maxX-X.minX,X.height=X.maxY-X.minY}},Cc0=function Z(J,Q,K){var X=Math.sqrt(J*J+Q*Q);if(X>K)var U={x:K*J/X,y:K*Q/X};else var U={x:J,y:Q};return U},Pc0=function Z(J,Q){var K=J.parentId;if(K==null)return;var X=Q.layoutNodes[Q.idToIndex[K]],U=!1;if(X.maxX==null||J.maxX+X.padRight>X.maxX)X.maxX=J.maxX+X.padRight,U=!0;if(X.minX==null||J.minX-X.padLeft<X.minX)X.minX=J.minX-X.padLeft,U=!0;if(X.maxY==null||J.maxY+X.padBottom>X.maxY)X.maxY=J.maxY+X.padBottom,U=!0;if(X.minY==null||J.minY-X.padTop<X.minY)X.minY=J.minY-X.padTop,U=!0;if(U)return Z(X,Q);return},tQ0=function Z(J,Q){var K=J.layoutNodes,X=[];for(var U=0;U<K.length;U++){var Y=K[U],q=Y.cmptId,z=X[q]=X[q]||[];z.push(Y)}var G=0;for(var U=0;U<X.length;U++){var H=X[U];if(!H)continue;H.x1=1/0,H.x2=-1/0,H.y1=1/0,H.y2=-1/0;for(var W=0;W<H.length;W++){var F=H[W];H.x1=Math.min(H.x1,F.positionX-F.width/2),H.x2=Math.max(H.x2,F.positionX+F.width/2),H.y1=Math.min(H.y1,F.positionY-F.height/2),H.y2=Math.max(H.y2,F.positionY+F.height/2)}H.w=H.x2-H.x1,H.h=H.y2-H.y1,G+=H.w*H.h}X.sort(function(I,D){return D.w*D.h-I.w*I.h});var M=0,B=0,O=0,A=0,L=Math.sqrt(G)*J.clientWidth/J.clientHeight;for(var U=0;U<X.length;U++){var H=X[U];if(!H)continue;for(var W=0;W<H.length;W++){var F=H[W];if(!F.isLocked)F.positionX+=M-H.x1,F.positionY+=B-H.y1}if(M+=H.w+Q.componentSpacing,O+=H.w+Q.componentSpacing,A=Math.max(A,H.h),O>L)B+=A+Q.componentSpacing,M=0,O=0,A=0}},Vc0,Sc0,Tc0,fc0,vc0,eQ0=function Z(){},Z40=function Z(){throw new Error("A headless instance can not render images")},G_,Jq,d3,b$,x$,OK,fQ,J40,Q40,iY,_3,S5,gY,dY,RK,gz,C3,vK0,kK0,h$,y$,K40,X40=function Z(J,Q,K){K.x=Q.x-J.x,K.y=Q.y-J.y,K.len=Math.sqrt(K.x*K.x+K.y*K.y),K.nx=K.x/K.len,K.ny=K.y/K.len,K.ang=Math.atan2(K.ny,K.nx)},kc0=function Z(J,Q){Q.x=J.x*-1,Q.y=J.y*-1,Q.nx=J.nx*-1,Q.ny=J.ny*-1,Q.ang=J.ang>0?-(Math.PI-J.ang):Math.PI+J.ang},$c0=function Z(J,Q,K,X,U){if(J!==K40?X40(Q,J,OK):kc0(fQ,OK),X40(Q,K,fQ),J40=OK.nx*fQ.ny-OK.ny*fQ.nx,Q40=OK.nx*fQ.nx-OK.ny*-fQ.ny,S5=Math.asin(Math.max(-1,Math.min(1,J40))),Math.abs(S5)<0.000001){b$=Q.x,x$=Q.y,dY=gz=0;return}if(iY=1,_3=!1,Q40<0)if(S5<0)S5=Math.PI+S5;else S5=Math.PI-S5,iY=-1,_3=!0;else if(S5>0)iY=-1,_3=!0;if(Q.radius!==void 0)gz=Q.radius;else gz=X;if(gY=S5/2,C3=Math.min(OK.len/2,fQ.len/2),U)if(RK=Math.abs(Math.cos(gY)*gz/Math.sin(gY)),RK>C3)RK=C3,dY=Math.abs(RK*Math.sin(gY)/Math.cos(gY));else dY=gz;else RK=Math.min(C3,gz),dY=Math.abs(RK*Math.sin(gY)/Math.cos(gY));h$=Q.x+fQ.nx*RK,y$=Q.y+fQ.ny*RK,b$=h$-fQ.ny*dY*iY,x$=y$+fQ.nx*dY*iY,vK0=Q.x+OK.nx*RK,kK0=Q.y+OK.ny*RK,K40=Q},N7,OM,W_,DK,bK0=function Z(J,Q){var K=Math.atan(Q/J);if(J===0&&K<0)K=K*-1;return K},xK0=function Z(J,Q){var K=Q.x-J.x,X=Q.y-J.y;return bK0(K,X)},bc0=function Z(J,Q,K,X){var U=KM(0,X-0.001,1),Y=KM(0,X+0.001,1),q=dz(J,Q,K,U),z=dz(J,Q,K,Y);return xK0(q,z)},hK0,U40=28,Y40=!1,GD,HD,yK0,uK0,YG,$5,AM,q40=function Z(J,Q,K){var X=J.beforeRenderCallbacks;for(var U=0;U<X.length;U++)X[U].fn(Q,K)},xc0=function Z(J){this.init(J)},mK0,qG,j$=16.666666666666668,gK0,hc0,z40=25,P3=50,b3=-4,u$=3,yc0=7.99,uc0=8,mc0=1024,gc0=1024,pc0=1024,cc0=0.2,lc0=0.8,dc0=10,ic0=0.15,sc0=0.1,rc0=0.9,nc0=0.9,ac0=100,oc0=1,lz,tc0,aF=function Z(J,Q){var K=this;K.renderer=J,K.onDequeues=[];var X=tc0(Q);b9(K,X),K.lookup=new hc0(X.getKey,X.doesEleInvalidateKey),K.setupDequeueing()},EJ,ec0=1,tF=-4,i3=2,Zl0=3.99,Jl0=50,Ql0=50,Kl0=0.15,Xl0=0.1,Ul0=0.9,Yl0=0.9,ql0=1,G40=250,zl0=16000000,Gl0=!0,pK0=function Z(J){var Q=this,K=Q.renderer=J,X=K.cy;Q.layersByLevel={},Q.firstGet=!0,Q.lastInvalidationTime=T5()-2*G40,Q.skipping=!1,Q.eleTxrDeqs=X.collection(),Q.scheduleElementRefinement=n3(function(){Q.refineElementTextures(Q.eleTxrDeqs),Q.eleTxrDeqs.unmerge(Q.eleTxrDeqs)},Ql0),K.beforeRender(function(Y,q){if(q-Q.lastInvalidationTime<=G40)Q.skipping=!0;else Q.skipping=!1},K.beforeRenderPriorities.lyrTxrSkip);var U=function Y(q,z){return z.reqs-q.reqs};Q.layersQueue=new MM(U),Q.setupDequeueing()},Y7,H40=0,Hl0,cK0,W40,NK,Rl0=function Z(){return 0},Ol0=function Z(J,Q){return J.getTextAngle(Q,null)},Al0=function Z(J,Q){return J.getTextAngle(Q,"source")},Ll0=function Z(J,Q){return J.getTextAngle(Q,"target")},Il0=function Z(J,Q){return Q.effectiveOpacity()},C$=function Z(J,Q){return Q.pstyle("text-opacity").pfValue*Q.effectiveOpacity()},_5,lK0=function Z(J){if(!["overlay","underlay"].includes(J))throw new Error("Invalid state");return function(Q,K){if(!K.visible())return;var X=K.pstyle("".concat(J,"-opacity")).value;if(X===0)return;var U=this,Y=U.usePaths(),q=K._private.rscratch,z=K.pstyle("".concat(J,"-padding")).pfValue,G=2*z,H=K.pstyle("".concat(J,"-color")).value;if(Q.lineWidth=G,q.edgeType==="self"&&!Y)Q.lineCap="butt";else Q.lineCap="round";U.colorStrokeStyle(Q,H[0],H[1],H[2],X),U.drawEdgePath(K,Q,q.allpts,"solid")}},F_,Qq,zG,dK0=function Z(J){if(!["overlay","underlay"].includes(J))throw new Error("Invalid state");return function(Q,K,X,U,Y){var q=this;if(!K.visible())return;var z=K.pstyle("".concat(J,"-padding")).pfValue,G=K.pstyle("".concat(J,"-opacity")).value,H=K.pstyle("".concat(J,"-color")).value,W=K.pstyle("".concat(J,"-shape")).value,F=K.pstyle("".concat(J,"-corner-radius")).value;if(G>0){if(X=X||K.position(),U==null||Y==null){var M=K.padding();U=K.width()+2*M,Y=K.height()+2*M}q.colorFillStyle(Q,H[0],H[1],H[2],G),q.nodeShapes[W].draw(Q,X.x,X.y,U+z*2,Y+z*2,F),Q.fill()}}},n6,Dl0=100,YU,M40,B40,m$,g$,iK0,pY,LM,rK0,El0,S8,wl0,jl0,Cl0,aK0,oK0,p$=function Z(){if(arguments.length===2)return eK0.apply(null,arguments);else if(arguments.length===3)return tK0.apply(null,arguments);else if(arguments.length===4)return Vl0.apply(null,arguments);else if(arguments.length===5)return Pl0.apply(null,arguments);else pZ("Invalid extension access syntax")},Z50=function Z(){if(!(this instanceof Z))return new Z;this.length=0},Zq,Sl0="3.30.2",k5=function Z(J){if(J===void 0)J={};if(D8(J))return new GM(J);else if(S9(J))return p$.apply(p$,arguments)};var J50=_(()=>{IJ=typeof window==="undefined"?null:window,XQ0=IJ?IJ.navigator:null;IJ&&IJ.document;Zh0=NJ(""),I40=NJ({}),Jh0=NJ(function(){}),Qh0=typeof HTMLElement==="undefined"?"undefined":NJ(HTMLElement),i$=eF(function(Z){return Z.replace(/([A-Z])/g,function(J){return"-"+J.toLowerCase()})}),s3=eF(function(Z){return Z.replace(/(-\w)/g,function(J){return J[1].toUpperCase()})}),E40=eF(function(Z,J){return Z+J[0].toUpperCase()+J.substring(1)},function(Z,J){return Z+"$"+J}),Hh0="rgb[a]?\\(("+DJ+"[%]?)\\s*,\\s*("+DJ+"[%]?)\\s*,\\s*("+DJ+"[%]?)(?:\\s*,\\s*("+DJ+"))?\\)",Wh0="rgb[a]?\\((?:"+DJ+"[%]?)\\s*,\\s*(?:"+DJ+"[%]?)\\s*,\\s*(?:"+DJ+"[%]?)(?:\\s*,\\s*(?:"+DJ+"))?\\)",Fh0="hsl[a]?\\(("+DJ+")\\s*,\\s*("+DJ+"[%])\\s*,\\s*("+DJ+"[%])(?:\\s*,\\s*("+DJ+"))?\\)",Mh0="hsl[a]?\\((?:"+DJ+")\\s*,\\s*(?:"+DJ+"[%])\\s*,\\s*(?:"+DJ+"[%])(?:\\s*,\\s*(?:"+DJ+"))?\\)",b9=Object.assign!=null?Object.assign.bind(Object):function(Z){var J=arguments;for(var Q=1;Q<J.length;Q++){var K=J[Q];if(K==null)continue;var X=Object.keys(K);for(var U=0;U<X.length;U++){var Y=X[U];Z[Y]=K[Y]}}return Z},Eh0={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rY=wh0,iF=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{},Ch0=typeof iF=="object"&&iF&&iF.Object===Object&&iF,Ph0=Ch0,Vh0=typeof self=="object"&&self&&self.Object===Object&&self,Sh0=Ph0||Vh0||Function("return this")(),r3=Sh0,B$=Th0,fh0=/\s/,kh0=vh0,$h0=/^\s+/,bh0=_h0,xh0=r3.Symbol,nz=xh0,P40=Object.prototype,hh0=P40.hasOwnProperty,yh0=P40.toString,gF=nz?nz.toStringTag:void 0,mh0=uh0,gh0=Object.prototype,ph0=gh0.toString,lh0=ch0,YQ0=nz?nz.toStringTag:void 0,V40=sh0,nh0=rh0,FM=oh0,th0=/^[-+]0x[0-9a-f]+$/i,eh0=/^0b[01]+$/i,Zy0=/^0o[0-7]+$/i,Jy0=parseInt,zQ0=Qy0,Xy0=Math.max,Uy0=Math.min,n3=Yy0,R$=IJ?IJ.performance:null,S40=R$&&R$.now?function(){return R$.now()}:function(){return Date.now()},qy0=function(){if(IJ){if(IJ.requestAnimationFrame)return function(Z){IJ.requestAnimationFrame(Z)};else if(IJ.mozRequestAnimationFrame)return function(Z){IJ.mozRequestAnimationFrame(Z)};else if(IJ.webkitRequestAnimationFrame)return function(Z){IJ.webkitRequestAnimationFrame(Z)};else if(IJ.msRequestAnimationFrame)return function(Z){IJ.msRequestAnimationFrame(Z)}}return function(Z){if(Z)setTimeout(function(){Z(S40())},16.666666666666668)}}(),T5=S40,Wy0=console.warn!=null,Fy0=console.trace!=null,s$=Number.MAX_SAFE_INTEGER||9007199254740991,Ry0={},Ay0=function(){function Z(){c$(this,Z),this._obj={}}return l$(Z,[{key:"set",value:function J(Q,K){return this._obj[Q]=K,this}},{key:"delete",value:function J(Q){return this._obj[Q]=void 0,this}},{key:"clear",value:function J(){this._obj={}}},{key:"has",value:function J(Q){return this._obj[Q]!==void 0}},{key:"get",value:function J(Q){return this._obj[Q]}}]),Z}(),LK=typeof Map!=="undefined"?Map:Ay0,Iy0=function(){function Z(J){if(c$(this,Z),this._obj=Object.create(null),this.size=0,J!=null){var Q;if(J.instanceString!=null&&J.instanceString()===this.instanceString())Q=J.toArray();else Q=J;for(var K=0;K<Q.length;K++)this.add(Q[K])}}return l$(Z,[{key:"instanceString",value:function J(){return"set"}},{key:"add",value:function J(Q){var K=this._obj;if(K[Q]!==1)K[Q]=1,this.size++}},{key:"delete",value:function J(Q){var K=this._obj;if(K[Q]===1)K[Q]=0,this.size--}},{key:"clear",value:function J(){this._obj=Object.create(null)}},{key:"has",value:function J(Q){return this._obj[Q]===1}},{key:"toArray",value:function J(){var Q=this;return Object.keys(this._obj).filter(function(K){return Q.has(K)})}},{key:"forEach",value:function J(Q,K){return this.toArray().forEach(Q,K)}}]),Z}(),ez=(typeof Set==="undefined"?"undefined":NJ(Set))!==Ly0?Set:Iy0,QM={breadthFirstSearch:WQ0({bfs:!0}),depthFirstSearch:WQ0({dfs:!0})};QM.bfs=QM.breadthFirstSearch;QM.dfs=QM.depthFirstSearch;Dy0=jh0(function(Z,J){(function(){var Q,K,X,U,Y,q,z,G,H,W,F,M,B,O,A;X=Math.floor,W=Math.min,K=function(L,I){if(L<I)return-1;if(L>I)return 1;return 0},H=function(L,I,D,w,N){var E;if(D==null)D=0;if(N==null)N=K;if(D<0)throw new Error("lo must be non-negative");if(w==null)w=L.length;while(D<w)if(E=X((D+w)/2),N(I,L[E])<0)w=E;else D=E+1;return[].splice.apply(L,[D,D-D].concat(I)),I},q=function(L,I,D){if(D==null)D=K;return L.push(I),O(L,0,L.length-1,D)},Y=function(L,I){var D,w;if(I==null)I=K;if(D=L.pop(),L.length)w=L[0],L[0]=D,A(L,0,I);else w=D;return w},G=function(L,I,D){var w;if(D==null)D=K;return w=L[0],L[0]=I,A(L,0,D),w},z=function(L,I,D){var w;if(D==null)D=K;if(L.length&&D(L[0],I)<0)w=[L[0],I],I=w[0],L[0]=w[1],A(L,0,D);return I},U=function(L,I){var D,w,N,E,j,P;if(I==null)I=K;E=function(){P=[];for(var C=0,T=X(L.length/2);0<=T?C<T:C>T;0<=T?C++:C--)P.push(C);return P}.apply(this).reverse(),j=[];for(w=0,N=E.length;w<N;w++)D=E[w],j.push(A(L,D,I));return j},B=function(L,I,D){var w;if(D==null)D=K;if(w=L.indexOf(I),w===-1)return;return O(L,0,w,D),A(L,w,D)},F=function(L,I,D){var w,N,E,j,P;if(D==null)D=K;if(N=L.slice(0,I),!N.length)return N;U(N,D),P=L.slice(I);for(E=0,j=P.length;E<j;E++)w=P[E],z(N,w,D);return N.sort(D).reverse()},M=function(L,I,D){var w,N,E,j,P,C,T,V,S;if(D==null)D=K;if(I*10<=L.length){if(E=L.slice(0,I).sort(D),!E.length)return E;N=E[E.length-1],T=L.slice(I);for(j=0,C=T.length;j<C;j++)if(w=T[j],D(w,N)<0)H(E,w,0,null,D),E.pop(),N=E[E.length-1];return E}U(L,D),S=[];for(P=0,V=W(I,L.length);0<=V?P<V:P>V;0<=V?++P:--P)S.push(Y(L,D));return S},O=function(L,I,D,w){var N,E,j;if(w==null)w=K;N=L[D];while(D>I){if(j=D-1>>1,E=L[j],w(N,E)<0){L[D]=E,D=j;continue}break}return L[D]=N},A=function(L,I,D){var w,N,E,j,P;if(D==null)D=K;N=L.length,P=I,E=L[I],w=2*I+1;while(w<N){if(j=w+1,j<N&&!(D(L[w],L[j])<0))w=j;L[I]=L[w],I=w,w=2*I+1}return L[I]=E,O(L,P,I,D)},Q=function(){L.push=q,L.pop=Y,L.replace=G,L.pushpop=z,L.heapify=U,L.updateItem=B,L.nlargest=F,L.nsmallest=M;function L(I){this.cmp=I!=null?I:K,this.nodes=[]}return L.prototype.push=function(I){return q(this.nodes,I,this.cmp)},L.prototype.pop=function(){return Y(this.nodes,this.cmp)},L.prototype.peek=function(){return this.nodes[0]},L.prototype.contains=function(I){return this.nodes.indexOf(I)!==-1},L.prototype.replace=function(I){return G(this.nodes,I,this.cmp)},L.prototype.pushpop=function(I){return z(this.nodes,I,this.cmp)},L.prototype.heapify=function(){return U(this.nodes,this.cmp)},L.prototype.updateItem=function(I){return B(this.nodes,I,this.cmp)},L.prototype.clear=function(){return this.nodes=[]},L.prototype.empty=function(){return this.nodes.length===0},L.prototype.size=function(){return this.nodes.length},L.prototype.clone=function(){var I=new L;return I.nodes=this.nodes.slice(0),I},L.prototype.toArray=function(){return this.nodes.slice(0)},L.prototype.insert=L.prototype.push,L.prototype.top=L.prototype.peek,L.prototype.front=L.prototype.peek,L.prototype.has=L.prototype.contains,L.prototype.copy=L.prototype.clone,L}(),function(L,I){return Z.exports=I()}(this,function(){return Q})}).call(iF)}),MM=Dy0,Ny0=U7({root:null,weight:function Z(J){return 1},directed:!1}),Ey0={dijkstra:function Z(J){if(!D8(J)){var Q=arguments;J={root:Q[0],weight:Q[1],directed:Q[2]}}var K=Ny0(J),X=K.root,U=K.weight,Y=K.directed,q=this,z=U,G=S9(X)?this.filter(X)[0]:X[0],H={},W={},F={},M=this.byGroup(),B=M.nodes,O=M.edges;O.unmergeBy(function(h){return h.isLoop()});var A=function h(v){return H[v.id()]},L=function h(v,b){H[v.id()]=b,I.updateItem(v)},I=new MM(function(h,v){return A(h)-A(v)});for(var D=0;D<B.length;D++){var w=B[D];H[w.id()]=w.same(G)?0:1/0,I.push(w)}var N=function h(v,b){var y=(Y?v.edgesTo(b):v.edgesWith(b)).intersect(O),k=1/0,g;for(var u=0;u<y.length;u++){var i=y[u],e=z(i);if(e<k||!g)k=e,g=i}return{edge:g,dist:k}};while(I.size()>0){var E=I.pop(),j=A(E),P=E.id();if(F[P]=j,j===1/0)continue;var C=E.neighborhood().intersect(B);for(var T=0;T<C.length;T++){var V=C[T],S=V.id(),$=N(E,V),f=j+$.dist;if(f<A(V))L(V,f),W[S]={node:E,edge:$.edge}}}return{distanceTo:function h(v){var b=S9(v)?B.filter(v)[0]:v[0];return F[b.id()]},pathTo:function h(v){var b=S9(v)?B.filter(v)[0]:v[0],y=[],k=b,g=k.id();if(b.length>0){y.unshift(b);while(W[g]){var u=W[g];y.unshift(u.edge),y.unshift(u.node),k=u.node,g=k.id()}}return q.spawn(y)}}}},wy0={kruskal:function Z(J){J=J||function(D){return 1};var Q=this.byGroup(),K=Q.nodes,X=Q.edges,U=K.length,Y=new Array(U),q=K,z=function D(w){for(var N=0;N<Y.length;N++){var E=Y[N];if(E.has(w))return N}};for(var G=0;G<U;G++)Y[G]=this.spawn(K[G]);var H=X.sort(function(D,w){return J(D)-J(w)});for(var W=0;W<H.length;W++){var F=H[W],M=F.source()[0],B=F.target()[0],O=z(M),A=z(B),L=Y[O],I=Y[A];if(O!==A)q.merge(F),L.merge(I),Y.splice(A,1)}return q}},jy0=U7({root:null,goal:null,weight:function Z(J){return 1},heuristic:function Z(J){return 0},directed:!1}),Cy0={aStar:function Z(J){var Q=this.cy(),K=jy0(J),X=K.root,U=K.goal,Y=K.heuristic,q=K.directed,z=K.weight;X=Q.collection(X)[0],U=Q.collection(U)[0];var G=X.id(),H=U.id(),W={},F={},M={},B=new MM(function(g,u){return F[g.id()]-F[u.id()]}),O=new ez,A={},L={},I=function g(u,i){B.push(u),O.add(i)},D,w,N=function g(){D=B.pop(),w=D.id(),O.delete(w)},E=function g(u){return O.has(u)};I(X,G),W[G]=0,F[G]=Y(X);var j=0;while(B.size()>0){if(N(),j++,w===H){var P=[],C=U,T=H,V=L[T];for(;;){if(P.unshift(C),V!=null)P.unshift(V);if(C=A[T],C==null)break;T=C.id(),V=L[T]}return{found:!0,distance:W[w],path:this.spawn(P),steps:j}}M[w]=!0;var S=D._private.edges;for(var $=0;$<S.length;$++){var f=S[$];if(!this.hasElementWithId(f.id()))continue;if(q&&f.data("source")!==w)continue;var h=f.source(),v=f.target(),b=h.id()!==w?h:v,y=b.id();if(!this.hasElementWithId(y))continue;if(M[y])continue;var k=W[w]+z(f);if(!E(y)){W[y]=k,F[y]=k+Y(b),I(b,y),A[y]=D,L[y]=f;continue}if(k<W[y])W[y]=k,F[y]=k+Y(b),A[y]=D,L[y]=f}}return{found:!1,distance:void 0,path:void 0,steps:j}}},Py0=U7({weight:function Z(J){return 1},directed:!1}),Vy0={floydWarshall:function Z(J){var Q=this.cy(),K=Py0(J),X=K.weight,U=K.directed,Y=X,q=this.byGroup(),z=q.nodes,G=q.edges,H=z.length,W=H*H,F=function i(e){return z.indexOf(e)},M=function i(e){return z[e]},B=new Array(W);for(var O=0;O<W;O++){var A=O%H,L=(O-A)/H;if(L===A)B[O]=0;else B[O]=1/0}var I=new Array(W),D=new Array(W);for(var w=0;w<G.length;w++){var N=G[w],E=N.source()[0],j=N.target()[0];if(E===j)continue;var P=F(E),C=F(j),T=P*H+C,V=Y(N);if(B[T]>V)B[T]=V,I[T]=C,D[T]=N;if(!U){var S=C*H+P;if(!U&&B[S]>V)B[S]=V,I[S]=P,D[S]=N}}for(var $=0;$<H;$++)for(var f=0;f<H;f++){var h=f*H+$;for(var v=0;v<H;v++){var b=f*H+v,y=$*H+v;if(B[h]+B[y]<B[b])B[b]=B[h]+B[y],I[b]=I[h]}}var k=function i(e){return(S9(e)?Q.filter(e):e)[0]},g=function i(e){return F(k(e))},u={distance:function i(e,J0){var z0=g(e),t=g(J0);return B[z0*H+t]},path:function i(e,J0){var z0=g(e),t=g(J0),B0=M(z0);if(z0===t)return B0.collection();if(I[z0*H+t]==null)return Q.collection();var X0=Q.collection(),d=z0,o;X0.merge(B0);while(z0!==t)d=z0,z0=I[z0*H+t],o=D[d*H+z0],X0.merge(o),X0.merge(M(z0));return X0}};return u}},Sy0=U7({weight:function Z(J){return 1},directed:!1,root:null}),Ty0={bellmanFord:function Z(J){var Q=this,K=Sy0(J),X=K.weight,U=K.directed,Y=K.root,q=X,z=this,G=this.cy(),H=this.byGroup(),W=H.edges,F=H.nodes,M=F.length,B=new LK,O=!1,A=[];Y=G.collection(Y)[0],W.unmergeBy(function(Y0){return Y0.isLoop()});var L=W.length,I=function Y0(k0){var h0=B.get(k0.id());if(!h0)h0={},B.set(k0.id(),h0);return h0},D=function Y0(k0){return(S9(k0)?G.$(k0):k0)[0]},w=function Y0(k0){return I(D(k0)).dist},N=function Y0(k0){var h0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y,V0=D(k0),l0=[],b0=V0;for(;;){if(b0==null)return Q.spawn();var S0=I(b0),H0=S0.edge,l=S0.pred;if(l0.unshift(b0[0]),b0.same(h0)&&l0.length>0)break;if(H0!=null)l0.unshift(H0);b0=l}return z.spawn(l0)};for(var E=0;E<M;E++){var j=F[E],P=I(j);if(j.same(Y))P.dist=0;else P.dist=1/0;P.pred=null,P.edge=null}var C=!1,T=function Y0(k0,h0,V0,l0,b0,S0){var H0=l0.dist+S0;if(H0<b0.dist&&!V0.same(l0.edge))b0.dist=H0,b0.pred=k0,b0.edge=V0,C=!0};for(var V=1;V<M;V++){C=!1;for(var S=0;S<L;S++){var $=W[S],f=$.source(),h=$.target(),v=q($),b=I(f),y=I(h);if(T(f,h,$,b,y,v),!U)T(h,f,$,y,b,v)}if(!C)break}if(C){var k=[];for(var g=0;g<L;g++){var u=W[g],i=u.source(),e=u.target(),J0=q(u),z0=I(i).dist,t=I(e).dist;if(z0+J0<t||!U&&t+J0<z0){if(!O)y8("Graph contains a negative weight cycle for Bellman-Ford"),O=!0;if(J.findNegativeWeightCycles!==!1){var B0=[];if(z0+J0<t)B0.push(i);if(!U&&t+J0<z0)B0.push(e);var X0=B0.length;for(var d=0;d<X0;d++){var o=B0[d],a=[o];a.push(I(o).edge);var Q0=I(o).pred;while(a.indexOf(Q0)===-1)a.push(Q0),a.push(I(Q0).edge),Q0=I(Q0).pred;a=a.slice(a.indexOf(Q0));var K0=a[0].id(),A0=0;for(var r=2;r<a.length;r+=2)if(a[r].id()<K0)K0=a[r].id(),A0=r;a=a.slice(A0).concat(a.slice(0,A0)),a.push(a[0]);var v0=a.map(function(Y0){return Y0.id()}).join(",");if(k.indexOf(v0)===-1)A.push(z.spawn(a)),k.push(v0)}}else break}}}return{distanceTo:w,pathTo:N,hasNegativeWeightCycle:O,negativeWeightCycles:A}}},fy0=Math.sqrt(2),ky0={kargerStein:function Z(){var J=this,Q=this.byGroup(),K=Q.nodes,X=Q.edges;X.unmergeBy(function(y){return y.isLoop()});var U=K.length,Y=X.length,q=Math.ceil(Math.pow(Math.log(U)/Math.LN2,2)),z=Math.floor(U/fy0);if(U<2){pZ("At least 2 nodes are required for Karger-Stein algorithm");return}var G=[];for(var H=0;H<Y;H++){var W=X[H];G.push([H,K.indexOf(W.source()),K.indexOf(W.target())])}var F=1/0,M=[],B=new Array(U),O=new Array(U),A=new Array(U),L=function y(k,g){for(var u=0;u<U;u++)g[u]=k[u]};for(var I=0;I<=q;I++){for(var D=0;D<U;D++)O[D]=D;var w=O$(O,G.slice(),U,z),N=w.slice();L(O,A);var E=O$(O,w,z,2),j=O$(A,N,z,2);if(E.length<=j.length&&E.length<F)F=E.length,M=E,L(O,B);else if(j.length<=E.length&&j.length<F)F=j.length,M=j,L(A,B)}var P=this.spawn(M.map(function(y){return X[y[0]]})),C=this.spawn(),T=this.spawn(),V=B[0];for(var S=0;S<B.length;S++){var $=B[S],f=K[S];if($===V)C.merge(f);else T.merge(f)}var h=function y(k){var g=J.spawn();return k.forEach(function(u){g.merge(u),u.connectedEdges().forEach(function(i){if(J.contains(i)&&!P.contains(i))g.merge(i)})}),g},v=[h(C),h(T)],b={cut:P,components:v,partition1:C,partition2:T};return b}},a$=Math.log2||function(Z){return Math.log(Z)/Math.log(2)},Qu0=U7({dampingFactor:0.8,precision:0.000001,iterations:200,weight:function Z(J){return 1}}),Ku0={pageRank:function Z(J){var Q=Qu0(J),K=Q.dampingFactor,X=Q.precision,U=Q.iterations,Y=Q.weight,q=this._private.cy,z=this.byGroup(),G=z.nodes,H=z.edges,W=G.length,F=W*W,M=H.length,B=new Array(F),O=new Array(W),A=(1-K)/W;for(var L=0;L<W;L++){for(var I=0;I<W;I++){var D=L*W+I;B[D]=0}O[L]=0}for(var w=0;w<M;w++){var N=H[w],E=N.data("source"),j=N.data("target");if(E===j)continue;var P=G.indexOfId(E),C=G.indexOfId(j),T=Y(N),V=C*W+P;B[V]+=T,O[P]+=T}var S=1/W+A;for(var $=0;$<W;$++)if(O[$]===0)for(var f=0;f<W;f++){var h=f*W+$;B[h]=S}else for(var v=0;v<W;v++){var b=v*W+$;B[b]=B[b]/O[$]+A}var y=new Array(W),k=new Array(W),g;for(var u=0;u<W;u++)y[u]=1;for(var i=0;i<U;i++){for(var e=0;e<W;e++)k[e]=0;for(var J0=0;J0<W;J0++)for(var z0=0;z0<W;z0++){var t=J0*W+z0;k[J0]+=B[t]*y[z0]}uy0(k),g=y,y=k,k=g;var B0=0;for(var X0=0;X0<W;X0++){var d=g[X0]-y[X0];B0+=d*d}if(B0<X)break}var o={rank:function a(Q0){return Q0=q.collection(Q0)[0],y[G.indexOf(Q0)]}};return o}},MQ0=U7({root:null,weight:function Z(J){return 1},directed:!1,alpha:0}),iz={degreeCentralityNormalized:function Z(J){J=MQ0(J);var Q=this.cy(),K=this.nodes(),X=K.length;if(!J.directed){var U={},Y=0;for(var q=0;q<X;q++){var z=K[q];J.root=z;var G=this.degreeCentrality(J);if(Y<G.degree)Y=G.degree;U[z.id()]=G.degree}return{degree:function I(D){if(Y===0)return 0;if(S9(D))D=Q.filter(D);return U[D.id()]/Y}}}else{var H={},W={},F=0,M=0;for(var B=0;B<X;B++){var O=K[B],A=O.id();J.root=O;var L=this.degreeCentrality(J);if(F<L.indegree)F=L.indegree;if(M<L.outdegree)M=L.outdegree;H[A]=L.indegree,W[A]=L.outdegree}return{indegree:function I(D){if(F==0)return 0;if(S9(D))D=Q.filter(D);return H[D.id()]/F},outdegree:function I(D){if(M===0)return 0;if(S9(D))D=Q.filter(D);return W[D.id()]/M}}}},degreeCentrality:function Z(J){J=MQ0(J);var Q=this.cy(),K=this,X=J,U=X.root,Y=X.weight,q=X.directed,z=X.alpha;if(U=Q.collection(U)[0],!q){var G=U.connectedEdges().intersection(K),H=G.length,W=0;for(var F=0;F<G.length;F++)W+=Y(G[F]);return{degree:Math.pow(H,1-z)*Math.pow(W,z)}}else{var M=U.connectedEdges(),B=M.filter(function(E){return E.target().same(U)&&K.has(E)}),O=M.filter(function(E){return E.source().same(U)&&K.has(E)}),A=B.length,L=O.length,I=0,D=0;for(var w=0;w<B.length;w++)I+=Y(B[w]);for(var N=0;N<O.length;N++)D+=Y(O[N]);return{indegree:Math.pow(A,1-z)*Math.pow(I,z),outdegree:Math.pow(L,1-z)*Math.pow(D,z)}}}};iz.dc=iz.degreeCentrality;iz.dcn=iz.degreeCentralityNormalised=iz.degreeCentralityNormalized;BQ0=U7({harmonic:!0,weight:function Z(){return 1},directed:!1,root:null}),sz={closenessCentralityNormalized:function Z(J){var Q=BQ0(J),K=Q.harmonic,X=Q.weight,U=Q.directed,Y=this.cy(),q={},z=0,G=this.nodes(),H=this.floydWarshall({weight:X,directed:U});for(var W=0;W<G.length;W++){var F=0,M=G[W];for(var B=0;B<G.length;B++)if(W!==B){var O=H.distance(M,G[B]);if(K)F+=1/O;else F+=O}if(!K)F=1/F;if(z<F)z=F;q[M.id()]=F}return{closeness:function A(L){if(z==0)return 0;if(S9(L))L=Y.filter(L)[0].id();else L=L.id();return q[L]/z}}},closenessCentrality:function Z(J){var Q=BQ0(J),K=Q.root,X=Q.weight,U=Q.directed,Y=Q.harmonic;K=this.filter(K)[0];var q=this.dijkstra({root:K,weight:X,directed:U}),z=0,G=this.nodes();for(var H=0;H<G.length;H++){var W=G[H];if(!W.same(K)){var F=q.distanceTo(W);if(Y)z+=1/F;else z+=F}}return Y?z:1/z}};sz.cc=sz.closenessCentrality;sz.ccn=sz.closenessCentralityNormalised=sz.closenessCentralityNormalized;Xu0=U7({weight:null,directed:!1}),T$={betweennessCentrality:function Z(J){var Q=Xu0(J),K=Q.directed,X=Q.weight,U=X!=null,Y=this.cy(),q=this.nodes(),z={},G={},H=0,W={set:function I(D,w){if(G[D]=w,w>H)H=w},get:function I(D){return G[D]}};for(var F=0;F<q.length;F++){var M=q[F],B=M.id();if(K)z[B]=M.outgoers().nodes();else z[B]=M.openNeighborhood().nodes();W.set(B,0)}var O=function I(D){var w=q[D].id(),N=[],E={},j={},P={},C=new MM(function(z0,t){return P[z0]-P[t]});for(var T=0;T<q.length;T++){var V=q[T].id();E[V]=[],j[V]=0,P[V]=1/0}j[w]=1,P[w]=0,C.push(w);while(!C.empty()){var S=C.pop();if(N.push(S),U)for(var $=0;$<z[S].length;$++){var f=z[S][$],h=Y.getElementById(S),v=void 0;if(h.edgesTo(f).length>0)v=h.edgesTo(f)[0];else v=f.edgesTo(h)[0];var b=X(v);if(f=f.id(),P[f]>P[S]+b){if(P[f]=P[S]+b,C.nodes.indexOf(f)<0)C.push(f);else C.updateItem(f);j[f]=0,E[f]=[]}if(P[f]==P[S]+b)j[f]=j[f]+j[S],E[f].push(S)}else for(var y=0;y<z[S].length;y++){var k=z[S][y].id();if(P[k]==1/0)C.push(k),P[k]=P[S]+1;if(P[k]==P[S]+1)j[k]=j[k]+j[S],E[k].push(S)}}var g={};for(var u=0;u<q.length;u++)g[q[u].id()]=0;while(N.length>0){var i=N.pop();for(var e=0;e<E[i].length;e++){var J0=E[i][e];g[J0]=g[J0]+j[J0]/j[i]*(1+g[i])}if(i!=q[D].id())W.set(i,W.get(i)+g[i])}};for(var A=0;A<q.length;A++)O(A);var L={betweenness:function I(D){var w=Y.collection(D).id();return W.get(w)},betweennessNormalized:function I(D){if(H==0)return 0;var w=Y.collection(D).id();return W.get(w)/H}};return L.betweennessNormalised=L.betweennessNormalized,L}};T$.bc=T$.betweennessCentrality;Uu0=U7({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(Z){return 1}]}),Ou0={markovClustering:RQ0,mcl:RQ0},oz={euclidean:function Z(J,Q,K){if(J>=2)return pF(J,Q,K,0,AQ0,Lu0);else return pF(J,Q,K,0,OQ0)},squaredEuclidean:function Z(J,Q,K){return pF(J,Q,K,0,AQ0)},manhattan:function Z(J,Q,K){return pF(J,Q,K,0,OQ0)},max:function Z(J,Q,K){return pF(J,Q,K,-1/0,Iu0)}};oz["squared-euclidean"]=oz.squaredEuclidean;oz.squaredeuclidean=oz.squaredEuclidean;Du0=U7({k:2,m:2,sensitivityThreshold:0.0001,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Tu0={kMeans:ju0,kMedoids:Cu0,fuzzyCMeans:DQ0,fcm:DQ0},fu0=U7({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),vu0={single:"min",complete:"max"},bu0={hierarchicalClustering:EQ0,hca:EQ0},xu0=U7({distance:"euclidean",preference:"median",damping:0.8,maxIterations:1000,minIterations:100,attributes:[]}),pu0={affinityPropagation:jQ0,ap:jQ0},cu0=U7({root:void 0,directed:!1}),lu0={hierholzer:function Z(J){if(!D8(J)){var Q=arguments;J={root:Q[0],directed:Q[1]}}var K=cu0(J),X=K.root,U=K.directed,Y=this,q=!1,z,G,H;if(X)H=S9(X)?this.filter(X)[0].id():X[0].id();var W={},F={};if(U)Y.forEach(function(I){var D=I.id();if(I.isNode()){var w=I.indegree(!0),N=I.outdegree(!0),E=w-N,j=N-w;if(E==1)if(z)q=!0;else z=D;else if(j==1)if(G)q=!0;else G=D;else if(j>1||E>1)q=!0;W[D]=[],I.outgoers().forEach(function(P){if(P.isEdge())W[D].push(P.id())})}else F[D]=[void 0,I.target().id()]});else Y.forEach(function(I){var D=I.id();if(I.isNode()){var w=I.degree(!0);if(w%2)if(!z)z=D;else if(!G)G=D;else q=!0;W[D]=[],I.connectedEdges().forEach(function(N){return W[D].push(N.id())})}else F[D]=[I.source().id(),I.target().id()]});var M={found:!1,trail:void 0};if(q)return M;else if(G&&z){if(U){if(H&&G!=H)return M;H=G}else if(H&&G!=H&&z!=H)return M;else if(!H)H=G}else if(!H)H=Y[0].id();var B=function I(D){var w=D,N=[D],E,j,P;while(W[w].length){if(E=W[w].shift(),j=F[E][0],P=F[E][1],w!=P)W[P]=W[P].filter(function(C){return C!=E}),w=P;else if(!U&&w!=j)W[j]=W[j].filter(function(C){return C!=E}),w=j;N.unshift(E),N.unshift(w)}return N},O=[],A=[];A=B(H);while(A.length!=1)if(W[A[0]].length==0)O.unshift(Y.getElementById(A.shift())),O.unshift(Y.getElementById(A.shift()));else A=B(A.shift()).concat(A);O.unshift(Y.getElementById(A.shift()));for(var L in W)if(W[L].length)return M;return M.found=!0,M.trail=this.spawn(O,!0),M}},du0={hopcroftTarjanBiconnected:I3,htbc:I3,htb:I3,hopcroftTarjanBiconnectedComponents:I3},iu0={tarjanStronglyConnected:D3,tsc:D3,tscc:D3,tarjanStronglyConnectedComponents:D3},s40={};[QM,Ey0,wy0,Cy0,Vy0,Ty0,ky0,Ku0,iz,sz,T$,Ou0,Tu0,bu0,pu0,lu0,du0,iu0].forEach(function(Z){b9(s40,Z)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/v5.prototype={fulfill:function Z(J){return CQ0(this,n40,"fulfillValue",J)},reject:function Z(J){return CQ0(this,a40,"rejectReason",J)},then:function Z(J,Q){var K=this,X=new v5;return K.onFulfilled.push(VQ0(J,X,"fulfill")),K.onRejected.push(VQ0(Q,X,"reject")),o40(K),X.proxy}};v5.all=function(Z){return new v5(function(J,Q){var K=new Array(Z.length),X=0,U=function q(z,G){if(K[z]=G,X++,X===Z.length)J(K)};for(var Y=0;Y<Z.length;Y++)(function(q){var z=Z[q],G=z!=null&&z.then!=null;if(G)z.then(function(W){U(q,W)},function(W){Q(W)});else{var H=z;U(q,H)}})(Y)})};v5.resolve=function(Z){return new v5(function(J,Q){J(Z)})};v5.reject=function(Z){return new v5(function(J,Q){Q(Z)})};ZG=typeof Promise!=="undefined"?Promise:v5,tY=f$.prototype;b9(tY,{instanceString:function Z(){return"animation"},hook:function Z(){var J=this._private;if(!J.hooked){var Q,K=J.target._private.animation;if(J.queue)Q=K.queue;else Q=K.current;if(Q.push(this),r6(J.target))J.target.cy().addToAnimationPool(J.target);J.hooked=!0}return this},play:function Z(){var J=this._private;if(J.progress===1)J.progress=0;return J.playing=!0,J.started=!1,J.stopped=!1,this.hook(),this},playing:function Z(){return this._private.playing},apply:function Z(){var J=this._private;return J.applying=!0,J.started=!1,J.stopped=!1,this.hook(),this},applying:function Z(){return this._private.applying},pause:function Z(){var J=this._private;return J.playing=!1,J.started=!1,this},stop:function Z(){var J=this._private;return J.playing=!1,J.started=!1,J.stopped=!0,this},rewind:function Z(){return this.progress(0)},fastforward:function Z(){return this.progress(1)},time:function Z(J){var Q=this._private;if(J===void 0)return Q.progress*Q.duration;else return this.progress(J/Q.duration)},progress:function Z(J){var Q=this._private,K=Q.playing;if(J===void 0)return Q.progress;else{if(K)this.pause();if(Q.progress=J,Q.started=!1,K)this.play()}return this},completed:function Z(){return this._private.progress===1},reverse:function Z(){var J=this._private,Q=J.playing;if(Q)this.pause();J.progress=1-J.progress,J.started=!1;var K=function z(G,H){var W=J[G];if(W==null)return;J[G]=J[H],J[H]=W};if(K("zoom","startZoom"),K("pan","startPan"),K("position","startPosition"),J.style)for(var X=0;X<J.style.length;X++){var U=J.style[X],Y=U.name,q=J.startStyle[Y];J.startStyle[Y]=U,J.style[X]=q}if(Q)this.play();return this},promise:function Z(J){var Q=this._private,K;switch(J){case"frame":K=Q.frames;break;default:case"complete":case"completed":K=Q.completes}return new ZG(function(X,U){K.push(function(){X()})})}});tY.complete=tY.completed;tY.run=tY.play;tY.running=tY.playing;ru0={animated:function Z(){return function J(){var Q=this,K=Q.length!==void 0,X=K?Q:[Q],U=this._private.cy||this;if(!U.styleEnabled())return!1;var Y=X[0];if(Y)return Y._private.animation.current.length>0}},clearQueue:function Z(){return function J(){var Q=this,K=Q.length!==void 0,X=K?Q:[Q],U=this._private.cy||this;if(!U.styleEnabled())return this;for(var Y=0;Y<X.length;Y++){var q=X[Y];q._private.animation.queue=[]}return this}},delay:function Z(){return function J(Q,K){var X=this._private.cy||this;if(!X.styleEnabled())return this;return this.animate({delay:Q,duration:Q,complete:K})}},delayAnimation:function Z(){return function J(Q,K){var X=this._private.cy||this;if(!X.styleEnabled())return this;return this.animation({delay:Q,duration:Q,complete:K})}},animation:function Z(){return function J(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this,z=!U,G=!z;if(!q.styleEnabled())return this;var H=q.style();Q=b9({},Q,K);var W=Object.keys(Q).length===0;if(W)return new f$(Y[0],Q);if(Q.duration===void 0)Q.duration=400;switch(Q.duration){case"slow":Q.duration=600;break;case"fast":Q.duration=200;break}if(G)Q.style=H.getPropsList(Q.style||Q.css),Q.css=void 0;if(G&&Q.renderedPosition!=null){var F=Q.renderedPosition,M=q.pan(),B=q.zoom();Q.position=x40(F,B,M)}if(z&&Q.panBy!=null){var O=Q.panBy,A=q.pan();Q.pan={x:A.x+O.x,y:A.y+O.y}}var L=Q.center||Q.centre;if(z&&L!=null){var I=q.getCenterPan(L.eles,Q.zoom);if(I!=null)Q.pan=I}if(z&&Q.fit!=null){var D=Q.fit,w=q.getFitViewport(D.eles||D.boundingBox,D.padding);if(w!=null)Q.pan=w.pan,Q.zoom=w.zoom}if(z&&D8(Q.zoom)){var N=q.getZoomedViewport(Q.zoom);if(N!=null){if(N.zoomed)Q.zoom=N.zoom;if(N.panned)Q.pan=N.pan}else Q.zoom=null}return new f$(Y[0],Q)}},animate:function Z(){return function J(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this;if(!q.styleEnabled())return this;if(K)Q=b9({},Q,K);for(var z=0;z<Y.length;z++){var G=Y[z],H=G.animated()&&(Q.queue===void 0||Q.queue),W=G.animation(Q,H?{queue:!0}:void 0);W.play()}return this}},stop:function Z(){return function J(Q,K){var X=this,U=X.length!==void 0,Y=U?X:[X],q=this._private.cy||this;if(!q.styleEnabled())return this;for(var z=0;z<Y.length;z++){var G=Y[z],H=G._private,W=H.animation.current;for(var F=0;F<W.length;F++){var M=W[F],B=M._private;if(K)B.duration=0}if(Q)H.animation.queue=[];if(!K)H.animation.current=[]}return q.notify("draw"),this}}},nu0=Array.isArray,e3=nu0,au0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ou0=/^\w*$/,eu0=tu0,Um0=Xm0,Ym0=r3["__core-js_shared__"],I$=Ym0,SQ0=function(){var Z=/[^.]+$/.exec(I$&&I$.keys&&I$.keys.IE_PROTO||"");return Z?"Symbol(src)_1."+Z:""}(),zm0=qm0,Gm0=Function.prototype,Hm0=Gm0.toString,Fm0=Wm0,Mm0=/[\\^$.*+?()[\]{}|]/g,Bm0=/^\[object .+?Constructor\]$/,Rm0=Function.prototype,Om0=Object.prototype,Am0=Rm0.toString,Lm0=Om0.hasOwnProperty,Im0=RegExp("^"+Am0.call(Lm0).replace(Mm0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nm0=Dm0,wm0=Em0,Z_=jm0,Cm0=Z_(Object,"create"),UM=Cm0,Vm0=Pm0,Tm0=Sm0,vm0=Object.prototype,km0=vm0.hasOwnProperty,_m0=$m0,bm0=Object.prototype,xm0=bm0.hasOwnProperty,ym0=hm0,gm0=mm0;JG.prototype.clear=Vm0;JG.prototype.delete=Tm0;JG.prototype.get=_m0;JG.prototype.has=ym0;JG.prototype.set=gm0;TQ0=JG,cm0=pm0,t40=lm0,ZD=dm0,im0=Array.prototype,sm0=im0.splice,nm0=rm0,om0=am0,em0=tm0,Jg0=Zg0;QG.prototype.clear=cm0;QG.prototype.delete=nm0;QG.prototype.get=om0;QG.prototype.has=em0;QG.prototype.set=Jg0;Qg0=QG,Kg0=Z_(r3,"Map"),Xg0=Kg0,Yg0=Ug0,zg0=qg0,JD=Gg0,Wg0=Hg0,Mg0=Fg0,Rg0=Bg0,Ag0=Og0;KG.prototype.clear=Yg0;KG.prototype.delete=Wg0;KG.prototype.get=Mg0;KG.prototype.has=Rg0;KG.prototype.set=Ag0;e40=KG;J_.Cache=e40;Ig0=J_,Eg0=Ng0,wg0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jg0=/\\(\\)?/g,Cg0=Eg0(function(Z){var J=[];if(Z.charCodeAt(0)===46)J.push("");return Z.replace(wg0,function(Q,K,X,U){J.push(X?U.replace(jg0,"$1"):K||Q)}),J}),ZK0=Cg0,JK0=Pg0,fQ0=nz?nz.prototype:void 0,vQ0=fQ0?fQ0.toString:void 0,Sg0=QK0,KK0=Tg0,XK0=fg0,Q_=kg0,_g0=$g0,xg0=bg0,hg0=function(){try{var Z=Z_(Object,"defineProperty");return Z({},"",{}),Z}catch(J){}}(),kQ0=hg0,ug0=yg0,mg0=Object.prototype,gg0=mg0.hasOwnProperty,cg0=pg0,dg0=/^(?:0|[1-9]\d*)$/,sg0=ig0,ng0=rg0,og0=ag0,eg0=tg0,Jp0=Zp0,Qp0={data:function Z(J){var Q={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function K(X){},beforeSet:function K(X,U){},onSet:function K(X){},canSet:function K(X){return!0}};return J=b9({},Q,J),function K(X,U){var Y=J,q=this,z=q.length!==void 0,G=z?q:[q],H=z?q[0]:q;if(S9(X)){var W=X.indexOf(".")!==-1,F=W&&Jp0(X);if(Y.allowGetting&&U===void 0){var M;if(H)if(Y.beforeGet(H),F&&H._private[Y.field][X]===void 0)M=xg0(H._private[Y.field],F);else M=H._private[Y.field][X];return M}else if(Y.allowSetting&&U!==void 0){var B=!Y.immutableKeys[X];if(B){var O=O40({},X,U);Y.beforeSet(q,O);for(var A=0,L=G.length;A<L;A++){var I=G[A];if(Y.canSet(I))if(F&&H._private[Y.field][X]===void 0)og0(I._private[Y.field],F,U);else I._private[Y.field][X]=U}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}}}else if(Y.allowSetting&&D8(X)){var D=X,w,N,E=Object.keys(D);Y.beforeSet(q,D);for(var j=0;j<E.length;j++){w=E[j],N=D[w];var P=!Y.immutableKeys[w];if(P)for(var C=0;C<G.length;C++){var T=G[C];if(Y.canSet(T))T._private[Y.field][w]=N}}if(Y.updateStyle)q.updateStyle();if(Y.onSet(q),Y.settingTriggersEvent)q[Y.triggerFnName](Y.settingEvent)}else if(Y.allowBinding&&$Z(X)){var V=X;q.on(Y.bindingEvent,V)}else if(Y.allowGetting&&X===void 0){var S;if(H)Y.beforeGet(H),S=H._private[Y.field];return S}return q}},removeData:function Z(J){var Q={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return J=b9({},Q,J),function K(X){var U=J,Y=this,q=Y.length!==void 0,z=q?Y:[Y];if(S9(X)){var G=X.split(/\s+/),H=G.length;for(var W=0;W<H;W++){var F=G[W];if(ZU(F))continue;var M=!U.immutableKeys[F];if(M)for(var B=0,O=z.length;B<O;B++)z[B]._private[U.field][F]=void 0}if(U.triggerEvent)Y[U.triggerFnName](U.event)}else if(X===void 0){for(var A=0,L=z.length;A<L;A++){var I=z[A]._private[U.field],D=Object.keys(I);for(var w=0;w<D.length;w++){var N=D[w],E=!U.immutableKeys[N];if(E)I[N]=void 0}}if(U.triggerEvent)Y[U.triggerFnName](U.event)}return Y}}},Kp0={eventAliasesOn:function Z(J){var Q=J;Q.addListener=Q.listen=Q.bind=Q.on,Q.unlisten=Q.unbind=Q.off=Q.removeListener,Q.trigger=Q.emit,Q.pon=Q.promiseOn=function(K,X){var U=this,Y=Array.prototype.slice.call(arguments,0);return new ZG(function(q,z){var G=function F(M){U.off.apply(U,W),q(M)},H=Y.concat([G]),W=H.concat([]);U.on.apply(U,H)})}}},h8={};[ru0,Qp0,Kp0].forEach(function(Z){b9(h8,Z)});Xp0={animate:h8.animate(),animation:h8.animation(),animated:h8.animated(),clearQueue:h8.clearQueue(),delay:h8.delay(),delayAnimation:h8.delayAnimation(),stop:h8.stop()},T3={classes:function Z(J){var Q=this;if(J===void 0){var K=[];return Q[0]._private.classes.forEach(function(B){return K.push(B)}),K}else if(!JZ(J))J=(J||"").match(/\S+/g)||[];var X=[],U=new ez(J);for(var Y=0;Y<Q.length;Y++){var q=Q[Y],z=q._private,G=z.classes,H=!1;for(var W=0;W<J.length;W++){var F=J[W],M=G.has(F);if(!M){H=!0;break}}if(!H)H=G.size!==J.length;if(H)z.classes=U,X.push(q)}if(X.length>0)this.spawn(X).updateStyle().emit("class");return Q},addClass:function Z(J){return this.toggleClass(J,!0)},hasClass:function Z(J){var Q=this[0];return Q!=null&&Q._private.classes.has(J)},toggleClass:function Z(J,Q){if(!JZ(J))J=J.match(/\S+/g)||[];var K=this,X=Q===void 0,U=[];for(var Y=0,q=K.length;Y<q;Y++){var z=K[Y],G=z._private.classes,H=!1;for(var W=0;W<J.length;W++){var F=J[W],M=G.has(F),B=!1;if(Q||X&&!M)G.add(F),B=!0;else if(!Q||X&&M)G.delete(F),B=!0;if(!H&&B)U.push(z),H=!0}}if(U.length>0)this.spawn(U).updateStyle().emit("class");return K},removeClass:function Z(J){return this.toggleClass(J,!1)},flashClass:function Z(J,Q){var K=this;if(Q==null)Q=250;else if(Q===0)return K;return K.addClass(J),setTimeout(function(){K.removeClass(J)},Q),K}};T3.className=T3.classNames=T3.classes;I8={metaChar:'[\\!\\"\\#\\$\\%\\&\\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]',comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:DJ,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};I8.variable="(?:[\\w-.]|(?:\\\\"+I8.metaChar+"))+";I8.className="(?:[\\w-]|(?:\\\\"+I8.metaChar+"))+";I8.value=I8.string+"|"+I8.number;I8.id=I8.variable;(function(){var Z,J,Q;Z=I8.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++)J=Z[Q],I8.comparatorOp+="|@"+J;Z=I8.comparatorOp.split("|");for(Q=0;Q<Z.length;Q++){if(J=Z[Q],J.indexOf("!")>=0)continue;if(J==="=")continue;I8.comparatorOp+="|\\!"+J}})();F9={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},v$=[{selector:":selected",matches:function Z(J){return J.selected()}},{selector:":unselected",matches:function Z(J){return!J.selected()}},{selector:":selectable",matches:function Z(J){return J.selectable()}},{selector:":unselectable",matches:function Z(J){return!J.selectable()}},{selector:":locked",matches:function Z(J){return J.locked()}},{selector:":unlocked",matches:function Z(J){return!J.locked()}},{selector:":visible",matches:function Z(J){return J.visible()}},{selector:":hidden",matches:function Z(J){return!J.visible()}},{selector:":transparent",matches:function Z(J){return J.transparent()}},{selector:":grabbed",matches:function Z(J){return J.grabbed()}},{selector:":free",matches:function Z(J){return!J.grabbed()}},{selector:":removed",matches:function Z(J){return J.removed()}},{selector:":inside",matches:function Z(J){return!J.removed()}},{selector:":grabbable",matches:function Z(J){return J.grabbable()}},{selector:":ungrabbable",matches:function Z(J){return!J.grabbable()}},{selector:":animated",matches:function Z(J){return J.animated()}},{selector:":unanimated",matches:function Z(J){return!J.animated()}},{selector:":parent",matches:function Z(J){return J.isParent()}},{selector:":childless",matches:function Z(J){return J.isChildless()}},{selector:":child",matches:function Z(J){return J.isChild()}},{selector:":orphan",matches:function Z(J){return J.isOrphan()}},{selector:":nonorphan",matches:function Z(J){return J.isChild()}},{selector:":compound",matches:function Z(J){if(J.isNode())return J.isParent();else return J.source().isParent()||J.target().isParent()}},{selector:":loop",matches:function Z(J){return J.isLoop()}},{selector:":simple",matches:function Z(J){return J.isSimple()}},{selector:":active",matches:function Z(J){return J.active()}},{selector:":inactive",matches:function Z(J){return!J.active()}},{selector:":backgrounding",matches:function Z(J){return J.backgrounding()}},{selector:":nonbackgrounding",matches:function Z(J){return!J.backgrounding()}}].sort(function(Z,J){return Oh0(Z.selector,J.selector)}),Up0=function(){var Z={},J;for(var Q=0;Q<v$.length;Q++)J=v$[Q],Z[J.selector]=J.matches;return Z}(),qp0="("+v$.map(function(Z){return Z.selector}).join("|")+")",k$=[{name:"group",query:!0,regex:"("+I8.group+")",populate:function Z(J,Q,K){var X=F4(K,1),U=X[0];Q.checks.push({type:F9.GROUP,value:U==="*"?U:U+"s"})}},{name:"state",query:!0,regex:qp0,populate:function Z(J,Q,K){var X=F4(K,1),U=X[0];Q.checks.push({type:F9.STATE,value:U})}},{name:"id",query:!0,regex:"\\#("+I8.id+")",populate:function Z(J,Q,K){var X=F4(K,1),U=X[0];Q.checks.push({type:F9.ID,value:hz(U)})}},{name:"className",query:!0,regex:"\\.("+I8.className+")",populate:function Z(J,Q,K){var X=F4(K,1),U=X[0];Q.checks.push({type:F9.CLASS,value:hz(U)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+I8.variable+")\\s*\\]",populate:function Z(J,Q,K){var X=F4(K,1),U=X[0];Q.checks.push({type:F9.DATA_EXIST,field:hz(U)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+I8.variable+")\\s*("+I8.comparatorOp+")\\s*("+I8.value+")\\s*\\]",populate:function Z(J,Q,K){var X=F4(K,3),U=X[0],Y=X[1],q=X[2],z=new RegExp("^"+I8.string+"$").exec(q)!=null;if(z)q=q.substring(1,q.length-1);else q=parseFloat(q);Q.checks.push({type:F9.DATA_COMPARE,field:hz(U),operator:Y,value:q})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+I8.boolOp+")\\s*("+I8.variable+")\\s*\\]",populate:function Z(J,Q,K){var X=F4(K,2),U=X[0],Y=X[1];Q.checks.push({type:F9.DATA_BOOL,field:hz(Y),operator:U})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+I8.meta+")\\s*("+I8.comparatorOp+")\\s*("+I8.number+")\\s*\\]\\]",populate:function Z(J,Q,K){var X=F4(K,3),U=X[0],Y=X[1],q=X[2];Q.checks.push({type:F9.META_COMPARE,field:hz(U),operator:Y,value:parseFloat(q)})}},{name:"nextQuery",separator:!0,regex:I8.separator,populate:function Z(J,Q){var{currentSubject:K,edgeCount:X,compoundCount:U}=J,Y=J[J.length-1];if(K!=null)Y.subject=K,J.currentSubject=null;Y.edgeCount=X,Y.compoundCount=U,J.edgeCount=0,J.compoundCount=0;var q=J[J.length++]=r8();return q}},{name:"directedEdge",separator:!0,regex:I8.directedEdge,populate:function Z(J,Q){if(J.currentSubject==null){var K=r8(),X=Q,U=r8();return K.checks.push({type:F9.DIRECTED_EDGE,source:X,target:U}),nX(J,Q,K),J.edgeCount++,U}else{var Y=r8(),q=Q,z=r8();return Y.checks.push({type:F9.NODE_SOURCE,source:q,target:z}),nX(J,Q,Y),J.edgeCount++,z}}},{name:"undirectedEdge",separator:!0,regex:I8.undirectedEdge,populate:function Z(J,Q){if(J.currentSubject==null){var K=r8(),X=Q,U=r8();return K.checks.push({type:F9.UNDIRECTED_EDGE,nodes:[X,U]}),nX(J,Q,K),J.edgeCount++,U}else{var Y=r8(),q=Q,z=r8();return Y.checks.push({type:F9.NODE_NEIGHBOR,node:q,neighbor:z}),nX(J,Q,Y),z}}},{name:"child",separator:!0,regex:I8.child,populate:function Z(J,Q){if(J.currentSubject==null){var K=r8(),X=r8(),U=J[J.length-1];return K.checks.push({type:F9.CHILD,parent:U,child:X}),nX(J,Q,K),J.compoundCount++,X}else if(J.currentSubject===Q){var Y=r8(),q=J[J.length-1],z=r8(),G=r8(),H=r8(),W=r8();return Y.checks.push({type:F9.COMPOUND_SPLIT,left:q,right:z,subject:G}),G.checks=Q.checks,Q.checks=[{type:F9.TRUE}],W.checks.push({type:F9.TRUE}),z.checks.push({type:F9.PARENT,parent:W,child:H}),nX(J,q,Y),J.currentSubject=G,J.compoundCount++,H}else{var F=r8(),M=r8(),B=[{type:F9.PARENT,parent:F,child:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"descendant",separator:!0,regex:I8.descendant,populate:function Z(J,Q){if(J.currentSubject==null){var K=r8(),X=r8(),U=J[J.length-1];return K.checks.push({type:F9.DESCENDANT,ancestor:U,descendant:X}),nX(J,Q,K),J.compoundCount++,X}else if(J.currentSubject===Q){var Y=r8(),q=J[J.length-1],z=r8(),G=r8(),H=r8(),W=r8();return Y.checks.push({type:F9.COMPOUND_SPLIT,left:q,right:z,subject:G}),G.checks=Q.checks,Q.checks=[{type:F9.TRUE}],W.checks.push({type:F9.TRUE}),z.checks.push({type:F9.ANCESTOR,ancestor:W,descendant:H}),nX(J,q,Y),J.currentSubject=G,J.compoundCount++,H}else{var F=r8(),M=r8(),B=[{type:F9.ANCESTOR,ancestor:F,descendant:M}];return F.checks=Q.checks,Q.checks=B,J.compoundCount++,M}}},{name:"subject",modifier:!0,regex:I8.subject,populate:function Z(J,Q){if(J.currentSubject!=null&&J.currentSubject!==Q)return y8("Redefinition of subject in selector `"+J.toString()+"`"),!1;J.currentSubject=Q;var K=J[J.length-1],X=K.checks[0],U=X==null?null:X.type;if(U===F9.DIRECTED_EDGE)X.type=F9.NODE_TARGET;else if(U===F9.UNDIRECTED_EDGE)X.type=F9.NODE_NEIGHBOR,X.node=X.nodes[1],X.neighbor=X.nodes[0],X.nodes=null}}];k$.forEach(function(Z){return Z.regexObj=new RegExp("^"+Z.regex)});Fp0={parse:Hp0,toString:Wp0},cZ=[];cZ[F9.GROUP]=function(Z,J){var Q=Z.value;return Q==="*"||Q===J.group()};cZ[F9.STATE]=function(Z,J){var Q=Z.value;return Yp0(Q,J)};cZ[F9.ID]=function(Z,J){var Q=Z.value;return J.id()===Q};cZ[F9.CLASS]=function(Z,J){var Q=Z.value;return J.hasClass(Q)};cZ[F9.META_COMPARE]=function(Z,J){var{field:Q,operator:K,value:X}=Z;return UK0(Rp0(J,Q),K,X)};cZ[F9.DATA_COMPARE]=function(Z,J){var{field:Q,operator:K,value:X}=Z;return UK0(K_(J,Q),K,X)};cZ[F9.DATA_BOOL]=function(Z,J){var{field:Q,operator:K}=Z;return Mp0(K_(J,Q),K)};cZ[F9.DATA_EXIST]=function(Z,J){var Q=Z.field;return Z.operator,Bp0(K_(J,Q))};cZ[F9.UNDIRECTED_EDGE]=function(Z,J){var Q=Z.nodes[0],K=Z.nodes[1],X=J.source(),U=J.target();return OZ(Q,X)&&OZ(K,U)||OZ(K,X)&&OZ(Q,U)};cZ[F9.NODE_NEIGHBOR]=function(Z,J){return OZ(Z.node,J)&&J.neighborhood().some(function(Q){return Q.isNode()&&OZ(Z.neighbor,Q)})};cZ[F9.DIRECTED_EDGE]=function(Z,J){return OZ(Z.source,J.source())&&OZ(Z.target,J.target())};cZ[F9.NODE_SOURCE]=function(Z,J){return OZ(Z.source,J)&&J.outgoers().some(function(Q){return Q.isNode()&&OZ(Z.target,Q)})};cZ[F9.NODE_TARGET]=function(Z,J){return OZ(Z.target,J)&&J.incomers().some(function(Q){return Q.isNode()&&OZ(Z.source,Q)})};cZ[F9.CHILD]=function(Z,J){return OZ(Z.child,J)&&OZ(Z.parent,J.parent())};cZ[F9.PARENT]=function(Z,J){return OZ(Z.parent,J)&&J.children().some(function(Q){return OZ(Z.child,Q)})};cZ[F9.DESCENDANT]=function(Z,J){return OZ(Z.descendant,J)&&J.ancestors().some(function(Q){return OZ(Z.ancestor,Q)})};cZ[F9.ANCESTOR]=function(Z,J){return OZ(Z.ancestor,J)&&J.descendants().some(function(Q){return OZ(Z.descendant,Q)})};cZ[F9.COMPOUND_SPLIT]=function(Z,J){return OZ(Z.subject,J)&&OZ(Z.left,J)&&OZ(Z.right,J)};cZ[F9.TRUE]=function(){return!0};cZ[F9.COLLECTION]=function(Z,J){var Q=Z.value;return Q.has(J)};cZ[F9.FILTER]=function(Z,J){var Q=Z.value;return Q(J)};Lp0={matches:Ap0,filter:Op0},KU=QU.prototype;[Fp0,Lp0].forEach(function(Z){return b9(KU,Z)});KU.text=function(){return this.inputText};KU.size=function(){return this.length};KU.eq=function(Z){return this[Z]};KU.sameText=function(Z){return!this.invalid&&!Z.invalid&&this.text()===Z.text()};KU.addQuery=function(Z){this[this.length++]=Z};KU.selector=KU.toString;tX={allAre:function Z(J){var Q=new QU(J);return this.every(function(K){return Q.matches(K)})},is:function Z(J){var Q=new QU(J);return this.some(function(K){return Q.matches(K)})},some:function Z(J,Q){for(var K=0;K<this.length;K++){var X=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(X)return!0}return!1},every:function Z(J,Q){for(var K=0;K<this.length;K++){var X=!Q?J(this[K],K,this):J.apply(Q,[this[K],K,this]);if(!X)return!1}return!0},same:function Z(J){if(this===J)return!0;J=this.cy().collection(J);var Q=this.length,K=J.length;if(Q!==K)return!1;if(Q===1)return this[0]===J[0];return this.every(function(X){return J.hasElementWithId(X.id())})},anySame:function Z(J){return J=this.cy().collection(J),this.some(function(Q){return J.hasElementWithId(Q.id())})},allAreNeighbors:function Z(J){J=this.cy().collection(J);var Q=this.neighborhood();return J.every(function(K){return Q.hasElementWithId(K.id())})},contains:function Z(J){J=this.cy().collection(J);var Q=this;return J.every(function(K){return Q.hasElementWithId(K.id())})}};tX.allAreNeighbours=tX.allAreNeighbors;tX.has=tX.contains;tX.equal=tX.equals=tX.same;tz={parent:function Z(J){var Q=[];if(this.length===1){var K=this[0]._private.parent;if(K)return K}for(var X=0;X<this.length;X++){var U=this[X],Y=U._private.parent;if(Y)Q.push(Y)}return this.spawn(Q,!0).filter(J)},parents:function Z(J){var Q=[],K=this.parent();while(K.nonempty()){for(var X=0;X<K.length;X++){var U=K[X];Q.push(U)}K=K.parent()}return this.spawn(Q,!0).filter(J)},commonAncestors:function Z(J){var Q;for(var K=0;K<this.length;K++){var X=this[K],U=X.parents();Q=Q||U,Q=Q.intersect(U)}return Q.filter(J)},orphans:function Z(J){return this.stdFilter(function(Q){return Q.isOrphan()}).filter(J)},nonorphans:function Z(J){return this.stdFilter(function(Q){return Q.isChild()}).filter(J)},children:kQ(function(Z){var J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],X=K._private.children;for(var U=0;U<X.length;U++)J.push(X[U])}return this.spawn(J,!0).filter(Z)},"children"),siblings:function Z(J){return this.parent().children().not(this).filter(J)},isParent:function Z(){var J=this[0];if(J)return J.isNode()&&J._private.children.length!==0},isChildless:function Z(){var J=this[0];if(J)return J.isNode()&&J._private.children.length===0},isChild:function Z(){var J=this[0];if(J)return J.isNode()&&J._private.parent!=null},isOrphan:function Z(){var J=this[0];if(J)return J.isNode()&&J._private.parent==null},descendants:function Z(J){var Q=[];function K(X){for(var U=0;U<X.length;U++){var Y=X[U];if(Q.push(Y),Y.children().nonempty())K(Y.children())}}return K(this.children()),this.spawn(Q,!0).filter(J)}};tz.forEachDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return X_(this,Z,J,YK0)};tz.forEachUp=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return X_(this,Z,J,qK0)};tz.forEachUpAndDown=function(Z){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return X_(this,Z,J,Ip0)};tz.ancestors=tz.parents;YM=zK0={data:h8.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:h8.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:h8.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:h8.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:h8.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:h8.removeData({field:"rscratch",triggerEvent:!1}),id:function Z(){var J=this[0];if(J)return J._private.data.id}};YM.attr=YM.data;YM.removeAttr=YM.removeData;Dp0=zK0,QD={};b9(QD,{degree:D$(function(Z,J){if(J.source().same(J.target()))return 2;else return 1}),indegree:D$(function(Z,J){if(J.target().same(Z))return 1;else return 0}),outdegree:D$(function(Z,J){if(J.source().same(Z))return 1;else return 0})});b9(QD,{minDegree:yz("degree",function(Z,J){return Z<J}),maxDegree:yz("degree",function(Z,J){return Z>J}),minIndegree:yz("indegree",function(Z,J){return Z<J}),maxIndegree:yz("indegree",function(Z,J){return Z>J}),minOutdegree:yz("outdegree",function(Z,J){return Z<J}),maxOutdegree:yz("outdegree",function(Z,J){return Z>J})});b9(QD,{totalDegree:function Z(J){var Q=0,K=this.nodes();for(var X=0;X<K.length;X++)Q+=K[X].degree(J);return Q}});$Q0={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function Z(J){J.updateCompoundBounds()},beforeSet:function Z(J,Q){HK0(J,Q,!1)},onSet:function Z(J){J.dirtyCompoundBoundsCache()},canSet:function Z(J){return!J.locked()}};R4=GK0={position:h8.data($Q0),silentPosition:h8.data(b9({},$Q0,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function Z(J,Q){HK0(J,Q,!0)},onSet:function Z(J){J.dirtyCompoundBoundsCache()}})),positions:function Z(J,Q){if(D8(J))if(Q)this.silentPosition(J);else this.position(J);else if($Z(J)){var K=J,X=this.cy();X.startBatch();for(var U=0;U<this.length;U++){var Y=this[U],q=void 0;if(q=K(Y,U))if(Q)Y.silentPosition(q);else Y.position(q)}X.endBatch()}return this},silentPositions:function Z(J){return this.positions(J,!0)},shift:function Z(J,Q,K){var X;if(D8(J))X={x:K9(J.x)?J.x:0,y:K9(J.y)?J.y:0},K=Q;else if(S9(J)&&K9(Q))X={x:0,y:0},X[J]=Q;if(X!=null){var U=this.cy();U.startBatch();for(var Y=0;Y<this.length;Y++){var q=this[Y];if(U.hasCompoundNodes()&&q.isChild()&&q.ancestors().anySame(this))continue;var z=q.position(),G={x:z.x+X.x,y:z.y+X.y};if(K)q.silentPosition(G);else q.position(G)}U.endBatch()}return this},silentShift:function Z(J,Q){if(D8(J))this.shift(J,!0);else if(S9(J)&&K9(Q))this.shift(J,Q,!0);return this},renderedPosition:function Z(J,Q){var K=this[0],X=this.cy(),U=X.zoom(),Y=X.pan(),q=D8(J)?J:void 0,z=q!==void 0||Q!==void 0&&S9(J);if(K&&K.isNode())if(z)for(var G=0;G<this.length;G++){var H=this[G];if(Q!==void 0)H.position(J,(Q-Y[J])/U);else if(q!==void 0)H.position(x40(q,U,Y))}else{var W=K.position();if(q=o3(W,U,Y),J===void 0)return q;else return q[J]}else if(!z)return;return this},relativePosition:function Z(J,Q){var K=this[0],X=this.cy(),U=D8(J)?J:void 0,Y=U!==void 0||Q!==void 0&&S9(J),q=X.hasCompoundNodes();if(K&&K.isNode())if(Y)for(var z=0;z<this.length;z++){var G=this[z],H=q?G.parent():null,W=H&&H.length>0,F=W;if(W)H=H[0];var M=F?H.position():{x:0,y:0};if(Q!==void 0)G.position(J,Q+M[J]);else if(U!==void 0)G.position({x:U.x+M.x,y:U.y+M.y})}else{var B=K.position(),O=q?K.parent():null,A=O&&O.length>0,L=A;if(A)O=O[0];var I=L?O.position():{x:0,y:0};if(U={x:B.x-I.x,y:B.y-I.y},J===void 0)return U;else return U[J]}else if(!Y)return;return this}};R4.modelPosition=R4.point=R4.position;R4.modelPositions=R4.points=R4.positions;R4.renderedPoint=R4.renderedPosition;R4.relativePoint=R4.relativePosition;Np0=GK0;rz=UU={};UU.renderedBoundingBox=function(Z){var J=this.boundingBox(Z),Q=this.cy(),K=Q.zoom(),X=Q.pan(),U=J.x1*K+X.x,Y=J.x2*K+X.x,q=J.y1*K+X.y,z=J.y2*K+X.y;return{x1:U,x2:Y,y1:q,y2:z,w:Y-U,h:z-q}};UU.dirtyCompoundBoundsCache=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;return this.forEachUp(function(Q){if(Q.isParent()){var K=Q._private;if(K.compoundBoundsClean=!1,K.bbCache=null,!Z)Q.emitAndNotify("bounds")}}),this};UU.updateCompoundBounds=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,J=this.cy();if(!J.styleEnabled()||!J.hasCompoundNodes())return this;if(!Z&&J.batching())return this;function Q(Y){if(!Y.isParent())return;var q=Y._private,z=Y.children(),G=Y.pstyle("compound-sizing-wrt-labels").value==="include",H={width:{val:Y.pstyle("min-width").pfValue,left:Y.pstyle("min-width-bias-left"),right:Y.pstyle("min-width-bias-right")},height:{val:Y.pstyle("min-height").pfValue,top:Y.pstyle("min-height-bias-top"),bottom:Y.pstyle("min-height-bias-bottom")}},W=z.boundingBox({includeLabels:G,includeOverlays:!1,useCache:!1}),F=q.position;if(W.w===0||W.h===0)W={w:Y.pstyle("width").pfValue,h:Y.pstyle("height").pfValue},W.x1=F.x-W.w/2,W.x2=F.x+W.w/2,W.y1=F.y-W.h/2,W.y2=F.y+W.h/2;function M(C,T,V){var S=0,$=0,f=T+V;if(C>0&&f>0)S=T/f*C,$=V/f*C;return{biasDiff:S,biasComplementDiff:$}}function B(C,T,V,S){if(V.units==="%")switch(S){case"width":return C>0?V.pfValue*C:0;case"height":return T>0?V.pfValue*T:0;case"average":return C>0&&T>0?V.pfValue*(C+T)/2:0;case"min":return C>0&&T>0?C>T?V.pfValue*T:V.pfValue*C:0;case"max":return C>0&&T>0?C>T?V.pfValue*C:V.pfValue*T:0;default:return 0}else if(V.units==="px")return V.pfValue;else return 0}var O=H.width.left.value;if(H.width.left.units==="px"&&H.width.val>0)O=O*100/H.width.val;var A=H.width.right.value;if(H.width.right.units==="px"&&H.width.val>0)A=A*100/H.width.val;var L=H.height.top.value;if(H.height.top.units==="px"&&H.height.val>0)L=L*100/H.height.val;var I=H.height.bottom.value;if(H.height.bottom.units==="px"&&H.height.val>0)I=I*100/H.height.val;var D=M(H.width.val-W.w,O,A),w=D.biasDiff,N=D.biasComplementDiff,E=M(H.height.val-W.h,L,I),j=E.biasDiff,P=E.biasComplementDiff;q.autoPadding=B(W.w,W.h,Y.pstyle("padding"),Y.pstyle("padding-relative-to").value),q.autoWidth=Math.max(W.w,H.width.val),F.x=(-w+W.x1+W.x2+N)/2,q.autoHeight=Math.max(W.h,H.height.val),F.y=(-j+W.y1+W.y2+P)/2}for(var K=0;K<this.length;K++){var X=this[K],U=X._private;if(!U.compoundBoundsClean||Z){if(Q(X),!J.batching())U.compoundBoundsClean=!0}}return this};qM={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},bQ0=WK0(qM),xQ0=U7(qM);UU.boundingBox=function(Z){var J;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(Z===void 0||Z.useCache===void 0||Z.useCache===!0)){if(Z===void 0)Z=qM;else Z=xQ0(Z);J=_Q0(this[0],Z)}else{J=D6(),Z=Z||qM;var Q=xQ0(Z),K=this,X=K.cy(),U=X.styleEnabled();if(U)for(var Y=0;Y<K.length;Y++){var q=K[Y],z=q._private,G=FK0(q),H=z.bbCachePosKey===G,W=Q.useCache&&H&&!z.styleDirty;q.recalculateRenderedStyle(W)}this.updateCompoundBounds(!Z.useCache);for(var F=0;F<K.length;F++){var M=K[F];lY(J,_Q0(M,Q))}}return J.x1=vQ(J.x1),J.y1=vQ(J.y1),J.x2=vQ(J.x2),J.y2=vQ(J.y2),J.w=vQ(J.x2-J.x1),J.h=vQ(J.y2-J.y1),J};UU.dirtyBoundingBoxCache=function(){for(var Z=0;Z<this.length;Z++){var J=this[Z]._private;J.bbCache=null,J.bbCachePosKey=null,J.bodyBounds=null,J.overlayBounds=null,J.labelBounds.all=null,J.labelBounds.source=null,J.labelBounds.target=null,J.labelBounds.main=null,J.labelBounds.sourceRot=null,J.labelBounds.targetRot=null,J.labelBounds.mainRot=null,J.arrowBounds.source=null,J.arrowBounds.target=null,J.arrowBounds["mid-source"]=null,J.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};UU.boundingBoxAt=function(Z){var J=this.nodes(),Q=this.cy(),K=Q.hasCompoundNodes(),X=Q.collection();if(K)X=J.filter(function(G){return G.isParent()}),J=J.not(X);if(D8(Z)){var U=Z;Z=function G(){return U}}var Y=function G(H,W){return H._private.bbAtOldPos=Z(H,W)},q=function G(H){return H._private.bbAtOldPos};if(Q.startBatch(),J.forEach(Y).silentPositions(Z),K)X.dirtyCompoundBoundsCache(),X.dirtyBoundingBoxCache(),X.updateCompoundBounds(!0);var z=gy0(this.boundingBox({useCache:!1}));if(J.silentPositions(q),K)X.dirtyCompoundBoundsCache(),X.dirtyBoundingBoxCache(),X.updateCompoundBounds(!0);return Q.endBatch(),z};rz.boundingbox=rz.bb=rz.boundingBox;rz.renderedBoundingbox=rz.renderedBoundingBox;jp0=UU;nF=BM={};MK0({name:"width"});MK0({name:"height"});BM.padding=function(){var Z=this[0],J=Z._private;if(Z.isParent())if(Z.updateCompoundBounds(),J.autoPadding!==void 0)return J.autoPadding;else return Z.pstyle("padding").pfValue;else return Z.pstyle("padding").pfValue};BM.paddedHeight=function(){var Z=this[0];return Z.height()+2*Z.padding()};BM.paddedWidth=function(){var Z=this[0];return Z.width()+2*Z.padding()};Cp0=BM,hQ0={controlPoints:{get:Tp0,mult:!0},segmentPoints:{get:fp0,mult:!0},sourceEndpoint:{get:vp0},targetEndpoint:{get:kp0},midpoint:{get:$p0}},bp0=Object.keys(hQ0).reduce(function(Z,J){var Q=hQ0[J],K=_p0(J);if(Z[J]=function(){return Pp0(this,Q.get)},Q.mult)Z[K]=function(){return Sp0(this,Q.get)};else Z[K]=function(){return Vp0(this,Q.get)};return Z},{}),xp0=b9({},Np0,jp0,Cp0,bp0);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/BK0.prototype={instanceString:function Z(){return"event"},recycle:function Z(J,Q){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=lF,J!=null&&J.preventDefault)this.type=J.type,this.isDefaultPrevented=J.defaultPrevented?E3:lF;else if(J!=null&&J.type)Q=J;else this.type=J;if(Q!=null)this.originalEvent=Q.originalEvent,this.type=Q.type!=null?Q.type:this.type,this.cy=Q.cy,this.target=Q.target,this.position=Q.position,this.renderedPosition=Q.renderedPosition,this.namespace=Q.namespace,this.layout=Q.layout;if(this.cy!=null&&this.position!=null&&this.renderedPosition==null){var K=this.position,X=this.cy.zoom(),U=this.cy.pan();this.renderedPosition={x:K.x*X+U.x,y:K.y*X+U.y}}this.timeStamp=J&&J.timeStamp||Date.now()},preventDefault:function Z(){this.isDefaultPrevented=E3;var J=this.originalEvent;if(!J)return;if(J.preventDefault)J.preventDefault()},stopPropagation:function Z(){this.isPropagationStopped=E3;var J=this.originalEvent;if(!J)return;if(J.stopPropagation)J.stopPropagation()},stopImmediatePropagation:function Z(){this.isImmediatePropagationStopped=E3,this.stopPropagation()},isDefaultPrevented:lF,isPropagationStopped:lF,isImmediatePropagationStopped:lF};RK0=/^([^.]+)(\.(?:[^.]+))?$/,OK0={qualifierCompare:function Z(J,Q){return J===Q},eventMatches:function Z(){return!0},addEventFields:function Z(){},callbackContext:function Z(J){return J},beforeEmit:function Z(){},afterEmit:function Z(){},bubble:function Z(){return!1},parent:function Z(){return null},context:null},yQ0=Object.keys(OK0),yp0={},XU=KD.prototype;XU.on=XU.addListener=function(Z,J,Q,K,X){return AK0(this,function(U,Y,q,z,G,H,W){if($Z(H))U.listeners.push({event:Y,callback:H,type:q,namespace:z,qualifier:G,conf:W})},Z,J,Q,K,X),this};XU.one=function(Z,J,Q,K){return this.on(Z,J,Q,K,{one:!0})};XU.removeListener=XU.off=function(Z,J,Q,K){var X=this;if(this.emitting!==0)this.listeners=By0(this.listeners);var U=this.listeners,Y=function z(G){var H=U[G];AK0(X,function(W,F,M,B,O,A){if((H.type===M||Z==="*")&&(!B&&H.namespace!==".*"||H.namespace===B)&&(!O||W.qualifierCompare(H.qualifier,O))&&(!A||H.callback===A))return U.splice(G,1),!1},Z,J,Q,K)};for(var q=U.length-1;q>=0;q--)Y(q);return this};XU.removeAllListeners=function(){return this.removeListener("*")};XU.emit=XU.trigger=function(Z,J,Q){var K=this.listeners,X=K.length;if(this.emitting++,!JZ(J))J=[J];return up0(this,function(U,Y){if(Q!=null)K=[{event:Y.event,type:Y.type,namespace:Y.namespace,callback:Q}],X=K.length;var q=function G(H){var W=K[H];if(W.type===Y.type&&(!W.namespace||W.namespace===Y.namespace||W.namespace===hp0)&&U.eventMatches(U.context,W,Y)){var F=[Y];if(J!=null)Oy0(F,J);if(U.beforeEmit(U.context,W,Y),W.conf&&W.conf.one)U.listeners=U.listeners.filter(function(O){return O!==W});var M=U.callbackContext(U.context,W,Y),B=W.callback.apply(M,F);if(U.afterEmit(U.context,W,Y),B===!1)Y.stopPropagation(),Y.preventDefault()}};for(var z=0;z<X;z++)q(z);if(U.bubble(U.context)&&!Y.isPropagationStopped())U.parent(U.context).emit(Y,J)},Z),this.emitting--,this};mp0={qualifierCompare:function Z(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function Z(J,Q,K){var X=Q.qualifier;if(X!=null)return J!==K.target&&WM(K.target)&&X.matches(K.target);return!0},addEventFields:function Z(J,Q){Q.cy=J.cy(),Q.target=J},callbackContext:function Z(J,Q,K){return Q.qualifier!=null?K.target:J},beforeEmit:function Z(J,Q){if(Q.conf&&Q.conf.once)Q.conf.onceCollection.removeListener(Q.event,Q.qualifier,Q.callback)},bubble:function Z(){return!0},parent:function Z(J){return J.isChild()?J.parent():J.cy()}},LK0={createEmitter:function Z(){for(var J=0;J<this.length;J++){var Q=this[J],K=Q._private;if(!K.emitter)K.emitter=new KD(mp0,Q)}return this},emitter:function Z(){return this._private.emitter},on:function Z(J,Q,K){var X=w3(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().on(J,X,K)}return this},removeListener:function Z(J,Q,K){var X=w3(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().removeListener(J,X,K)}return this},removeAllListeners:function Z(){for(var J=0;J<this.length;J++){var Q=this[J];Q.emitter().removeAllListeners()}return this},one:function Z(J,Q,K){var X=w3(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().one(J,X,K)}return this},once:function Z(J,Q,K){var X=w3(Q);for(var U=0;U<this.length;U++){var Y=this[U];Y.emitter().on(J,X,K,{once:!0,onceCollection:this})}},emit:function Z(J,Q){for(var K=0;K<this.length;K++){var X=this[K];X.emitter().emit(J,Q)}return this},emitAndNotify:function Z(J,Q){if(this.length===0)return;return this.cy().notify(J,this),this.emit(J,Q),this}};h8.eventAliasesOn(LK0);IK0={nodes:function Z(J){return this.filter(function(Q){return Q.isNode()}).filter(J)},edges:function Z(J){return this.filter(function(Q){return Q.isEdge()}).filter(J)},byGroup:function Z(){var J=this.spawn(),Q=this.spawn();for(var K=0;K<this.length;K++){var X=this[K];if(X.isNode())J.push(X);else Q.push(X)}return{nodes:J,edges:Q}},filter:function Z(J,Q){if(J===void 0)return this;else if(S9(J)||r6(J))return new QU(J).filter(this);else if($Z(J)){var K=this.spawn(),X=this;for(var U=0;U<X.length;U++){var Y=X[U],q=Q?J.apply(Q,[Y,U,X]):J(Y,U,X);if(q)K.push(Y)}return K}return this.spawn()},not:function Z(J){if(!J)return this;else{if(S9(J))J=this.filter(J);var Q=this.spawn();for(var K=0;K<this.length;K++){var X=this[K],U=J.has(X);if(!U)Q.push(X)}return Q}},absoluteComplement:function Z(){var J=this.cy();return J.mutableElements().not(this)},intersect:function Z(J){if(S9(J)){var Q=J;return this.filter(Q)}var K=this.spawn(),X=this,U=J,Y=this.length<J.length,q=Y?X:U,z=Y?U:X;for(var G=0;G<q.length;G++){var H=q[G];if(z.has(H))K.push(H)}return K},xor:function Z(J){var Q=this._private.cy;if(S9(J))J=Q.$(J);var K=this.spawn(),X=this,U=J,Y=function q(z,G){for(var H=0;H<z.length;H++){var W=z[H],F=W._private.data.id,M=G.hasElementWithId(F);if(!M)K.push(W)}};return Y(X,U),Y(U,X),K},diff:function Z(J){var Q=this._private.cy;if(S9(J))J=Q.$(J);var K=this.spawn(),X=this.spawn(),U=this.spawn(),Y=this,q=J,z=function G(H,W,F){for(var M=0;M<H.length;M++){var B=H[M],O=B._private.data.id,A=W.hasElementWithId(O);if(A)U.merge(B);else F.push(B)}};return z(Y,q,K),z(q,Y,X),{left:K,right:X,both:U}},add:function Z(J){var Q=this._private.cy;if(!J)return this;if(S9(J)){var K=J;J=Q.mutableElements().filter(K)}var X=this.spawnSelf();for(var U=0;U<J.length;U++){var Y=J[U],q=!this.has(Y);if(q)X.push(Y)}return X},merge:function Z(J){var Q=this._private,K=Q.cy;if(!J)return this;if(J&&S9(J)){var X=J;J=K.mutableElements().filter(X)}var U=Q.map;for(var Y=0;Y<J.length;Y++){var q=J[Y],z=q._private.data.id,G=!U.has(z);if(G){var H=this.length++;this[H]=q,U.set(z,{ele:q,index:H})}}return this},unmergeAt:function Z(J){var Q=this[J],K=Q.id(),X=this._private,U=X.map;this[J]=void 0,U.delete(K);var Y=J===this.length-1;if(this.length>1&&!Y){var q=this.length-1,z=this[q],G=z._private.data.id;this[q]=void 0,this[J]=z,U.set(G,{ele:z,index:J})}return this.length--,this},unmergeOne:function Z(J){J=J[0];var Q=this._private,K=J._private.data.id,X=Q.map,U=X.get(K);if(!U)return this;var Y=U.index;return this.unmergeAt(Y),this},unmerge:function Z(J){var Q=this._private.cy;if(!J)return this;if(J&&S9(J)){var K=J;J=Q.mutableElements().filter(K)}for(var X=0;X<J.length;X++)this.unmergeOne(J[X]);return this},unmergeBy:function Z(J){for(var Q=this.length-1;Q>=0;Q--){var K=this[Q];if(J(K))this.unmergeAt(Q)}return this},map:function Z(J,Q){var K=[],X=this;for(var U=0;U<X.length;U++){var Y=X[U],q=Q?J.apply(Q,[Y,U,X]):J(Y,U,X);K.push(q)}return K},reduce:function Z(J,Q){var K=Q,X=this;for(var U=0;U<X.length;U++)K=J(K,X[U],U,X);return K},max:function Z(J,Q){var K=-1/0,X,U=this;for(var Y=0;Y<U.length;Y++){var q=U[Y],z=Q?J.apply(Q,[q,Y,U]):J(q,Y,U);if(z>K)K=z,X=q}return{value:K,ele:X}},min:function Z(J,Q){var K=1/0,X,U=this;for(var Y=0;Y<U.length;Y++){var q=U[Y],z=Q?J.apply(Q,[q,Y,U]):J(q,Y,U);if(z<K)K=z,X=q}return{value:K,ele:X}}},T8=IK0;T8.u=T8["|"]=T8["+"]=T8.union=T8.or=T8.add;T8["\\"]=T8["!"]=T8["-"]=T8.difference=T8.relativeComplement=T8.subtract=T8.not;T8.n=T8["&"]=T8["."]=T8.and=T8.intersection=T8.intersect;T8["^"]=T8["(+)"]=T8["(-)"]=T8.symmetricDifference=T8.symdiff=T8.xor;T8.fnFilter=T8.filterFn=T8.stdFilter=T8.filter;T8.complement=T8.abscomp=T8.absoluteComplement;gp0={isNode:function Z(){return this.group()==="nodes"},isEdge:function Z(){return this.group()==="edges"},isLoop:function Z(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function Z(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function Z(){var J=this[0];if(J)return J._private.group}},p3={forEach:function Z(J,Q){if($Z(J)){var K=this.length;for(var X=0;X<K;X++){var U=this[X],Y=Q?J.apply(Q,[U,X,this]):J(U,X,this);if(Y===!1)break}}return this},toArray:function Z(){var J=[];for(var Q=0;Q<this.length;Q++)J.push(this[Q]);return J},slice:function Z(J,Q){var K=[],X=this.length;if(Q==null)Q=X;if(J==null)J=0;if(J<0)J=X+J;if(Q<0)Q=X+Q;for(var U=J;U>=0&&U<Q&&U<X;U++)K.push(this[U]);return this.spawn(K)},size:function Z(){return this.length},eq:function Z(J){return this[J]||this.spawn()},first:function Z(){return this[0]||this.spawn()},last:function Z(){return this[this.length-1]||this.spawn()},empty:function Z(){return this.length===0},nonempty:function Z(){return!this.empty()},sort:function Z(J){if(!$Z(J))return this;var Q=this.toArray().sort(J);return this.spawn(Q)},sortByZIndex:function Z(){return this.sort(DK0)},zDepth:function Z(){var J=this[0];if(!J)return;var Q=J._private,K=Q.group;if(K==="nodes"){var X=Q.data.parent?J.parents().size():0;if(!J.isParent())return s$-1;return X}else{var{source:U,target:Y}=Q,q=U.zDepth(),z=Y.zDepth();return Math.max(q,z,0)}}};p3.each=p3.forEach;pp0();cp0=U7({nodeDimensionsIncludeLabels:!1}),f3={layoutDimensions:function Z(J){J=cp0(J);var Q;if(!this.takesUpSpace())Q={w:0,h:0};else if(J.nodeDimensionsIncludeLabels){var K=this.boundingBox();Q={w:K.w,h:K.h}}else Q={w:this.outerWidth(),h:this.outerHeight()};if(Q.w===0||Q.h===0)Q.w=Q.h=1;return Q},layoutPositions:function Z(J,Q,K){var X=this.nodes().filter(function(N){return!N.isParent()}),U=this.cy(),Y=Q.eles,q=function N(E){return E.id()},z=eF(K,q);J.emit({type:"layoutstart",layout:J}),J.animations=[];var G=function N(E,j,P){var C={x:j.x1+j.w/2,y:j.y1+j.h/2},T={x:(P.x-C.x)*E,y:(P.y-C.y)*E};return{x:C.x+T.x,y:C.y+T.y}},H=Q.spacingFactor&&Q.spacingFactor!==1,W=function N(){if(!H)return null;var E=D6();for(var j=0;j<X.length;j++){var P=X[j],C=z(P,j);ly0(E,C.x,C.y)}return E},F=W(),M=eF(function(N,E){var j=z(N,E);if(H){var P=Math.abs(Q.spacingFactor);j=G(P,F,j)}if(Q.transform!=null)j=Q.transform(N,j);return j},q);if(Q.animate){for(var B=0;B<X.length;B++){var O=X[B],A=M(O,B),L=Q.animateFilter==null||Q.animateFilter(O,B);if(L){var I=O.animation({position:A,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(I)}else O.position(A)}if(Q.fit){var D=U.animation({fit:{boundingBox:Y.boundingBoxAt(M),padding:Q.padding},duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(D)}else if(Q.zoom!==void 0&&Q.pan!==void 0){var w=U.animation({zoom:Q.zoom,pan:Q.pan,duration:Q.animationDuration,easing:Q.animationEasing});J.animations.push(w)}J.animations.forEach(function(N){return N.play()}),J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),ZG.all(J.animations.map(function(N){return N.promise()})).then(function(){J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})})}else{if(X.positions(M),Q.fit)U.fit(Q.eles,Q.padding);if(Q.zoom!=null)U.zoom(Q.zoom);if(Q.pan)U.pan(Q.pan);J.one("layoutready",Q.ready),J.emit({type:"layoutready",layout:J}),J.one("layoutstop",Q.stop),J.emit({type:"layoutstop",layout:J})}return this},layout:function Z(J){var Q=this.cy();return Q.makeLayout(b9({},J,{eles:this}))}};f3.createLayout=f3.makeLayout=f3.layout;K7={recalculateRenderedStyle:function Z(J){var Q=this.cy(),K=Q.renderer(),X=Q.styleEnabled();if(K&&X)K.recalculateRenderedStyle(this,J);return this},dirtyStyleCache:function Z(){var J=this.cy(),Q=function X(U){return U._private.styleCache=null};if(J.hasCompoundNodes()){var K=this.spawnSelf().merge(this.descendants()).merge(this.parents());K.merge(K.connectedEdges()),K.forEach(Q)}else this.forEach(function(X){Q(X),X.connectedEdges().forEach(Q)});return this},updateStyle:function Z(J){var Q=this._private.cy;if(!Q.styleEnabled())return this;if(Q.batching()){var K=Q._private.batchStyleEles;return K.merge(this),this}var X=Q.hasCompoundNodes(),U=this;if(J=J||J===void 0?!0:!1,X)U=this.spawnSelf().merge(this.descendants()).merge(this.parents());var Y=U;if(J)Y.emitAndNotify("style");else Y.emit("style");return U.forEach(function(q){return q._private.styleDirty=!0}),this},cleanStyle:function Z(){var J=this.cy();if(!J.styleEnabled())return;for(var Q=0;Q<this.length;Q++){var K=this[Q];if(K._private.styleDirty)K._private.styleDirty=!1,J.style().apply(K)}},parsedStyle:function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,K=this[0],X=K.cy();if(!X.styleEnabled())return;if(K){this.cleanStyle();var U=K._private.style[J];if(U!=null)return U;else if(Q)return X.style().getDefaultProperty(J);else return null}},numericStyle:function Z(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q){var K=Q.pstyle(J);return K.pfValue!==void 0?K.pfValue:K.value}},numericStyleUnits:function Z(J){var Q=this[0];if(!Q.cy().styleEnabled())return;if(Q)return Q.pstyle(J).units},renderedStyle:function Z(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=this[0];if(K)return Q.style().getRenderedStyle(K,J)},style:function Z(J,Q){var K=this.cy();if(!K.styleEnabled())return this;var X=!1,U=K.style();if(D8(J)){var Y=J;U.applyBypass(this,Y,X),this.emitAndNotify("style")}else if(S9(J))if(Q===void 0){var q=this[0];if(q)return U.getStylePropertyValue(q,J);else return}else U.applyBypass(this,J,Q,X),this.emitAndNotify("style");else if(J===void 0){var z=this[0];if(z)return U.getRawStyle(z);else return}return this},removeStyle:function Z(J){var Q=this.cy();if(!Q.styleEnabled())return this;var K=!1,X=Q.style(),U=this;if(J===void 0)for(var Y=0;Y<U.length;Y++){var q=U[Y];X.removeAllBypasses(q,K)}else{J=J.split(/\s+/);for(var z=0;z<U.length;z++){var G=U[z];X.removeBypasses(G,J,K)}}return this.emitAndNotify("style"),this},show:function Z(){return this.css("display","element"),this},hide:function Z(){return this.css("display","none"),this},effectiveOpacity:function Z(){var J=this.cy();if(!J.styleEnabled())return 1;var Q=J.hasCompoundNodes(),K=this[0];if(K){var X=K._private,U=K.pstyle("opacity").value;if(!Q)return U;var Y=!X.data.parent?null:K.parents();if(Y)for(var q=0;q<Y.length;q++){var z=Y[q],G=z.pstyle("opacity").value;U=G*U}return U}},transparent:function Z(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0],K=Q.cy().hasCompoundNodes();if(Q)if(!K)return Q.pstyle("opacity").value===0;else return Q.effectiveOpacity()===0},backgrounding:function Z(){var J=this.cy();if(!J.styleEnabled())return!1;var Q=this[0];return Q._private.backgrounding?!0:!1}},XG=XD("eleTakesUpSpace",function(Z){return Z.pstyle("display").value==="element"&&Z.width()!==0&&(Z.isNode()?Z.height()!==0:!0)});K7.takesUpSpace=UD("takesUpSpace",U_({ok:XG}));lp0=XD("eleInteractive",function(Z){return Z.pstyle("events").value==="yes"&&Z.pstyle("visibility").value==="visible"&&XG(Z)}),dp0=XD("parentInteractive",function(Z){return Z.pstyle("visibility").value==="visible"&&XG(Z)});K7.interactive=UD("interactive",U_({ok:lp0,parentOk:dp0,edgeOkViaNode:XG}));K7.noninteractive=function(){var Z=this[0];if(Z)return!Z.interactive()};ip0=XD("eleVisible",function(Z){return Z.pstyle("visibility").value==="visible"&&Z.pstyle("opacity").pfValue!==0&&XG(Z)}),sp0=XG;K7.visible=UD("visible",U_({ok:ip0,edgeOkViaNode:sp0}));K7.hidden=function(){var Z=this[0];if(Z)return!Z.visible()};K7.isBundledBezier=UD("isBundledBezier",function(){if(!this.cy().styleEnabled())return!1;return!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace()});K7.bypass=K7.css=K7.style;K7.renderedCss=K7.renderedStyle;K7.removeBypass=K7.removeCss=K7.removeStyle;K7.pstyle=K7.parsedStyle;eX={};UG({field:"locked",overrideField:function Z(J){return J.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});UG({field:"grabbable",overrideField:function Z(J){return J.cy().autoungrabify()||J.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});UG({field:"selected",ableField:"selectable",overrideAble:function Z(J){return J.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});UG({field:"selectable",overrideField:function Z(J){return J.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});eX.deselect=eX.unselect;eX.grabbed=function(){var Z=this[0];if(Z)return Z._private.grabbed};UG({field:"active",on:"activate",off:"unactivate"});UG({field:"pannable",on:"panify",off:"unpanify"});eX.inactive=function(){var Z=this[0];if(Z)return!Z._private.active};L7={};L7.clearTraversalCache=function(){for(var Z=0;Z<this.length;Z++)this[Z]._private.traversalCache=null};b9(L7,{roots:gQ0({noIncomingEdges:!0}),leaves:gQ0({noOutgoingEdges:!0}),outgoers:kQ(pQ0({outgoing:!0}),"outgoers"),successors:cQ0({outgoing:!0}),incomers:kQ(pQ0({incoming:!0}),"incomers"),predecessors:cQ0({incoming:!0})});b9(L7,{neighborhood:kQ(function(Z){var J=[],Q=this.nodes();for(var K=0;K<Q.length;K++){var X=Q[K],U=X.connectedEdges();for(var Y=0;Y<U.length;Y++){var q=U[Y],z=q.source(),G=q.target(),H=X===z?G:z;if(H.length>0)J.push(H[0]);J.push(q[0])}}return this.spawn(J,!0).filter(Z)},"neighborhood"),closedNeighborhood:function Z(J){return this.neighborhood().add(this).filter(J)},openNeighborhood:function Z(J){return this.neighborhood(J)}});L7.neighbourhood=L7.neighborhood;L7.closedNeighbourhood=L7.closedNeighborhood;L7.openNeighbourhood=L7.openNeighborhood;b9(L7,{source:kQ(function Z(J){var Q=this[0],K;if(Q)K=Q._private.source||Q.cy().collection();return K&&J?K.filter(J):K},"source"),target:kQ(function Z(J){var Q=this[0],K;if(Q)K=Q._private.target||Q.cy().collection();return K&&J?K.filter(J):K},"target"),sources:lQ0({attr:"source"}),targets:lQ0({attr:"target"})});b9(L7,{edgesWith:kQ(dQ0(),"edgesWith"),edgesTo:kQ(dQ0({thisIsSrc:!0}),"edgesTo")});b9(L7,{connectedEdges:kQ(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(!X.isNode())continue;var U=X._private.edges;for(var Y=0;Y<U.length;Y++){var q=U[Y];J.push(q)}}return this.spawn(J,!0).filter(Z)},"connectedEdges"),connectedNodes:kQ(function(Z){var J=[],Q=this;for(var K=0;K<Q.length;K++){var X=Q[K];if(!X.isEdge())continue;J.push(X.source()[0]),J.push(X.target()[0])}return this.spawn(J,!0).filter(Z)},"connectedNodes"),parallelEdges:kQ(iQ0(),"parallelEdges"),codirectedEdges:kQ(iQ0({codirected:!0}),"codirectedEdges")});b9(L7,{components:function Z(J){var Q=this,K=Q.cy(),X=K.collection(),U=J==null?Q.nodes():J.nodes(),Y=[];if(J!=null&&U.empty())U=J.sources();var q=function G(H,W){X.merge(H),U.unmerge(H),W.merge(H)};if(U.empty())return Q.spawn();var z=function G(){var H=K.collection();Y.push(H);var W=U[0];q(W,H),Q.bfs({directed:!1,roots:W,visit:function F(M){return q(M,H)}}),H.forEach(function(F){F.connectedEdges().forEach(function(M){if(Q.has(M)&&H.has(M.source())&&H.has(M.target()))H.merge(M)})})};do z();while(U.length>0);return Y},component:function Z(){var J=this[0];return J.cy().mutableElements().components(J)[0]}});L7.componentsOf=L7.components;zZ=a3.prototype=X7.prototype=Object.create(Array.prototype);zZ.instanceString=function(){return"collection"};zZ.spawn=function(Z,J){return new X7(this.cy(),Z,J)};zZ.spawnSelf=function(){return this.spawn(this)};zZ.cy=function(){return this._private.cy};zZ.renderer=function(){return this._private.cy.renderer()};zZ.element=function(){return this[0]};zZ.collection=function(){if(D40(this))return this;else return new X7(this._private.cy,[this])};zZ.unique=function(){return new X7(this._private.cy,this,!0)};zZ.hasElementWithId=function(Z){return Z=""+Z,this._private.map.has(Z)};zZ.getElementById=function(Z){Z=""+Z;var J=this._private.cy,Q=this._private.map.get(Z);return Q?Q.ele:new X7(J)};zZ.$id=zZ.getElementById;zZ.poolIndex=function(){var Z=this._private.cy,J=Z._private.elements,Q=this[0]._private.data.id;return J._private.map.get(Q).index};zZ.indexOf=function(Z){var J=Z[0]._private.data.id;return this._private.map.get(J).index};zZ.indexOfId=function(Z){return Z=""+Z,this._private.map.get(Z).index};zZ.json=function(Z){var J=this.element(),Q=this.cy();if(J==null&&Z)return this;if(J==null)return;var K=J._private;if(D8(Z)){if(Q.startBatch(),Z.data){J.data(Z.data);var X=K.data;if(J.isEdge()){var U=!1,Y={},q=Z.data.source,z=Z.data.target;if(q!=null&&q!=X.source)Y.source=""+q,U=!0;if(z!=null&&z!=X.target)Y.target=""+z,U=!0;if(U)J=J.move(Y)}else{var G="parent"in Z.data,H=Z.data.parent;if(G&&(H!=null||X.parent!=null)&&H!=X.parent){if(H===void 0)H=null;if(H!=null)H=""+H;J=J.move({parent:H})}}}if(Z.position)J.position(Z.position);var W=function B(O,A,L){var I=Z[O];if(I!=null&&I!==K[O])if(I)J[A]();else J[L]()};if(W("removed","remove","restore"),W("selected","select","unselect"),W("selectable","selectify","unselectify"),W("locked","lock","unlock"),W("grabbable","grabify","ungrabify"),W("pannable","panify","unpanify"),Z.classes!=null)J.classes(Z.classes);return Q.endBatch(),this}else if(Z===void 0){var F={data:AK(K.data),position:AK(K.position),group:K.group,removed:K.removed,selected:K.selected,selectable:K.selectable,locked:K.locked,grabbable:K.grabbable,pannable:K.pannable,classes:null};F.classes="";var M=0;return K.classes.forEach(function(B){return F.classes+=M++===0?B:" "+B}),F}};zZ.jsons=function(){var Z=[];for(var J=0;J<this.length;J++){var Q=this[J],K=Q.json();Z.push(K)}return Z};zZ.clone=function(){var Z=this.cy(),J=[];for(var Q=0;Q<this.length;Q++){var K=this[Q],X=K.json(),U=new a3(Z,X,!1);J.push(U)}return new X7(Z,J)};zZ.copy=zZ.clone;zZ.restore=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=Q.cy(),X=K._private,U=[],Y=[],q;for(var z=0,G=Q.length;z<G;z++){var H=Q[z];if(J&&!H.removed())continue;if(H.isNode())U.push(H);else Y.push(H)}q=U.concat(Y);var W,F=function e(){q.splice(W,1),W--};for(W=0;W<q.length;W++){var M=q[W],B=M._private,O=B.data;if(M.clearTraversalCache(),!J&&!B.removed);else if(O.id===void 0)O.id=_40();else if(K9(O.id))O.id=""+O.id;else if(ZU(O.id)||!S9(O.id)){pZ("Can not create element with invalid string ID `"+O.id+"`"),F();continue}else if(K.hasElementWithId(O.id)){pZ("Can not create second element with ID `"+O.id+"`"),F();continue}var A=O.id;if(M.isNode()){var L=B.position;if(L.x==null)L.x=0;if(L.y==null)L.y=0}if(M.isEdge()){var I=M,D=["source","target"],w=D.length,N=!1;for(var E=0;E<w;E++){var j=D[E],P=O[j];if(K9(P))P=O[j]=""+O[j];if(P==null||P==="")pZ("Can not create edge `"+A+"` with unspecified "+j),N=!0;else if(!K.hasElementWithId(P))pZ("Can not create edge `"+A+"` with nonexistant "+j+" `"+P+"`"),N=!0}if(N){F();continue}var C=K.getElementById(O.source),T=K.getElementById(O.target);if(C.same(T))C._private.edges.push(I);else C._private.edges.push(I),T._private.edges.push(I);I._private.source=C,I._private.target=T}if(B.map=new LK,B.map.set(A,{ele:M,index:0}),B.removed=!1,J)K.addToPool(M)}for(var V=0;V<U.length;V++){var S=U[V],$=S._private.data;if(K9($.parent))$.parent=""+$.parent;var f=$.parent,h=f!=null;if(h||S._private.parent){var v=S._private.parent?K.collection().merge(S._private.parent):K.getElementById(f);if(v.empty())$.parent=void 0;else if(v[0].removed())y8("Node added with missing parent, reference to parent removed"),$.parent=void 0,S._private.parent=null;else{var b=!1,y=v;while(!y.empty()){if(S.same(y)){b=!0,$.parent=void 0;break}y=y.parent()}if(!b)v[0]._private.children.push(S),S._private.parent=v[0],X.hasCompoundNodes=!0}}}if(q.length>0){var k=q.length===Q.length?Q:new X7(K,q);for(var g=0;g<k.length;g++){var u=k[g];if(u.isNode())continue;u.parallelEdges().clearTraversalCache(),u.source().clearTraversalCache(),u.target().clearTraversalCache()}var i;if(X.hasCompoundNodes)i=K.collection().merge(k).merge(k.connectedNodes()).merge(k.parent());else i=k;if(i.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(Z),Z)k.emitAndNotify("add");else if(J)k.emit("add")}return Q};zZ.removed=function(){var Z=this[0];return Z&&Z._private.removed};zZ.inside=function(){var Z=this[0];return Z&&!Z._private.removed};zZ.remove=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Q=this,K=[],X={},U=Q._private.cy;function Y(f){var h=f._private.edges;for(var v=0;v<h.length;v++)z(h[v])}function q(f){var h=f._private.children;for(var v=0;v<h.length;v++)z(h[v])}function z(f){var h=X[f.id()];if(J&&f.removed()||h)return;else X[f.id()]=!0;if(f.isNode())K.push(f),Y(f),q(f);else K.unshift(f)}for(var G=0,H=Q.length;G<H;G++){var W=Q[G];z(W)}function F(f,h){var v=f._private.edges;JU(v,h),f.clearTraversalCache()}function M(f){f.clearTraversalCache()}var B=[];B.ids={};function O(f,h){h=h[0],f=f[0];var v=f._private.children,b=f.id();if(JU(v,h),h._private.parent=null,!B.ids[b])B.ids[b]=!0,B.push(f)}if(Q.dirtyCompoundBoundsCache(),J)U.removeFromPool(K);for(var A=0;A<K.length;A++){var L=K[A];if(L.isEdge()){var I=L.source()[0],D=L.target()[0];F(I,L),F(D,L);var w=L.parallelEdges();for(var N=0;N<w.length;N++){var E=w[N];if(M(E),E.isBundledBezier())E.dirtyBoundingBoxCache()}}else{var j=L.parent();if(j.length!==0)O(j,L)}if(J)L._private.removed=!0}var P=U._private.elements;U._private.hasCompoundNodes=!1;for(var C=0;C<P.length;C++){var T=P[C];if(T.isParent()){U._private.hasCompoundNodes=!0;break}}var V=new X7(this.cy(),K);if(V.size()>0){if(Z)V.emitAndNotify("remove");else if(J)V.emit("remove")}for(var S=0;S<B.length;S++){var $=B[S];if(!J||!$.removed())$.updateStyle()}return V};zZ.move=function(Z){var J=this._private.cy,Q=this,K=!1,X=!1,U=function M(B){return B==null?B:""+B};if(Z.source!==void 0||Z.target!==void 0){var Y=U(Z.source),q=U(Z.target),z=Y!=null&&J.hasElementWithId(Y),G=q!=null&&J.hasElementWithId(q);if(z||G)J.batch(function(){Q.remove(K,X),Q.emitAndNotify("moveout");for(var M=0;M<Q.length;M++){var B=Q[M],O=B._private.data;if(B.isEdge()){if(z)O.source=Y;if(G)O.target=q}}Q.restore(K,X)}),Q.emitAndNotify("move")}else if(Z.parent!==void 0){var H=U(Z.parent),W=H===null||J.hasElementWithId(H);if(W){var F=H===null?void 0:H;J.batch(function(){var M=Q.remove(K,X);M.emitAndNotify("moveout");for(var B=0;B<Q.length;B++){var O=Q[B],A=O._private.data;if(O.isNode())A.parent=F}M.restore(K,X)}),Q.emitAndNotify("move")}}return this};[s40,Xp0,T3,tX,tz,Dp0,QD,xp0,LK0,IK0,gp0,p3,f3,K7,eX,L7].forEach(function(Z){b9(zZ,Z)});rp0={add:function Z(J){var Q,K=this;if(r6(J)){var X=J;if(X._private.cy===K)Q=X.restore();else{var U=[];for(var Y=0;Y<X.length;Y++){var q=X[Y];U.push(q.json())}Q=new X7(K,U)}}else if(JZ(J)){var z=J;Q=new X7(K,z)}else if(D8(J)&&(JZ(J.nodes)||JZ(J.edges))){var G=J,H=[],W=["nodes","edges"];for(var F=0,M=W.length;F<M;F++){var B=W[F],O=G[B];if(JZ(O))for(var A=0,L=O.length;A<L;A++){var I=b9({group:B},O[A]);H.push(I)}}Q=new X7(K,H)}else{var D=J;Q=new a3(K,D).collection()}return Q},remove:function Z(J){if(r6(J));else if(S9(J)){var Q=J;J=this.$(Q)}return J.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *//*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */ap0=function(){function Z(K){return-K.tension*K.x-K.friction*K.v}function J(K,X,U){var Y={x:K.x+U.dx*X,v:K.v+U.dv*X,tension:K.tension,friction:K.friction};return{dx:Y.v,dv:Z(Y)}}function Q(K,X){var U={dx:K.v,dv:Z(K)},Y=J(K,X*0.5,U),q=J(K,X*0.5,Y),z=J(K,X,q),G=0.16666666666666666*(U.dx+2*(Y.dx+q.dx)+z.dx),H=0.16666666666666666*(U.dv+2*(Y.dv+q.dv)+z.dv);return K.x=K.x+G*X,K.v=K.v+H*X,K}return function K(X,U,Y){var q={x:-1,v:0,tension:null,friction:null},z=[0],G=0,H=0.0001,W=0.016,F,M,B;if(X=parseFloat(X)||500,U=parseFloat(U)||20,Y=Y||null,q.tension=X,q.friction=U,F=Y!==null,F)G=K(X,U),M=G/Y*W;else M=W;for(;;)if(B=Q(B||q,M),z.push(1+B.x),G+=16,!(Math.abs(B.x)>H&&Math.abs(B.v)>H))break;return!F?G:function(O){return z[O*(z.length-1)|0]}}}(),v3={linear:function Z(J,Q,K){return J+(Q-J)*K},ease:qZ(0.25,0.1,0.25,1),"ease-in":qZ(0.42,0,1,1),"ease-out":qZ(0,0,0.58,1),"ease-in-out":qZ(0.42,0,0.58,1),"ease-in-sine":qZ(0.47,0,0.745,0.715),"ease-out-sine":qZ(0.39,0.575,0.565,1),"ease-in-out-sine":qZ(0.445,0.05,0.55,0.95),"ease-in-quad":qZ(0.55,0.085,0.68,0.53),"ease-out-quad":qZ(0.25,0.46,0.45,0.94),"ease-in-out-quad":qZ(0.455,0.03,0.515,0.955),"ease-in-cubic":qZ(0.55,0.055,0.675,0.19),"ease-out-cubic":qZ(0.215,0.61,0.355,1),"ease-in-out-cubic":qZ(0.645,0.045,0.355,1),"ease-in-quart":qZ(0.895,0.03,0.685,0.22),"ease-out-quart":qZ(0.165,0.84,0.44,1),"ease-in-out-quart":qZ(0.77,0,0.175,1),"ease-in-quint":qZ(0.755,0.05,0.855,0.06),"ease-out-quint":qZ(0.23,1,0.32,1),"ease-in-out-quint":qZ(0.86,0,0.07,1),"ease-in-expo":qZ(0.95,0.05,0.795,0.035),"ease-out-expo":qZ(0.19,1,0.22,1),"ease-in-out-expo":qZ(1,0,0,1),"ease-in-circ":qZ(0.6,0.04,0.98,0.335),"ease-out-circ":qZ(0.075,0.82,0.165,1),"ease-in-out-circ":qZ(0.785,0.135,0.15,0.86),spring:function Z(J,Q,K){if(K===0)return v3.linear;var X=ap0(J,Q,K);return function(U,Y,q){return U+(Y-U)*X(q)}},"cubic-bezier":qZ},ep0={animate:h8.animate(),animation:h8.animation(),animated:h8.animated(),clearQueue:h8.clearQueue(),delay:h8.delay(),delayAnimation:h8.delayAnimation(),stop:h8.stop(),addToAnimationPool:function Z(J){var Q=this;if(!Q.styleEnabled())return;Q._private.aniEles.merge(J)},stopAnimationLoop:function Z(){this._private.animationsRunning=!1},startAnimationLoop:function Z(){var J=this;if(J._private.animationsRunning=!0,!J.styleEnabled())return;function Q(){if(!J._private.animationsRunning)return;h3(function X(U){nQ0(U,J),Q()})}var K=J.renderer();if(K&&K.beforeRender)K.beforeRender(function X(U,Y){nQ0(Y,J)},K.beforeRenderPriorities.animations);else Q()}},Zc0={qualifierCompare:function Z(J,Q){if(J==null||Q==null)return J==null&&Q==null;else return J.sameText(Q)},eventMatches:function Z(J,Q,K){var X=Q.qualifier;if(X!=null)return J!==K.target&&WM(K.target)&&X.matches(K.target);return!0},addEventFields:function Z(J,Q){Q.cy=J,Q.target=J},callbackContext:function Z(J,Q,K){return Q.qualifier!=null?K.target:J}},EK0={createEmitter:function Z(){var J=this._private;if(!J.emitter)J.emitter=new KD(Zc0,this);return this},emitter:function Z(){return this._private.emitter},on:function Z(J,Q,K){return this.emitter().on(J,j3(Q),K),this},removeListener:function Z(J,Q,K){return this.emitter().removeListener(J,j3(Q),K),this},removeAllListeners:function Z(){return this.emitter().removeAllListeners(),this},one:function Z(J,Q,K){return this.emitter().one(J,j3(Q),K),this},once:function Z(J,Q,K){return this.emitter().one(J,j3(Q),K),this},emit:function Z(J,Q){return this.emitter().emit(J,Q),this},emitAndNotify:function Z(J,Q){return this.emit(J),this.notify(J,Q),this}};h8.eventAliasesOn(EK0);$$={png:function Z(J){var Q=this._private.renderer;return J=J||{},Q.png(J)},jpg:function Z(J){var Q=this._private.renderer;return J=J||{},J.bg=J.bg||"#fff",Q.jpg(J)}};$$.jpeg=$$.jpg;k3={layout:function Z(J){var Q=this;if(J==null){pZ("Layout options must be specified to make a layout");return}if(J.name==null){pZ("A `name` must be specified to make a layout");return}var K=J.name,X=Q.extension("layout",K);if(X==null){pZ("No such layout `"+K+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var U;if(S9(J.eles))U=Q.$(J.eles);else U=J.eles!=null?J.eles:Q.$();var Y=new X(b9({},J,{cy:Q,eles:U}));return Y}};k3.createLayout=k3.makeLayout=k3.layout;Jc0={notify:function Z(J,Q){var K=this._private;if(this.batching()){K.batchNotifications=K.batchNotifications||{};var X=K.batchNotifications[J]=K.batchNotifications[J]||this.collection();if(Q!=null)X.merge(Q);return}if(!K.notificationsEnabled)return;var U=this.renderer();if(this.destroyed()||!U)return;U.notify(J,Q)},notifications:function Z(J){var Q=this._private;if(J===void 0)return Q.notificationsEnabled;else Q.notificationsEnabled=J?!0:!1;return this},noNotifications:function Z(J){this.notifications(!1),J(),this.notifications(!0)},batching:function Z(){return this._private.batchCount>0},startBatch:function Z(){var J=this._private;if(J.batchCount==null)J.batchCount=0;if(J.batchCount===0)J.batchStyleEles=this.collection(),J.batchNotifications={};return J.batchCount++,this},endBatch:function Z(){var J=this._private;if(J.batchCount===0)return this;if(J.batchCount--,J.batchCount===0){J.batchStyleEles.updateStyle();var Q=this.renderer();Object.keys(J.batchNotifications).forEach(function(K){var X=J.batchNotifications[K];if(X.empty())Q.notify(K);else Q.notify(K,X)})}return this},batch:function Z(J){return this.startBatch(),J(),this.endBatch(),this},batchData:function Z(J){var Q=this;return this.batch(function(){var K=Object.keys(J);for(var X=0;X<K.length;X++){var U=K[X],Y=J[U],q=Q.getElementById(U);q.data(Y)}})}},Qc0=U7({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:0.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),_$={renderTo:function Z(J,Q,K,X){var U=this._private.renderer;return U.renderTo(J,Q,K,X),this},renderer:function Z(){return this._private.renderer},forceRender:function Z(){return this.notify("draw"),this},resize:function Z(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function Z(J){var Q=this,K=Q.extension("renderer",J.name);if(K==null){pZ("Can not initialise: No such renderer `".concat(J.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}if(J.wheelSensitivity!==void 0)y8("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var X=Qc0(J);X.cy=Q,Q._private.renderer=new K(X),this.notify("init")},destroyRenderer:function Z(){var J=this;J.notify("destroy");var Q=J.container();if(Q){Q._cyreg=null;while(Q.childNodes.length>0)Q.removeChild(Q.childNodes[0])}J._private.renderer=null,J.mutableElements().forEach(function(K){var X=K._private;X.rscratch={},X.rstyle={},X.animation.current=[],X.animation.queue=[]})},onRender:function Z(J){return this.on("render",J)},offRender:function Z(J){return this.off("render",J)}};_$.invalidateDimensions=_$.resize;$3={collection:function Z(J,Q){if(S9(J))return this.$(J);else if(r6(J))return J.collection();else if(JZ(J)){if(!Q)Q={};return new X7(this,J,Q.unique,Q.removed)}return new X7(this)},nodes:function Z(J){var Q=this.$(function(K){return K.isNode()});if(J)return Q.filter(J);return Q},edges:function Z(J){var Q=this.$(function(K){return K.isEdge()});if(J)return Q.filter(J);return Q},$:function Z(J){var Q=this._private.elements;if(J)return Q.filter(J);else return Q.spawnSelf()},mutableElements:function Z(){return this._private.elements}};$3.elements=$3.filter=$3.$;D7={};D7.apply=function(Z){var J=this,Q=J._private,K=Q.cy,X=K.collection();for(var U=0;U<Z.length;U++){var Y=Z[U],q=J.getContextMeta(Y);if(q.empty)continue;var z=J.getContextStyle(q),G=J.applyContextStyle(q,z,Y);if(Y._private.appliedInitStyle)J.updateTransitions(Y,G.diffProps);else Y._private.appliedInitStyle=!0;var H=J.updateStyleHints(Y);if(H)X.push(Y)}return X};D7.getPropertiesDiff=function(Z,J){var Q=this,K=Q._private.propDiffs=Q._private.propDiffs||{},X=Z+"-"+J,U=K[X];if(U)return U;var Y=[],q={};for(var z=0;z<Q.length;z++){var G=Q[z],H=Z[z]===oF,W=J[z]===oF,F=H!==W,M=G.mappedProperties.length>0;if(F||W&&M){var B=void 0;if(F&&M)B=G.properties;else if(F)B=G.properties;else if(M)B=G.mappedProperties;for(var O=0;O<B.length;O++){var A=B[O],L=A.name,I=!1;for(var D=z+1;D<Q.length;D++){var w=Q[D],N=J[D]===oF;if(!N)continue;if(I=w.properties[A.name]!=null,I)break}if(!q[L]&&!I)q[L]=!0,Y.push(L)}}}return K[X]=Y,Y};D7.getContextMeta=function(Z){var J=this,Q="",K,X=Z._private.styleCxtKey||"";for(var U=0;U<J.length;U++){var Y=J[U],q=Y.selector&&Y.selector.matches(Z);if(q)Q+=oF;else Q+=Kc0}return K=J.getPropertiesDiff(X,Q),Z._private.styleCxtKey=Q,{key:Q,diffPropNames:K,empty:K.length===0}};D7.getContextStyle=function(Z){var J=Z.key,Q=this,K=this._private.contextStyles=this._private.contextStyles||{};if(K[J])return K[J];var X={_private:{key:J}};for(var U=0;U<Q.length;U++){var Y=Q[U],q=J[U]===oF;if(!q)continue;for(var z=0;z<Y.properties.length;z++){var G=Y.properties[z];X[G.name]=G}}return K[J]=X,X};D7.applyContextStyle=function(Z,J,Q){var K=this,X=Z.diffPropNames,U={},Y=K.types;for(var q=0;q<X.length;q++){var z=X[q],G=J[z],H=Q.pstyle(z);if(!G)if(!H)continue;else if(H.bypass)G={name:z,deleteBypassed:!0};else G={name:z,delete:!0};if(H===G)continue;if(G.mapped===Y.fn&&H!=null&&H.mapping!=null&&H.mapping.value===G.value){var W=H.mapping,F=W.fnValue=G.value(Q);if(F===W.prevFnValue)continue}var M=U[z]={prev:H};if(K.applyParsedProperty(Q,G),M.next=Q.pstyle(z),M.next&&M.next.bypass)M.next=M.next.bypassed}return{diffProps:U}};D7.updateStyleHints=function(Z){var J=Z._private,Q=this,K=Q.propertyGroupNames,X=Q.propertyGroupKeys,U=function o(a,Q0,K0){return Q.getPropertiesHash(a,Q0,K0)},Y=J.styleKey;if(Z.removed())return!1;var q=J.group==="nodes",z=Z._private.style;K=Object.keys(z);for(var G=0;G<X.length;G++){var H=X[G];J.styleKeys[H]=[pz,sF]}var W=function o(a,Q0){return J.styleKeys[Q0][0]=ZM(a,J.styleKeys[Q0][0])},F=function o(a,Q0){return J.styleKeys[Q0][1]=JM(a,J.styleKeys[Q0][1])},M=function o(a,Q0){W(a,Q0),F(a,Q0)},B=function o(a,Q0){for(var K0=0;K0<a.length;K0++){var A0=a.charCodeAt(K0);W(A0,Q0),F(A0,Q0)}},O=2000000000,A=function o(a){return-128<a&&a<128&&Math.floor(a)!==a?O-(a*1024|0):a};for(var L=0;L<K.length;L++){var I=K[L],D=z[I];if(D==null)continue;var w=this.properties[I],N=w.type,E=w.groupKey,j=void 0;if(w.hashOverride!=null)j=w.hashOverride(Z,D);else if(D.pfValue!=null)j=D.pfValue;var P=w.enums==null?D.value:null,C=j!=null,T=P!=null,V=C||T,S=D.units;if(N.number&&V&&!N.multiple){var $=C?j:P;if(M(A($),E),!C&&S!=null)B(S,E)}else B(D.strValue,E)}var f=[pz,sF];for(var h=0;h<X.length;h++){var v=X[h],b=J.styleKeys[v];f[0]=ZM(b[0],f[0]),f[1]=JM(b[1],f[1])}J.styleKey=zy0(f[0],f[1]);var y=J.styleKeys;J.labelDimsKey=rX(y.labelDimensions);var k=U(Z,["label"],y.labelDimensions);if(J.labelKey=rX(k),J.labelStyleKey=rX(R3(y.commonLabel,k)),!q){var g=U(Z,["source-label"],y.labelDimensions);J.sourceLabelKey=rX(g),J.sourceLabelStyleKey=rX(R3(y.commonLabel,g));var u=U(Z,["target-label"],y.labelDimensions);J.targetLabelKey=rX(u),J.targetLabelStyleKey=rX(R3(y.commonLabel,u))}if(q){var i=J.styleKeys,e=i.nodeBody,J0=i.nodeBorder,z0=i.nodeOutline,t=i.backgroundImage,B0=i.compound,X0=i.pie,d=[e,J0,z0,t,B0,X0].filter(function(o){return o!=null}).reduce(R3,[pz,sF]);J.nodeKey=rX(d),J.hasPie=X0!=null&&X0[0]!==pz&&X0[1]!==sF}return Y!==J.styleKey};D7.clearStyleHints=function(Z){var J=Z._private;J.styleCxtKey="",J.styleKeys={},J.styleKey=null,J.labelKey=null,J.labelStyleKey=null,J.sourceLabelKey=null,J.sourceLabelStyleKey=null,J.targetLabelKey=null,J.targetLabelStyleKey=null,J.nodeKey=null,J.hasPie=null};D7.applyParsedProperty=function(Z,J){var Q=this,K=J,X=Z._private.style,U,Y=Q.types,q=Q.properties[K.name].type,z=K.bypass,G=X[K.name],H=G&&G.bypass,W=Z._private,F="mapping",M=function i(e){if(e==null)return null;else if(e.pfValue!=null)return e.pfValue;else return e.value},B=function i(){var e=M(G),J0=M(K);Q.checkTriggers(Z,K.name,e,J0)};if(J.name==="curve-style"&&Z.isEdge()&&(J.value!=="bezier"&&Z.isLoop()||J.value==="haystack"&&(Z.source().isParent()||Z.target().isParent())))K=J=this.parse(J.name,"bezier",z);if(K.delete)return X[K.name]=void 0,B(),!0;if(K.deleteBypassed)if(!G)return B(),!0;else if(G.bypass)return G.bypassed=void 0,B(),!0;else return!1;if(K.deleteBypass)if(!G)return B(),!0;else if(G.bypass)return X[K.name]=G.bypassed,B(),!0;else return!1;var O=function i(){y8("Do not assign mappings to elements without corresponding data (i.e. ele `"+Z.id()+"` has no mapping for property `"+K.name+"` with data field `"+K.field+"`); try a `["+K.field+"]` selector to limit scope to elements with `"+K.field+"` defined")};switch(K.mapped){case Y.mapData:{var A=K.field.split("."),L=W.data;for(var I=0;I<A.length&&L;I++){var D=A[I];L=L[D]}if(L==null)return O(),!1;var w;if(!K9(L))return y8("Do not use continuous mappers without specifying numeric data (i.e. `"+K.field+": "+L+"` for `"+Z.id()+"` is non-numeric)"),!1;else{var N=K.fieldMax-K.fieldMin;if(N===0)w=0;else w=(L-K.fieldMin)/N}if(w<0)w=0;else if(w>1)w=1;if(q.color){var E=K.valueMin[0],j=K.valueMax[0],P=K.valueMin[1],C=K.valueMax[1],T=K.valueMin[2],V=K.valueMax[2],S=K.valueMin[3]==null?1:K.valueMin[3],$=K.valueMax[3]==null?1:K.valueMax[3],f=[Math.round(E+(j-E)*w),Math.round(P+(C-P)*w),Math.round(T+(V-T)*w),Math.round(S+($-S)*w)];U={bypass:K.bypass,name:K.name,value:f,strValue:"rgb("+f[0]+", "+f[1]+", "+f[2]+")"}}else if(q.number){var h=K.valueMin+(K.valueMax-K.valueMin)*w;U=this.parse(K.name,h,K.bypass,F)}else return!1;if(!U)return O(),!1;U.mapping=K,K=U;break}case Y.data:{var v=K.field.split("."),b=W.data;for(var y=0;y<v.length&&b;y++){var k=v[y];b=b[k]}if(b!=null)U=this.parse(K.name,b,K.bypass,F);if(!U)return O(),!1;U.mapping=K,K=U;break}case Y.fn:{var g=K.value,u=K.fnValue!=null?K.fnValue:g(Z);if(K.prevFnValue=u,u==null)return y8("Custom function mappers may not return null (i.e. `"+K.name+"` for ele `"+Z.id()+"` is null)"),!1;if(U=this.parse(K.name,u,K.bypass,F),!U)return y8("Custom function mappers may not return invalid values for the property type (i.e. `"+K.name+"` for ele `"+Z.id()+"` is invalid)"),!1;U.mapping=AK(K),K=U;break}case void 0:break;default:return!1}if(z){if(H)K.bypassed=G.bypassed;else K.bypassed=G;X[K.name]=K}else if(H)G.bypassed=K;else X[K.name]=K;return B(),!0};D7.cleanElements=function(Z,J){for(var Q=0;Q<Z.length;Q++){var K=Z[Q];if(this.clearStyleHints(K),K.dirtyCompoundBoundsCache(),K.dirtyBoundingBoxCache(),!J)K._private.style={};else{var X=K._private.style,U=Object.keys(X);for(var Y=0;Y<U.length;Y++){var q=U[Y],z=X[q];if(z!=null)if(z.bypass)z.bypassed=null;else X[q]=null}}}};D7.update=function(){var Z=this._private.cy,J=Z.mutableElements();J.updateStyle()};D7.updateTransitions=function(Z,J){var Q=this,K=Z._private,X=Z.pstyle("transition-property").value,U=Z.pstyle("transition-duration").pfValue,Y=Z.pstyle("transition-delay").pfValue;if(X.length>0&&U>0){var q={},z=!1;for(var G=0;G<X.length;G++){var H=X[G],W=Z.pstyle(H),F=J[H];if(!F)continue;var M=F.prev,B=M,O=F.next!=null?F.next:W,A=!1,L=void 0,I=0.000001;if(!B)continue;if(K9(B.pfValue)&&K9(O.pfValue))A=O.pfValue-B.pfValue,L=B.pfValue+I*A;else if(K9(B.value)&&K9(O.value))A=O.value-B.value,L=B.value+I*A;else if(JZ(B.value)&&JZ(O.value))A=B.value[0]!==O.value[0]||B.value[1]!==O.value[1]||B.value[2]!==O.value[2],L=B.strValue;if(A)q[H]=O.strValue,this.applyBypass(Z,H,L),z=!0}if(!z)return;K.transitioning=!0,new ZG(function(D){if(Y>0)Z.delayAnimation(Y).play().promise().then(D);else D()}).then(function(){return Z.animation({style:q,duration:U,easing:Z.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){Q.removeBypasses(Z,X),Z.emitAndNotify("style"),K.transitioning=!1})}else if(K.transitioning)this.removeBypasses(Z,X),Z.emitAndNotify("style"),K.transitioning=!1};D7.checkTrigger=function(Z,J,Q,K,X,U){var Y=this.properties[J],q=X(Y);if(q!=null&&q(Q,K))U(Y)};D7.checkZOrderTrigger=function(Z,J,Q,K){var X=this;this.checkTrigger(Z,J,Q,K,function(U){return U.triggersZOrder},function(){X._private.cy.notify("zorder",Z)})};D7.checkBoundsTrigger=function(Z,J,Q,K){this.checkTrigger(Z,J,Q,K,function(X){return X.triggersBounds},function(X){if(Z.dirtyCompoundBoundsCache(),Z.dirtyBoundingBoxCache(),X.triggersBoundsOfParallelBeziers&&J==="curve-style"&&(Q==="bezier"||K==="bezier"))Z.parallelEdges().forEach(function(U){if(U.isBundledBezier())U.dirtyBoundingBoxCache()});if(X.triggersBoundsOfConnectedEdges&&J==="display"&&(Q==="none"||K==="none"))Z.connectedEdges().forEach(function(U){U.dirtyBoundingBoxCache()})})};D7.checkTriggers=function(Z,J,Q,K){Z.dirtyStyleCache(),this.checkZOrderTrigger(Z,J,Q,K),this.checkBoundsTrigger(Z,J,Q,K)};RM={};RM.applyBypass=function(Z,J,Q,K){var X=this,U=[],Y=!0;if(J==="*"||J==="**"){if(Q!==void 0)for(var q=0;q<X.properties.length;q++){var z=X.properties[q],G=z.name,H=this.parse(G,Q,!0);if(H)U.push(H)}}else if(S9(J)){var W=this.parse(J,Q,!0);if(W)U.push(W)}else if(D8(J)){var F=J;K=Q;var M=Object.keys(F);for(var B=0;B<M.length;B++){var O=M[B],A=F[O];if(A===void 0)A=F[s3(O)];if(A!==void 0){var L=this.parse(O,A,!0);if(L)U.push(L)}}}else return!1;if(U.length===0)return!1;var I=!1;for(var D=0;D<Z.length;D++){var w=Z[D],N={},E=void 0;for(var j=0;j<U.length;j++){var P=U[j];if(K){var C=w.pstyle(P.name);E=N[P.name]={prev:C}}if(I=this.applyParsedProperty(w,AK(P))||I,K)E.next=w.pstyle(P.name)}if(I)this.updateStyleHints(w);if(K)this.updateTransitions(w,N,Y)}return I};RM.overrideBypass=function(Z,J,Q){J=i$(J);for(var K=0;K<Z.length;K++){var X=Z[K],U=X._private.style[J],Y=this.properties[J].type,q=Y.color,z=Y.mutiple,G=!U?null:U.pfValue!=null?U.pfValue:U.value;if(!U||!U.bypass)this.applyBypass(X,J,Q);else{if(U.value=Q,U.pfValue!=null)U.pfValue=Q;if(q)U.strValue="rgb("+Q.join(",")+")";else if(z)U.strValue=Q.join(" ");else U.strValue=""+Q;this.updateStyleHints(X)}this.checkTriggers(X,J,G,Q)}};RM.removeAllBypasses=function(Z,J){return this.removeBypasses(Z,this.propertyNames,J)};RM.removeBypasses=function(Z,J,Q){var K=!0;for(var X=0;X<Z.length;X++){var U=Z[X],Y={};for(var q=0;q<J.length;q++){var z=J[q],G=this.properties[z],H=U.pstyle(G.name);if(!H||!H.bypass)continue;var W="",F=this.parse(z,W,!0),M=Y[G.name]={prev:H};this.applyParsedProperty(U,F),M.next=U.pstyle(G.name)}if(this.updateStyleHints(U),Q)this.updateTransitions(U,Y,K)}};Y_={};Y_.getEmSizeInPixels=function(){var Z=this.containerCss("font-size");if(Z!=null)return parseFloat(Z);else return 1};Y_.containerCss=function(Z){var J=this._private.cy,Q=J.container(),K=J.window();if(K&&Q&&K.getComputedStyle)return K.getComputedStyle(Q).getPropertyValue(Z)};IK={};IK.getRenderedStyle=function(Z,J){if(J)return this.getStylePropertyValue(Z,J,!0);else return this.getRawStyle(Z,!0)};IK.getRawStyle=function(Z,J){var Q=this;if(Z=Z[0],Z){var K={};for(var X=0;X<Q.properties.length;X++){var U=Q.properties[X],Y=Q.getStylePropertyValue(Z,U.name,J);if(Y!=null)K[U.name]=Y,K[s3(U.name)]=Y}return K}};IK.getIndexedStyle=function(Z,J,Q,K){var X=Z.pstyle(J)[Q][K];return X!=null?X:Z.cy().style().getDefaultProperty(J)[Q][0]};IK.getStylePropertyValue=function(Z,J,Q){var K=this;if(Z=Z[0],Z){var X=K.properties[J];if(X.alias)X=X.pointsTo;var U=X.type,Y=Z.pstyle(X.name);if(Y){var{value:q,units:z,strValue:G}=Y;if(Q&&U.number&&q!=null&&K9(q)){var H=Z.cy().zoom(),W=function O(A){return A*H},F=function O(A,L){return W(A)+L},M=JZ(q),B=M?z.every(function(O){return O!=null}):z!=null;if(B)if(M)return q.map(function(O,A){return F(O,z[A])}).join(" ");else return F(q,z);else if(M)return q.map(function(O){return S9(O)?O:""+W(O)}).join(" ");else return""+W(q)}else if(G!=null)return G}return null}};IK.getAnimationStartStyle=function(Z,J){var Q={};for(var K=0;K<J.length;K++){var X=J[K],U=X.name,Y=Z.pstyle(U);if(Y!==void 0)if(D8(Y))Y=this.parse(U,Y.strValue);else Y=this.parse(U,Y);if(Y)Q[U]=Y}return Q};IK.getPropsList=function(Z){var J=this,Q=[],K=Z,X=J.properties;if(K){var U=Object.keys(K);for(var Y=0;Y<U.length;Y++){var q=U[Y],z=K[q],G=X[q]||X[i$(q)],H=this.parse(G.name,z);if(H)Q.push(H)}}return Q};IK.getNonDefaultPropertiesHash=function(Z,J,Q){var K=Q.slice(),X,U,Y,q,z,G;for(z=0;z<J.length;z++)if(X=J[z],U=Z.pstyle(X,!1),U==null)continue;else if(U.pfValue!=null)K[0]=ZM(q,K[0]),K[1]=JM(q,K[1]);else{Y=U.strValue;for(G=0;G<Y.length;G++)q=Y.charCodeAt(G),K[0]=ZM(q,K[0]),K[1]=JM(q,K[1])}return K};IK.getPropertiesHash=IK.getNonDefaultPropertiesHash;YD={};YD.appendFromJson=function(Z){var J=this;for(var Q=0;Q<Z.length;Q++){var K=Z[Q],X=K.selector,U=K.style||K.css,Y=Object.keys(U);J.selector(X);for(var q=0;q<Y.length;q++){var z=Y[q],G=U[z];J.css(z,G)}}return J};YD.fromJson=function(Z){var J=this;return J.resetToDefault(),J.appendFromJson(Z),J};YD.json=function(){var Z=[];for(var J=this.defaultLength;J<this.length;J++){var Q=this[J],K=Q.selector,X=Q.properties,U={};for(var Y=0;Y<X.length;Y++){var q=X[Y];U[q.name]=q.strValue}Z.push({selector:!K?"core":K.toString(),style:U})}return Z};q_={};q_.appendFromString=function(Z){var J=this,Q=this,K=""+Z,X,U,Y;K=K.replace(/[/][*](\s|.)+?[*][/]/g,"");function q(){if(K.length>X.length)K=K.substr(X.length);else K=""}function z(){if(U.length>Y.length)U=U.substr(Y.length);else U=""}for(;;){var G=K.match(/^\s*$/);if(G)break;var H=K.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!H){y8("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+K);break}X=H[0];var W=H[1];if(W!=="core"){var F=new QU(W);if(F.invalid){y8("Skipping parsing of block: Invalid selector found in string stylesheet: "+W),q();continue}}var M=H[2],B=!1;U=M;var O=[];for(;;){var A=U.match(/^\s*$/);if(A)break;var L=U.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!L){y8("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+M),B=!0;break}Y=L[0];var I=L[1],D=L[2],w=J.properties[I];if(!w){y8("Skipping property: Invalid property name in: "+Y),z();continue}var N=Q.parse(I,D);if(!N){y8("Skipping property: Invalid property definition in: "+Y),z();continue}O.push({name:I,val:D}),z()}if(B){q();break}Q.selector(W);for(var E=0;E<O.length;E++){var j=O[E];Q.css(j.name,j.val)}q()}return Q};q_.fromString=function(Z){var J=this;return J.resetToDefault(),J.appendFromString(Z),J};Q7={};(function(){var Z=DJ,J=Wh0,Q=Mh0,K=Bh0,X=Rh0,U=function X0(d){return"^"+d+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},Y=function X0(d){var o=Z+"|\\w+|"+J+"|"+Q+"|"+K+"|"+X;return"^"+d+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+Z+")\\s*\\,\\s*("+Z+")\\s*,\\s*("+o+")\\s*\\,\\s*("+o+")\\)$"},q=['^url\\s*\\(\\s*[\'"]?(.+?)[\'"]?\\s*\\)$',"^(none)$","^(.+)$"];Q7.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:U("data")},layoutData:{mapping:!0,regex:U("layoutData")},scratch:{mapping:!0,regex:U("scratch")},mapData:{mapping:!0,regex:Y("mapData")},mapLayoutData:{mapping:!0,regex:Y("mapLayoutData")},mapScratch:{mapping:!0,regex:Y("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:q,singleRegexMatchValue:!0},urls:{regexes:q,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function X0(d,o){switch(d.length){case 2:return o[0]!=="deg"&&o[0]!=="rad"&&o[1]!=="deg"&&o[1]!=="rad";case 1:return S9(d[0])||o[0]==="deg"||o[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*,\\s*("+Z+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function X0(d){var o=d.length;return o===1||o===2||o===4}}};var z={zeroNonZero:function X0(d,o){if((d==null||o==null)&&d!==o)return!0;if(d==0&&o!=0)return!0;else if(d!=0&&o==0)return!0;else return!1},any:function X0(d,o){return d!=o},emptyNonEmpty:function X0(d,o){var a=ZU(d),Q0=ZU(o);return a&&!Q0||!a&&Q0}},G=Q7.types,H=[{name:"label",type:G.text,triggersBounds:z.any,triggersZOrder:z.emptyNonEmpty},{name:"text-rotation",type:G.textRotation,triggersBounds:z.any},{name:"text-margin-x",type:G.bidirectionalSize,triggersBounds:z.any},{name:"text-margin-y",type:G.bidirectionalSize,triggersBounds:z.any}],W=[{name:"source-label",type:G.text,triggersBounds:z.any},{name:"source-text-rotation",type:G.textRotation,triggersBounds:z.any},{name:"source-text-margin-x",type:G.bidirectionalSize,triggersBounds:z.any},{name:"source-text-margin-y",type:G.bidirectionalSize,triggersBounds:z.any},{name:"source-text-offset",type:G.size,triggersBounds:z.any}],F=[{name:"target-label",type:G.text,triggersBounds:z.any},{name:"target-text-rotation",type:G.textRotation,triggersBounds:z.any},{name:"target-text-margin-x",type:G.bidirectionalSize,triggersBounds:z.any},{name:"target-text-margin-y",type:G.bidirectionalSize,triggersBounds:z.any},{name:"target-text-offset",type:G.size,triggersBounds:z.any}],M=[{name:"font-family",type:G.fontFamily,triggersBounds:z.any},{name:"font-style",type:G.fontStyle,triggersBounds:z.any},{name:"font-weight",type:G.fontWeight,triggersBounds:z.any},{name:"font-size",type:G.size,triggersBounds:z.any},{name:"text-transform",type:G.textTransform,triggersBounds:z.any},{name:"text-wrap",type:G.textWrap,triggersBounds:z.any},{name:"text-overflow-wrap",type:G.textOverflowWrap,triggersBounds:z.any},{name:"text-max-width",type:G.size,triggersBounds:z.any},{name:"text-outline-width",type:G.size,triggersBounds:z.any},{name:"line-height",type:G.positiveNumber,triggersBounds:z.any}],B=[{name:"text-valign",type:G.valign,triggersBounds:z.any},{name:"text-halign",type:G.halign,triggersBounds:z.any},{name:"color",type:G.color},{name:"text-outline-color",type:G.color},{name:"text-outline-opacity",type:G.zeroOneNumber},{name:"text-background-color",type:G.color},{name:"text-background-opacity",type:G.zeroOneNumber},{name:"text-background-padding",type:G.size,triggersBounds:z.any},{name:"text-border-opacity",type:G.zeroOneNumber},{name:"text-border-color",type:G.color},{name:"text-border-width",type:G.size,triggersBounds:z.any},{name:"text-border-style",type:G.borderStyle,triggersBounds:z.any},{name:"text-background-shape",type:G.textBackgroundShape,triggersBounds:z.any},{name:"text-justification",type:G.justification}],O=[{name:"events",type:G.bool,triggersZOrder:z.any},{name:"text-events",type:G.bool,triggersZOrder:z.any}],A=[{name:"display",type:G.display,triggersZOrder:z.any,triggersBounds:z.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:G.visibility,triggersZOrder:z.any},{name:"opacity",type:G.zeroOneNumber,triggersZOrder:z.zeroNonZero},{name:"text-opacity",type:G.zeroOneNumber},{name:"min-zoomed-font-size",type:G.size},{name:"z-compound-depth",type:G.zCompoundDepth,triggersZOrder:z.any},{name:"z-index-compare",type:G.zIndexCompare,triggersZOrder:z.any},{name:"z-index",type:G.number,triggersZOrder:z.any}],L=[{name:"overlay-padding",type:G.size,triggersBounds:z.any},{name:"overlay-color",type:G.color},{name:"overlay-opacity",type:G.zeroOneNumber,triggersBounds:z.zeroNonZero},{name:"overlay-shape",type:G.overlayShape,triggersBounds:z.any},{name:"overlay-corner-radius",type:G.cornerRadius}],I=[{name:"underlay-padding",type:G.size,triggersBounds:z.any},{name:"underlay-color",type:G.color},{name:"underlay-opacity",type:G.zeroOneNumber,triggersBounds:z.zeroNonZero},{name:"underlay-shape",type:G.overlayShape,triggersBounds:z.any},{name:"underlay-corner-radius",type:G.cornerRadius}],D=[{name:"transition-property",type:G.propList},{name:"transition-duration",type:G.time},{name:"transition-delay",type:G.time},{name:"transition-timing-function",type:G.easing}],w=function X0(d,o){if(o.value==="label")return-d.poolIndex();else return o.pfValue},N=[{name:"height",type:G.nodeSize,triggersBounds:z.any,hashOverride:w},{name:"width",type:G.nodeSize,triggersBounds:z.any,hashOverride:w},{name:"shape",type:G.nodeShape,triggersBounds:z.any},{name:"shape-polygon-points",type:G.polygonPointList,triggersBounds:z.any},{name:"corner-radius",type:G.cornerRadius},{name:"background-color",type:G.color},{name:"background-fill",type:G.fill},{name:"background-opacity",type:G.zeroOneNumber},{name:"background-blacken",type:G.nOneOneNumber},{name:"background-gradient-stop-colors",type:G.colors},{name:"background-gradient-stop-positions",type:G.percentages},{name:"background-gradient-direction",type:G.gradientDirection},{name:"padding",type:G.sizeMaybePercent,triggersBounds:z.any},{name:"padding-relative-to",type:G.paddingRelativeTo,triggersBounds:z.any},{name:"bounds-expansion",type:G.boundsExpansion,triggersBounds:z.any}],E=[{name:"border-color",type:G.color},{name:"border-opacity",type:G.zeroOneNumber},{name:"border-width",type:G.size,triggersBounds:z.any},{name:"border-style",type:G.borderStyle},{name:"border-cap",type:G.lineCap},{name:"border-join",type:G.lineJoin},{name:"border-dash-pattern",type:G.numbers},{name:"border-dash-offset",type:G.number},{name:"border-position",type:G.linePosition}],j=[{name:"outline-color",type:G.color},{name:"outline-opacity",type:G.zeroOneNumber},{name:"outline-width",type:G.size,triggersBounds:z.any},{name:"outline-style",type:G.borderStyle},{name:"outline-offset",type:G.size,triggersBounds:z.any}],P=[{name:"background-image",type:G.urls},{name:"background-image-crossorigin",type:G.bgCrossOrigin},{name:"background-image-opacity",type:G.zeroOneNumbers},{name:"background-image-containment",type:G.bgContainment},{name:"background-image-smoothing",type:G.bools},{name:"background-position-x",type:G.bgPos},{name:"background-position-y",type:G.bgPos},{name:"background-width-relative-to",type:G.bgRelativeTo},{name:"background-height-relative-to",type:G.bgRelativeTo},{name:"background-repeat",type:G.bgRepeat},{name:"background-fit",type:G.bgFit},{name:"background-clip",type:G.bgClip},{name:"background-width",type:G.bgWH},{name:"background-height",type:G.bgWH},{name:"background-offset-x",type:G.bgPos},{name:"background-offset-y",type:G.bgPos}],C=[{name:"position",type:G.position,triggersBounds:z.any},{name:"compound-sizing-wrt-labels",type:G.compoundIncludeLabels,triggersBounds:z.any},{name:"min-width",type:G.size,triggersBounds:z.any},{name:"min-width-bias-left",type:G.sizeMaybePercent,triggersBounds:z.any},{name:"min-width-bias-right",type:G.sizeMaybePercent,triggersBounds:z.any},{name:"min-height",type:G.size,triggersBounds:z.any},{name:"min-height-bias-top",type:G.sizeMaybePercent,triggersBounds:z.any},{name:"min-height-bias-bottom",type:G.sizeMaybePercent,triggersBounds:z.any}],T=[{name:"line-style",type:G.lineStyle},{name:"line-color",type:G.color},{name:"line-fill",type:G.fill},{name:"line-cap",type:G.lineCap},{name:"line-opacity",type:G.zeroOneNumber},{name:"line-dash-pattern",type:G.numbers},{name:"line-dash-offset",type:G.number},{name:"line-outline-width",type:G.size},{name:"line-outline-color",type:G.color},{name:"line-gradient-stop-colors",type:G.colors},{name:"line-gradient-stop-positions",type:G.percentages},{name:"curve-style",type:G.curveStyle,triggersBounds:z.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:G.zeroOneNumber,triggersBounds:z.any},{name:"source-endpoint",type:G.edgeEndpoint,triggersBounds:z.any},{name:"target-endpoint",type:G.edgeEndpoint,triggersBounds:z.any},{name:"control-point-step-size",type:G.size,triggersBounds:z.any},{name:"control-point-distances",type:G.bidirectionalSizes,triggersBounds:z.any},{name:"control-point-weights",type:G.numbers,triggersBounds:z.any},{name:"segment-distances",type:G.bidirectionalSizes,triggersBounds:z.any},{name:"segment-weights",type:G.numbers,triggersBounds:z.any},{name:"segment-radii",type:G.numbers,triggersBounds:z.any},{name:"radius-type",type:G.radiusType,triggersBounds:z.any},{name:"taxi-turn",type:G.bidirectionalSizeMaybePercent,triggersBounds:z.any},{name:"taxi-turn-min-distance",type:G.size,triggersBounds:z.any},{name:"taxi-direction",type:G.axisDirection,triggersBounds:z.any},{name:"taxi-radius",type:G.number,triggersBounds:z.any},{name:"edge-distances",type:G.edgeDistances,triggersBounds:z.any},{name:"arrow-scale",type:G.positiveNumber,triggersBounds:z.any},{name:"loop-direction",type:G.angle,triggersBounds:z.any},{name:"loop-sweep",type:G.angle,triggersBounds:z.any},{name:"source-distance-from-node",type:G.size,triggersBounds:z.any},{name:"target-distance-from-node",type:G.size,triggersBounds:z.any}],V=[{name:"ghost",type:G.bool,triggersBounds:z.any},{name:"ghost-offset-x",type:G.bidirectionalSize,triggersBounds:z.any},{name:"ghost-offset-y",type:G.bidirectionalSize,triggersBounds:z.any},{name:"ghost-opacity",type:G.zeroOneNumber}],S=[{name:"selection-box-color",type:G.color},{name:"selection-box-opacity",type:G.zeroOneNumber},{name:"selection-box-border-color",type:G.color},{name:"selection-box-border-width",type:G.size},{name:"active-bg-color",type:G.color},{name:"active-bg-opacity",type:G.zeroOneNumber},{name:"active-bg-size",type:G.size},{name:"outside-texture-bg-color",type:G.color},{name:"outside-texture-bg-opacity",type:G.zeroOneNumber}],$=[];Q7.pieBackgroundN=16,$.push({name:"pie-size",type:G.sizeMaybePercent});for(var f=1;f<=Q7.pieBackgroundN;f++)$.push({name:"pie-"+f+"-background-color",type:G.color}),$.push({name:"pie-"+f+"-background-size",type:G.percent}),$.push({name:"pie-"+f+"-background-opacity",type:G.zeroOneNumber});var h=[],v=Q7.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:G.arrowShape,triggersBounds:z.any},{name:"arrow-color",type:G.color},{name:"arrow-fill",type:G.arrowFill},{name:"arrow-width",type:G.arrowWidth}].forEach(function(X0){v.forEach(function(d){var o=d+"-"+X0.name,a=X0.type,Q0=X0.triggersBounds;h.push({name:o,type:a,triggersBounds:Q0})})},{});var b=Q7.properties=[].concat(O,D,A,L,I,V,B,M,H,W,F,N,E,j,P,$,C,T,h,S),y=Q7.propertyGroups={behavior:O,transition:D,visibility:A,overlay:L,underlay:I,ghost:V,commonLabel:B,labelDimensions:M,mainLabel:H,sourceLabel:W,targetLabel:F,nodeBody:N,nodeBorder:E,nodeOutline:j,backgroundImage:P,pie:$,compound:C,edgeLine:T,edgeArrow:h,core:S},k=Q7.propertyGroupNames={},g=Q7.propertyGroupKeys=Object.keys(y);g.forEach(function(X0){k[X0]=y[X0].map(function(d){return d.name}),y[X0].forEach(function(d){return d.groupKey=X0})});var u=Q7.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Q7.propertyNames=b.map(function(X0){return X0.name});for(var i=0;i<b.length;i++){var e=b[i];b[e.name]=e}for(var J0=0;J0<u.length;J0++){var z0=u[J0],t=b[z0.pointsTo],B0={name:z0.name,alias:!0,pointsTo:t};b.push(B0),b[z0.name]=B0}})();Q7.getDefaultProperty=function(Z){return this.getDefaultProperties()[Z]};Q7.getDefaultProperties=function(){var Z=this._private;if(Z.defaultProperties!=null)return Z.defaultProperties;var J=b9({"selection-box-color":"#ddd","selection-box-opacity":0.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":0.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":0.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(z,G){for(var H=1;H<=Q7.pieBackgroundN;H++){var W=G.name.replace("{{i}}",H),F=G.value;z[W]=F}return z},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":0.5,"segment-weights":0.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(z,G){return Q7.arrowPrefixes.forEach(function(H){var W=H+"-"+G.name,F=G.value;z[W]=F}),z},{})),Q={};for(var K=0;K<this.properties.length;K++){var X=this.properties[K];if(X.pointsTo)continue;var U=X.name,Y=J[U],q=this.parse(U,Y);Q[U]=q}return Z.defaultProperties=Q,Z.defaultProperties};Q7.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":0.25}),this.defaultLength=this.length};qD={};qD.parse=function(Z,J,Q,K){var X=this;if($Z(J))return X.parseImplWarn(Z,J,Q,K);var U=K==="mapping"||K===!0||K===!1||K==null?"dontcare":K,Y=Q?"t":"f",q=""+J,z=v40(Z,q,Y,U),G=X.propCache=X.propCache||[],H;if(!(H=G[z]))H=G[z]=X.parseImplWarn(Z,J,Q,K);if(Q||K==="mapping"){if(H=AK(H),H)H.value=AK(H.value)}return H};qD.parseImplWarn=function(Z,J,Q,K){var X=this.parseImpl(Z,J,Q,K);if(!X&&J!=null)y8("The style property `".concat(Z,": ").concat(J,"` is invalid"));if(X&&(X.name==="width"||X.name==="height")&&J==="label")y8("The style value of `label` is deprecated for `"+X.name+"`");return X};qD.parseImpl=function(Z,J,Q,K){var X=this;Z=i$(Z);var U=X.properties[Z],Y=J,q=X.types;if(!U)return null;if(J===void 0)return null;if(U.alias)U=U.pointsTo,Z=U.name;var z=S9(J);if(z)J=J.trim();var G=U.type;if(!G)return null;if(Q&&(J===""||J===null))return{name:Z,value:J,bypass:!0,deleteBypass:!0};if($Z(J))return{name:Z,value:J,strValue:"fn",mapped:q.fn,bypass:Q};var H,W;if(!z||K||J.length<7||J[1]!=="a");else if(J.length>=7&&J[0]==="d"&&(H=new RegExp(q.data.regex).exec(J))){if(Q)return!1;var F=q.data;return{name:Z,value:H,strValue:""+J,mapped:F,field:H[1],bypass:Q}}else if(J.length>=10&&J[0]==="m"&&(W=new RegExp(q.mapData.regex).exec(J))){if(Q)return!1;if(G.multiple)return!1;var M=q.mapData;if(!(G.color||G.number))return!1;var B=this.parse(Z,W[4]);if(!B||B.mapped)return!1;var O=this.parse(Z,W[5]);if(!O||O.mapped)return!1;if(B.pfValue===O.pfValue||B.strValue===O.strValue)return y8("`"+Z+": "+J+"` is not a valid mapper because the output range is zero; converting to `"+Z+": "+B.strValue+"`"),this.parse(Z,B.strValue);else if(G.color){var A=B.value,L=O.value,I=A[0]===L[0]&&A[1]===L[1]&&A[2]===L[2]&&(A[3]===L[3]||(A[3]==null||A[3]===1)&&(L[3]==null||L[3]===1));if(I)return!1}return{name:Z,value:W,strValue:""+J,mapped:M,field:W[1],fieldMin:parseFloat(W[2]),fieldMax:parseFloat(W[3]),valueMin:B.value,valueMax:O.value,bypass:Q}}if(G.multiple&&K!=="multiple"){var D;if(z)D=J.split(/\s+/);else if(JZ(J))D=J;else D=[J];if(G.evenMultiple&&D.length%2!==0)return null;var w=[],N=[],E=[],j="",P=!1;for(var C=0;C<D.length;C++){var T=X.parse(Z,D[C],Q,"multiple");P=P||S9(T.value),w.push(T.value),E.push(T.pfValue!=null?T.pfValue:T.value),N.push(T.units),j+=(C>0?" ":"")+T.strValue}if(G.validate&&!G.validate(w,N))return null;if(G.singleEnum&&P)if(w.length===1&&S9(w[0]))return{name:Z,value:w[0],strValue:w[0],bypass:Q};else return null;return{name:Z,value:w,pfValue:E,strValue:j,bypass:Q,units:N}}var V=function X0(){for(var d=0;d<G.enums.length;d++){var o=G.enums[d];if(o===J)return{name:Z,value:J,strValue:""+J,bypass:Q}}return null};if(G.number){var S,$="px";if(G.units)S=G.units;if(G.implicitUnits)$=G.implicitUnits;if(!G.unitless){if(z){var f="px|em"+(G.allowPercent?"|\\%":"");if(S)f=S;var h=J.match("^("+DJ+")("+f+")?$");if(h)J=h[1],S=h[2]||$}else if(!S||G.implicitUnits)S=$}if(J=parseFloat(J),isNaN(J)&&G.enums===void 0)return null;if(isNaN(J)&&G.enums!==void 0)return J=Y,V();if(G.integer&&!Xh0(J))return null;if(G.min!==void 0&&(J<G.min||G.strictMin&&J===G.min)||G.max!==void 0&&(J>G.max||G.strictMax&&J===G.max))return null;var v={name:Z,value:J,strValue:""+J+(S?S:""),units:S,bypass:Q};if(G.unitless||S!=="px"&&S!=="em")v.pfValue=J;else v.pfValue=S==="px"||!S?J:this.getEmSizeInPixels()*J;if(S==="ms"||S==="s")v.pfValue=S==="ms"?J:1000*J;if(S==="deg"||S==="rad")v.pfValue=S==="rad"?J:yy0(J);if(S==="%")v.pfValue=J/100;return v}else if(G.propList){var b=[],y=""+J;if(y==="none");else{var k=y.split(/\s*,\s*|\s+/);for(var g=0;g<k.length;g++){var u=k[g].trim();if(X.properties[u])b.push(u);else y8("`"+u+"` is not a valid property name")}if(b.length===0)return null}return{name:Z,value:b,strValue:b.length===0?"none":b.join(" "),bypass:Q}}else if(G.color){var i=Nh0(J);if(!i)return null;return{name:Z,value:i,pfValue:i,strValue:"rgb("+i[0]+","+i[1]+","+i[2]+")",bypass:Q}}else if(G.regex||G.regexes){if(G.enums){var e=V();if(e)return e}var J0=G.regexes?G.regexes:[G.regex];for(var z0=0;z0<J0.length;z0++){var t=new RegExp(J0[z0]),B0=t.exec(J);if(B0)return{name:Z,value:G.singleRegexMatchValue?B0[1]:B0,strValue:""+J,bypass:Q}}return null}else if(G.string)return{name:Z,value:""+J,strValue:""+J,bypass:Q};else if(G.enums)return V();else return null};I7=A7.prototype;I7.instanceString=function(){return"style"};I7.clear=function(){var Z=this._private,J=Z.cy,Q=J.elements();for(var K=0;K<this.length;K++)this[K]=void 0;return this.length=0,Z.contextStyles={},Z.propDiffs={},this.cleanElements(Q,!0),Q.forEach(function(X){var U=X[0]._private;U.styleDirty=!0,U.appliedInitStyle=!1}),this};I7.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};I7.core=function(Z){return this._private.coreStyle[Z]||this.getDefaultProperty(Z)};I7.selector=function(Z){var J=Z==="core"?null:new QU(Z),Q=this.length++;return this[Q]={selector:J,properties:[],mappedProperties:[],index:Q},this};I7.css=function(){var Z=this,J=arguments;if(J.length===1){var Q=J[0];for(var K=0;K<Z.properties.length;K++){var X=Z.properties[K],U=Q[X.name];if(U===void 0)U=Q[s3(X.name)];if(U!==void 0)this.cssRule(X.name,U)}}else if(J.length===2)this.cssRule(J[0],J[1]);return this};I7.style=I7.css;I7.cssRule=function(Z,J){var Q=this.parse(Z,J);if(Q){var K=this.length-1;if(this[K].properties.push(Q),this[K].properties[Q.name]=Q,Q.name.match(/pie-(\d+)-background-size/)&&Q.value)this._private.hasPie=!0;if(Q.mapped)this[K].mappedProperties.push(Q);var X=!this[K].selector;if(X)this._private.coreStyle[Q.name]=Q}return this};I7.append=function(Z){if(N40(Z))Z.appendToStyle(this);else if(JZ(Z))this.appendFromJson(Z);else if(S9(Z))this.appendFromString(Z);return this};A7.fromJson=function(Z,J){var Q=new A7(Z);return Q.fromJson(J),Q};A7.fromString=function(Z,J){return new A7(Z).fromString(J)};[D7,RM,Y_,IK,YD,q_,Q7,qD].forEach(function(Z){b9(I7,Z)});A7.types=I7.types;A7.properties=I7.properties;A7.propertyGroups=I7.propertyGroups;A7.propertyGroupNames=I7.propertyGroupNames;A7.propertyGroupKeys=I7.propertyGroupKeys;Xc0={style:function Z(J){if(J){var Q=this.setStyle(J);Q.update()}return this._private.style},setStyle:function Z(J){var Q=this._private;if(N40(J))Q.style=J.generateStyle(this);else if(JZ(J))Q.style=A7.fromJson(this,J);else if(S9(J))Q.style=A7.fromString(this,J);else Q.style=A7(this);return Q.style},updateStyle:function Z(){this.mutableElements().updateStyle()}},eY={autolock:function Z(J){if(J!==void 0)this._private.autolock=J?!0:!1;else return this._private.autolock;return this},autoungrabify:function Z(J){if(J!==void 0)this._private.autoungrabify=J?!0:!1;else return this._private.autoungrabify;return this},autounselectify:function Z(J){if(J!==void 0)this._private.autounselectify=J?!0:!1;else return this._private.autounselectify;return this},selectionType:function Z(J){var Q=this._private;if(Q.selectionType==null)Q.selectionType=Uc0;if(J!==void 0){if(J==="additive"||J==="single")Q.selectionType=J}else return Q.selectionType;return this},panningEnabled:function Z(J){if(J!==void 0)this._private.panningEnabled=J?!0:!1;else return this._private.panningEnabled;return this},userPanningEnabled:function Z(J){if(J!==void 0)this._private.userPanningEnabled=J?!0:!1;else return this._private.userPanningEnabled;return this},zoomingEnabled:function Z(J){if(J!==void 0)this._private.zoomingEnabled=J?!0:!1;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function Z(J){if(J!==void 0)this._private.userZoomingEnabled=J?!0:!1;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function Z(J){if(J!==void 0)this._private.boxSelectionEnabled=J?!0:!1;else return this._private.boxSelectionEnabled;return this},pan:function Z(){var J=arguments,Q=this._private.pan,K,X,U,Y,q;switch(J.length){case 0:return Q;case 1:if(S9(J[0]))return K=J[0],Q[K];else if(D8(J[0])){if(!this._private.panningEnabled)return this;if(U=J[0],Y=U.x,q=U.y,K9(Y))Q.x=Y;if(K9(q))Q.y=q;this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;if(K=J[0],X=J[1],(K==="x"||K==="y")&&K9(X))Q[K]=X;this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function Z(J,Q){var K=arguments,X=this._private.pan,U,Y,q,z,G;if(!this._private.panningEnabled)return this;switch(K.length){case 1:if(D8(J)){if(q=K[0],z=q.x,G=q.y,K9(z))X.x+=z;if(K9(G))X.y+=G;this.emit("pan viewport")}break;case 2:if(U=J,Y=Q,(U==="x"||U==="y")&&K9(Y))X[U]+=Y;this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function Z(J,Q){var K=this.getFitViewport(J,Q);if(K){var X=this._private;X.zoom=K.zoom,X.pan=K.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function Z(J,Q){if(K9(J)&&Q===void 0)Q=J,J=void 0;if(!this._private.panningEnabled||!this._private.zoomingEnabled)return;var K;if(S9(J)){var X=J;J=this.$(X)}else if(qh0(J)){var U=J;K={x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2},K.w=K.x2-K.x1,K.h=K.y2-K.y1}else if(!r6(J))J=this.mutableElements();if(r6(J)&&J.empty())return;K=K||J.boundingBox();var Y=this.width(),q=this.height(),z;if(Q=K9(Q)?Q:0,!isNaN(Y)&&!isNaN(q)&&Y>0&&q>0&&!isNaN(K.w)&&!isNaN(K.h)&&K.w>0&&K.h>0){z=Math.min((Y-2*Q)/K.w,(q-2*Q)/K.h),z=z>this._private.maxZoom?this._private.maxZoom:z,z=z<this._private.minZoom?this._private.minZoom:z;var G={x:(Y-z*(K.x1+K.x2))/2,y:(q-z*(K.y1+K.y2))/2};return{zoom:z,pan:G}}return},zoomRange:function Z(J,Q){var K=this._private;if(Q==null){var X=J;J=X.min,Q=X.max}if(K9(J)&&K9(Q)&&J<=Q)K.minZoom=J,K.maxZoom=Q;else if(K9(J)&&Q===void 0&&J<=K.maxZoom)K.minZoom=J;else if(K9(Q)&&J===void 0&&Q>=K.minZoom)K.maxZoom=Q;return this},minZoom:function Z(J){if(J===void 0)return this._private.minZoom;else return this.zoomRange({min:J})},maxZoom:function Z(J){if(J===void 0)return this._private.maxZoom;else return this.zoomRange({max:J})},getZoomedViewport:function Z(J){var Q=this._private,K=Q.pan,X=Q.zoom,U,Y,q=!1;if(!Q.zoomingEnabled)q=!0;if(K9(J))Y=J;else if(D8(J)){if(Y=J.level,J.position!=null)U=o3(J.position,X,K);else if(J.renderedPosition!=null)U=J.renderedPosition;if(U!=null&&!Q.panningEnabled)q=!0}if(Y=Y>Q.maxZoom?Q.maxZoom:Y,Y=Y<Q.minZoom?Q.minZoom:Y,q||!K9(Y)||Y===X||U!=null&&(!K9(U.x)||!K9(U.y)))return null;if(U!=null){var z=K,G=X,H=Y,W={x:-H/G*(U.x-z.x)+U.x,y:-H/G*(U.y-z.y)+U.y};return{zoomed:!0,panned:!0,zoom:H,pan:W}}else return{zoomed:!0,panned:!1,zoom:Y,pan:K}},zoom:function Z(J){if(J===void 0)return this._private.zoom;else{var Q=this.getZoomedViewport(J),K=this._private;if(Q==null||!Q.zoomed)return this;if(K.zoom=Q.zoom,Q.panned)K.pan.x=Q.pan.x,K.pan.y=Q.pan.y;return this.emit("zoom"+(Q.panned?" pan":"")+" viewport"),this.notify("viewport"),this}},viewport:function Z(J){var Q=this._private,K=!0,X=!0,U=[],Y=!1,q=!1;if(!J)return this;if(!K9(J.zoom))K=!1;if(!D8(J.pan))X=!1;if(!K&&!X)return this;if(K){var z=J.zoom;if(z<Q.minZoom||z>Q.maxZoom||!Q.zoomingEnabled)Y=!0;else Q.zoom=z,U.push("zoom")}if(X&&(!Y||!J.cancelOnFailedZoom)&&Q.panningEnabled){var G=J.pan;if(K9(G.x))Q.pan.x=G.x,q=!1;if(K9(G.y))Q.pan.y=G.y,q=!1;if(!q)U.push("pan")}if(U.length>0)U.push("viewport"),this.emit(U.join(" ")),this.notify("viewport");return this},center:function Z(J){var Q=this.getCenterPan(J);if(Q)this._private.pan=Q,this.emit("pan viewport"),this.notify("viewport");return this},getCenterPan:function Z(J,Q){if(!this._private.panningEnabled)return;if(S9(J)){var K=J;J=this.mutableElements().filter(K)}else if(!r6(J))J=this.mutableElements();if(J.length===0)return;var X=J.boundingBox(),U=this.width(),Y=this.height();Q=Q===void 0?this._private.zoom:Q;var q={x:(U-Q*(X.x1+X.x2))/2,y:(Y-Q*(X.y1+X.y2))/2};return q},reset:function Z(){if(!this._private.panningEnabled||!this._private.zoomingEnabled)return this;return this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function Z(){this._private.sizeCache=null},size:function Z(){var J=this._private,Q=J.container,K=this;return J.sizeCache=J.sizeCache||(Q?function(){var X=K.window().getComputedStyle(Q),U=function Y(q){return parseFloat(X.getPropertyValue(q))};return{width:Q.clientWidth-U("padding-left")-U("padding-right"),height:Q.clientHeight-U("padding-top")-U("padding-bottom")}}():{width:1,height:1})},width:function Z(){return this.size().width},height:function Z(){return this.size().height},extent:function Z(){var J=this._private.pan,Q=this._private.zoom,K=this.renderedExtent(),X={x1:(K.x1-J.x)/Q,x2:(K.x2-J.x)/Q,y1:(K.y1-J.y)/Q,y2:(K.y2-J.y)/Q};return X.w=X.x2-X.x1,X.h=X.y2-X.y1,X},renderedExtent:function Z(){var J=this.width(),Q=this.height();return{x1:0,y1:0,x2:J,y2:Q,w:J,h:Q}},multiClickDebounceTime:function Z(J){if(J)this._private.multiClickDebounceTime=J;else return this._private.multiClickDebounceTime;return this}};eY.centre=eY.center;eY.autolockNodes=eY.autolock;eY.autoungrabifyNodes=eY.autoungrabify;zM={data:h8.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:h8.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:h8.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:h8.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};zM.attr=zM.data;zM.removeAttr=zM.removeData;c3=GM.prototype;b9(c3,{instanceString:function Z(){return"core"},isReady:function Z(){return this._private.ready},destroyed:function Z(){return this._private.destroyed},ready:function Z(J){if(this.isReady())this.emitter().emit("ready",[],J);else this.on("ready",J);return this},destroy:function Z(){var J=this;if(J.destroyed())return;return J.stopAnimationLoop(),J.destroyRenderer(),this.emit("destroy"),J._private.destroyed=!0,J},hasElementWithId:function Z(J){return this._private.elements.hasElementWithId(J)},getElementById:function Z(J){return this._private.elements.getElementById(J)},hasCompoundNodes:function Z(){return this._private.hasCompoundNodes},headless:function Z(){return this._private.renderer.isHeadless()},styleEnabled:function Z(){return this._private.styleEnabled},addToPool:function Z(J){return this._private.elements.merge(J),this},removeFromPool:function Z(J){return this._private.elements.unmerge(J),this},container:function Z(){return this._private.container||null},window:function Z(){var J=this._private.container;if(J==null)return IJ;var Q=this._private.container.ownerDocument;if(Q===void 0||Q==null)return IJ;return Q.defaultView||IJ},mount:function Z(J){if(J==null)return;var Q=this,K=Q._private,X=K.options;if(!x3(J)&&x3(J[0]))J=J[0];return Q.stopAnimationLoop(),Q.destroyRenderer(),K.container=J,K.styleEnabled=!0,Q.invalidateSize(),Q.initRenderer(b9({},X,X.renderer,{name:X.renderer.name==="null"?"canvas":X.renderer.name})),Q.startAnimationLoop(),Q.style(X.style),Q.emit("mount"),Q},unmount:function Z(){var J=this;return J.stopAnimationLoop(),J.destroyRenderer(),J.initRenderer({name:"null"}),J.emit("unmount"),J},options:function Z(){return AK(this._private.options)},json:function Z(J){var Q=this,K=Q._private,X=Q.mutableElements(),U=function D(w){return Q.getElementById(w.id())};if(D8(J)){if(Q.startBatch(),J.elements){var Y={},q=function D(w,N){var E=[],j=[];for(var P=0;P<w.length;P++){var C=w[P];if(!C.data.id){y8("cy.json() cannot handle elements without an ID attribute");continue}var T=""+C.data.id,V=Q.getElementById(T);if(Y[T]=!0,V.length!==0)j.push({ele:V,json:C});else if(N)C.group=N,E.push(C);else E.push(C)}Q.add(E);for(var S=0;S<j.length;S++){var $=j[S],f=$.ele,h=$.json;f.json(h)}};if(JZ(J.elements))q(J.elements);else{var z=["nodes","edges"];for(var G=0;G<z.length;G++){var H=z[G],W=J.elements[H];if(JZ(W))q(W,H)}}var F=Q.collection();X.filter(function(D){return!Y[D.id()]}).forEach(function(D){if(D.isParent())F.merge(D);else D.remove()}),F.forEach(function(D){return D.children().move({parent:null})}),F.forEach(function(D){return U(D).remove()})}if(J.style)Q.style(J.style);if(J.zoom!=null&&J.zoom!==K.zoom)Q.zoom(J.zoom);if(J.pan){if(J.pan.x!==K.pan.x||J.pan.y!==K.pan.y)Q.pan(J.pan)}if(J.data)Q.data(J.data);var M=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"];for(var B=0;B<M.length;B++){var O=M[B];if(J[O]!=null)Q[O](J[O])}return Q.endBatch(),this}else{var A=!!J,L={};if(A)L.elements=this.elements().map(function(D){return D.json()});else L.elements={},X.forEach(function(D){var w=D.group();if(!L.elements[w])L.elements[w]=[];L.elements[w].push(D.json())});if(this._private.styleEnabled)L.style=Q.style().json();L.data=AK(Q.data());var I=K.options;return L.zoomingEnabled=K.zoomingEnabled,L.userZoomingEnabled=K.userZoomingEnabled,L.zoom=K.zoom,L.minZoom=K.minZoom,L.maxZoom=K.maxZoom,L.panningEnabled=K.panningEnabled,L.userPanningEnabled=K.userPanningEnabled,L.pan=AK(K.pan),L.boxSelectionEnabled=K.boxSelectionEnabled,L.renderer=AK(I.renderer),L.hideEdgesOnViewport=I.hideEdgesOnViewport,L.textureOnViewport=I.textureOnViewport,L.wheelSensitivity=I.wheelSensitivity,L.motionBlur=I.motionBlur,L.multiClickDebounceTime=I.multiClickDebounceTime,L}}});c3.$id=c3.getElementById;[rp0,ep0,EK0,$$,k3,Jc0,_$,$3,Xc0,eY,zM].forEach(function(Z){b9(c3,Z)});Yc0={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}},qc0={maximal:!1,acyclic:!1};wK0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,X=K.nodes().filter(function(A0){return!A0.isParent()}),U=K,Y=J.directed,q=J.acyclic||J.maximal||J.maximalAdjustments>0,z=D6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()}),G;if(r6(J.roots))G=J.roots;else if(JZ(J.roots)){var H=[];for(var W=0;W<J.roots.length;W++){var F=J.roots[W],M=Q.getElementById(F);H.push(M)}G=Q.collection(H)}else if(S9(J.roots))G=Q.$(J.roots);else if(Y)G=X.roots();else{var B=K.components();G=Q.collection();var O=function A0(r){var v0=B[r],Y0=v0.maxDegree(!1),k0=v0.filter(function(h0){return h0.degree(!1)===Y0});G=G.add(k0)};for(var A=0;A<B.length;A++)O(A)}var L=[],I={},D=function A0(r,v0){if(L[v0]==null)L[v0]=[];var Y0=L[v0].length;L[v0].push(r),aQ0(r,{index:Y0,depth:v0})},w=function A0(r,v0){var Y0=mz(r),k0=Y0.depth,h0=Y0.index;L[k0][h0]=null,D(r,v0)};U.bfs({roots:G,directed:J.directed,visit:function A0(r,v0,Y0,k0,h0){var V0=r[0],l0=V0.id();D(V0,h0),I[l0]=!0}});var N=[];for(var E=0;E<X.length;E++){var j=X[E];if(I[j.id()])continue;else N.push(j)}var P=function A0(r){var v0=L[r];for(var Y0=0;Y0<v0.length;Y0++){var k0=v0[Y0];if(k0==null){v0.splice(Y0,1),Y0--;continue}aQ0(k0,{depth:r,index:Y0})}},C=function A0(){for(var r=0;r<L.length;r++)P(r)},T=function A0(r,v0){var Y0=mz(r),k0=r.incomers().filter(function(l){return l.isNode()&&K.has(l)}),h0=-1,V0=r.id();for(var l0=0;l0<k0.length;l0++){var b0=k0[l0],S0=mz(b0);h0=Math.max(h0,S0.depth)}if(Y0.depth<=h0){if(!J.acyclic&&v0[V0])return null;var H0=h0+1;return w(r,H0),v0[V0]=H0,!0}return!1};if(Y&&q){var V=[],S={},$=function A0(r){return V.push(r)},f=function A0(){return V.shift()};X.forEach(function(A0){return V.push(A0)});while(V.length>0){var h=f(),v=T(h,S);if(v)h.outgoers().filter(function(A0){return A0.isNode()&&K.has(A0)}).forEach($);else if(v===null){y8("Detected double maximal shift for node `"+h.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}C();var b=0;if(J.avoidOverlap)for(var y=0;y<X.length;y++){var k=X[y],g=k.layoutDimensions(J),u=g.w,i=g.h;b=Math.max(b,u,i)}var e={},J0=function A0(r){if(e[r.id()])return e[r.id()];var v0=mz(r).depth,Y0=r.neighborhood(),k0=0,h0=0;for(var V0=0;V0<Y0.length;V0++){var l0=Y0[V0];if(l0.isEdge()||l0.isParent()||!X.has(l0))continue;var b0=mz(l0);if(b0==null)continue;var{index:S0,depth:H0}=b0;if(S0==null||H0==null)continue;var l=L[H0].length;if(H0<v0)k0+=S0/l,h0++}if(h0=Math.max(1,h0),k0=k0/h0,h0===0)k0=0;return e[r.id()]=k0,k0},z0=function A0(r,v0){var Y0=J0(r),k0=J0(v0),h0=Y0-k0;if(h0===0)return w40(r.id(),v0.id());else return h0};if(J.depthSort!==void 0)z0=J.depthSort;for(var t=0;t<L.length;t++)L[t].sort(z0),P(t);var B0=[];for(var X0=0;X0<N.length;X0++)B0.push(N[X0]);L.unshift(B0),C();var d=0;for(var o=0;o<L.length;o++)d=Math.max(L[o].length,d);var a={x:z.x1+z.w/2,y:z.x1+z.h/2},Q0=L.reduce(function(A0,r){return Math.max(A0,r.length)},0),K0=function A0(r){var v0=mz(r),Y0=v0.depth,k0=v0.index,h0=L[Y0].length,V0=Math.max(z.w/((J.grid?Q0:h0)+1),b),l0=Math.max(z.h/(L.length+1),b),b0=Math.min(z.w/2/L.length,z.h/2/L.length);if(b0=Math.max(b0,b),!J.circle){var S0={x:a.x+(k0+1-(h0+1)/2)*V0,y:(Y0+1)*l0};return S0}else{var H0=b0*Y0+b0-(L.length>0&&L[0].length<=3?b0/2:0),l=2*Math.PI/L[Y0].length*k0;if(Y0===0&&L[0].length===1)H0=1;return{x:a.x+H0*Math.cos(l),y:a.y+H0*Math.sin(l)}}};return K.nodes().layoutPositions(this,J,K0),this};zc0={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}};jK0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,X=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,U=K.nodes().not(":parent");if(J.sort)U=U.sort(J.sort);var Y=D6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},z=J.sweep===void 0?2*Math.PI-2*Math.PI/U.length:J.sweep,G=z/Math.max(1,U.length-1),H,W=0;for(var F=0;F<U.length;F++){var M=U[F],B=M.layoutDimensions(J),O=B.w,A=B.h;W=Math.max(W,O,A)}if(K9(J.radius))H=J.radius;else if(U.length<=1)H=0;else H=Math.min(Y.h,Y.w)/2-W;if(U.length>1&&J.avoidOverlap){W*=1.75;var L=Math.cos(G)-Math.cos(0),I=Math.sin(G)-Math.sin(0),D=Math.sqrt(W*W/(L*L+I*I));H=Math.max(D,H)}var w=function N(E,j){var P=J.startAngle+j*G*(X?1:-1),C=H*Math.cos(P),T=H*Math.sin(P),V={x:q.x+C,y:q.y+T};return V};return K.nodes().layoutPositions(this,J,w),this};Gc0={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function Z(J){return J.degree()},levelWidth:function Z(J){return J.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}};CK0.prototype.run=function(){var Z=this.options,J=Z,Q=J.counterclockwise!==void 0?!J.counterclockwise:J.clockwise,K=Z.cy,X=J.eles,U=X.nodes().not(":parent"),Y=D6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:K.width(),h:K.height()}),q={x:Y.x1+Y.w/2,y:Y.y1+Y.h/2},z=[],G=0;for(var H=0;H<U.length;H++){var W=U[H],F=void 0;F=J.concentric(W),z.push({value:F,node:W}),W._private.scratch.concentric=F}U.updateStyle();for(var M=0;M<U.length;M++){var B=U[M],O=B.layoutDimensions(J);G=Math.max(G,O.w,O.h)}z.sort(function(A0,r){return r.value-A0.value});var A=J.levelWidth(U),L=[[]],I=L[0];for(var D=0;D<z.length;D++){var w=z[D];if(I.length>0){var N=Math.abs(I[0].value-w.value);if(N>=A)I=[],L.push(I)}I.push(w)}var E=G+J.minNodeSpacing;if(!J.avoidOverlap){var j=L.length>0&&L[0].length>1,P=Math.min(Y.w,Y.h)/2-E,C=P/(L.length+j?1:0);E=Math.min(E,C)}var T=0;for(var V=0;V<L.length;V++){var S=L[V],$=J.sweep===void 0?2*Math.PI-2*Math.PI/S.length:J.sweep,f=S.dTheta=$/Math.max(1,S.length-1);if(S.length>1&&J.avoidOverlap){var h=Math.cos(f)-Math.cos(0),v=Math.sin(f)-Math.sin(0),b=Math.sqrt(E*E/(h*h+v*v));T=Math.max(b,T)}S.r=T,T+=E}if(J.equidistant){var y=0,k=0;for(var g=0;g<L.length;g++){var u=L[g],i=u.r-k;y=Math.max(y,i)}k=0;for(var e=0;e<L.length;e++){var J0=L[e];if(e===0)k=J0.r;J0.r=k,k+=y}}var z0={};for(var t=0;t<L.length;t++){var B0=L[t],X0=B0.dTheta,d=B0.r;for(var o=0;o<B0.length;o++){var a=B0[o],Q0=J.startAngle+(Q?1:-1)*X0*o,K0={x:q.x+d*Math.cos(Q0),y:q.y+d*Math.sin(Q0)};z0[a.node.id()]=K0}}return X.nodes().layoutPositions(this,J,function(A0){var r=A0.id();return z0[r]}),this};Hc0={ready:function Z(){},stop:function Z(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function Z(J,Q){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function Z(J){return 2048},nodeOverlap:4,idealEdgeLength:function Z(J){return 32},edgeElasticity:function Z(J){return 32},nestingFactor:1.2,gravity:1,numIter:1000,initialTemp:1000,coolingFactor:0.99,minTemp:1};zD.prototype.run=function(){var Z=this.options,J=Z.cy,Q=this;if(Q.stopped=!1,Z.animate===!0||Z.animate===!1)Q.emit({type:"layoutstart",layout:Q});if(Z.debug===!0)w$=!0;else w$=!1;var K=Wc0(J,Q,Z);if(w$)Bc0(K);if(Z.randomize)Rc0(K);var X=T5(),U=function W(){if(Oc0(K,J,Z),Z.fit===!0)J.fit(Z.padding)},Y=function W(F){if(Q.stopped||F>=Z.numIter)return!1;if(Ac0(K,Z),K.temperature=K.temperature*Z.coolingFactor,K.temperature<Z.minTemp)return!1;return!0},q=function W(){if(Z.animate===!0||Z.animate===!1)U(),Q.one("layoutstop",Z.stop),Q.emit({type:"layoutstop",layout:Q});else{var F=Z.eles.nodes(),M=PK0(K,Z,F);F.layoutPositions(Q,Z,M)}},z=0,G=!0;if(Z.animate===!0){var H=function W(){var F=0;while(G&&F<Z.refresh)G=Y(z),z++,F++;if(!G)tQ0(K,Z),q();else{var M=T5();if(M-X>=Z.animationThreshold)U();h3(W)}};H()}else{while(G)G=Y(z),z++;tQ0(K,Z),q()}return this};zD.prototype.stop=function(){if(this.stopped=!0,this.thread)this.thread.stop();return this.emit("layoutstop"),this};zD.prototype.destroy=function(){if(this.thread)this.thread.stop();return this};Vc0={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function Z(J){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}};VK0.prototype.run=function(){var Z=this.options,J=Z,Q=Z.cy,K=J.eles,X=K.nodes().not(":parent");if(J.sort)X=X.sort(J.sort);var U=D6(J.boundingBox?J.boundingBox:{x1:0,y1:0,w:Q.width(),h:Q.height()});if(U.h===0||U.w===0)K.nodes().layoutPositions(this,J,function(e){return{x:U.x1,y:U.y1}});else{var Y=X.size(),q=Math.sqrt(Y*U.h/U.w),z=Math.round(q),G=Math.round(U.w/U.h*q),H=function e(J0){if(J0==null)return Math.min(z,G);else{var z0=Math.min(z,G);if(z0==z)z=J0;else G=J0}},W=function e(J0){if(J0==null)return Math.max(z,G);else{var z0=Math.max(z,G);if(z0==z)z=J0;else G=J0}},F=J.rows,M=J.cols!=null?J.cols:J.columns;if(F!=null&&M!=null)z=F,G=M;else if(F!=null&&M==null)z=F,G=Math.ceil(Y/z);else if(F==null&&M!=null)G=M,z=Math.ceil(Y/G);else if(G*z>Y){var B=H(),O=W();if((B-1)*O>=Y)H(B-1);else if((O-1)*B>=Y)W(O-1)}else while(G*z<Y){var A=H(),L=W();if((L+1)*A>=Y)W(L+1);else H(A+1)}var I=U.w/G,D=U.h/z;if(J.condense)I=0,D=0;if(J.avoidOverlap)for(var w=0;w<X.length;w++){var N=X[w],E=N._private.position;if(E.x==null||E.y==null)E.x=0,E.y=0;var j=N.layoutDimensions(J),P=J.avoidOverlapPadding,C=j.w+P,T=j.h+P;I=Math.max(I,C),D=Math.max(D,T)}var V={},S=function e(J0,z0){return V["c-"+J0+"-"+z0]?!0:!1},$=function e(J0,z0){V["c-"+J0+"-"+z0]=!0},f=0,h=0,v=function e(){if(h++,h>=G)h=0,f++},b={};for(var y=0;y<X.length;y++){var k=X[y],g=J.position(k);if(g&&(g.row!==void 0||g.col!==void 0)){var u={row:g.row,col:g.col};if(u.col===void 0){u.col=0;while(S(u.row,u.col))u.col++}else if(u.row===void 0){u.row=0;while(S(u.row,u.col))u.row++}b[k.id()]=u,$(u.row,u.col)}}var i=function e(J0,z0){var t,B0;if(J0.locked()||J0.isParent())return!1;var X0=b[J0.id()];if(X0)t=X0.col*I+I/2+U.x1,B0=X0.row*D+D/2+U.y1;else{while(S(f,h))v();t=h*I+I/2+U.x1,B0=f*D+D/2+U.y1,$(f,h),v()}return{x:t,y:B0}};X.layoutPositions(this,J,i)}return this};Sc0={ready:function Z(){},stop:function Z(){}};z_.prototype.run=function(){var Z=this.options,J=Z.eles,Q=this;return Z.cy,Q.emit("layoutstart"),J.nodes().positions(function(){return{x:0,y:0}}),Q.one("layoutready",Z.ready),Q.emit("layoutready"),Q.one("layoutstop",Z.stop),Q.emit("layoutstop"),this};z_.prototype.stop=function(){return this};Tc0={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}};SK0.prototype.run=function(){var Z=this.options,J=Z.eles,Q=J.nodes(),K=$Z(Z.positions);function X(U){if(Z.positions==null)return $y0(U.position());if(K)return Z.positions(U);var Y=Z.positions[U._private.data.id];if(Y==null)return null;return Y}return Q.layoutPositions(this,Z,function(U,Y){var q=X(U);if(U.locked()||q==null)return!1;return q}),this};fc0={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function Z(J,Q){return!0},ready:void 0,stop:void 0,transform:function Z(J,Q){return Q}};TK0.prototype.run=function(){var Z=this.options,J=Z.cy,Q=Z.eles,K=D6(Z.boundingBox?Z.boundingBox:{x1:0,y1:0,w:J.width(),h:J.height()}),X=function U(Y,q){return{x:K.x1+Math.round(Math.random()*K.w),y:K.y1+Math.round(Math.random()*K.h)}};return Q.nodes().layoutPositions(this,Z,X),this};vc0=[{name:"breadthfirst",impl:wK0},{name:"circle",impl:jK0},{name:"concentric",impl:CK0},{name:"cose",impl:zD},{name:"grid",impl:VK0},{name:"null",impl:z_},{name:"preset",impl:SK0},{name:"random",impl:TK0}];fK0.prototype={recalculateRenderedStyle:eQ0,notify:function Z(){this.notifications++},init:eQ0,isHeadless:function Z(){return!0},png:Z40,jpg:Z40};G_={};G_.arrowShapeWidth=0.3;G_.registerArrowShapes=function(){var Z=this.arrowShapes={},J=this,Q=function z(G,H,W,F,M,B,O){var A=M.x-W/2-O,L=M.x+W/2+O,I=M.y-W/2-O,D=M.y+W/2+O,w=A<=G&&G<=L&&I<=H&&H<=D;return w},K=function z(G,H,W,F,M){var B=G*Math.cos(F)-H*Math.sin(F),O=G*Math.sin(F)+H*Math.cos(F),A=B*W,L=O*W,I=A+M.x,D=L+M.y;return{x:I,y:D}},X=function z(G,H,W,F){var M=[];for(var B=0;B<G.length;B+=2){var O=G[B],A=G[B+1];M.push(K(O,A,H,W,F))}return M},U=function z(G){var H=[];for(var W=0;W<G.length;W++){var F=G[W];H.push(F.x,F.y)}return H},Y=function z(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").pfValue*2},q=function z(G,H){if(S9(H))H=Z[H];Z[G]=b9({name:G,points:[-0.15,-0.3,0.15,-0.3,0.15,0.3,-0.15,0.3],collide:function W(F,M,B,O,A,L){var I=U(X(this.points,B+2*L,O,A)),D=I6(F,M,I);return D},roughCollide:Q,draw:function W(F,M,B,O){var A=X(this.points,M,B,O);J.arrowShapeImpl("polygon")(F,A)},spacing:function W(F){return 0},gap:Y},H)};q("none",{collide:y3,roughCollide:y3,draw:r$,spacing:HQ0,gap:HQ0}),q("triangle",{points:[-0.15,-0.3,0,0,0.15,-0.3]}),q("arrow","triangle"),q("triangle-backcurve",{points:Z.triangle.points,controlPoint:[0,-0.15],roughCollide:Q,draw:function z(G,H,W,F,M){var B=X(this.points,H,W,F),O=this.controlPoint,A=K(O[0],O[1],H,W,F);J.arrowShapeImpl(this.name)(G,B,A)},gap:function z(G){return Y(G)*0.8}}),q("triangle-tee",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],pointsTee:[-0.15,-0.4,-0.15,-0.5,0.15,-0.5,0.15,-0.4],collide:function z(G,H,W,F,M,B,O){var A=U(X(this.points,W+2*O,F,M)),L=U(X(this.pointsTee,W+2*O,F,M)),I=I6(G,H,A)||I6(G,H,L);return I},draw:function z(G,H,W,F,M){var B=X(this.points,H,W,F),O=X(this.pointsTee,H,W,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("circle-triangle",{radius:0.15,pointsTr:[0,-0.15,0.15,-0.45,-0.15,-0.45,0,-0.15],collide:function z(G,H,W,F,M,B,O){var A=M,L=Math.pow(A.x-G,2)+Math.pow(A.y-H,2)<=Math.pow((W+2*O)*this.radius,2),I=U(X(this.points,W+2*O,F,M));return I6(G,H,I)||L},draw:function z(G,H,W,F,M){var B=X(this.pointsTr,H,W,F);J.arrowShapeImpl(this.name)(G,B,F.x,F.y,this.radius*H)},spacing:function z(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("triangle-cross",{points:[0,0,0.15,-0.3,-0.15,-0.3,0,0],baseCrossLinePts:[-0.15,-0.4,-0.15,-0.4,0.15,-0.4,0.15,-0.4],crossLinePts:function z(G,H){var W=this.baseCrossLinePts.slice(),F=H/G,M=3,B=5;return W[M]=W[M]-F,W[B]=W[B]-F,W},collide:function z(G,H,W,F,M,B,O){var A=U(X(this.points,W+2*O,F,M)),L=U(X(this.crossLinePts(W,B),W+2*O,F,M)),I=I6(G,H,A)||I6(G,H,L);return I},draw:function z(G,H,W,F,M){var B=X(this.points,H,W,F),O=X(this.crossLinePts(H,M),H,W,F);J.arrowShapeImpl(this.name)(G,B,O)}}),q("vee",{points:[-0.15,-0.3,0,0,0.15,-0.3,0,-0.15],gap:function z(G){return Y(G)*0.525}}),q("circle",{radius:0.15,collide:function z(G,H,W,F,M,B,O){var A=M,L=Math.pow(A.x-G,2)+Math.pow(A.y-H,2)<=Math.pow((W+2*O)*this.radius,2);return L},draw:function z(G,H,W,F,M){J.arrowShapeImpl(this.name)(G,F.x,F.y,this.radius*H)},spacing:function z(G){return J.getArrowWidth(G.pstyle("width").pfValue,G.pstyle("arrow-scale").value)*this.radius}}),q("tee",{points:[-0.15,0,-0.15,-0.1,0.15,-0.1,0.15,0],spacing:function z(G){return 1},gap:function z(G){return 1}}),q("square",{points:[-0.15,0,0.15,0,0.15,-0.3,-0.15,-0.3]}),q("diamond",{points:[-0.15,-0.15,0,-0.3,0.15,-0.15,0,0],gap:function z(G){return G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}}),q("chevron",{points:[0,0,-0.15,-0.15,-0.1,-0.2,0,-0.1,0.1,-0.2,0.15,-0.15],gap:function z(G){return 0.95*G.pstyle("width").pfValue*G.pstyle("arrow-scale").value}})};Jq={};Jq.projectIntoViewport=function(Z,J){var Q=this.cy,K=this.findContainerClientCoords(),X=K[0],U=K[1],Y=K[4],q=Q.pan(),z=Q.zoom(),G=((Z-X)/Y-q.x)/z,H=((J-U)/Y-q.y)/z;return[G,H]};Jq.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var Z=this.container,J=Z.getBoundingClientRect(),Q=this.cy.window().getComputedStyle(Z),K=function A(L){return parseFloat(Q.getPropertyValue(L))},X={left:K("padding-left"),right:K("padding-right"),top:K("padding-top"),bottom:K("padding-bottom")},U={left:K("border-left-width"),right:K("border-right-width"),top:K("border-top-width"),bottom:K("border-bottom-width")},Y=Z.clientWidth,q=Z.clientHeight,z=X.left+X.right,G=X.top+X.bottom,H=U.left+U.right,W=J.width/(Y+H),F=Y-z,M=q-G,B=J.left+X.left+U.left,O=J.top+X.top+U.top;return this.containerBB=[B,O,F,M,W]};Jq.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Jq.findNearestElement=function(Z,J,Q,K){return this.findNearestElements(Z,J,Q,K)[0]};Jq.findNearestElements=function(Z,J,Q,K){var X=this,U=this,Y=U.getCachedZSortedEles(),q=[],z=U.cy.zoom(),G=U.cy.hasCompoundNodes(),H=(K?24:8)/z,W=(K?8:2)/z,F=(K?8:2)/z,M=1/0,B,O;if(Q)Y=Y.interactive;function A(j,P){if(j.isNode())if(O)return;else O=j,q.push(j);if(j.isEdge()&&(P==null||P<M))if(B){if(B.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value&&B.pstyle("z-compound-depth").value===j.pstyle("z-compound-depth").value){for(var C=0;C<q.length;C++)if(q[C].isEdge()){q[C]=j,B=j,M=P!=null?P:M;break}}}else q.push(j),B=j,M=P!=null?P:M}function L(j){var P=j.outerWidth()+2*W,C=j.outerHeight()+2*W,T=P/2,V=C/2,S=j.position(),$=j.pstyle("corner-radius").value==="auto"?"auto":j.pstyle("corner-radius").pfValue,f=j._private.rscratch;if(S.x-T<=Z&&Z<=S.x+T&&S.y-V<=J&&J<=S.y+V){var h=U.nodeShapes[X.getNodeShape(j)];if(h.checkPoint(Z,J,0,P,C,S.x,S.y,$,f))return A(j,0),!0}}function I(j){var P=j._private,C=P.rscratch,T=j.pstyle("width").pfValue,V=j.pstyle("arrow-scale").value,S=T/2+H,$=S*S,f=S*2,y=P.source,k=P.target,h;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){var v=C.allpts;for(var b=0;b+3<v.length;b+=2)if(iy0(Z,J,v[b],v[b+1],v[b+2],v[b+3],f)&&$>(h=oy0(Z,J,v[b],v[b+1],v[b+2],v[b+3])))return A(j,h),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){var v=C.allpts;for(var b=0;b+5<C.allpts.length;b+=4)if(sy0(Z,J,v[b],v[b+1],v[b+2],v[b+3],v[b+4],v[b+5],f)&&$>(h=ay0(Z,J,v[b],v[b+1],v[b+2],v[b+3],v[b+4],v[b+5])))return A(j,h),!0}var y=y||P.source,k=k||P.target,g=X.getArrowWidth(T,V),u=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}];for(var b=0;b<u.length;b++){var i=u[b],e=U.arrowShapes[j.pstyle(i.name+"-arrow-shape").value],J0=j.pstyle("width").pfValue;if(e.roughCollide(Z,J,g,i.angle,{x:i.x,y:i.y},J0,H)&&e.collide(Z,J,g,i.angle,{x:i.x,y:i.y},J0,H))return A(j),!0}if(G&&q.length>0)L(y),L(k)}function D(j,P,C){return B4(j,P,C)}function w(j,P){var C=j._private,T=F,V;if(P)V=P+"-";else V="";j.boundingBox();var S=C.labelBounds[P||"main"],$=j.pstyle(V+"label").value,f=j.pstyle("text-events").strValue==="yes";if(!f||!$)return;var h=D(C.rscratch,"labelX",P),v=D(C.rscratch,"labelY",P),b=D(C.rscratch,"labelAngle",P),y=j.pstyle(V+"text-margin-x").pfValue,k=j.pstyle(V+"text-margin-y").pfValue,g=S.x1-T-y,u=S.x2+T-y,i=S.y1-T-k,e=S.y2+T-k;if(b){var J0=Math.cos(b),z0=Math.sin(b),t=function Q0(K0,A0){return K0=K0-h,A0=A0-v,{x:K0*J0-A0*z0+h,y:K0*z0+A0*J0+v}},B0=t(g,i),X0=t(g,e),d=t(u,i),o=t(u,e),a=[B0.x+y,B0.y+k,d.x+y,d.y+k,o.x+y,o.y+k,X0.x+y,X0.y+k];if(I6(Z,J,a))return A(j),!0}else if(az(S,Z,J))return A(j),!0}for(var N=Y.length-1;N>=0;N--){var E=Y[N];if(E.isNode())L(E)||w(E);else I(E)||w(E)||w(E,"source")||w(E,"target")}return q};Jq.getAllInBox=function(Z,J,Q,K){var X=this.getCachedZSortedEles().interactive,U=[],Y=Math.min(Z,Q),q=Math.max(Z,Q),z=Math.min(J,K),G=Math.max(J,K);Z=Y,Q=q,J=z,K=G;var H=D6({x1:Z,y1:J,x2:Q,y2:K});for(var W=0;W<X.length;W++){var F=X[W];if(F.isNode()){var M=F,B=M.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});if(o$(H,B)&&!u40(B,H))U.push(M)}else{var O=F,A=O._private,L=A.rscratch;if(L.startX!=null&&L.startY!=null&&!az(H,L.startX,L.startY))continue;if(L.endX!=null&&L.endY!=null&&!az(H,L.endX,L.endY))continue;if(L.edgeType==="bezier"||L.edgeType==="multibezier"||L.edgeType==="self"||L.edgeType==="compound"||L.edgeType==="segments"||L.edgeType==="haystack"){var I=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,D=!0;for(var w=0;w<I.length;w++)if(!dy0(H,I[w])){D=!1;break}if(D)U.push(O)}else if(L.edgeType==="haystack"||L.edgeType==="straight")U.push(O)}}return U};d3={};d3.calculateArrowAngles=function(Z){var J=Z._private.rscratch,Q=J.edgeType==="haystack",K=J.edgeType==="bezier",X=J.edgeType==="multibezier",U=J.edgeType==="segments",Y=J.edgeType==="compound",q=J.edgeType==="self",z,G,H,W,F,M,L,I;if(Q)H=J.haystackPts[0],W=J.haystackPts[1],F=J.haystackPts[2],M=J.haystackPts[3];else H=J.arrowStartX,W=J.arrowStartY,F=J.arrowEndX,M=J.arrowEndY;if(L=J.midX,I=J.midY,U)z=H-J.segpts[0],G=W-J.segpts[1];else if(X||Y||q||K){var B=J.allpts,O=bJ(B[0],B[2],B[4],0.1),A=bJ(B[1],B[3],B[5],0.1);z=H-O,G=W-A}else z=H-L,G=W-I;J.srcArrowAngle=O3(z,G);var{midX:L,midY:I}=J;if(Q)L=(H+F)/2,I=(W+M)/2;if(z=F-H,G=M-W,U){var B=J.allpts;if(B.length/2%2===0){var D=B.length/2,w=D-2;z=B[D]-B[w],G=B[D+1]-B[w+1]}else if(J.isRound)z=J.midVector[1],G=-J.midVector[0];else{var D=B.length/2-1,w=D-2;z=B[D]-B[w],G=B[D+1]-B[w+1]}}else if(X||Y||q){var{allpts:B,ctrlpts:N}=J,E,j,P,C;if(N.length/2%2===0){var T=B.length/2-1,V=T+2,S=V+2;E=bJ(B[T],B[V],B[S],0),j=bJ(B[T+1],B[V+1],B[S+1],0),P=bJ(B[T],B[V],B[S],0.0001),C=bJ(B[T+1],B[V+1],B[S+1],0.0001)}else{var V=B.length/2-1,T=V-2,S=V+2;E=bJ(B[T],B[V],B[S],0.4999),j=bJ(B[T+1],B[V+1],B[S+1],0.4999),P=bJ(B[T],B[V],B[S],0.5),C=bJ(B[T+1],B[V+1],B[S+1],0.5)}z=P-E,G=C-j}if(J.midtgtArrowAngle=O3(z,G),J.midDispX=z,J.midDispY=G,z*=-1,G*=-1,U){var B=J.allpts;if(B.length/2%2===0);else if(!J.isRound){var D=B.length/2-1,$=D+2;z=-(B[$]-B[D]),G=-(B[$+1]-B[D+1])}}if(J.midsrcArrowAngle=O3(z,G),U)z=F-J.segpts[J.segpts.length-2],G=M-J.segpts[J.segpts.length-1];else if(X||Y||q||K){var B=J.allpts,f=B.length,O=bJ(B[f-6],B[f-4],B[f-2],0.9),A=bJ(B[f-5],B[f-3],B[f-1],0.9);z=F-O,G=M-A}else z=F-L,G=M-I;J.tgtArrowAngle=O3(z,G)};d3.getArrowWidth=d3.getArrowHeight=function(Z,J){var Q=this.arrowWidthCache=this.arrowWidthCache||{},K=Q[Z+", "+J];if(K)return K;return K=Math.max(Math.pow(Z*13.37,0.9),29)*J,Q[Z+", "+J]=K,K};OK={},fQ={},N7={};N7.findMidptPtsEtc=function(Z,J){var{posPts:Q,intersectionPts:K,vectorNormInverse:X}=J,U,Y=Z.pstyle("source-endpoint"),q=Z.pstyle("target-endpoint"),z=Y.units!=null&&q.units!=null,G=function w(N,E,j,P){var C=P-E,T=j-N,V=Math.sqrt(T*T+C*C);return{x:-C/V,y:T/V}},H=Z.pstyle("edge-distances").value;switch(H){case"node-position":U=Q;break;case"intersection":U=K;break;case"endpoints":{if(z){var W=this.manualEndptToPx(Z.source()[0],Y),F=F4(W,2),M=F[0],B=F[1],O=this.manualEndptToPx(Z.target()[0],q),A=F4(O,2),L=A[0],I=A[1],D={x1:M,y1:B,x2:L,y2:I};X=G(M,B,L,I),U=D}else y8("Edge ".concat(Z.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),U=K;break}}return{midptPts:U,vectorNormInverse:X}};N7.findHaystackPoints=function(Z){for(var J=0;J<Z.length;J++){var Q=Z[J],K=Q._private,X=K.rscratch;if(!X.haystack){var U=Math.random()*2*Math.PI;X.source={x:Math.cos(U),y:Math.sin(U)},U=Math.random()*2*Math.PI,X.target={x:Math.cos(U),y:Math.sin(U)}}var{source:Y,target:q}=K,z=Y.position(),G=q.position(),H=Y.width(),W=q.width(),F=Y.height(),M=q.height(),B=Q.pstyle("haystack-radius").value,O=B/2;X.haystackPts=X.allpts=[X.source.x*H*O+z.x,X.source.y*F*O+z.y,X.target.x*W*O+G.x,X.target.y*M*O+G.y],X.midX=(X.allpts[0]+X.allpts[2])/2,X.midY=(X.allpts[1]+X.allpts[3])/2,X.edgeType="haystack",X.haystack=!0,this.storeEdgeProjections(Q),this.calculateArrowAngles(Q),this.recalculateEdgeLabelProjections(Q),this.calculateLabelAngles(Q)}};N7.findSegmentsPoints=function(Z,J){var Q=Z._private.rscratch,K=Z.pstyle("segment-weights"),X=Z.pstyle("segment-distances"),U=Z.pstyle("segment-radii"),Y=Z.pstyle("radius-type"),q=Math.min(K.pfValue.length,X.pfValue.length),z=U.pfValue[U.pfValue.length-1],G=Y.pfValue[Y.pfValue.length-1];Q.edgeType="segments",Q.segpts=[],Q.radii=[],Q.isArcRadius=[];for(var H=0;H<q;H++){var W=K.pfValue[H],F=X.pfValue[H],M=1-W,B=W,O=this.findMidptPtsEtc(Z,J),A=O.midptPts,L=O.vectorNormInverse,I={x:A.x1*M+A.x2*B,y:A.y1*M+A.y2*B};Q.segpts.push(I.x+L.x*F,I.y+L.y*F),Q.radii.push(U.pfValue[H]!==void 0?U.pfValue[H]:z),Q.isArcRadius.push((Y.pfValue[H]!==void 0?Y.pfValue[H]:G)==="arc-radius")}};N7.findLoopPoints=function(Z,J,Q,K){var X=Z._private.rscratch,U=J.dirCounts,Y=J.srcPos,q=Z.pstyle("control-point-distances"),z=q?q.pfValue[0]:void 0,G=Z.pstyle("loop-direction").pfValue,H=Z.pstyle("loop-sweep").pfValue,W=Z.pstyle("control-point-step-size").pfValue;X.edgeType="self";var F=Q,M=W;if(K)F=0,M=z;var B=G-Math.PI/2,O=B-H/2,A=B+H/2,L=String(G+"_"+H);F=U[L]===void 0?U[L]=0:++U[L],X.ctrlpts=[Y.x+Math.cos(O)*1.4*M*(F/3+1),Y.y+Math.sin(O)*1.4*M*(F/3+1),Y.x+Math.cos(A)*1.4*M*(F/3+1),Y.y+Math.sin(A)*1.4*M*(F/3+1)]};N7.findCompoundLoopPoints=function(Z,J,Q,K){var X=Z._private.rscratch;X.edgeType="compound";var{srcPos:U,tgtPos:Y,srcW:q,srcH:z,tgtW:G,tgtH:H}=J,W=Z.pstyle("control-point-step-size").pfValue,F=Z.pstyle("control-point-distances"),M=F?F.pfValue[0]:void 0,B=Q,O=W;if(K)B=0,O=M;var A=50,L={x:U.x-q/2,y:U.y-z/2},I={x:Y.x-G/2,y:Y.y-H/2},D={x:Math.min(L.x,I.x),y:Math.min(L.y,I.y)},w=0.5,N=Math.max(w,Math.log(q*0.01)),E=Math.max(w,Math.log(G*0.01));X.ctrlpts=[D.x,D.y-(1+Math.pow(A,1.12)/100)*O*(B/3+1)*N,D.x-(1+Math.pow(A,1.12)/100)*O*(B/3+1)*E,D.y]};N7.findStraightEdgePoints=function(Z){Z._private.rscratch.edgeType="straight"};N7.findBezierPoints=function(Z,J,Q,K,X){var U=Z._private.rscratch,Y=Z.pstyle("control-point-step-size").pfValue,q=Z.pstyle("control-point-distances"),z=Z.pstyle("control-point-weights"),G=q&&z?Math.min(q.value.length,z.value.length):1,H=q?q.pfValue[0]:void 0,W=z.value[0],F=K;U.edgeType=F?"multibezier":"bezier",U.ctrlpts=[];for(var M=0;M<G;M++){var B=(0.5-J.eles.length/2+Q)*Y*(X?-1:1),O=void 0,A=h40(B);if(F)H=q?q.pfValue[M]:Y,W=z.value[M];if(K)O=H;else O=H!==void 0?A*H:void 0;var L=O!==void 0?O:B,I=1-W,D=W,w=this.findMidptPtsEtc(Z,J),N=w.midptPts,E=w.vectorNormInverse,j={x:N.x1*I+N.x2*D,y:N.y1*I+N.y2*D};U.ctrlpts.push(j.x+E.x*L,j.y+E.y*L)}};N7.findTaxiPoints=function(Z,J){var Q=Z._private.rscratch;Q.edgeType="segments";var K="vertical",X="horizontal",U="leftward",Y="rightward",q="downward",z="upward",G="auto",H=J.posPts,W=J.srcW,F=J.srcH,M=J.tgtW,B=J.tgtH,O=Z.pstyle("edge-distances").value,A=O!=="node-position",L=Z.pstyle("taxi-direction").value,I=L,D=Z.pstyle("taxi-turn"),w=D.units==="%",N=D.pfValue,E=N<0,j=Z.pstyle("taxi-turn-min-distance").pfValue,P=A?(W+M)/2:0,C=A?(F+B)/2:0,T=H.x2-H.x1,V=H.y2-H.y1,S=function x0(_0,y0){if(_0>0)return Math.max(_0-y0,0);else return Math.min(_0+y0,0)},$=S(T,P),f=S(V,C),h=!1;if(I===G)L=Math.abs($)>Math.abs(f)?X:K;else if(I===z||I===q)L=K,h=!0;else if(I===U||I===Y)L=X,h=!0;var v=L===K,b=v?f:$,y=v?V:T,k=h40(y),g=!1;if(!(h&&(w||E))&&(I===q&&y<0||I===z&&y>0||I===U&&y>0||I===Y&&y<0))k*=-1,b=k*Math.abs(b),g=!0;var u;if(w){var i=N<0?1+N:N;u=i*b}else{var e=N<0?b:0;u=e+N*k}var J0=function x0(_0){return Math.abs(_0)<j||Math.abs(_0)>=Math.abs(b)},z0=J0(u),t=J0(Math.abs(b)-Math.abs(u)),B0=z0||t;if(B0&&!g)if(v){var X0=Math.abs(y)<=F/2,d=Math.abs(T)<=M/2;if(X0){var o=(H.x1+H.x2)/2,a=H.y1,Q0=H.y2;Q.segpts=[o,a,o,Q0]}else if(d){var K0=(H.y1+H.y2)/2,A0=H.x1,r=H.x2;Q.segpts=[A0,K0,r,K0]}else Q.segpts=[H.x1,H.y2]}else{var v0=Math.abs(y)<=W/2,Y0=Math.abs(V)<=B/2;if(v0){var k0=(H.y1+H.y2)/2,h0=H.x1,V0=H.x2;Q.segpts=[h0,k0,V0,k0]}else if(Y0){var l0=(H.x1+H.x2)/2,b0=H.y1,S0=H.y2;Q.segpts=[l0,b0,l0,S0]}else Q.segpts=[H.x2,H.y1]}else if(v){var H0=H.y1+u+(A?F/2*k:0),l=H.x1,q0=H.x2;Q.segpts=[l,H0,q0,H0]}else{var G0=H.x1+u+(A?W/2*k:0),n=H.y1,U0=H.y2;Q.segpts=[G0,n,G0,U0]}if(Q.isRound){var M0=Z.pstyle("taxi-radius").value,F0=Z.pstyle("radius-type").value[0]==="arc-radius";Q.radii=new Array(Q.segpts.length/2).fill(M0),Q.isArcRadius=new Array(Q.segpts.length/2).fill(F0)}};N7.tryToCorrectInvalidPoints=function(Z,J){var Q=Z._private.rscratch;if(Q.edgeType==="bezier"){var{srcPos:K,tgtPos:X,srcW:U,srcH:Y,tgtW:q,tgtH:z,srcShape:G,tgtShape:H,srcCornerRadius:W,tgtCornerRadius:F,srcRs:M,tgtRs:B}=J,O=!K9(Q.startX)||!K9(Q.startY),A=!K9(Q.arrowStartX)||!K9(Q.arrowStartY),L=!K9(Q.endX)||!K9(Q.endY),I=!K9(Q.arrowEndX)||!K9(Q.arrowEndY),D=3,w=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth,N=D*w,E=aY({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.startX,y:Q.startY}),j=E<N,P=aY({x:Q.ctrlpts[0],y:Q.ctrlpts[1]},{x:Q.endX,y:Q.endY}),C=P<N,T=!1;if(O||A||j){T=!0;var V={x:Q.ctrlpts[0]-K.x,y:Q.ctrlpts[1]-K.y},S=Math.sqrt(V.x*V.x+V.y*V.y),$={x:V.x/S,y:V.y/S},f=Math.max(U,Y),h={x:Q.ctrlpts[0]+$.x*2*f,y:Q.ctrlpts[1]+$.y*2*f},v=G.intersectLine(K.x,K.y,U,Y,h.x,h.y,0,W,M);if(j)Q.ctrlpts[0]=Q.ctrlpts[0]+$.x*(N-E),Q.ctrlpts[1]=Q.ctrlpts[1]+$.y*(N-E);else Q.ctrlpts[0]=v[0]+$.x*N,Q.ctrlpts[1]=v[1]+$.y*N}if(L||I||C){T=!0;var b={x:Q.ctrlpts[0]-X.x,y:Q.ctrlpts[1]-X.y},y=Math.sqrt(b.x*b.x+b.y*b.y),k={x:b.x/y,y:b.y/y},g=Math.max(U,Y),u={x:Q.ctrlpts[0]+k.x*2*g,y:Q.ctrlpts[1]+k.y*2*g},i=H.intersectLine(X.x,X.y,q,z,u.x,u.y,0,F,B);if(C)Q.ctrlpts[0]=Q.ctrlpts[0]+k.x*(N-P),Q.ctrlpts[1]=Q.ctrlpts[1]+k.y*(N-P);else Q.ctrlpts[0]=i[0]+k.x*N,Q.ctrlpts[1]=i[1]+k.y*N}if(T)this.findEndpoints(Z)}};N7.storeAllpts=function(Z){var J=Z._private.rscratch;if(J.edgeType==="multibezier"||J.edgeType==="bezier"||J.edgeType==="self"||J.edgeType==="compound"){J.allpts=[],J.allpts.push(J.startX,J.startY);for(var Q=0;Q+1<J.ctrlpts.length;Q+=2)if(J.allpts.push(J.ctrlpts[Q],J.ctrlpts[Q+1]),Q+3<J.ctrlpts.length)J.allpts.push((J.ctrlpts[Q]+J.ctrlpts[Q+2])/2,(J.ctrlpts[Q+1]+J.ctrlpts[Q+3])/2);J.allpts.push(J.endX,J.endY);var K,X;if(J.ctrlpts.length/2%2===0)K=J.allpts.length/2-1,J.midX=J.allpts[K],J.midY=J.allpts[K+1];else K=J.allpts.length/2-3,X=0.5,J.midX=bJ(J.allpts[K],J.allpts[K+2],J.allpts[K+4],X),J.midY=bJ(J.allpts[K+1],J.allpts[K+3],J.allpts[K+5],X)}else if(J.edgeType==="straight")J.allpts=[J.startX,J.startY,J.endX,J.endY],J.midX=(J.startX+J.endX+J.arrowStartX+J.arrowEndX)/4,J.midY=(J.startY+J.endY+J.arrowStartY+J.arrowEndY)/4;else if(J.edgeType==="segments"){if(J.allpts=[],J.allpts.push(J.startX,J.startY),J.allpts.push.apply(J.allpts,J.segpts),J.allpts.push(J.endX,J.endY),J.isRound){J.roundCorners=[];for(var U=2;U+3<J.allpts.length;U+=2){var Y=J.radii[U/2-1],q=J.isArcRadius[U/2-1];J.roundCorners.push(H_({x:J.allpts[U-2],y:J.allpts[U-1]},{x:J.allpts[U],y:J.allpts[U+1],radius:Y},{x:J.allpts[U+2],y:J.allpts[U+3]},Y,q))}}if(J.segpts.length%4===0){var z=J.segpts.length/2,G=z-2;J.midX=(J.segpts[G]+J.segpts[z])/2,J.midY=(J.segpts[G+1]+J.segpts[z+1])/2}else{var H=J.segpts.length/2-1;if(!J.isRound)J.midX=J.segpts[H],J.midY=J.segpts[H+1];else{var W={x:J.segpts[H],y:J.segpts[H+1]},F=J.roundCorners[H/2],M=[W.x-F.cx,W.y-F.cy],B=F.radius/Math.sqrt(Math.pow(M[0],2)+Math.pow(M[1],2));M=M.map(function(O){return O*B}),J.midX=F.cx+M[0],J.midY=F.cy+M[1],J.midVector=M}}}};N7.checkForInvalidEdgeWarning=function(Z){var J=Z[0]._private.rscratch;if(J.nodesOverlap||K9(J.startX)&&K9(J.startY)&&K9(J.endX)&&K9(J.endY))J.loggedErr=!1;else if(!J.loggedErr)J.loggedErr=!0,y8("Edge `"+Z.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.")};N7.findEdgeControlPoints=function(Z){var J=this;if(!Z||Z.length===0)return;var Q=this,K=Q.cy,X=K.hasCompoundNodes(),U={map:new LK,get:function E(j){var P=this.map.get(j[0]);if(P!=null)return P.get(j[1]);else return null},set:function E(j,P){var C=this.map.get(j[0]);if(C==null)C=new LK,this.map.set(j[0],C);C.set(j[1],P)}},Y=[],q=[];for(var z=0;z<Z.length;z++){var G=Z[z],H=G._private,W=G.pstyle("curve-style").value;if(G.removed()||!G.takesUpSpace())continue;if(W==="haystack"){q.push(G);continue}var F=W==="unbundled-bezier"||W.endsWith("segments")||W==="straight"||W==="straight-triangle"||W.endsWith("taxi"),M=W==="unbundled-bezier"||W==="bezier",B=H.source,O=H.target,A=B.poolIndex(),L=O.poolIndex(),I=[A,L].sort(),D=U.get(I);if(D==null)D={eles:[]},U.set(I,D),Y.push(I);if(D.eles.push(G),F)D.hasUnbundled=!0;if(M)D.hasBezier=!0}var w=function E(j){var P=Y[j],C=U.get(P),T=void 0;if(!C.hasUnbundled){var V=C.eles[0].parallelEdges().filter(function(G0){return G0.isBundledBezier()});n$(C.eles),V.forEach(function(G0){return C.eles.push(G0)}),C.eles.sort(function(G0,n){return G0.poolIndex()-n.poolIndex()})}var S=C.eles[0],$=S.source(),f=S.target();if($.poolIndex()>f.poolIndex()){var h=$;$=f,f=h}var v=C.srcPos=$.position(),b=C.tgtPos=f.position(),y=C.srcW=$.outerWidth(),k=C.srcH=$.outerHeight(),g=C.tgtW=f.outerWidth(),u=C.tgtH=f.outerHeight(),i=C.srcShape=Q.nodeShapes[J.getNodeShape($)],e=C.tgtShape=Q.nodeShapes[J.getNodeShape(f)],J0=C.srcCornerRadius=$.pstyle("corner-radius").value==="auto"?"auto":$.pstyle("corner-radius").pfValue,z0=C.tgtCornerRadius=f.pstyle("corner-radius").value==="auto"?"auto":f.pstyle("corner-radius").pfValue,t=C.tgtRs=f._private.rscratch,B0=C.srcRs=$._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var X0=0;X0<C.eles.length;X0++){var d=C.eles[X0],o=d[0]._private.rscratch,a=d.pstyle("curve-style").value,Q0=a==="unbundled-bezier"||a.endsWith("segments")||a.endsWith("taxi"),K0=!$.same(d.source());if(!C.calculatedIntersection&&$!==f&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var A0=i.intersectLine(v.x,v.y,y,k,b.x,b.y,0,J0,B0),r=C.srcIntn=A0,v0=e.intersectLine(b.x,b.y,g,u,v.x,v.y,0,z0,t),Y0=C.tgtIntn=v0,k0=C.intersectionPts={x1:A0[0],x2:v0[0],y1:A0[1],y2:v0[1]},h0=C.posPts={x1:v.x,x2:b.x,y1:v.y,y2:b.y},V0=v0[1]-A0[1],l0=v0[0]-A0[0],b0=Math.sqrt(l0*l0+V0*V0),S0=C.vector={x:l0,y:V0},H0=C.vectorNorm={x:S0.x/b0,y:S0.y/b0},l={x:-H0.y,y:H0.x};C.nodesOverlap=!K9(b0)||e.checkPoint(A0[0],A0[1],0,g,u,b.x,b.y,z0,t)||i.checkPoint(v0[0],v0[1],0,y,k,v.x,v.y,J0,B0),C.vectorNormInverse=l,T={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:b,tgtPos:v,srcW:g,srcH:u,tgtW:y,tgtH:k,srcIntn:Y0,tgtIntn:r,srcShape:e,tgtShape:i,posPts:{x1:h0.x2,y1:h0.y2,x2:h0.x1,y2:h0.y1},intersectionPts:{x1:k0.x2,y1:k0.y2,x2:k0.x1,y2:k0.y1},vector:{x:-S0.x,y:-S0.y},vectorNorm:{x:-H0.x,y:-H0.y},vectorNormInverse:{x:-l.x,y:-l.y}}}var q0=K0?T:C;if(o.nodesOverlap=q0.nodesOverlap,o.srcIntn=q0.srcIntn,o.tgtIntn=q0.tgtIntn,o.isRound=a.startsWith("round"),X&&($.isParent()||$.isChild()||f.isParent()||f.isChild())&&($.parents().anySame(f)||f.parents().anySame($)||$.same(f)&&$.isParent()))J.findCompoundLoopPoints(d,q0,X0,Q0);else if($===f)J.findLoopPoints(d,q0,X0,Q0);else if(a.endsWith("segments"))J.findSegmentsPoints(d,q0);else if(a.endsWith("taxi"))J.findTaxiPoints(d,q0);else if(a==="straight"||!Q0&&C.eles.length%2===1&&X0===Math.floor(C.eles.length/2))J.findStraightEdgePoints(d);else J.findBezierPoints(d,q0,X0,Q0,K0);J.findEndpoints(d),J.tryToCorrectInvalidPoints(d,q0),J.checkForInvalidEdgeWarning(d),J.storeAllpts(d),J.storeEdgeProjections(d),J.calculateArrowAngles(d),J.recalculateEdgeLabelProjections(d),J.calculateLabelAngles(d)}};for(var N=0;N<Y.length;N++)w(N);this.findHaystackPoints(q)};N7.getSegmentPoints=function(Z){var J=Z[0]._private.rscratch,Q=J.edgeType;if(Q==="segments")return this.recalculateRenderedStyle(Z),_K0(J.segpts)};N7.getControlPoints=function(Z){var J=Z[0]._private.rscratch,Q=J.edgeType;if(Q==="bezier"||Q==="multibezier"||Q==="self"||Q==="compound")return this.recalculateRenderedStyle(Z),_K0(J.ctrlpts)};N7.getEdgeMidpoint=function(Z){var J=Z[0]._private.rscratch;return this.recalculateRenderedStyle(Z),{x:J.midX,y:J.midY}};OM={};OM.manualEndptToPx=function(Z,J){var Q=this,K=Z.position(),X=Z.outerWidth(),U=Z.outerHeight(),Y=Z._private.rscratch;if(J.value.length===2){var q=[J.pfValue[0],J.pfValue[1]];if(J.units[0]==="%")q[0]=q[0]*X;if(J.units[1]==="%")q[1]=q[1]*U;return q[0]+=K.x,q[1]+=K.y,q}else{var z=J.pfValue[0];z=-Math.PI/2+z;var G=2*Math.max(X,U),H=[K.x+Math.cos(z)*G,K.y+Math.sin(z)*G];return Q.nodeShapes[this.getNodeShape(Z)].intersectLine(K.x,K.y,X,U,H[0],H[1],0,Z.pstyle("corner-radius").value==="auto"?"auto":Z.pstyle("corner-radius").pfValue,Y)}};OM.findEndpoints=function(Z){var J=this,Q,K=Z.source()[0],X=Z.target()[0],U=K.position(),Y=X.position(),q=Z.pstyle("target-arrow-shape").value,z=Z.pstyle("source-arrow-shape").value,G=Z.pstyle("target-distance-from-node").pfValue,H=Z.pstyle("source-distance-from-node").pfValue,W=K._private.rscratch,F=X._private.rscratch,M=Z.pstyle("curve-style").value,B=Z._private.rscratch,O=B.edgeType,A=M==="taxi",L=O==="self"||O==="compound",I=O==="bezier"||O==="multibezier"||L,D=O!=="bezier",w=O==="straight"||O==="segments",N=O==="segments",E=I||D||w,j=L||A,P=Z.pstyle("source-endpoint"),C=j?"outside-to-node":P.value,T=K.pstyle("corner-radius").value==="auto"?"auto":K.pstyle("corner-radius").pfValue,V=Z.pstyle("target-endpoint"),S=j?"outside-to-node":V.value,$=X.pstyle("corner-radius").value==="auto"?"auto":X.pstyle("corner-radius").pfValue;B.srcManEndpt=P,B.tgtManEndpt=V;var f,h,v,b;if(I){var y=[B.ctrlpts[0],B.ctrlpts[1]],k=D?[B.ctrlpts[B.ctrlpts.length-2],B.ctrlpts[B.ctrlpts.length-1]]:y;f=k,h=y}else if(w){var g=!N?[Y.x,Y.y]:B.segpts.slice(0,2),u=!N?[U.x,U.y]:B.segpts.slice(B.segpts.length-2);f=u,h=g}if(S==="inside-to-node")Q=[Y.x,Y.y];else if(V.units)Q=this.manualEndptToPx(X,V);else if(S==="outside-to-line")Q=B.tgtIntn;else{if(S==="outside-to-node"||S==="outside-to-node-or-label")v=f;else if(S==="outside-to-line"||S==="outside-to-line-or-label")v=[U.x,U.y];if(Q=J.nodeShapes[this.getNodeShape(X)].intersectLine(Y.x,Y.y,X.outerWidth(),X.outerHeight(),v[0],v[1],0,$,F),S==="outside-to-node-or-label"||S==="outside-to-line-or-label"){var i=X._private.rscratch,e=i.labelWidth,J0=i.labelHeight,z0=i.labelX,t=i.labelY,B0=e/2,X0=J0/2,d=X.pstyle("text-valign").value;if(d==="top")t-=X0;else if(d==="bottom")t+=X0;var o=X.pstyle("text-halign").value;if(o==="left")z0-=B0;else if(o==="right")z0+=B0;var a=XM(v[0],v[1],[z0-B0,t-X0,z0+B0,t-X0,z0+B0,t+X0,z0-B0,t+X0],Y.x,Y.y);if(a.length>0){var Q0=U,K0=cY(Q0,cz(Q)),A0=cY(Q0,cz(a)),r=K0;if(A0<K0)Q=a,r=A0;if(a.length>2){var v0=cY(Q0,{x:a[2],y:a[3]});if(v0<r)Q=[a[2],a[3]]}}}}var Y0=A3(Q,f,J.arrowShapes[q].spacing(Z)+G),k0=A3(Q,f,J.arrowShapes[q].gap(Z)+G);if(B.endX=k0[0],B.endY=k0[1],B.arrowEndX=Y0[0],B.arrowEndY=Y0[1],C==="inside-to-node")Q=[U.x,U.y];else if(P.units)Q=this.manualEndptToPx(K,P);else if(C==="outside-to-line")Q=B.srcIntn;else{if(C==="outside-to-node"||C==="outside-to-node-or-label")b=h;else if(C==="outside-to-line"||C==="outside-to-line-or-label")b=[Y.x,Y.y];if(Q=J.nodeShapes[this.getNodeShape(K)].intersectLine(U.x,U.y,K.outerWidth(),K.outerHeight(),b[0],b[1],0,T,W),C==="outside-to-node-or-label"||C==="outside-to-line-or-label"){var h0=K._private.rscratch,V0=h0.labelWidth,l0=h0.labelHeight,b0=h0.labelX,S0=h0.labelY,H0=V0/2,l=l0/2,q0=K.pstyle("text-valign").value;if(q0==="top")S0-=l;else if(q0==="bottom")S0+=l;var G0=K.pstyle("text-halign").value;if(G0==="left")b0-=H0;else if(G0==="right")b0+=H0;var n=XM(b[0],b[1],[b0-H0,S0-l,b0+H0,S0-l,b0+H0,S0+l,b0-H0,S0+l],U.x,U.y);if(n.length>0){var U0=Y,M0=cY(U0,cz(Q)),F0=cY(U0,cz(n)),x0=M0;if(F0<M0)Q=[n[0],n[1]],x0=F0;if(n.length>2){var _0=cY(U0,{x:n[2],y:n[3]});if(_0<x0)Q=[n[2],n[3]]}}}}var y0=A3(Q,h,J.arrowShapes[z].spacing(Z)+H),m0=A3(Q,h,J.arrowShapes[z].gap(Z)+H);if(B.startX=m0[0],B.startY=m0[1],B.arrowStartX=y0[0],B.arrowStartY=y0[1],E)if(!K9(B.startX)||!K9(B.startY)||!K9(B.endX)||!K9(B.endY))B.badLine=!0;else B.badLine=!1};OM.getSourceEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[0],y:J.haystackPts[1]};default:return{x:J.arrowStartX,y:J.arrowStartY}}};OM.getTargetEndpoint=function(Z){var J=Z[0]._private.rscratch;switch(this.recalculateRenderedStyle(Z),J.edgeType){case"haystack":return{x:J.haystackPts[2],y:J.haystackPts[3]};default:return{x:J.arrowEndX,y:J.arrowEndY}}};W_={};W_.storeEdgeProjections=function(Z){var J=Z._private,Q=J.rscratch,K=Q.edgeType;if(J.rstyle.bezierPts=null,J.rstyle.linePts=null,J.rstyle.haystackPts=null,K==="multibezier"||K==="bezier"||K==="self"||K==="compound"){J.rstyle.bezierPts=[];for(var X=0;X+5<Q.allpts.length;X+=4)_c0(this,Z,Q.allpts.slice(X,X+6))}else if(K==="segments"){var U=J.rstyle.linePts=[];for(var X=0;X+1<Q.allpts.length;X+=2)U.push({x:Q.allpts[X],y:Q.allpts[X+1]})}else if(K==="haystack"){var Y=Q.haystackPts;J.rstyle.haystackPts=[{x:Y[0],y:Y[1]},{x:Y[2],y:Y[3]}]}J.rstyle.arrowWidth=this.getArrowWidth(Z.pstyle("width").pfValue,Z.pstyle("arrow-scale").value)*this.arrowShapeWidth};W_.recalculateEdgeProjections=function(Z){this.findEdgeControlPoints(Z)};DK={};DK.recalculateNodeLabelProjection=function(Z){var J=Z.pstyle("label").strValue;if(ZU(J))return;var Q,K,X=Z._private,U=Z.width(),Y=Z.height(),q=Z.padding(),z=Z.position(),G=Z.pstyle("text-halign").strValue,H=Z.pstyle("text-valign").strValue,W=X.rscratch,F=X.rstyle;switch(G){case"left":Q=z.x-U/2-q;break;case"right":Q=z.x+U/2+q;break;default:Q=z.x}switch(H){case"top":K=z.y-Y/2-q;break;case"bottom":K=z.y+Y/2+q;break;default:K=z.y}W.labelX=Q,W.labelY=K,F.labelX=Q,F.labelY=K,this.calculateLabelAngles(Z),this.applyLabelDimensions(Z)};DK.recalculateEdgeLabelProjections=function(Z){var J,Q=Z._private,K=Q.rscratch,X=this,U={mid:Z.pstyle("label").strValue,source:Z.pstyle("source-label").strValue,target:Z.pstyle("target-label").strValue};if(U.mid||U.source||U.target);else return;J={x:K.midX,y:K.midY};var Y=function H(W,F,M){aX(Q.rscratch,W,F,M),aX(Q.rstyle,W,F,M)};Y("labelX",null,J.x),Y("labelY",null,J.y);var q=bK0(K.midDispX,K.midDispY);Y("labelAutoAngle",null,q);var z=function H(){if(H.cache)return H.cache;var W=[];for(var F=0;F+5<K.allpts.length;F+=4){var M={x:K.allpts[F],y:K.allpts[F+1]},B={x:K.allpts[F+2],y:K.allpts[F+3]},O={x:K.allpts[F+4],y:K.allpts[F+5]};W.push({p0:M,p1:B,p2:O,startDist:0,length:0,segments:[]})}var A=Q.rstyle.bezierPts,L=X.bezierProjPcts.length;function I(j,P,C,T,V){var S=aY(P,C),$=j.segments[j.segments.length-1],f={p0:P,p1:C,t0:T,t1:V,startDist:$?$.startDist+$.length:0,length:S};j.segments.push(f),j.length+=S}for(var D=0;D<W.length;D++){var w=W[D],N=W[D-1];if(N)w.startDist=N.startDist+N.length;I(w,w.p0,A[D*L],0,X.bezierProjPcts[0]);for(var E=0;E<L-1;E++)I(w,A[D*L+E],A[D*L+E+1],X.bezierProjPcts[E],X.bezierProjPcts[E+1]);I(w,A[D*L+L-1],w.p2,X.bezierProjPcts[L-1],1)}return H.cache=W},G=function H(W){var F,M=W==="source";if(!U[W])return;var B=Z.pstyle(W+"-text-offset").pfValue;switch(K.edgeType){case"self":case"compound":case"bezier":case"multibezier":{var O=z(),A,L=0,I=0;for(var D=0;D<O.length;D++){var w=O[M?D:O.length-1-D];for(var N=0;N<w.segments.length;N++){var E=w.segments[M?N:w.segments.length-1-N],j=D===O.length-1&&N===w.segments.length-1;if(L=I,I+=E.length,I>=B||j){A={cp:w,segment:E};break}}if(A)break}var{cp:P,segment:C}=A,T=(B-L)/C.length,V=C.t1-C.t0,S=M?C.t0+V*T:C.t1-V*T;S=KM(0,S,1),J=dz(P.p0,P.p1,P.p2,S),F=bc0(P.p0,P.p1,P.p2,S);break}case"straight":case"segments":case"haystack":{var $=0,f,h,v,b,y=K.allpts.length;for(var k=0;k+3<y;k+=2){if(M)v={x:K.allpts[k],y:K.allpts[k+1]},b={x:K.allpts[k+2],y:K.allpts[k+3]};else v={x:K.allpts[y-2-k],y:K.allpts[y-1-k]},b={x:K.allpts[y-4-k],y:K.allpts[y-3-k]};if(f=aY(v,b),h=$,$+=f,$>=B)break}var g=B-h,u=g/f;u=KM(0,u,1),J=my0(v,b,u),F=xK0(v,b);break}}Y("labelX",W,J.x),Y("labelY",W,J.y),Y("labelAutoAngle",W,F)};G("source"),G("target"),this.applyLabelDimensions(Z)};DK.applyLabelDimensions=function(Z){if(this.applyPrefixedLabelDimensions(Z),Z.isEdge())this.applyPrefixedLabelDimensions(Z,"source"),this.applyPrefixedLabelDimensions(Z,"target")};DK.applyPrefixedLabelDimensions=function(Z,J){var Q=Z._private,K=this.getLabelText(Z,J),X=this.calculateLabelDimensions(Z,K),U=Z.pstyle("line-height").pfValue,Y=Z.pstyle("text-wrap").strValue,q=B4(Q.rscratch,"labelWrapCachedLines",J)||[],z=Y!=="wrap"?1:Math.max(q.length,1),G=X.height/z,H=G*U,W=X.width,F=X.height+(z-1)*(U-1)*G;aX(Q.rstyle,"labelWidth",J,W),aX(Q.rscratch,"labelWidth",J,W),aX(Q.rstyle,"labelHeight",J,F),aX(Q.rscratch,"labelHeight",J,F),aX(Q.rscratch,"labelLineHeight",J,H)};DK.getLabelText=function(Z,J){var Q=Z._private,K=J?J+"-":"",X=Z.pstyle(K+"label").strValue,U=Z.pstyle("text-transform").value,Y=function i(e,J0){if(J0)return aX(Q.rscratch,e,J,J0),J0;else return B4(Q.rscratch,e,J)};if(!X)return"";if(U=="none");else if(U=="uppercase")X=X.toUpperCase();else if(U=="lowercase")X=X.toLowerCase();var q=Z.pstyle("text-wrap").value;if(q==="wrap"){var z=Y("labelKey");if(z!=null&&Y("labelWrapKey")===z)return Y("labelWrapCachedText");var G="\u200B",H=X.split("\n"),W=Z.pstyle("text-max-width").pfValue,F=Z.pstyle("text-overflow-wrap").value,M=F==="anywhere",B=[],O=/[\s\u200b]+|$/g;for(var A=0;A<H.length;A++){var L=H[A],I=this.calculateLabelDimensions(Z,L),D=I.width;if(M){var w=L.split("").join(G);L=w}if(D>W){var N=L.matchAll(O),E="",j=0,P=L40(N),C;try{for(P.s();!(C=P.n()).done;){var T=C.value,V=T[0],S=L.substring(j,T.index);j=T.index+V.length;var $=E.length===0?S:E+S+V,f=this.calculateLabelDimensions(Z,$),h=f.width;if(h<=W)E+=S+V;else{if(E)B.push(E);E=S+V}}}catch(i){P.e(i)}finally{P.f()}if(!E.match(/^[\s\u200b]+$/))B.push(E)}else B.push(L)}Y("labelWrapCachedLines",B),X=Y("labelWrapCachedText",B.join("\n")),Y("labelWrapKey",z)}else if(q==="ellipsis"){var v=Z.pstyle("text-max-width").pfValue,b="",y="\u2026",k=!1;if(this.calculateLabelDimensions(Z,X).width<v)return X;for(var g=0;g<X.length;g++){var u=this.calculateLabelDimensions(Z,b+X[g]+y).width;if(u>v)break;if(b+=X[g],g===X.length-1)k=!0}if(!k)b+=y;return b}return X};DK.getLabelJustification=function(Z){var J=Z.pstyle("text-justification").strValue,Q=Z.pstyle("text-halign").strValue;if(J==="auto")if(Z.isNode())switch(Q){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return J};DK.calculateLabelDimensions=function(Z,J){var Q=this,K=Q.cy.window(),X=K.document,U=nY(J,Z._private.labelDimsKey),Y=Q.labelDimCache||(Q.labelDimCache=[]),q=Y[U];if(q!=null)return q;var z=0,G=Z.pstyle("font-style").strValue,H=Z.pstyle("font-size").pfValue,W=Z.pstyle("font-family").strValue,F=Z.pstyle("font-weight").strValue,M=this.labelCalcCanvas,B=this.labelCalcCanvasContext;if(!M){M=this.labelCalcCanvas=X.createElement("canvas"),B=this.labelCalcCanvasContext=M.getContext("2d");var O=M.style;O.position="absolute",O.left="-9999px",O.top="-9999px",O.zIndex="-1",O.visibility="hidden",O.pointerEvents="none"}B.font="".concat(G," ").concat(F," ").concat(H,"px ").concat(W);var A=0,L=0,I=J.split("\n");for(var D=0;D<I.length;D++){var w=I[D],N=B.measureText(w),E=Math.ceil(N.width),j=H;A=Math.max(E,A),L+=j}return A+=z,L+=z,Y[U]={width:A,height:L}};DK.calculateLabelAngle=function(Z,J){var Q=Z._private,K=Q.rscratch,X=Z.isEdge(),U=J?J+"-":"",Y=Z.pstyle(U+"text-rotation"),q=Y.strValue;if(q==="none")return 0;else if(X&&q==="autorotate")return K.labelAutoAngle;else if(q==="autorotate")return 0;else return Y.pfValue};DK.calculateLabelAngles=function(Z){var J=this,Q=Z.isEdge(),K=Z._private,X=K.rscratch;if(X.labelAngle=J.calculateLabelAngle(Z),Q)X.sourceLabelAngle=J.calculateLabelAngle(Z,"source"),X.targetLabelAngle=J.calculateLabelAngle(Z,"target")};hK0={};hK0.getNodeShape=function(Z){var J=this,Q=Z.pstyle("shape").value;if(Q==="cutrectangle"&&(Z.width()<U40||Z.height()<U40)){if(!Y40)y8("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Y40=!0;return"rectangle"}if(Z.isParent())if(Q==="rectangle"||Q==="roundrectangle"||Q==="round-rectangle"||Q==="cutrectangle"||Q==="cut-rectangle"||Q==="barrel")return Q;else return"rectangle";if(Q==="polygon"){var K=Z.pstyle("shape-polygon-points").value;return J.nodeShapes.makePolygon(K).name}return Q};GD={};GD.registerCalculationListeners=function(){var Z=this.cy,J=Z.collection(),Q=this,K=function U(Y){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(J.merge(Y),q)for(var z=0;z<Y.length;z++){var G=Y[z],H=G._private,W=H.rstyle;W.clean=!1,W.cleanConnected=!1}};Q.binder(Z).on("bounds.* dirty.*",function U(Y){var q=Y.target;K(q)}).on("style.* background.*",function U(Y){var q=Y.target;K(q,!1)});var X=function U(Y){if(Y){var q=Q.onUpdateEleCalcsFns;J.cleanStyle();for(var z=0;z<J.length;z++){var G=J[z],H=G._private.rstyle;if(G.isNode()&&!H.cleanConnected)K(G.connectedEdges()),H.cleanConnected=!0}if(q)for(var W=0;W<q.length;W++){var F=q[W];F(Y,J)}Q.recalculateRenderedStyle(J),J=Z.collection()}};Q.flushRenderedStyleQueue=function(){X(!0)},Q.beforeRender(X,Q.beforeRenderPriorities.eleCalcs)};GD.onUpdateEleCalcs=function(Z){var J=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];J.push(Z)};GD.recalculateRenderedStyle=function(Z,J){var Q=function D(w){return w._private.rstyle.cleanConnected},K=[],X=[];if(this.destroyed)return;if(J===void 0)J=!0;for(var U=0;U<Z.length;U++){var Y=Z[U],q=Y._private,z=q.rstyle;if(Y.isEdge()&&(!Q(Y.source())||!Q(Y.target())))z.clean=!1;if(J&&z.clean||Y.removed())continue;if(Y.pstyle("display").value==="none")continue;if(q.group==="nodes")X.push(Y);else K.push(Y);z.clean=!0}for(var G=0;G<X.length;G++){var H=X[G],W=H._private,F=W.rstyle,M=H.position();this.recalculateNodeLabelProjection(H),F.nodeX=M.x,F.nodeY=M.y,F.nodeW=H.pstyle("width").pfValue,F.nodeH=H.pstyle("height").pfValue}this.recalculateEdgeProjections(K);for(var B=0;B<K.length;B++){var O=K[B],A=O._private,L=A.rstyle,I=A.rscratch;L.srcX=I.arrowStartX,L.srcY=I.arrowStartY,L.tgtX=I.arrowEndX,L.tgtY=I.arrowEndY,L.midX=I.midX,L.midY=I.midY,L.labelAngle=I.labelAngle,L.sourceLabelAngle=I.sourceLabelAngle,L.targetLabelAngle=I.targetLabelAngle}};HD={};HD.updateCachedGrabbedEles=function(){var Z=this.cachedZSortedEles;if(!Z)return;Z.drag=[],Z.nondrag=[];var J=[];for(var Q=0;Q<Z.length;Q++){var K=Z[Q],X=K._private.rscratch;if(K.grabbed()&&!K.isParent())J.push(K);else if(X.inDragLayer)Z.drag.push(K);else Z.nondrag.push(K)}for(var Q=0;Q<J.length;Q++){var K=J[Q];Z.drag.push(K)}};HD.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};HD.getCachedZSortedEles=function(Z){if(Z||!this.cachedZSortedEles){var J=this.cy.mutableElements().toArray();J.sort(DK0),J.interactive=J.filter(function(Q){return Q.interactive()}),this.cachedZSortedEles=J,this.updateCachedGrabbedEles()}else J=this.cachedZSortedEles;return J};yK0={};[Jq,d3,N7,OM,W_,DK,hK0,GD,HD].forEach(function(Z){b9(yK0,Z)});uK0={};uK0.getCachedImage=function(Z,J,Q){var K=this,X=K.imageCache=K.imageCache||{},U=X[Z];if(U){if(!U.image.complete)U.image.addEventListener("load",Q);return U.image}else{U=X[Z]=X[Z]||{};var Y=U.image=new Image;Y.addEventListener("load",Q),Y.addEventListener("error",function(){Y.error=!0});var q="data:",z=Z.substring(0,q.length).toLowerCase()===q;if(!z)J=J==="null"?null:J,Y.crossOrigin=J;return Y.src=Z,Y}};YG={};YG.registerBinding=function(Z,J,Q,K){var X=Array.prototype.slice.apply(arguments,[1]),U=this.binder(Z);return U.on.apply(U,X)};YG.binder=function(Z){var J=this,Q=J.cy.window(),K=Z===Q||Z===Q.document||Z===Q.document.body||Yh0(Z);if(J.supportsPassiveEvents==null){var X=!1;try{var U=Object.defineProperty({},"passive",{get:function q(){return X=!0,!0}});Q.addEventListener("test",null,U)}catch(q){}J.supportsPassiveEvents=X}var Y=function q(z,G,H){var W=Array.prototype.slice.call(arguments);if(K&&J.supportsPassiveEvents)W[2]={capture:H!=null?H:!1,passive:!1,once:!1};return J.bindings.push({target:Z,args:W}),(Z.addEventListener||Z.on).apply(Z,W),this};return{on:Y,addEventListener:Y,addListener:Y,bind:Y}};YG.nodeIsDraggable=function(Z){return Z&&Z.isNode()&&!Z.locked()&&Z.grabbable()};YG.nodeIsGrabbable=function(Z){return this.nodeIsDraggable(Z)&&Z.interactive()};YG.load=function(){var Z=this,J=Z.cy.window(),Q=function H0(l){return l.selected()},K=function H0(l,q0,G0,n){if(l==null)l=Z.cy;for(var U0=0;U0<q0.length;U0++){var M0=q0[U0];l.emit({originalEvent:G0,type:M0,position:n})}},X=function H0(l){return l.shiftKey||l.metaKey||l.ctrlKey},U=function H0(l,q0){var G0=!0;if(Z.cy.hasCompoundNodes()&&l&&l.pannable())for(var n=0;q0&&n<q0.length;n++){var l=q0[n];if(l.isNode()&&l.isParent()&&!l.pannable()){G0=!1;break}}else G0=!0;return G0},Y=function H0(l){l[0]._private.grabbed=!0},q=function H0(l){l[0]._private.grabbed=!1},z=function H0(l){l[0]._private.rscratch.inDragLayer=!0},G=function H0(l){l[0]._private.rscratch.inDragLayer=!1},H=function H0(l){l[0]._private.rscratch.isGrabTarget=!0},W=function H0(l){l[0]._private.rscratch.isGrabTarget=!1},F=function H0(l,q0){var G0=q0.addToList,n=G0.has(l);if(!n&&l.grabbable()&&!l.locked())G0.merge(l),Y(l)},M=function H0(l,q0){if(!l.cy().hasCompoundNodes())return;if(q0.inDragLayer==null&&q0.addToList==null)return;var G0=l.descendants();if(q0.inDragLayer)G0.forEach(z),G0.connectedEdges().forEach(z);if(q0.addToList)F(G0,q0)},B=function H0(l,q0){q0=q0||{};var G0=l.cy().hasCompoundNodes();if(q0.inDragLayer)l.forEach(z),l.neighborhood().stdFilter(function(n){return!G0||n.isEdge()}).forEach(z);if(q0.addToList)l.forEach(function(n){F(n,q0)});M(l,q0),L(l,{inDragLayer:q0.inDragLayer}),Z.updateCachedGrabbedEles()},O=B,A=function H0(l){if(!l)return;Z.getCachedZSortedEles().forEach(function(q0){q(q0),G(q0),W(q0)}),Z.updateCachedGrabbedEles()},L=function H0(l,q0){if(q0.inDragLayer==null&&q0.addToList==null)return;if(!l.cy().hasCompoundNodes())return;var G0=l.ancestors().orphans();if(G0.same(l))return;var n=G0.descendants().spawnSelf().merge(G0).unmerge(l).unmerge(l.descendants()),U0=n.connectedEdges();if(q0.inDragLayer)U0.forEach(z),n.forEach(z);if(q0.addToList)n.forEach(function(M0){F(M0,q0)})},I=function H0(){if(document.activeElement!=null&&document.activeElement.blur!=null)document.activeElement.blur()},D=typeof MutationObserver!=="undefined",w=typeof ResizeObserver!=="undefined";if(D){if(Z.removeObserver=new MutationObserver(function(H0){for(var l=0;l<H0.length;l++){var q0=H0[l],G0=q0.removedNodes;if(G0)for(var n=0;n<G0.length;n++){var U0=G0[n];if(U0===Z.container){Z.destroy();break}}}}),Z.container.parentNode)Z.removeObserver.observe(Z.container.parentNode,{childList:!0})}else Z.registerBinding(Z.container,"DOMNodeRemoved",function(H0){Z.destroy()});var N=n3(function(){Z.cy.resize()},100);if(D)Z.styleObserver=new MutationObserver(N),Z.styleObserver.observe(Z.container,{attributes:!0});if(Z.registerBinding(J,"resize",N),w)Z.resizeObserver=new ResizeObserver(N),Z.resizeObserver.observe(Z.container);var E=function H0(l,q0){while(l!=null)q0(l),l=l.parentNode},j=function H0(){Z.invalidateContainerClientCoordsCache()};E(Z.container,function(H0){Z.registerBinding(H0,"transitionend",j),Z.registerBinding(H0,"animationend",j),Z.registerBinding(H0,"scroll",j)}),Z.registerBinding(Z.container,"contextmenu",function(H0){H0.preventDefault()});var P=function H0(){return Z.selection[4]!==0},C=function H0(l){var q0=Z.findContainerClientCoords(),G0=q0[0],n=q0[1],U0=q0[2],M0=q0[3],F0=l.touches?l.touches:[l],x0=!1;for(var _0=0;_0<F0.length;_0++){var y0=F0[_0];if(G0<=y0.clientX&&y0.clientX<=G0+U0&&n<=y0.clientY&&y0.clientY<=n+M0){x0=!0;break}}if(!x0)return!1;var m0=Z.container,d0=l.target,u0=d0.parentNode,E0=!1;while(u0){if(u0===m0){E0=!0;break}u0=u0.parentNode}if(!E0)return!1;return!0};Z.registerBinding(Z.container,"mousedown",function H0(l){if(!C(l))return;if(Z.hoverData.which===1&&l.which!==1)return;l.preventDefault(),I(),Z.hoverData.capture=!0,Z.hoverData.which=l.which;var q0=Z.cy,G0=[l.clientX,l.clientY],n=Z.projectIntoViewport(G0[0],G0[1]),U0=Z.selection,M0=Z.findNearestElements(n[0],n[1],!0,!1),F0=M0[0],x0=Z.dragData.possibleDragElements;Z.hoverData.mdownPos=n,Z.hoverData.mdownGPos=G0;var _0=function E0(){Z.hoverData.tapholdCancelled=!1,clearTimeout(Z.hoverData.tapholdTimeout),Z.hoverData.tapholdTimeout=setTimeout(function(){if(Z.hoverData.tapholdCancelled)return;else{var Z9=Z.hoverData.down;if(Z9)Z9.emit({originalEvent:l,type:"taphold",position:{x:n[0],y:n[1]}});else q0.emit({originalEvent:l,type:"taphold",position:{x:n[0],y:n[1]}})}},Z.tapholdDuration)};if(l.which==3){Z.hoverData.cxtStarted=!0;var y0={originalEvent:l,type:"cxttapstart",position:{x:n[0],y:n[1]}};if(F0)F0.activate(),F0.emit(y0),Z.hoverData.down=F0;else q0.emit(y0);Z.hoverData.downTime=new Date().getTime(),Z.hoverData.cxtDragged=!1}else if(l.which==1){if(F0)F0.activate();{if(F0!=null){if(Z.nodeIsGrabbable(F0)){var m0=function E0(Z9){return{originalEvent:l,type:Z9,position:{x:n[0],y:n[1]}}},d0=function E0(Z9){Z9.emit(m0("grab"))};if(H(F0),!F0.selected())x0=Z.dragData.possibleDragElements=q0.collection(),O(F0,{addToList:x0}),F0.emit(m0("grabon")).emit(m0("grab"));else{x0=Z.dragData.possibleDragElements=q0.collection();var u0=q0.$(function(E0){return E0.isNode()&&E0.selected()&&Z.nodeIsGrabbable(E0)});B(u0,{addToList:x0}),F0.emit(m0("grabon")),u0.forEach(d0)}Z.redrawHint("eles",!0),Z.redrawHint("drag",!0)}}Z.hoverData.down=F0,Z.hoverData.downs=M0,Z.hoverData.downTime=new Date().getTime()}if(K(F0,["mousedown","tapstart","vmousedown"],l,{x:n[0],y:n[1]}),F0==null)U0[4]=1,Z.data.bgActivePosistion={x:n[0],y:n[1]},Z.redrawHint("select",!0),Z.redraw();else if(F0.pannable())U0[4]=1;_0()}U0[0]=U0[2]=n[0],U0[1]=U0[3]=n[1]},!1),Z.registerBinding(J,"mousemove",function H0(l){var q0=Z.hoverData.capture;if(!q0&&!C(l))return;var G0=!1,n=Z.cy,U0=n.zoom(),M0=[l.clientX,l.clientY],F0=Z.projectIntoViewport(M0[0],M0[1]),x0=Z.hoverData.mdownPos,_0=Z.hoverData.mdownGPos,y0=Z.selection,m0=null;if(!Z.hoverData.draggingEles&&!Z.hoverData.dragging&&!Z.hoverData.selecting)m0=Z.findNearestElement(F0[0],F0[1],!0,!1);var d0=Z.hoverData.last,u0=Z.hoverData.down,E0=[F0[0]-y0[2],F0[1]-y0[3]],Z9=Z.dragData.possibleDragElements,i0;if(_0){var Q8=M0[0]-_0[0],F8=Q8*Q8,g9=M0[1]-_0[1],t9=g9*g9,H9=F8+t9;Z.hoverData.isOverThresholdDrag=i0=H9>=Z.desktopTapThreshold2}var f9=X(l);if(i0)Z.hoverData.tapholdCancelled=!0;var t0=function N9(){var y9=Z.hoverData.dragDelta=Z.hoverData.dragDelta||[];if(y9.length===0)y9.push(E0[0]),y9.push(E0[1]);else y9[0]+=E0[0],y9[1]+=E0[1]};G0=!0,K(m0,["mousemove","vmousemove","tapdrag"],l,{x:F0[0],y:F0[1]});var T9=function N9(){if(Z.data.bgActivePosistion=void 0,!Z.hoverData.selecting)n.emit({originalEvent:l,type:"boxstart",position:{x:F0[0],y:F0[1]}});y0[4]=1,Z.hoverData.selecting=!0,Z.redrawHint("select",!0),Z.redraw()};if(Z.hoverData.which===3){if(i0){var l9={originalEvent:l,type:"cxtdrag",position:{x:F0[0],y:F0[1]}};if(u0)u0.emit(l9);else n.emit(l9);if(Z.hoverData.cxtDragged=!0,!Z.hoverData.cxtOver||m0!==Z.hoverData.cxtOver){if(Z.hoverData.cxtOver)Z.hoverData.cxtOver.emit({originalEvent:l,type:"cxtdragout",position:{x:F0[0],y:F0[1]}});if(Z.hoverData.cxtOver=m0,m0)m0.emit({originalEvent:l,type:"cxtdragover",position:{x:F0[0],y:F0[1]}})}}}else if(Z.hoverData.dragging){if(G0=!0,n.panningEnabled()&&n.userPanningEnabled()){var O9;if(Z.hoverData.justStartedPan){var w9=Z.hoverData.mdownPos;O9={x:(F0[0]-w9[0])*U0,y:(F0[1]-w9[1])*U0},Z.hoverData.justStartedPan=!1}else O9={x:E0[0]*U0,y:E0[1]*U0};n.panBy(O9),n.emit("dragpan"),Z.hoverData.dragged=!0}F0=Z.projectIntoViewport(l.clientX,l.clientY)}else if(y0[4]==1&&(u0==null||u0.pannable())){if(i0){if(!Z.hoverData.dragging&&n.boxSelectionEnabled()&&(f9||!n.panningEnabled()||!n.userPanningEnabled()))T9();else if(!Z.hoverData.selecting&&n.panningEnabled()&&n.userPanningEnabled()){var M9=U(u0,Z.hoverData.downs);if(M9)Z.hoverData.dragging=!0,Z.hoverData.justStartedPan=!0,y0[4]=0,Z.data.bgActivePosistion=cz(x0),Z.redrawHint("select",!0),Z.redraw()}if(u0&&u0.pannable()&&u0.active())u0.unactivate()}}else{if(u0&&u0.pannable()&&u0.active())u0.unactivate();if((!u0||!u0.grabbed())&&m0!=d0){if(d0)K(d0,["mouseout","tapdragout"],l,{x:F0[0],y:F0[1]});if(m0)K(m0,["mouseover","tapdragover"],l,{x:F0[0],y:F0[1]});Z.hoverData.last=m0}if(u0)if(i0){if(n.boxSelectionEnabled()&&f9){if(u0&&u0.grabbed()){if(A(Z9),u0.emit("freeon"),Z9.emit("free"),Z.dragData.didDrag)u0.emit("dragfreeon"),Z9.emit("dragfree")}T9()}else if(u0&&u0.grabbed()&&Z.nodeIsDraggable(u0)){var c9=!Z.dragData.didDrag;if(c9)Z.redrawHint("eles",!0);if(Z.dragData.didDrag=!0,!Z.hoverData.draggingEles)B(Z9,{inDragLayer:!0});var q9={x:0,y:0};if(K9(E0[0])&&K9(E0[1])){if(q9.x+=E0[0],q9.y+=E0[1],c9){var z8=Z.hoverData.dragDelta;if(z8&&K9(z8[0])&&K9(z8[1]))q9.x+=z8[0],q9.y+=z8[1]}}Z.hoverData.draggingEles=!0,Z9.silentShift(q9).emit("position drag"),Z.redrawHint("drag",!0),Z.redraw()}}else t0();G0=!0}if(y0[2]=F0[0],y0[3]=F0[1],G0){if(l.stopPropagation)l.stopPropagation();if(l.preventDefault)l.preventDefault();return!1}},!1);var T,V,S;Z.registerBinding(J,"mouseup",function H0(l){if(Z.hoverData.which===1&&l.which!==1&&Z.hoverData.capture)return;var q0=Z.hoverData.capture;if(!q0)return;Z.hoverData.capture=!1;var G0=Z.cy,n=Z.projectIntoViewport(l.clientX,l.clientY),U0=Z.selection,M0=Z.findNearestElement(n[0],n[1],!0,!1),F0=Z.dragData.possibleDragElements,x0=Z.hoverData.down,_0=X(l);if(Z.data.bgActivePosistion)Z.redrawHint("select",!0),Z.redraw();if(Z.hoverData.tapholdCancelled=!0,Z.data.bgActivePosistion=void 0,x0)x0.unactivate();if(Z.hoverData.which===3){var y0={originalEvent:l,type:"cxttapend",position:{x:n[0],y:n[1]}};if(x0)x0.emit(y0);else G0.emit(y0);if(!Z.hoverData.cxtDragged){var m0={originalEvent:l,type:"cxttap",position:{x:n[0],y:n[1]}};if(x0)x0.emit(m0);else G0.emit(m0)}Z.hoverData.cxtDragged=!1,Z.hoverData.which=null}else if(Z.hoverData.which===1){if(K(M0,["mouseup","tapend","vmouseup"],l,{x:n[0],y:n[1]}),!Z.dragData.didDrag&&!Z.hoverData.dragged&&!Z.hoverData.selecting&&!Z.hoverData.isOverThresholdDrag)if(K(x0,["click","tap","vclick"],l,{x:n[0],y:n[1]}),V=!1,l.timeStamp-S<=G0.multiClickDebounceTime())T&&clearTimeout(T),V=!0,S=null,K(x0,["dblclick","dbltap","vdblclick"],l,{x:n[0],y:n[1]});else T=setTimeout(function(){if(V)return;K(x0,["oneclick","onetap","voneclick"],l,{x:n[0],y:n[1]})},G0.multiClickDebounceTime()),S=l.timeStamp;if(x0==null&&!Z.dragData.didDrag&&!Z.hoverData.selecting&&!Z.hoverData.dragged&&!X(l)){if(G0.$(Q).unselect(["tapunselect"]),F0.length>0)Z.redrawHint("eles",!0);Z.dragData.possibleDragElements=F0=G0.collection()}if(M0==x0&&!Z.dragData.didDrag&&!Z.hoverData.selecting){if(M0!=null&&M0._private.selectable){if(Z.hoverData.dragging);else if(G0.selectionType()==="additive"||_0)if(M0.selected())M0.unselect(["tapunselect"]);else M0.select(["tapselect"]);else if(!_0)G0.$(Q).unmerge(M0).unselect(["tapunselect"]),M0.select(["tapselect"]);Z.redrawHint("eles",!0)}}if(Z.hoverData.selecting){var d0=G0.collection(Z.getAllInBox(U0[0],U0[1],U0[2],U0[3]));if(Z.redrawHint("select",!0),d0.length>0)Z.redrawHint("eles",!0);G0.emit({type:"boxend",originalEvent:l,position:{x:n[0],y:n[1]}});var u0=function Z9(i0){return i0.selectable()&&!i0.selected()};if(G0.selectionType()==="additive")d0.emit("box").stdFilter(u0).select().emit("boxselect");else{if(!_0)G0.$(Q).unmerge(d0).unselect();d0.emit("box").stdFilter(u0).select().emit("boxselect")}Z.redraw()}if(Z.hoverData.dragging)Z.hoverData.dragging=!1,Z.redrawHint("select",!0),Z.redrawHint("eles",!0),Z.redraw();if(!U0[4]){Z.redrawHint("drag",!0),Z.redrawHint("eles",!0);var E0=x0&&x0.grabbed();if(A(F0),E0){if(x0.emit("freeon"),F0.emit("free"),Z.dragData.didDrag)x0.emit("dragfreeon"),F0.emit("dragfree")}}}U0[4]=0,Z.hoverData.down=null,Z.hoverData.cxtStarted=!1,Z.hoverData.draggingEles=!1,Z.hoverData.selecting=!1,Z.hoverData.isOverThresholdDrag=!1,Z.dragData.didDrag=!1,Z.hoverData.dragged=!1,Z.hoverData.dragDelta=[],Z.hoverData.mdownPos=null,Z.hoverData.mdownGPos=null,Z.hoverData.which=null},!1);var $=function H0(l){if(Z.scrollingPage)return;var q0=Z.cy,G0=q0.zoom(),n=q0.pan(),U0=Z.projectIntoViewport(l.clientX,l.clientY),M0=[U0[0]*G0+n.x,U0[1]*G0+n.y];if(Z.hoverData.draggingEles||Z.hoverData.dragging||Z.hoverData.cxtStarted||P()){l.preventDefault();return}if(q0.panningEnabled()&&q0.userPanningEnabled()&&q0.zoomingEnabled()&&q0.userZoomingEnabled()){l.preventDefault(),Z.data.wheelZooming=!0,clearTimeout(Z.data.wheelTimeout),Z.data.wheelTimeout=setTimeout(function(){Z.data.wheelZooming=!1,Z.redrawHint("eles",!0),Z.redraw()},150);var F0;if(l.deltaY!=null)F0=l.deltaY/-250;else if(l.wheelDeltaY!=null)F0=l.wheelDeltaY/1000;else F0=l.wheelDelta/1000;F0=F0*Z.wheelSensitivity;var x0=l.deltaMode===1;if(x0)F0*=33;var _0=q0.zoom()*Math.pow(10,F0);if(l.type==="gesturechange")_0=Z.gestureStartZoom*l.scale;q0.zoom({level:_0,renderedPosition:{x:M0[0],y:M0[1]}}),q0.emit(l.type==="gesturechange"?"pinchzoom":"scrollzoom")}};Z.registerBinding(Z.container,"wheel",$,!0),Z.registerBinding(J,"scroll",function H0(l){Z.scrollingPage=!0,clearTimeout(Z.scrollingPageTimeout),Z.scrollingPageTimeout=setTimeout(function(){Z.scrollingPage=!1},250)},!0),Z.registerBinding(Z.container,"gesturestart",function H0(l){if(Z.gestureStartZoom=Z.cy.zoom(),!Z.hasTouchStarted)l.preventDefault()},!0),Z.registerBinding(Z.container,"gesturechange",function(H0){if(!Z.hasTouchStarted)$(H0)},!0),Z.registerBinding(Z.container,"mouseout",function H0(l){var q0=Z.projectIntoViewport(l.clientX,l.clientY);Z.cy.emit({originalEvent:l,type:"mouseout",position:{x:q0[0],y:q0[1]}})},!1),Z.registerBinding(Z.container,"mouseover",function H0(l){var q0=Z.projectIntoViewport(l.clientX,l.clientY);Z.cy.emit({originalEvent:l,type:"mouseover",position:{x:q0[0],y:q0[1]}})},!1);var f,h,v,b,y,k,g,u,i,e,J0,z0,t,B0=function H0(l,q0,G0,n){return Math.sqrt((G0-l)*(G0-l)+(n-q0)*(n-q0))},X0=function H0(l,q0,G0,n){return(G0-l)*(G0-l)+(n-q0)*(n-q0)},d;Z.registerBinding(Z.container,"touchstart",d=function H0(l){if(Z.hasTouchStarted=!0,!C(l))return;I(),Z.touchData.capture=!0,Z.data.bgActivePosistion=void 0;var q0=Z.cy,G0=Z.touchData.now,n=Z.touchData.earlier;if(l.touches[0]){var U0=Z.projectIntoViewport(l.touches[0].clientX,l.touches[0].clientY);G0[0]=U0[0],G0[1]=U0[1]}if(l.touches[1]){var U0=Z.projectIntoViewport(l.touches[1].clientX,l.touches[1].clientY);G0[2]=U0[0],G0[3]=U0[1]}if(l.touches[2]){var U0=Z.projectIntoViewport(l.touches[2].clientX,l.touches[2].clientY);G0[4]=U0[0],G0[5]=U0[1]}if(l.touches[1]){Z.touchData.singleTouchMoved=!0,A(Z.dragData.touchDragEles);var M0=Z.findContainerClientCoords();i=M0[0],e=M0[1],J0=M0[2],z0=M0[3],f=l.touches[0].clientX-i,h=l.touches[0].clientY-e,v=l.touches[1].clientX-i,b=l.touches[1].clientY-e,t=0<=f&&f<=J0&&0<=v&&v<=J0&&0<=h&&h<=z0&&0<=b&&b<=z0;var F0=q0.pan(),x0=q0.zoom();y=B0(f,h,v,b),k=X0(f,h,v,b),g=[(f+v)/2,(h+b)/2],u=[(g[0]-F0.x)/x0,(g[1]-F0.y)/x0];var _0=200,y0=_0*_0;if(k<y0&&!l.touches[2]){var m0=Z.findNearestElement(G0[0],G0[1],!0,!0),d0=Z.findNearestElement(G0[2],G0[3],!0,!0);if(m0&&m0.isNode())m0.activate().emit({originalEvent:l,type:"cxttapstart",position:{x:G0[0],y:G0[1]}}),Z.touchData.start=m0;else if(d0&&d0.isNode())d0.activate().emit({originalEvent:l,type:"cxttapstart",position:{x:G0[0],y:G0[1]}}),Z.touchData.start=d0;else q0.emit({originalEvent:l,type:"cxttapstart",position:{x:G0[0],y:G0[1]}});if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!0,Z.touchData.cxtDragged=!1,Z.data.bgActivePosistion=void 0,Z.redraw();return}}if(l.touches[2]){if(q0.boxSelectionEnabled())l.preventDefault()}else if(l.touches[1]);else if(l.touches[0]){var u0=Z.findNearestElements(G0[0],G0[1],!0,!0),E0=u0[0];if(E0!=null){if(E0.activate(),Z.touchData.start=E0,Z.touchData.starts=u0,Z.nodeIsGrabbable(E0)){var Z9=Z.dragData.touchDragEles=q0.collection(),i0=null;if(Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),E0.selected())i0=q0.$(function(H9){return H9.selected()&&Z.nodeIsGrabbable(H9)}),B(i0,{addToList:Z9});else O(E0,{addToList:Z9});H(E0);var Q8=function H9(f9){return{originalEvent:l,type:f9,position:{x:G0[0],y:G0[1]}}};if(E0.emit(Q8("grabon")),i0)i0.forEach(function(H9){H9.emit(Q8("grab"))});else E0.emit(Q8("grab"))}}if(K(E0,["touchstart","tapstart","vmousedown"],l,{x:G0[0],y:G0[1]}),E0==null)Z.data.bgActivePosistion={x:U0[0],y:U0[1]},Z.redrawHint("select",!0),Z.redraw();Z.touchData.singleTouchMoved=!1,Z.touchData.singleTouchStartTime=+new Date,clearTimeout(Z.touchData.tapholdTimeout),Z.touchData.tapholdTimeout=setTimeout(function(){if(Z.touchData.singleTouchMoved===!1&&!Z.pinching&&!Z.touchData.selecting)K(Z.touchData.start,["taphold"],l,{x:G0[0],y:G0[1]})},Z.tapholdDuration)}if(l.touches.length>=1){var F8=Z.touchData.startPosition=[null,null,null,null,null,null];for(var g9=0;g9<G0.length;g9++)F8[g9]=n[g9]=G0[g9];var t9=l.touches[0];Z.touchData.startGPosition=[t9.clientX,t9.clientY]}},!1);var o;Z.registerBinding(J,"touchmove",o=function H0(l){var q0=Z.touchData.capture;if(!q0&&!C(l))return;var{selection:G0,cy:n}=Z,U0=Z.touchData.now,M0=Z.touchData.earlier,F0=n.zoom();if(l.touches[0]){var x0=Z.projectIntoViewport(l.touches[0].clientX,l.touches[0].clientY);U0[0]=x0[0],U0[1]=x0[1]}if(l.touches[1]){var x0=Z.projectIntoViewport(l.touches[1].clientX,l.touches[1].clientY);U0[2]=x0[0],U0[3]=x0[1]}if(l.touches[2]){var x0=Z.projectIntoViewport(l.touches[2].clientX,l.touches[2].clientY);U0[4]=x0[0],U0[5]=x0[1]}var _0=Z.touchData.startGPosition,y0;if(q0&&l.touches[0]&&_0){var m0=[];for(var d0=0;d0<U0.length;d0++)m0[d0]=U0[d0]-M0[d0];var u0=l.touches[0].clientX-_0[0],E0=u0*u0,Z9=l.touches[0].clientY-_0[1],i0=Z9*Z9,Q8=E0+i0;y0=Q8>=Z.touchTapThreshold2}if(q0&&Z.touchData.cxt){l.preventDefault();var F8=l.touches[0].clientX-i,g9=l.touches[0].clientY-e,t9=l.touches[1].clientX-i,H9=l.touches[1].clientY-e,f9=X0(F8,g9,t9,H9),t0=f9/k,T9=150,l9=T9*T9,O9=1.5,w9=O9*O9;if(t0>=w9||f9>=l9){Z.touchData.cxt=!1,Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var M9={originalEvent:l,type:"cxttapend",position:{x:U0[0],y:U0[1]}};if(Z.touchData.start)Z.touchData.start.unactivate().emit(M9),Z.touchData.start=null;else n.emit(M9)}}if(q0&&Z.touchData.cxt){var M9={originalEvent:l,type:"cxtdrag",position:{x:U0[0],y:U0[1]}};if(Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.touchData.start)Z.touchData.start.emit(M9);else n.emit(M9);if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxtDragged=!0;var c9=Z.findNearestElement(U0[0],U0[1],!0,!0);if(!Z.touchData.cxtOver||c9!==Z.touchData.cxtOver){if(Z.touchData.cxtOver)Z.touchData.cxtOver.emit({originalEvent:l,type:"cxtdragout",position:{x:U0[0],y:U0[1]}});if(Z.touchData.cxtOver=c9,c9)c9.emit({originalEvent:l,type:"cxtdragover",position:{x:U0[0],y:U0[1]}})}}else if(q0&&l.touches[2]&&n.boxSelectionEnabled()){if(l.preventDefault(),Z.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,!Z.touchData.selecting)n.emit({originalEvent:l,type:"boxstart",position:{x:U0[0],y:U0[1]}});if(Z.touchData.selecting=!0,Z.touchData.didSelect=!0,G0[4]=1,!G0||G0.length===0||G0[0]===void 0)G0[0]=(U0[0]+U0[2]+U0[4])/3,G0[1]=(U0[1]+U0[3]+U0[5])/3,G0[2]=(U0[0]+U0[2]+U0[4])/3+1,G0[3]=(U0[1]+U0[3]+U0[5])/3+1;else G0[2]=(U0[0]+U0[2]+U0[4])/3,G0[3]=(U0[1]+U0[3]+U0[5])/3;Z.redrawHint("select",!0),Z.redraw()}else if(q0&&l.touches[1]&&!Z.touchData.didSelect&&n.zoomingEnabled()&&n.panningEnabled()&&n.userZoomingEnabled()&&n.userPanningEnabled()){l.preventDefault(),Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var q9=Z.dragData.touchDragEles;if(q9){Z.redrawHint("drag",!0);for(var z8=0;z8<q9.length;z8++){var N9=q9[z8]._private;N9.grabbed=!1,N9.rscratch.inDragLayer=!1}}var y9=Z.touchData.start,F8=l.touches[0].clientX-i,g9=l.touches[0].clientY-e,t9=l.touches[1].clientX-i,H9=l.touches[1].clientY-e,N8=B0(F8,g9,t9,H9),CJ=N8/y;if(t){var e9=F8-f,_Z=g9-h,GZ=t9-v,xJ=H9-b,JJ=(e9+GZ)/2,j7=(_Z+xJ)/2,AZ=n.zoom(),lZ=AZ*CJ,a6=n.pan(),o6=u[0]*AZ+a6.x,$Q=u[1]*AZ+a6.y,c7={x:-lZ/AZ*(o6-a6.x-JJ)+o6,y:-lZ/AZ*($Q-a6.y-j7)+$Q};if(y9&&y9.active()){var q9=Z.dragData.touchDragEles;if(A(q9),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),y9.unactivate().emit("freeon"),q9.emit("free"),Z.dragData.didDrag)y9.emit("dragfreeon"),q9.emit("dragfree")}n.viewport({zoom:lZ,pan:c7,cancelOnFailedZoom:!0}),n.emit("pinchzoom"),y=N8,f=F8,h=g9,v=t9,b=H9,Z.pinching=!0}if(l.touches[0]){var x0=Z.projectIntoViewport(l.touches[0].clientX,l.touches[0].clientY);U0[0]=x0[0],U0[1]=x0[1]}if(l.touches[1]){var x0=Z.projectIntoViewport(l.touches[1].clientX,l.touches[1].clientY);U0[2]=x0[0],U0[3]=x0[1]}if(l.touches[2]){var x0=Z.projectIntoViewport(l.touches[2].clientX,l.touches[2].clientY);U0[4]=x0[0],U0[5]=x0[1]}}else if(l.touches[0]&&!Z.touchData.didSelect){var U9=Z.touchData.start,A9=Z.touchData.last,c9;if(!Z.hoverData.draggingEles&&!Z.swipePanning)c9=Z.findNearestElement(U0[0],U0[1],!0,!0);if(q0&&U9!=null)l.preventDefault();if(q0&&U9!=null&&Z.nodeIsDraggable(U9))if(y0){var q9=Z.dragData.touchDragEles,x9=!Z.dragData.didDrag;if(x9)B(q9,{inDragLayer:!0});Z.dragData.didDrag=!0;var o0={x:0,y:0};if(K9(m0[0])&&K9(m0[1])){if(o0.x+=m0[0],o0.y+=m0[1],x9){Z.redrawHint("eles",!0);var a9=Z.touchData.dragDelta;if(a9&&K9(a9[0])&&K9(a9[1]))o0.x+=a9[0],o0.y+=a9[1]}}if(Z.hoverData.draggingEles=!0,q9.silentShift(o0).emit("position drag"),Z.redrawHint("drag",!0),Z.touchData.startPosition[0]==M0[0]&&Z.touchData.startPosition[1]==M0[1])Z.redrawHint("eles",!0);Z.redraw()}else{var a9=Z.touchData.dragDelta=Z.touchData.dragDelta||[];if(a9.length===0)a9.push(m0[0]),a9.push(m0[1]);else a9[0]+=m0[0],a9[1]+=m0[1]}{if(K(U9||c9,["touchmove","tapdrag","vmousemove"],l,{x:U0[0],y:U0[1]}),(!U9||!U9.grabbed())&&c9!=A9){if(A9)A9.emit({originalEvent:l,type:"tapdragout",position:{x:U0[0],y:U0[1]}});if(c9)c9.emit({originalEvent:l,type:"tapdragover",position:{x:U0[0],y:U0[1]}})}Z.touchData.last=c9}if(q0){for(var z8=0;z8<U0.length;z8++)if(U0[z8]&&Z.touchData.startPosition[z8]&&y0)Z.touchData.singleTouchMoved=!0}if(q0&&(U9==null||U9.pannable())&&n.panningEnabled()&&n.userPanningEnabled()){var R0=U(U9,Z.touchData.starts);if(R0){if(l.preventDefault(),!Z.data.bgActivePosistion)Z.data.bgActivePosistion=cz(Z.touchData.startPosition);if(Z.swipePanning)n.panBy({x:m0[0]*F0,y:m0[1]*F0}),n.emit("dragpan");else if(y0){if(Z.swipePanning=!0,n.panBy({x:u0*F0,y:Z9*F0}),n.emit("dragpan"),U9)U9.unactivate(),Z.redrawHint("select",!0),Z.touchData.start=null}}var x0=Z.projectIntoViewport(l.touches[0].clientX,l.touches[0].clientY);U0[0]=x0[0],U0[1]=x0[1]}}for(var d0=0;d0<U0.length;d0++)M0[d0]=U0[d0];if(q0&&l.touches.length>0&&!Z.hoverData.draggingEles&&!Z.swipePanning&&Z.data.bgActivePosistion!=null)Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0),Z.redraw()},!1);var a;Z.registerBinding(J,"touchcancel",a=function H0(l){var q0=Z.touchData.start;if(Z.touchData.capture=!1,q0)q0.unactivate()});var Q0,K0,A0,r;if(Z.registerBinding(J,"touchend",Q0=function H0(l){var q0=Z.touchData.start,G0=Z.touchData.capture;if(G0){if(l.touches.length===0)Z.touchData.capture=!1;l.preventDefault()}else return;var n=Z.selection;Z.swipePanning=!1,Z.hoverData.draggingEles=!1;var U0=Z.cy,M0=U0.zoom(),F0=Z.touchData.now,x0=Z.touchData.earlier;if(l.touches[0]){var _0=Z.projectIntoViewport(l.touches[0].clientX,l.touches[0].clientY);F0[0]=_0[0],F0[1]=_0[1]}if(l.touches[1]){var _0=Z.projectIntoViewport(l.touches[1].clientX,l.touches[1].clientY);F0[2]=_0[0],F0[3]=_0[1]}if(l.touches[2]){var _0=Z.projectIntoViewport(l.touches[2].clientX,l.touches[2].clientY);F0[4]=_0[0],F0[5]=_0[1]}if(q0)q0.unactivate();var y0;if(Z.touchData.cxt){if(y0={originalEvent:l,type:"cxttapend",position:{x:F0[0],y:F0[1]}},q0)q0.emit(y0);else U0.emit(y0);if(!Z.touchData.cxtDragged){var m0={originalEvent:l,type:"cxttap",position:{x:F0[0],y:F0[1]}};if(q0)q0.emit(m0);else U0.emit(m0)}if(Z.touchData.start)Z.touchData.start._private.grabbed=!1;Z.touchData.cxt=!1,Z.touchData.start=null,Z.redraw();return}if(!l.touches[2]&&U0.boxSelectionEnabled()&&Z.touchData.selecting){Z.touchData.selecting=!1;var d0=U0.collection(Z.getAllInBox(n[0],n[1],n[2],n[3]));n[0]=void 0,n[1]=void 0,n[2]=void 0,n[3]=void 0,n[4]=0,Z.redrawHint("select",!0),U0.emit({type:"boxend",originalEvent:l,position:{x:F0[0],y:F0[1]}});var u0=function T9(l9){return l9.selectable()&&!l9.selected()};if(d0.emit("box").stdFilter(u0).select().emit("boxselect"),d0.nonempty())Z.redrawHint("eles",!0);Z.redraw()}if(q0!=null)q0.unactivate();if(l.touches[2])Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);else if(l.touches[1]);else if(l.touches[0]);else if(!l.touches[0]){Z.data.bgActivePosistion=void 0,Z.redrawHint("select",!0);var E0=Z.dragData.touchDragEles;if(q0!=null){var Z9=q0._private.grabbed;if(A(E0),Z.redrawHint("drag",!0),Z.redrawHint("eles",!0),Z9){if(q0.emit("freeon"),E0.emit("free"),Z.dragData.didDrag)q0.emit("dragfreeon"),E0.emit("dragfree")}K(q0,["touchend","tapend","vmouseup","tapdragout"],l,{x:F0[0],y:F0[1]}),q0.unactivate(),Z.touchData.start=null}else{var i0=Z.findNearestElement(F0[0],F0[1],!0,!0);K(i0,["touchend","tapend","vmouseup","tapdragout"],l,{x:F0[0],y:F0[1]})}var Q8=Z.touchData.startPosition[0]-F0[0],F8=Q8*Q8,g9=Z.touchData.startPosition[1]-F0[1],t9=g9*g9,H9=F8+t9,f9=H9*M0*M0;if(!Z.touchData.singleTouchMoved){if(!q0)U0.$(":selected").unselect(["tapunselect"]);if(K(q0,["tap","vclick"],l,{x:F0[0],y:F0[1]}),K0=!1,l.timeStamp-r<=U0.multiClickDebounceTime())A0&&clearTimeout(A0),K0=!0,r=null,K(q0,["dbltap","vdblclick"],l,{x:F0[0],y:F0[1]});else A0=setTimeout(function(){if(K0)return;K(q0,["onetap","voneclick"],l,{x:F0[0],y:F0[1]})},U0.multiClickDebounceTime()),r=l.timeStamp}if(q0!=null&&!Z.dragData.didDrag&&q0._private.selectable&&f9<Z.touchTapThreshold2&&!Z.pinching){if(U0.selectionType()==="single")U0.$(Q).unmerge(q0).unselect(["tapunselect"]),q0.select(["tapselect"]);else if(q0.selected())q0.unselect(["tapunselect"]);else q0.select(["tapselect"]);Z.redrawHint("eles",!0)}Z.touchData.singleTouchMoved=!0}for(var t0=0;t0<F0.length;t0++)x0[t0]=F0[t0];if(Z.dragData.didDrag=!1,l.touches.length===0)Z.touchData.dragDelta=[],Z.touchData.startPosition=[null,null,null,null,null,null],Z.touchData.startGPosition=null,Z.touchData.didSelect=!1;if(l.touches.length<2){if(l.touches.length===1)Z.touchData.startGPosition=[l.touches[0].clientX,l.touches[0].clientY];Z.pinching=!1,Z.redrawHint("eles",!0),Z.redraw()}},!1),typeof TouchEvent==="undefined"){var v0=[],Y0=function H0(l){return{clientX:l.clientX,clientY:l.clientY,force:1,identifier:l.pointerId,pageX:l.pageX,pageY:l.pageY,radiusX:l.width/2,radiusY:l.height/2,screenX:l.screenX,screenY:l.screenY,target:l.target}},k0=function H0(l){return{event:l,touch:Y0(l)}},h0=function H0(l){v0.push(k0(l))},V0=function H0(l){for(var q0=0;q0<v0.length;q0++){var G0=v0[q0];if(G0.event.pointerId===l.pointerId){v0.splice(q0,1);return}}},l0=function H0(l){var q0=v0.filter(function(G0){return G0.event.pointerId===l.pointerId})[0];q0.event=l,q0.touch=Y0(l)},b0=function H0(l){l.touches=v0.map(function(q0){return q0.touch})},S0=function H0(l){return l.pointerType==="mouse"||l.pointerType===4};Z.registerBinding(Z.container,"pointerdown",function(H0){if(S0(H0))return;H0.preventDefault(),h0(H0),b0(H0),d(H0)}),Z.registerBinding(Z.container,"pointerup",function(H0){if(S0(H0))return;V0(H0),b0(H0),Q0(H0)}),Z.registerBinding(Z.container,"pointercancel",function(H0){if(S0(H0))return;V0(H0),b0(H0),a(H0)}),Z.registerBinding(Z.container,"pointermove",function(H0){if(S0(H0))return;H0.preventDefault(),l0(H0),b0(H0),o(H0)})}};$5={};$5.generatePolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,draw:function Q(K,X,U,Y,q,z){this.renderer.nodeShapeImpl("polygon",K,X,U,Y,q,this.points)},intersectLine:function Q(K,X,U,Y,q,z,G,H){return XM(q,z,this.points,K,X,U/2,Y/2,G)},checkPoint:function Q(K,X,U,Y,q,z,G,H){return f5(K,X,this.points,z,G,Y,q,[0,-1],U)}}};$5.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function Z(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U)},intersectLine:function Z(J,Q,K,X,U,Y,q,z){return ey0(U,Y,J,Q,K/2+q,X/2+q)},checkPoint:function Z(J,Q,K,X,U,Y,q,z){return sY(J,Q,X,U,Y,q,K)}}};$5.generateRoundPolygon=function(Z,J){return this.nodeShapes[Z]={renderer:this,name:Z,points:J,getOrCreateCorners:function Q(K,X,U,Y,q,z,G){if(z[G]!==void 0&&z[G+"-cx"]===K&&z[G+"-cy"]===X)return z[G];z[G]=new Array(J.length/2),z[G+"-cx"]=K,z[G+"-cy"]=X;var H=U/2,W=Y/2;q=q==="auto"?p40(U,Y):q;var F=new Array(J.length/2);for(var M=0;M<J.length/2;M++)F[M]={x:K+H*J[M*2],y:X+W*J[M*2+1]};var B,O,A,L,I=F.length;O=F[I-1];for(B=0;B<I;B++)A=F[B%I],L=F[(B+1)%I],z[G][B]=H_(O,A,L,q),O=A,A=L;return z[G]},draw:function Q(K,X,U,Y,q,z,G){this.renderer.nodeShapeImpl("round-polygon",K,X,U,Y,q,this.points,this.getOrCreateCorners(X,U,Y,q,z,G,"drawCorners"))},intersectLine:function Q(K,X,U,Y,q,z,G,H,W){return Zu0(q,z,this.points,K,X,U,Y,G,this.getOrCreateCorners(K,X,U,Y,H,W,"corners"))},checkPoint:function Q(K,X,U,Y,q,z,G,H,W){return ty0(K,X,this.points,z,G,Y,q,this.getOrCreateCorners(z,G,Y,q,H,W,"corners"))}}};$5.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:g7(4,0),draw:function Z(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,this.points,Y)},intersectLine:function Z(J,Q,K,X,U,Y,q,z){return m40(U,Y,J,Q,K,X,q,z)},checkPoint:function Z(J,Q,K,X,U,Y,q,z){var G=X/2,H=U/2;z=z==="auto"?oY(X,U):z,z=Math.min(G,H,z);var W=z*2;if(f5(J,Q,this.points,Y,q,X,U-W,[0,-1],K))return!0;if(f5(J,Q,this.points,Y,q,X-W,U,[0,-1],K))return!0;if(sY(J,Q,W,W,Y-G+z,q-H+z,K))return!0;if(sY(J,Q,W,W,Y+G-z,q-H+z,K))return!0;if(sY(J,Q,W,W,Y+G-z,q+H-z,K))return!0;if(sY(J,Q,W,W,Y-G+z,q+H-z,K))return!0;return!1}}};$5.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:t$(),points:g7(4,0),draw:function Z(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,null,Y)},generateCutTrianglePts:function Z(J,Q,K,X,U){var Y=U==="auto"?this.cornerLength:U,q=Q/2,z=J/2,G=K-z,H=K+z,W=X-q,F=X+q;return{topLeft:[G,W+Y,G+Y,W,G+Y,W+Y],topRight:[H-Y,W,H,W+Y,H-Y,W+Y],bottomRight:[H,F-Y,H-Y,F,H-Y,F-Y],bottomLeft:[G+Y,F,G,F-Y,G+Y,F-Y]}},intersectLine:function Z(J,Q,K,X,U,Y,q,z){var G=this.generateCutTrianglePts(K+2*q,X+2*q,J,Q,z),H=[].concat.apply([],[G.topLeft.splice(0,4),G.topRight.splice(0,4),G.bottomRight.splice(0,4),G.bottomLeft.splice(0,4)]);return XM(U,Y,H,J,Q)},checkPoint:function Z(J,Q,K,X,U,Y,q,z){var G=z==="auto"?this.cornerLength:z;if(f5(J,Q,this.points,Y,q,X,U-2*G,[0,-1],K))return!0;if(f5(J,Q,this.points,Y,q,X-2*G,U,[0,-1],K))return!0;var H=this.generateCutTrianglePts(X,U,Y,q);return I6(J,Q,H.topLeft)||I6(J,Q,H.topRight)||I6(J,Q,H.bottomRight)||I6(J,Q,H.bottomLeft)}}};$5.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:g7(4,0),draw:function Z(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U)},intersectLine:function Z(J,Q,K,X,U,Y,q,z){var G=0.15,H=0.5,W=0.85,F=this.generateBarrelBezierPts(K+2*q,X+2*q,J,Q),M=function O(A){var L=dz({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},G),I=dz({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},H),D=dz({x:A[0],y:A[1]},{x:A[2],y:A[3]},{x:A[4],y:A[5]},W);return[A[0],A[1],L.x,L.y,I.x,I.y,D.x,D.y,A[4],A[5]]},B=[].concat(M(F.topLeft),M(F.topRight),M(F.bottomRight),M(F.bottomLeft));return XM(U,Y,B,J,Q)},generateBarrelBezierPts:function Z(J,Q,K,X){var U=Q/2,Y=J/2,q=K-Y,z=K+Y,G=X-U,H=X+U,W=S$(J,Q),F=W.heightOffset,M=W.widthOffset,B=W.ctrlPtOffsetPct*J,O={topLeft:[q,G+F,q+B,G,q+M,G],topRight:[z-M,G,z-B,G,z,G+F],bottomRight:[z,H-F,z-B,H,z-M,H],bottomLeft:[q+M,H,q+B,H,q,H-F]};return O.topLeft.isTop=!0,O.topRight.isTop=!0,O.bottomLeft.isBottom=!0,O.bottomRight.isBottom=!0,O},checkPoint:function Z(J,Q,K,X,U,Y,q,z){var G=S$(X,U),H=G.heightOffset,W=G.widthOffset;if(f5(J,Q,this.points,Y,q,X,U-2*H,[0,-1],K))return!0;if(f5(J,Q,this.points,Y,q,X-2*W,U,[0,-1],K))return!0;var F=this.generateBarrelBezierPts(X,U,Y,q),M=function j(P,C,T){var V=T[4],S=T[2],$=T[0],f=T[5],h=T[1],v=Math.min(V,$),b=Math.max(V,$),y=Math.min(f,h),k=Math.max(f,h);if(v<=P&&P<=b&&y<=C&&C<=k){var g=Ju0(V,S,$),u=ry0(g[0],g[1],g[2],P),i=u.filter(function(e){return 0<=e&&e<=1});if(i.length>0)return i[0]}return null},B=Object.keys(F);for(var O=0;O<B.length;O++){var A=B[O],L=F[A],I=M(J,Q,L);if(I==null)continue;var D=L[5],w=L[3],N=L[1],E=bJ(D,w,N,I);if(L.isTop&&E<=Q)return!0;if(L.isBottom&&Q<=E)return!0}return!1}}};$5.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:g7(4,0),draw:function Z(J,Q,K,X,U,Y){this.renderer.nodeShapeImpl(this.name,J,Q,K,X,U,this.points,Y)},intersectLine:function Z(J,Q,K,X,U,Y,q,z){var G=J-(K/2+q),H=Q-(X/2+q),W=H,F=J+(K/2+q),M=oX(U,Y,J,Q,G,H,F,W,!1);if(M.length>0)return M;return m40(U,Y,J,Q,K,X,q,z)},checkPoint:function Z(J,Q,K,X,U,Y,q,z){z=z==="auto"?oY(X,U):z;var G=2*z;if(f5(J,Q,this.points,Y,q,X,U-G,[0,-1],K))return!0;if(f5(J,Q,this.points,Y,q,X-G,U,[0,-1],K))return!0;var H=X/2+2*K,W=U/2+2*K,F=[Y-H,q-W,Y-H,q,Y+H,q,Y+H,q-W];if(I6(J,Q,F))return!0;if(sY(J,Q,G,G,Y+X/2-z,q+U/2-z,K))return!0;if(sY(J,Q,G,G,Y-X/2+z,q+U/2-z,K))return!0;return!1}}};$5.registerNodeShapes=function(){var Z=this.nodeShapes={},J=this;this.generateEllipse(),this.generatePolygon("triangle",g7(3,0)),this.generateRoundPolygon("round-triangle",g7(3,0)),this.generatePolygon("rectangle",g7(4,0)),Z.square=Z.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var Q=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",Q),this.generateRoundPolygon("round-diamond",Q)}this.generatePolygon("pentagon",g7(5,0)),this.generateRoundPolygon("round-pentagon",g7(5,0)),this.generatePolygon("hexagon",g7(6,0)),this.generateRoundPolygon("round-hexagon",g7(6,0)),this.generatePolygon("heptagon",g7(7,0)),this.generateRoundPolygon("round-heptagon",g7(7,0)),this.generatePolygon("octagon",g7(8,0)),this.generateRoundPolygon("round-octagon",g7(8,0));var K=new Array(20);{var X=V$(5,0),U=V$(5,Math.PI/5),Y=0.5*(3-Math.sqrt(5));Y*=1.57;for(var q=0;q<U.length/2;q++)U[q*2]*=Y,U[q*2+1]*=Y;for(var q=0;q<5;q++)K[q*4]=X[q*2],K[q*4+1]=X[q*2+1],K[q*4+2]=U[q*2],K[q*4+3]=U[q*2+1]}K=g40(K),this.generatePolygon("star",K),this.generatePolygon("vee",[-1,-1,0,-0.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,0.333,-1,1,1,-0.333,1]),this.generatePolygon("right-rhomboid",[-0.333,-1,1,-1,0.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-0.95,-0.75,0,-1,0.95,1,0.95,0.75,0,1,-0.95]);{var z=[-1,-1,0.25,-1,1,0,0.25,1,-1,1];this.generatePolygon("tag",z),this.generateRoundPolygon("round-tag",z)}Z.makePolygon=function(G){var H=G.join("$"),W="polygon-"+H,F;if(F=this[W])return F;return J.generatePolygon(W,G)}};AM={};AM.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};AM.redraw=function(Z){Z=Z||b40();var J=this;if(J.averageRedrawTime===void 0)J.averageRedrawTime=0;if(J.lastRedrawTime===void 0)J.lastRedrawTime=0;if(J.lastDrawTime===void 0)J.lastDrawTime=0;J.requestedFrame=!0,J.renderOptions=Z};AM.beforeRender=function(Z,J){if(this.destroyed)return;if(J==null)pZ("Priority is not optional for beforeRender");var Q=this.beforeRenderCallbacks;Q.push({fn:Z,priority:J}),Q.sort(function(K,X){return X.priority-K.priority})};AM.startRenderLoop=function(){var Z=this,J=Z.cy;if(Z.renderLoopStarted)return;else Z.renderLoopStarted=!0;var Q=function K(X){if(Z.destroyed)return;if(J.batching());else if(Z.requestedFrame&&!Z.skipFrame){q40(Z,!0,X);var U=T5();Z.render(Z.renderOptions);var Y=Z.lastDrawTime=T5();if(Z.averageRedrawTime===void 0)Z.averageRedrawTime=Y-U;if(Z.redrawCount===void 0)Z.redrawCount=0;if(Z.redrawCount++,Z.redrawTotalTime===void 0)Z.redrawTotalTime=0;var q=Y-U;Z.redrawTotalTime+=q,Z.lastRedrawTime=q,Z.averageRedrawTime=Z.averageRedrawTime/2+q/2,Z.requestedFrame=!1}else q40(Z,!1,X);Z.skipFrame=!1,h3(K)};h3(Q)};mK0=xc0,qG=mK0.prototype;qG.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];qG.init=function(Z){var J=this;J.options=Z,J.cy=Z.cy;var Q=J.container=Z.cy.container(),K=J.cy.window();if(K){var X=K.document,U=X.head,Y="__________cytoscape_stylesheet",q="__________cytoscape_container",z=X.getElementById(Y)!=null;if(Q.className.indexOf(q)<0)Q.className=(Q.className||"")+" "+q;if(!z){var G=X.createElement("style");G.id=Y,G.textContent="."+q+" { position: relative; }",U.insertBefore(G,U.children[0])}var H=K.getComputedStyle(Q),W=H.getPropertyValue("position");if(W==="static")y8("A Cytoscape container has style position:static and so can not use UI extensions properly")}J.selection=[void 0,void 0,void 0,void 0,0],J.bezierProjPcts=[0.05,0.225,0.4,0.5,0.6,0.775,0.95],J.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},J.dragData={possibleDragElements:[]},J.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},J.redraws=0,J.showFps=Z.showFps,J.debug=Z.debug,J.hideEdgesOnViewport=Z.hideEdgesOnViewport,J.textureOnViewport=Z.textureOnViewport,J.wheelSensitivity=Z.wheelSensitivity,J.motionBlurEnabled=Z.motionBlur,J.forcedPixelRatio=K9(Z.pixelRatio)?Z.pixelRatio:null,J.motionBlur=Z.motionBlur,J.motionBlurOpacity=Z.motionBlurOpacity,J.motionBlurTransparency=1-J.motionBlurOpacity,J.motionBlurPxRatio=1,J.mbPxRBlurry=1,J.minMbLowQualFrames=4,J.fullQualityMb=!1,J.clearedForMotionBlur=[],J.desktopTapThreshold=Z.desktopTapThreshold,J.desktopTapThreshold2=Z.desktopTapThreshold*Z.desktopTapThreshold,J.touchTapThreshold=Z.touchTapThreshold,J.touchTapThreshold2=Z.touchTapThreshold*Z.touchTapThreshold,J.tapholdDuration=500,J.bindings=[],J.beforeRenderCallbacks=[],J.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},J.registerNodeShapes(),J.registerArrowShapes(),J.registerCalculationListeners()};qG.notify=function(Z,J){var Q=this,K=Q.cy;if(this.destroyed)return;if(Z==="init"){Q.load();return}if(Z==="destroy"){Q.destroy();return}if(Z==="add"||Z==="remove"||Z==="move"&&K.hasCompoundNodes()||Z==="load"||Z==="zorder"||Z==="mount")Q.invalidateCachedZSortedEles();if(Z==="viewport")Q.redrawHint("select",!0);if(Z==="load"||Z==="resize"||Z==="mount")Q.invalidateContainerClientCoordsCache(),Q.matchCanvasSize(Q.container);Q.redrawHint("eles",!0),Q.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()};qG.destroy=function(){var Z=this;Z.destroyed=!0,Z.cy.stopAnimationLoop();for(var J=0;J<Z.bindings.length;J++){var Q=Z.bindings[J],K=Q,X=K.target;(X.off||X.removeEventListener).apply(X,K.args)}if(Z.bindings=[],Z.beforeRenderCallbacks=[],Z.onUpdateEleCalcsFns=[],Z.removeObserver)Z.removeObserver.disconnect();if(Z.styleObserver)Z.styleObserver.disconnect();if(Z.resizeObserver)Z.resizeObserver.disconnect();if(Z.labelCalcDiv)try{document.body.removeChild(Z.labelCalcDiv)}catch(U){}};qG.isHeadless=function(){return!1};[G_,yK0,uK0,YG,$5,AM].forEach(function(Z){b9(qG,Z)});gK0={setupDequeueing:function Z(J){return function Q(){var K=this,X=this.renderer;if(K.dequeueingSetup)return;else K.dequeueingSetup=!0;var U=n3(function(){X.redrawHint("eles",!0),X.redrawHint("drag",!0),X.redraw()},J.deqRedrawThreshold),Y=function z(G,H){var W=T5(),F=X.averageRedrawTime,M=X.lastRedrawTime,B=[],O=X.cy.extent(),A=X.getPixelRatio();if(!G)X.flushRenderedStyleQueue();while(!0){var L=T5(),I=L-W,D=L-H;if(M<j$){var w=j$-(G?F:0);if(D>=J.deqFastCost*w)break}else if(G){if(I>=J.deqCost*M||I>=J.deqAvgCost*F)break}else if(D>=J.deqNoDrawCost*j$)break;var N=J.deq(K,A,O);if(N.length>0)for(var E=0;E<N.length;E++)B.push(N[E]);else break}if(B.length>0){if(J.onDeqd(K,B),!G&&J.shouldRedraw(K,B,A,O))U()}},q=J.priority||r$;X.beforeRender(Y,q(K))}}},hc0=function(){function Z(J){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y3;c$(this,Z),this.idsByKey=new LK,this.keyForId=new LK,this.cachesByLvl=new LK,this.lvls=[],this.getKey=J,this.doesEleInvalidateKey=Q}return l$(Z,[{key:"getIdsFor",value:function J(Q){if(Q==null)pZ("Can not get id list for null key");var K=this.idsByKey,X=this.idsByKey.get(Q);if(!X)X=new ez,K.set(Q,X);return X}},{key:"addIdForKey",value:function J(Q,K){if(Q!=null)this.getIdsFor(Q).add(K)}},{key:"deleteIdForKey",value:function J(Q,K){if(Q!=null)this.getIdsFor(Q).delete(K)}},{key:"getNumberOfIdsForKey",value:function J(Q){if(Q==null)return 0;else return this.getIdsFor(Q).size}},{key:"updateKeyMappingFor",value:function J(Q){var K=Q.id(),X=this.keyForId.get(K),U=this.getKey(Q);this.deleteIdForKey(X,K),this.addIdForKey(U,K),this.keyForId.set(K,U)}},{key:"deleteKeyMappingFor",value:function J(Q){var K=Q.id(),X=this.keyForId.get(K);this.deleteIdForKey(X,K),this.keyForId.delete(K)}},{key:"keyHasChangedFor",value:function J(Q){var K=Q.id(),X=this.keyForId.get(K),U=this.getKey(Q);return X!==U}},{key:"isInvalid",value:function J(Q){return this.keyHasChangedFor(Q)||this.doesEleInvalidateKey(Q)}},{key:"getCachesAt",value:function J(Q){var K=this.cachesByLvl,X=this.lvls,U=K.get(Q);if(!U)U=new LK,K.set(Q,U),X.push(Q);return U}},{key:"getCache",value:function J(Q,K){return this.getCachesAt(K).get(Q)}},{key:"get",value:function J(Q,K){var X=this.getKey(Q),U=this.getCache(X,K);if(U!=null)this.updateKeyMappingFor(Q);return U}},{key:"getForCachedKey",value:function J(Q,K){var X=this.keyForId.get(Q.id()),U=this.getCache(X,K);return U}},{key:"hasCache",value:function J(Q,K){return this.getCachesAt(K).has(Q)}},{key:"has",value:function J(Q,K){var X=this.getKey(Q);return this.hasCache(X,K)}},{key:"setCache",value:function J(Q,K,X){X.key=Q,this.getCachesAt(K).set(Q,X)}},{key:"set",value:function J(Q,K,X){var U=this.getKey(Q);this.setCache(U,K,X),this.updateKeyMappingFor(Q)}},{key:"deleteCache",value:function J(Q,K){this.getCachesAt(K).delete(Q)}},{key:"delete",value:function J(Q,K){var X=this.getKey(Q);this.deleteCache(X,K)}},{key:"invalidateKey",value:function J(Q){var K=this;this.lvls.forEach(function(X){return K.deleteCache(Q,X)})}},{key:"invalidate",value:function J(Q){var K=Q.id(),X=this.keyForId.get(K);this.deleteKeyMappingFor(Q);var U=this.doesEleInvalidateKey(Q);if(U)this.invalidateKey(X);return U||this.getNumberOfIdsForKey(X)===0}}]),Z}(),lz={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},tc0=U7({getKey:null,doesEleInvalidateKey:y3,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:k40,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),EJ=aF.prototype;EJ.reasons=lz;EJ.getTextureQueue=function(Z){var J=this;return J.eleImgCaches=J.eleImgCaches||{},J.eleImgCaches[Z]=J.eleImgCaches[Z]||[]};EJ.getRetiredTextureQueue=function(Z){var J=this,Q=J.eleImgCaches.retired=J.eleImgCaches.retired||{},K=Q[Z]=Q[Z]||[];return K};EJ.getElementQueue=function(){var Z=this,J=Z.eleCacheQueue=Z.eleCacheQueue||new MM(function(Q,K){return K.reqs-Q.reqs});return J};EJ.getElementKeyToQueue=function(){var Z=this,J=Z.eleKeyToCacheQueue=Z.eleKeyToCacheQueue||{};return J};EJ.getElement=function(Z,J,Q,K,X){var U=this,Y=this.renderer,q=Y.cy.zoom(),z=this.lookup;if(!J||J.w===0||J.h===0||isNaN(J.w)||isNaN(J.h)||!Z.visible()||Z.removed())return null;if(!U.allowEdgeTxrCaching&&Z.isEdge()||!U.allowParentTxrCaching&&Z.isParent())return null;if(K==null)K=Math.ceil(a$(q*Q));if(K<b3)K=b3;else if(q>=yc0||K>u$)return null;var G=Math.pow(2,K),H=J.h*G,W=J.w*G,F=Y.eleTextBiggerThanMin(Z,G);if(!this.isVisible(Z,F))return null;var M=z.get(Z,K);if(M&&M.invalidated)M.invalidated=!1,M.texture.invalidatedWidth-=M.width;if(M)return M;var B;if(H<=z40)B=z40;else if(H<=P3)B=P3;else B=Math.ceil(H/P3)*P3;if(H>pc0||W>gc0)return null;var O=U.getTextureQueue(B),A=O[O.length-2],L=function h(){return U.recycleTexture(B,W)||U.addTexture(B,W)};if(!A)A=O[O.length-1];if(!A)A=L();if(A.width-A.usedWidth<W)A=L();var I=function h(v){return v&&v.scaledLabelShown===F},D=X&&X===lz.dequeue,w=X&&X===lz.highQuality,N=X&&X===lz.downscale,E;for(var j=K+1;j<=u$;j++){var P=z.get(Z,j);if(P){E=P;break}}var C=E&&E.level===K+1?E:null,T=function h(){A.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,A.usedWidth,0,W,H)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,W,B),I(C))T();else if(I(E))if(w){for(var V=E.level;V>K;V--)C=U.getElement(Z,J,Q,V,lz.downscale);T()}else return U.queueElement(Z,E.level-1),E;else{var S;if(!D&&!w&&!N)for(var $=K-1;$>=b3;$--){var f=z.get(Z,$);if(f){S=f;break}}if(I(S))return U.queueElement(Z,K),S;A.context.translate(A.usedWidth,0),A.context.scale(G,G),this.drawElement(A.context,Z,J,F,!1),A.context.scale(1/G,1/G),A.context.translate(-A.usedWidth,0)}return M={x:A.usedWidth,texture:A,level:K,scale:G,width:W,height:H,scaledLabelShown:F},A.usedWidth+=Math.ceil(W+uc0),A.eleCaches.push(M),z.set(Z,K,M),U.checkTextureFullness(A),M};EJ.invalidateElements=function(Z){for(var J=0;J<Z.length;J++)this.invalidateElement(Z[J])};EJ.invalidateElement=function(Z){var J=this,Q=J.lookup,K=[],X=Q.isInvalid(Z);if(!X)return;for(var U=b3;U<=u$;U++){var Y=Q.getForCachedKey(Z,U);if(Y)K.push(Y)}var q=Q.invalidate(Z);if(q)for(var z=0;z<K.length;z++){var G=K[z],H=G.texture;H.invalidatedWidth+=G.width,G.invalidated=!0,J.checkTextureUtility(H)}J.removeFromQueue(Z)};EJ.checkTextureUtility=function(Z){if(Z.invalidatedWidth>=cc0*Z.width)this.retireTexture(Z)};EJ.checkTextureFullness=function(Z){var J=this,Q=J.getTextureQueue(Z.height);if(Z.usedWidth/Z.width>lc0&&Z.fullnessChecks>=dc0)JU(Q,Z);else Z.fullnessChecks++};EJ.retireTexture=function(Z){var J=this,Q=Z.height,K=J.getTextureQueue(Q),X=this.lookup;JU(K,Z),Z.retired=!0;var U=Z.eleCaches;for(var Y=0;Y<U.length;Y++){var q=U[Y];X.deleteCache(q.key,q.level)}n$(U);var z=J.getRetiredTextureQueue(Q);z.push(Z)};EJ.addTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),X={};return K.push(X),X.eleCaches=[],X.height=Z,X.width=Math.max(mc0,J),X.usedWidth=0,X.invalidatedWidth=0,X.fullnessChecks=0,X.canvas=Q.renderer.makeOffscreenCanvas(X.width,X.height),X.context=X.canvas.getContext("2d"),X};EJ.recycleTexture=function(Z,J){var Q=this,K=Q.getTextureQueue(Z),X=Q.getRetiredTextureQueue(Z);for(var U=0;U<X.length;U++){var Y=X[U];if(Y.width>=J)return Y.retired=!1,Y.usedWidth=0,Y.invalidatedWidth=0,Y.fullnessChecks=0,n$(Y.eleCaches),Y.context.setTransform(1,0,0,1,0,0),Y.context.clearRect(0,0,Y.width,Y.height),JU(X,Y),K.push(Y),Y}};EJ.queueElement=function(Z,J){var Q=this,K=Q.getElementQueue(),X=Q.getElementKeyToQueue(),U=this.getKey(Z),Y=X[U];if(Y)Y.level=Math.max(Y.level,J),Y.eles.merge(Z),Y.reqs++,K.updateItem(Y);else{var q={eles:Z.spawn().merge(Z),level:J,reqs:1,key:U};K.push(q),X[U]=q}};EJ.dequeue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),X=[],U=J.lookup;for(var Y=0;Y<oc0;Y++)if(Q.size()>0){var q=Q.pop(),z=q.key,G=q.eles[0],H=U.hasCache(G,q.level);if(K[z]=null,H)continue;X.push(q);var W=J.getBoundingBox(G);J.getElement(G,W,Z,q.level,lz.dequeue)}else break;return X};EJ.removeFromQueue=function(Z){var J=this,Q=J.getElementQueue(),K=J.getElementKeyToQueue(),X=this.getKey(Z),U=K[X];if(U!=null)if(U.eles.length===1)U.reqs=s$,Q.updateItem(U),Q.pop(),K[X]=null;else U.eles.unmerge(Z)};EJ.onDequeue=function(Z){this.onDequeues.push(Z)};EJ.offDequeue=function(Z){JU(this.onDequeues,Z)};EJ.setupDequeueing=gK0.setupDequeueing({deqRedrawThreshold:ac0,deqCost:ic0,deqAvgCost:sc0,deqNoDrawCost:rc0,deqFastCost:nc0,deq:function Z(J,Q,K){return J.dequeue(Q,K)},onDeqd:function Z(J,Q){for(var K=0;K<J.onDequeues.length;K++){var X=J.onDequeues[K];X(Q)}},shouldRedraw:function Z(J,Q,K,X){for(var U=0;U<Q.length;U++){var Y=Q[U].eles;for(var q=0;q<Y.length;q++){var z=Y[q].boundingBox();if(o$(z,X))return!0}}return!1},priority:function Z(J){return J.renderer.beforeRenderPriorities.eleTxrDeq}});Y7=pK0.prototype,Hl0=Math.pow(2,53)-1;Y7.makeLayer=function(Z,J){var Q=Math.pow(2,J),K=Math.ceil(Z.w*Q),X=Math.ceil(Z.h*Q),U=this.renderer.makeOffscreenCanvas(K,X),Y={id:H40=++H40%Hl0,bb:Z,level:J,width:K,height:X,canvas:U,context:U.getContext("2d"),eles:[],elesQueue:[],reqs:0},q=Y.context,z=-Y.bb.x1,G=-Y.bb.y1;return q.scale(Q,Q),q.translate(z,G),Y};Y7.getLayers=function(Z,J,Q){var K=this,X=K.renderer,U=X.cy,Y=U.zoom(),q=K.firstGet;if(K.firstGet=!1,Q==null){if(Q=Math.ceil(a$(Y*J)),Q<tF)Q=tF;else if(Y>=Zl0||Q>i3)return null}K.validateLayersElesOrdering(Q,Z);var z=K.layersByLevel,G=Math.pow(2,Q),H=z[Q]=z[Q]||[],W,F=K.levelIsComplete(Q,Z),M,B=function C(){var T=function f(h){if(K.validateLayersElesOrdering(h,Z),K.levelIsComplete(h,Z))return M=z[h],!0},V=function f(h){if(M)return;for(var v=Q+h;tF<=v&&v<=i3;v+=h)if(T(v))break};V(1),V(-1);for(var S=H.length-1;S>=0;S--){var $=H[S];if($.invalid)JU(H,$)}};if(!F)B();else return H;var O=function C(){if(!W){W=D6();for(var T=0;T<Z.length;T++)y40(W,Z[T].boundingBox())}return W},A=function C(T){T=T||{};var V=T.after;O();var S=W.w*G*(W.h*G);if(S>zl0)return null;var $=K.makeLayer(W,Q);if(V!=null){var f=H.indexOf(V)+1;H.splice(f,0,$)}else if(T.insert===void 0||T.insert)H.unshift($);return $};if(K.skipping&&!q)return null;var L=null,I=Z.length/ec0,D=!q;for(var w=0;w<Z.length;w++){var N=Z[w],E=N._private.rscratch,j=E.imgLayerCaches=E.imgLayerCaches||{},P=j[Q];if(P){L=P;continue}if(!L||L.eles.length>=I||!u40(L.bb,N.boundingBox())){if(L=A({insert:!0,after:L}),!L)return null}if(M||D)K.queueLayer(L,N);else K.drawEleInLayer(L,N,Q,J);L.eles.push(N),j[Q]=L}if(M)return M;if(D)return null;return H};Y7.getEleLevelForLayerLevel=function(Z,J){return Z};Y7.drawEleInLayer=function(Z,J,Q,K){var X=this,U=this.renderer,Y=Z.context,q=J.boundingBox();if(q.w===0||q.h===0||!J.visible())return;Q=X.getEleLevelForLayerLevel(Q,K),U.setImgSmoothing(Y,!1),U.drawCachedElement(Y,J,null,null,Q,Gl0),U.setImgSmoothing(Y,!0)};Y7.levelIsComplete=function(Z,J){var Q=this,K=Q.layersByLevel[Z];if(!K||K.length===0)return!1;var X=0;for(var U=0;U<K.length;U++){var Y=K[U];if(Y.reqs>0)return!1;if(Y.invalid)return!1;X+=Y.eles.length}if(X!==J.length)return!1;return!0};Y7.validateLayersElesOrdering=function(Z,J){var Q=this.layersByLevel[Z];if(!Q)return;for(var K=0;K<Q.length;K++){var X=Q[K],U=-1;for(var Y=0;Y<J.length;Y++)if(X.eles[0]===J[Y]){U=Y;break}if(U<0){this.invalidateLayer(X);continue}var q=U;for(var Y=0;Y<X.eles.length;Y++)if(X.eles[Y]!==J[q+Y]){this.invalidateLayer(X);break}}};Y7.updateElementsInLayers=function(Z,J){var Q=this,K=WM(Z[0]);for(var X=0;X<Z.length;X++){var U=K?null:Z[X],Y=K?Z[X]:Z[X].ele,q=Y._private.rscratch,z=q.imgLayerCaches=q.imgLayerCaches||{};for(var G=tF;G<=i3;G++){var H=z[G];if(!H)continue;if(U&&Q.getEleLevelForLayerLevel(H.level)!==U.level)continue;J(H,Y,U)}}};Y7.haveLayers=function(){var Z=this,J=!1;for(var Q=tF;Q<=i3;Q++){var K=Z.layersByLevel[Q];if(K&&K.length>0){J=!0;break}}return J};Y7.invalidateElements=function(Z){var J=this;if(Z.length===0)return;if(J.lastInvalidationTime=T5(),Z.length===0||!J.haveLayers())return;J.updateElementsInLayers(Z,function Q(K,X,U){J.invalidateLayer(K)})};Y7.invalidateLayer=function(Z){if(this.lastInvalidationTime=T5(),Z.invalid)return;var{level:J,eles:Q}=Z,K=this.layersByLevel[J];if(JU(K,Z),Z.elesQueue=[],Z.invalid=!0,Z.replacement)Z.replacement.invalid=!0;for(var X=0;X<Q.length;X++){var U=Q[X]._private.rscratch.imgLayerCaches;if(U)U[J]=null}};Y7.refineElementTextures=function(Z){var J=this;J.updateElementsInLayers(Z,function Q(K,X,U){var Y=K.replacement;if(!Y)Y=K.replacement=J.makeLayer(K.bb,K.level),Y.replaces=K,Y.eles=K.eles;if(!Y.reqs)for(var q=0;q<Y.eles.length;q++)J.queueLayer(Y,Y.eles[q])})};Y7.enqueueElementRefinement=function(Z){this.eleTxrDeqs.merge(Z),this.scheduleElementRefinement()};Y7.queueLayer=function(Z,J){var Q=this,K=Q.layersQueue,X=Z.elesQueue,U=X.hasId=X.hasId||{};if(Z.replacement)return;if(J){if(U[J.id()])return;X.push(J),U[J.id()]=!0}if(Z.reqs)Z.reqs++,K.updateItem(Z);else Z.reqs=1,K.push(Z)};Y7.dequeue=function(Z){var J=this,Q=J.layersQueue,K=[],X=0;while(X<ql0){if(Q.size()===0)break;var U=Q.peek();if(U.replacement){Q.pop();continue}if(U.replaces&&U!==U.replaces.replacement){Q.pop();continue}if(U.invalid){Q.pop();continue}var Y=U.elesQueue.shift();if(Y)J.drawEleInLayer(U,Y,U.level,Z),X++;if(K.length===0)K.push(!0);if(U.elesQueue.length===0){if(Q.pop(),U.reqs=0,U.replaces)J.applyLayerReplacement(U);J.requestRedraw()}}return K};Y7.applyLayerReplacement=function(Z){var J=this,Q=J.layersByLevel[Z.level],K=Z.replaces,X=Q.indexOf(K);if(X<0||K.invalid)return;Q[X]=Z;for(var U=0;U<Z.eles.length;U++){var Y=Z.eles[U]._private,q=Y.imgLayerCaches=Y.imgLayerCaches||{};if(q)q[Z.level]=Z}J.requestRedraw()};Y7.requestRedraw=n3(function(){var Z=this.renderer;Z.redrawHint("eles",!0),Z.redrawHint("drag",!0),Z.redraw()},100);Y7.setupDequeueing=gK0.setupDequeueing({deqRedrawThreshold:Jl0,deqCost:Kl0,deqAvgCost:Xl0,deqNoDrawCost:Ul0,deqFastCost:Yl0,deq:function Z(J,Q){return J.dequeue(Q)},onDeqd:r$,shouldRedraw:k40,priority:function Z(J){return J.renderer.beforeRenderPriorities.lyrTxrDeq}});cK0={};cK0.arrowShapeImpl=function(Z){return(W40||(W40={polygon:Wl0,"triangle-backcurve":Fl0,"triangle-tee":F40,"circle-triangle":Ml0,"triangle-cross":F40,circle:Bl0}))[Z]};NK={};NK.drawElement=function(Z,J,Q,K,X,U){var Y=this;if(J.isNode())Y.drawNode(Z,J,Q,K,X,U);else Y.drawEdge(Z,J,Q,K,X,U)};NK.drawElementOverlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeOverlay(Z,J);else Q.drawEdgeOverlay(Z,J)};NK.drawElementUnderlay=function(Z,J){var Q=this;if(J.isNode())Q.drawNodeUnderlay(Z,J);else Q.drawEdgeUnderlay(Z,J)};NK.drawCachedElementPortion=function(Z,J,Q,K,X,U,Y,q){var z=this,G=Q.getBoundingBox(J);if(G.w===0||G.h===0)return;var H=Q.getElement(J,G,K,X,U);if(H!=null){var W=q(z,J);if(W===0)return;var F=Y(z,J),M=G.x1,B=G.y1,O=G.w,A=G.h,L,I,D,w,N;if(F!==0){var E=Q.getRotationPoint(J);if(D=E.x,w=E.y,Z.translate(D,w),Z.rotate(F),N=z.getImgSmoothing(Z),!N)z.setImgSmoothing(Z,!0);var j=Q.getRotationOffset(J);L=j.x,I=j.y}else L=M,I=B;var P;if(W!==1)P=Z.globalAlpha,Z.globalAlpha=P*W;if(Z.drawImage(H.texture.canvas,H.x,0,H.width,H.height,L,I,O,A),W!==1)Z.globalAlpha=P;if(F!==0){if(Z.rotate(-F),Z.translate(-D,-w),!N)z.setImgSmoothing(Z,!1)}}else Q.drawElement(Z,J)};NK.drawCachedElement=function(Z,J,Q,K,X,U){var Y=this,q=Y.data,z=q.eleTxrCache,G=q.lblTxrCache,H=q.slbTxrCache,W=q.tlbTxrCache,F=J.boundingBox(),M=U===!0?z.reasons.highQuality:null;if(F.w===0||F.h===0||!J.visible())return;if(!K||o$(F,K)){var B=J.isEdge(),O=J.element()._private.rscratch.badLine;if(Y.drawElementUnderlay(Z,J),Y.drawCachedElementPortion(Z,J,z,Q,X,M,Rl0,Il0),!B||!O)Y.drawCachedElementPortion(Z,J,G,Q,X,M,Ol0,C$);if(B&&!O)Y.drawCachedElementPortion(Z,J,H,Q,X,M,Al0,C$),Y.drawCachedElementPortion(Z,J,W,Q,X,M,Ll0,C$);Y.drawElementOverlay(Z,J)}};NK.drawElements=function(Z,J){var Q=this;for(var K=0;K<J.length;K++){var X=J[K];Q.drawElement(Z,X)}};NK.drawCachedElements=function(Z,J,Q,K){var X=this;for(var U=0;U<J.length;U++){var Y=J[U];X.drawCachedElement(Z,Y,Q,K)}};NK.drawCachedNodes=function(Z,J,Q,K){var X=this;for(var U=0;U<J.length;U++){var Y=J[U];if(!Y.isNode())continue;X.drawCachedElement(Z,Y,Q,K)}};NK.drawLayeredElements=function(Z,J,Q,K){var X=this,U=X.data.lyrTxrCache.getLayers(J,Q);if(U)for(var Y=0;Y<U.length;Y++){var q=U[Y],z=q.bb;if(z.w===0||z.h===0)continue;Z.drawImage(q.canvas,z.x1,z.y1,z.w,z.h)}else X.drawCachedElements(Z,J,Q,K)};_5={};_5.drawEdge=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q=J._private.rscratch;if(U&&!J.visible())return;if(q.badLine||q.allpts==null||isNaN(q.allpts[0]))return;var z;if(Q)z=Q,Z.translate(-z.x1,-z.y1);var G=U?J.pstyle("opacity").value:1,H=U?J.pstyle("line-opacity").value:1,W=J.pstyle("curve-style").value,F=J.pstyle("line-style").value,M=J.pstyle("width").pfValue,B=J.pstyle("line-cap").value,O=J.pstyle("line-outline-width").value,A=J.pstyle("line-outline-color").value,L=G*H,I=G*H,D=function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;if(W==="straight-triangle")Y.eleStrokeStyle(Z,J,h),Y.drawEdgeTrianglePath(J,Z,q.allpts);else Z.lineWidth=M,Z.lineCap=B,Y.eleStrokeStyle(Z,J,h),Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},w=function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L;if(Z.lineWidth=M+O,Z.lineCap=B,O>0)Y.colorStrokeStyle(Z,A[0],A[1],A[2],h);else{Z.lineCap="butt";return}if(W==="straight-triangle")Y.drawEdgeTrianglePath(J,Z,q.allpts);else Y.drawEdgePath(J,Z,q.allpts,F),Z.lineCap="butt"},N=function f(){if(!X)return;Y.drawEdgeOverlay(Z,J)},E=function f(){if(!X)return;Y.drawEdgeUnderlay(Z,J)},j=function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;Y.drawArrowheads(Z,J,h)},P=function f(){Y.drawElementText(Z,J,null,K)};Z.lineJoin="round";var C=J.pstyle("ghost").value==="yes";if(C){var T=J.pstyle("ghost-offset-x").pfValue,V=J.pstyle("ghost-offset-y").pfValue,S=J.pstyle("ghost-opacity").value,$=L*S;Z.translate(T,V),D($),j($),Z.translate(-T,-V)}else w();if(E(),D(),j(),N(),P(),Q)Z.translate(z.x1,z.y1)};_5.drawEdgeOverlay=lK0("overlay");_5.drawEdgeUnderlay=lK0("underlay");_5.drawEdgePath=function(Z,J,Q,K){var X=Z._private.rscratch,U=J,Y,q=!1,z=this.usePaths(),G=Z.pstyle("line-dash-pattern").pfValue,H=Z.pstyle("line-dash-offset").pfValue;if(z){var W=Q.join("$"),F=X.pathCacheKey&&X.pathCacheKey===W;if(F)Y=J=X.pathCache,q=!0;else Y=J=new Path2D,X.pathCacheKey=W,X.pathCache=Y}if(U.setLineDash)switch(K){case"dotted":U.setLineDash([1,1]);break;case"dashed":U.setLineDash(G),U.lineDashOffset=H;break;case"solid":U.setLineDash([]);break}if(!q&&!X.badLine){if(J.beginPath)J.beginPath();switch(J.moveTo(Q[0],Q[1]),X.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var M=2;M+3<Q.length;M+=4)J.quadraticCurveTo(Q[M],Q[M+1],Q[M+2],Q[M+3]);break;case"straight":case"haystack":for(var B=2;B+1<Q.length;B+=2)J.lineTo(Q[B],Q[B+1]);break;case"segments":if(X.isRound){var O=L40(X.roundCorners),A;try{for(O.s();!(A=O.n()).done;){var L=A.value;$K0(J,L)}}catch(D){O.e(D)}finally{O.f()}J.lineTo(Q[Q.length-2],Q[Q.length-1])}else for(var I=2;I+1<Q.length;I+=2)J.lineTo(Q[I],Q[I+1]);break}}if(J=U,z)J.stroke(Y);else J.stroke();if(J.setLineDash)J.setLineDash([])};_5.drawEdgeTrianglePath=function(Z,J,Q){J.fillStyle=J.strokeStyle;var K=Z.pstyle("width").pfValue;for(var X=0;X+1<Q.length;X+=2){var U=[Q[X+2]-Q[X],Q[X+3]-Q[X+1]],Y=Math.sqrt(U[0]*U[0]+U[1]*U[1]),q=[U[1]/Y,-U[0]/Y],z=[q[0]*K/2,q[1]*K/2];J.beginPath(),J.moveTo(Q[X]-z[0],Q[X+1]-z[1]),J.lineTo(Q[X]+z[0],Q[X+1]+z[1]),J.lineTo(Q[X+2],Q[X+3]),J.closePath(),J.fill()}};_5.drawArrowheads=function(Z,J,Q){var K=J._private.rscratch,X=K.edgeType==="haystack";if(!X)this.drawArrowhead(Z,J,"source",K.arrowStartX,K.arrowStartY,K.srcArrowAngle,Q);if(this.drawArrowhead(Z,J,"mid-target",K.midX,K.midY,K.midtgtArrowAngle,Q),this.drawArrowhead(Z,J,"mid-source",K.midX,K.midY,K.midsrcArrowAngle,Q),!X)this.drawArrowhead(Z,J,"target",K.arrowEndX,K.arrowEndY,K.tgtArrowAngle,Q)};_5.drawArrowhead=function(Z,J,Q,K,X,U,Y){if(isNaN(K)||K==null||isNaN(X)||X==null||isNaN(U)||U==null)return;var q=this,z=J.pstyle(Q+"-arrow-shape").value;if(z==="none")return;var G=J.pstyle(Q+"-arrow-fill").value==="hollow"?"both":"filled",H=J.pstyle(Q+"-arrow-fill").value,W=J.pstyle("width").pfValue,F=J.pstyle(Q+"-arrow-width"),M=F.value==="match-line"?W:F.pfValue;if(F.units==="%")M*=W;var B=J.pstyle("opacity").value;if(Y===void 0)Y=B;var O=Z.globalCompositeOperation;if(Y!==1||H==="hollow")Z.globalCompositeOperation="destination-out",q.colorFillStyle(Z,255,255,255,1),q.colorStrokeStyle(Z,255,255,255,1),q.drawArrowShape(J,Z,G,W,z,M,K,X,U),Z.globalCompositeOperation=O;var A=J.pstyle(Q+"-arrow-color").value;q.colorFillStyle(Z,A[0],A[1],A[2],Y),q.colorStrokeStyle(Z,A[0],A[1],A[2],Y),q.drawArrowShape(J,Z,H,W,z,M,K,X,U)};_5.drawArrowShape=function(Z,J,Q,K,X,U,Y,q,z){var G=this,H=this.usePaths()&&X!=="triangle-cross",W=!1,F,M=J,B={x:Y,y:q},O=Z.pstyle("arrow-scale").value,A=this.getArrowWidth(K,O),L=G.arrowShapes[X];if(H){var I=G.arrowPathCache=G.arrowPathCache||[],D=nY(X),w=I[D];if(w!=null)F=J=w,W=!0;else F=J=new Path2D,I[D]=F}if(!W){if(J.beginPath)J.beginPath();if(H)L.draw(J,1,0,{x:0,y:0},1);else L.draw(J,A,z,B,K);if(J.closePath)J.closePath()}if(J=M,H)J.translate(Y,q),J.rotate(z),J.scale(A,A);if(Q==="filled"||Q==="both")if(H)J.fill(F);else J.fill();if(Q==="hollow"||Q==="both")if(J.lineWidth=U/(H?A:1),J.lineJoin="miter",H)J.stroke(F);else J.stroke();if(H)J.scale(1/A,1/A),J.rotate(-z),J.translate(-Y,-q)};F_={};F_.safeDrawImage=function(Z,J,Q,K,X,U,Y,q,z,G){if(X<=0||U<=0||z<=0||G<=0)return;try{Z.drawImage(J,Q,K,X,U,Y,q,z,G)}catch(H){y8(H)}};F_.drawInscribedImage=function(Z,J,Q,K,X){var U=this,Y=Q.position(),q=Y.x,z=Y.y,G=Q.cy().style(),H=G.getIndexedStyle.bind(G),W=H(Q,"background-fit","value",K),F=H(Q,"background-repeat","value",K),M=Q.width(),B=Q.height(),O=Q.padding()*2,A=M+(H(Q,"background-width-relative-to","value",K)==="inner"?0:O),L=B+(H(Q,"background-height-relative-to","value",K)==="inner"?0:O),I=Q._private.rscratch,D=H(Q,"background-clip","value",K),w=D==="node",N=H(Q,"background-image-opacity","value",K)*X,E=H(Q,"background-image-smoothing","value",K),j=Q.pstyle("corner-radius").value;if(j!=="auto")j=Q.pstyle("corner-radius").pfValue;var P=J.width||J.cachedW,C=J.height||J.cachedH;if(P==null||C==null)document.body.appendChild(J),P=J.cachedW=J.width||J.offsetWidth,C=J.cachedH=J.height||J.offsetHeight,document.body.removeChild(J);var T=P,V=C;if(H(Q,"background-width","value",K)!=="auto")if(H(Q,"background-width","units",K)==="%")T=H(Q,"background-width","pfValue",K)*A;else T=H(Q,"background-width","pfValue",K);if(H(Q,"background-height","value",K)!=="auto")if(H(Q,"background-height","units",K)==="%")V=H(Q,"background-height","pfValue",K)*L;else V=H(Q,"background-height","pfValue",K);if(T===0||V===0)return;if(W==="contain"){var S=Math.min(A/T,L/V);T*=S,V*=S}else if(W==="cover"){var S=Math.max(A/T,L/V);T*=S,V*=S}var $=q-A/2,f=H(Q,"background-position-x","units",K),h=H(Q,"background-position-x","pfValue",K);if(f==="%")$+=(A-T)*h;else $+=h;var v=H(Q,"background-offset-x","units",K),b=H(Q,"background-offset-x","pfValue",K);if(v==="%")$+=(A-T)*b;else $+=b;var y=z-L/2,k=H(Q,"background-position-y","units",K),g=H(Q,"background-position-y","pfValue",K);if(k==="%")y+=(L-V)*g;else y+=g;var u=H(Q,"background-offset-y","units",K),i=H(Q,"background-offset-y","pfValue",K);if(u==="%")y+=(L-V)*i;else y+=i;if(I.pathCache)$-=q,y-=z,q=0,z=0;var e=Z.globalAlpha;Z.globalAlpha=N;var J0=U.getImgSmoothing(Z),z0=!1;if(E==="no"&&J0)U.setImgSmoothing(Z,!1),z0=!0;else if(E==="yes"&&!J0)U.setImgSmoothing(Z,!0),z0=!0;if(F==="no-repeat"){if(w)if(Z.save(),I.pathCache)Z.clip(I.pathCache);else U.nodeShapes[U.getNodeShape(Q)].draw(Z,q,z,A,L,j,I),Z.clip();if(U.safeDrawImage(Z,J,0,0,P,C,$,y,T,V),w)Z.restore()}else{var t=Z.createPattern(J,F);Z.fillStyle=t,U.nodeShapes[U.getNodeShape(Q)].draw(Z,q,z,A,L,j,I),Z.translate($,y),Z.fill(),Z.translate(-$,-y)}if(Z.globalAlpha=e,z0)U.setImgSmoothing(Z,J0)};Qq={};Qq.eleTextBiggerThanMin=function(Z,J){if(!J){var Q=Z.cy().zoom(),K=this.getPixelRatio(),X=Math.ceil(a$(Q*K));J=Math.pow(2,X)}var U=Z.pstyle("font-size").pfValue*J,Y=Z.pstyle("min-zoomed-font-size").pfValue;if(U<Y)return!1;return!0};Qq.drawElementText=function(Z,J,Q,K,X){var U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this;if(K==null){if(U&&!Y.eleTextBiggerThanMin(J))return}else if(K===!1)return;if(J.isNode()){var q=J.pstyle("label");if(!q||!q.value)return;var z=Y.getLabelJustification(J);Z.textAlign=z,Z.textBaseline="bottom"}else{var G=J.element()._private.rscratch.badLine,H=J.pstyle("label"),W=J.pstyle("source-label"),F=J.pstyle("target-label");if(G||(!H||!H.value)&&(!W||!W.value)&&(!F||!F.value))return;Z.textAlign="center",Z.textBaseline="bottom"}var M=!Q,B;if(Q)B=Q,Z.translate(-B.x1,-B.y1);if(X==null){if(Y.drawText(Z,J,null,M,U),J.isEdge())Y.drawText(Z,J,"source",M,U),Y.drawText(Z,J,"target",M,U)}else Y.drawText(Z,J,X,M,U);if(Q)Z.translate(B.x1,B.y1)};Qq.getFontCache=function(Z){var J;this.fontCaches=this.fontCaches||[];for(var Q=0;Q<this.fontCaches.length;Q++)if(J=this.fontCaches[Q],J.context===Z)return J;return J={context:Z},this.fontCaches.push(J),J};Qq.setupTextStyle=function(Z,J){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,K=J.pstyle("font-style").strValue,X=J.pstyle("font-size").pfValue+"px",U=J.pstyle("font-family").strValue,Y=J.pstyle("font-weight").strValue,q=Q?J.effectiveOpacity()*J.pstyle("text-opacity").value:1,z=J.pstyle("text-outline-opacity").value*q,G=J.pstyle("color").value,H=J.pstyle("text-outline-color").value;Z.font=K+" "+Y+" "+X+" "+U,Z.lineJoin="round",this.colorFillStyle(Z,G[0],G[1],G[2],q),this.colorStrokeStyle(Z,H[0],H[1],H[2],z)};Qq.getTextAngle=function(Z,J){var Q,K=Z._private,X=K.rscratch,U=J?J+"-":"",Y=Z.pstyle(U+"text-rotation"),q=B4(X,"labelAngle",J);if(Y.strValue==="autorotate")Q=Z.isEdge()?q:0;else if(Y.strValue==="none")Q=0;else Q=Y.pfValue;return Q};Qq.drawText=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=J._private,Y=U.rscratch,q=X?J.effectiveOpacity():1;if(X&&(q===0||J.pstyle("text-opacity").value===0))return;if(Q==="main")Q=null;var z=B4(Y,"labelX",Q),G=B4(Y,"labelY",Q),H,W,F=this.getLabelText(J,Q);if(F!=null&&F!==""&&!isNaN(z)&&!isNaN(G)){this.setupTextStyle(Z,J,X);var M=Q?Q+"-":"",B=B4(Y,"labelWidth",Q),O=B4(Y,"labelHeight",Q),A=J.pstyle(M+"text-margin-x").pfValue,L=J.pstyle(M+"text-margin-y").pfValue,I=J.isEdge(),D=J.pstyle("text-halign").value,w=J.pstyle("text-valign").value;if(I)D="center",w="center";z+=A,G+=L;var N;if(!K)N=0;else N=this.getTextAngle(J,Q);if(N!==0)H=z,W=G,Z.translate(H,W),Z.rotate(N),z=0,G=0;switch(w){case"top":break;case"center":G+=O/2;break;case"bottom":G+=O;break}var E=J.pstyle("text-background-opacity").value,j=J.pstyle("text-border-opacity").value,P=J.pstyle("text-border-width").pfValue,C=J.pstyle("text-background-padding").pfValue,T=J.pstyle("text-background-shape").strValue,V=T.indexOf("round")===0,S=2;if(E>0||P>0&&j>0){var $=z-C;switch(D){case"left":$-=B;break;case"center":$-=B/2;break}var f=G-O-C,h=B+2*C,v=O+2*C;if(E>0){var b=Z.fillStyle,y=J.pstyle("text-background-color").value;if(Z.fillStyle="rgba("+y[0]+","+y[1]+","+y[2]+","+E*q+")",V)P$(Z,$,f,h,v,S);else Z.fillRect($,f,h,v);Z.fillStyle=b}if(P>0&&j>0){var{strokeStyle:k,lineWidth:g}=Z,u=J.pstyle("text-border-color").value,i=J.pstyle("text-border-style").value;if(Z.strokeStyle="rgba("+u[0]+","+u[1]+","+u[2]+","+j*q+")",Z.lineWidth=P,Z.setLineDash)switch(i){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"double":Z.lineWidth=P/4,Z.setLineDash([]);break;case"solid":Z.setLineDash([]);break}if(V)P$(Z,$,f,h,v,S,"stroke");else Z.strokeRect($,f,h,v);if(i==="double"){var e=P/2;if(V)P$(Z,$+e,f+e,h-e*2,v-e*2,S,"stroke");else Z.strokeRect($+e,f+e,h-e*2,v-e*2)}if(Z.setLineDash)Z.setLineDash([]);Z.lineWidth=g,Z.strokeStyle=k}}var J0=2*J.pstyle("text-outline-width").pfValue;if(J0>0)Z.lineWidth=J0;if(J.pstyle("text-wrap").value==="wrap"){var z0=B4(Y,"labelWrapCachedLines",Q),t=B4(Y,"labelLineHeight",Q),B0=B/2,X0=this.getLabelJustification(J);if(X0==="auto");else if(D==="left"){if(X0==="left")z+=-B;else if(X0==="center")z+=-B0}else if(D==="center"){if(X0==="left")z+=-B0;else if(X0==="right")z+=B0}else if(D==="right"){if(X0==="center")z+=B0;else if(X0==="right")z+=B}switch(w){case"top":G-=(z0.length-1)*t;break;case"center":case"bottom":G-=(z0.length-1)*t;break}for(var d=0;d<z0.length;d++){if(J0>0)Z.strokeText(z0[d],z,G);Z.fillText(z0[d],z,G),G+=t}}else{if(J0>0)Z.strokeText(F,z,G);Z.fillText(F,z,G)}if(N!==0)Z.rotate(-N),Z.translate(-H,-W)}};zG={};zG.drawNode=function(Z,J,Q){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,Y=this,q,z,G=J._private,H=G.rscratch,W=J.position();if(!K9(W.x)||!K9(W.y))return;if(U&&!J.visible())return;var F=U?J.effectiveOpacity():1,M=Y.usePaths(),B,O=!1,A=J.padding();q=J.width()+2*A,z=J.height()+2*A;var L;if(Q)L=Q,Z.translate(-L.x1,-L.y1);var I=J.pstyle("background-image"),D=I.value,w=new Array(D.length),N=new Array(D.length),E=0;for(var j=0;j<D.length;j++){var P=D[j],C=w[j]=P!=null&&P!=="none";if(C){var T=J.cy().style().getIndexedStyle(J,"background-image-crossorigin","value",j);E++,N[j]=Y.getCachedImage(P,T,function(){G.backgroundTimestamp=Date.now(),J.emitAndNotify("background")})}}var V=J.pstyle("background-blacken").value,S=J.pstyle("border-width").pfValue,$=J.pstyle("background-opacity").value*F,f=J.pstyle("border-color").value,h=J.pstyle("border-style").value,v=J.pstyle("border-join").value,b=J.pstyle("border-cap").value,y=J.pstyle("border-position").value,k=J.pstyle("border-dash-pattern").pfValue,g=J.pstyle("border-dash-offset").pfValue,u=J.pstyle("border-opacity").value*F,i=J.pstyle("outline-width").pfValue,e=J.pstyle("outline-color").value,J0=J.pstyle("outline-style").value,z0=J.pstyle("outline-opacity").value*F,t=J.pstyle("outline-offset").value,B0=J.pstyle("corner-radius").value;if(B0!=="auto")B0=J.pstyle("corner-radius").pfValue;var X0=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;Y.eleFillStyle(Z,J,M0)},d=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u;Y.colorStrokeStyle(Z,f[0],f[1],f[2],M0)},o=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z0;Y.colorStrokeStyle(Z,e[0],e[1],e[2],M0)},a=function U0(M0,F0,x0,_0){var y0=Y.nodePathCache=Y.nodePathCache||[],m0=v40(x0==="polygon"?x0+","+_0.join(","):x0,""+F0,""+M0,""+B0),d0=y0[m0],u0,E0=!1;if(d0!=null)u0=d0,E0=!0,H.pathCache=u0;else u0=new Path2D,y0[m0]=H.pathCache=u0;return{path:u0,cacheHit:E0}},Q0=J.pstyle("shape").strValue,K0=J.pstyle("shape-polygon-points").pfValue;if(M){Z.translate(W.x,W.y);var A0=a(q,z,Q0,K0);B=A0.path,O=A0.cacheHit}var r=function U0(){if(!O){var M0=W;if(M)M0={x:0,y:0};Y.nodeShapes[Y.getNodeShape(J)].draw(B||Z,M0.x,M0.y,q,z,B0,H)}if(M)Z.fill(B);else Z.fill()},v0=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,F0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,x0=G.backgrounding,_0=0;for(var y0=0;y0<N.length;y0++){var m0=J.cy().style().getIndexedStyle(J,"background-image-containment","value",y0);if(F0&&m0==="over"||!F0&&m0==="inside"){_0++;continue}if(w[y0]&&N[y0].complete&&!N[y0].error)_0++,Y.drawInscribedImage(Z,N[y0],J,y0,M0)}if(G.backgrounding=_0!==E,x0!==G.backgrounding)J.updateStyle(!1)},Y0=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,F0=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F;if(Y.hasPie(J)){if(Y.drawPie(Z,J,F0),M0){if(!M)Y.nodeShapes[Y.getNodeShape(J)].draw(Z,W.x,W.y,q,z,B0,H)}}},k0=function U0(){var M0=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F,F0=(V>0?V:-V)*M0,x0=V>0?0:255;if(V!==0)if(Y.colorFillStyle(Z,x0,x0,x0,F0),M)Z.fill(B);else Z.fill()},h0=function U0(){if(S>0){if(Z.lineWidth=S,Z.lineCap=b,Z.lineJoin=v,Z.setLineDash)switch(h){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash(k),Z.lineDashOffset=g;break;case"solid":case"double":Z.setLineDash([]);break}if(y!=="center"){if(Z.save(),Z.lineWidth*=2,y==="inside")M?Z.clip(B):Z.clip();else{var M0=new Path2D;M0.rect(-q/2-S,-z/2-S,q+2*S,z+2*S),M0.addPath(B),Z.clip(M0,"evenodd")}M?Z.stroke(B):Z.stroke(),Z.restore()}else M?Z.stroke(B):Z.stroke();if(h==="double"){Z.lineWidth=S/3;var F0=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(B);else Z.stroke();Z.globalCompositeOperation=F0}if(Z.setLineDash)Z.setLineDash([])}},V0=function U0(){if(i>0){if(Z.lineWidth=i,Z.lineCap="butt",Z.setLineDash)switch(J0){case"dotted":Z.setLineDash([1,1]);break;case"dashed":Z.setLineDash([4,2]);break;case"solid":case"double":Z.setLineDash([]);break}var M0=W;if(M)M0={x:0,y:0};var F0=Y.getNodeShape(J),x0=S;if(y==="inside")x0=0;if(y==="outside")x0*=2;var _0=(q+x0+(i+t))/q,y0=(z+x0+(i+t))/z,m0=q*_0,d0=z*y0,u0=Y.nodeShapes[F0].points,E0;if(M){var Z9=a(m0,d0,F0,u0);E0=Z9.path}if(F0==="ellipse")Y.drawEllipsePath(E0||Z,M0.x,M0.y,m0,d0);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(F0)){var i0=0,Q8=0,F8=0;if(F0==="round-diamond")i0=(x0+t+i)*1.4;else if(F0==="round-heptagon")i0=(x0+t+i)*1.075,F8=-(x0/2+t+i)/35;else if(F0==="round-hexagon")i0=(x0+t+i)*1.12;else if(F0==="round-pentagon")i0=(x0+t+i)*1.13,F8=-(x0/2+t+i)/15;else if(F0==="round-tag")i0=(x0+t+i)*1.12,Q8=(x0/2+i+t)*0.07;else if(F0==="round-triangle")i0=(x0+t+i)*(Math.PI/2),F8=-(x0+t/2+i)/Math.PI;if(i0!==0){if(_0=(q+i0)/q,m0=q*_0,!["round-hexagon","round-tag"].includes(F0))y0=(z+i0)/z,d0=z*y0}B0=B0==="auto"?p40(m0,d0):B0;var g9=m0/2,t9=d0/2,H9=B0+(x0+i+t)/2,f9=new Array(u0.length/2),t0=new Array(u0.length/2);for(var T9=0;T9<u0.length/2;T9++)f9[T9]={x:M0.x+Q8+g9*u0[T9*2],y:M0.y+F8+t9*u0[T9*2+1]};var l9,O9,w9,M9,c9=f9.length;O9=f9[c9-1];for(l9=0;l9<c9;l9++)w9=f9[l9%c9],M9=f9[(l9+1)%c9],t0[l9]=H_(O9,w9,M9,H9),O9=w9,w9=M9;Y.drawRoundPolygonPath(E0||Z,M0.x+Q8,M0.y+F8,q*_0,z*y0,u0,t0)}else if(["roundrectangle","round-rectangle"].includes(F0))B0=B0==="auto"?oY(m0,d0):B0,Y.drawRoundRectanglePath(E0||Z,M0.x,M0.y,m0,d0,B0+(x0+i+t)/2);else if(["cutrectangle","cut-rectangle"].includes(F0))B0=B0==="auto"?t$():B0,Y.drawCutRectanglePath(E0||Z,M0.x,M0.y,m0,d0,null,B0+(x0+i+t)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(F0))B0=B0==="auto"?oY(m0,d0):B0,Y.drawBottomRoundRectanglePath(E0||Z,M0.x,M0.y,m0,d0,B0+(x0+i+t)/2);else if(F0==="barrel")Y.drawBarrelPath(E0||Z,M0.x,M0.y,m0,d0);else if(F0.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(F0)){var q9=(x0+i+t)/q;u0=u3(m3(u0,q9)),Y.drawPolygonPath(E0||Z,M0.x,M0.y,q,z,u0)}else{var z8=(x0+i+t)/q;u0=u3(m3(u0,-z8)),Y.drawPolygonPath(E0||Z,M0.x,M0.y,q,z,u0)}if(M)Z.stroke(E0);else Z.stroke();if(J0==="double"){Z.lineWidth=x0/3;var N9=Z.globalCompositeOperation;if(Z.globalCompositeOperation="destination-out",M)Z.stroke(E0);else Z.stroke();Z.globalCompositeOperation=N9}if(Z.setLineDash)Z.setLineDash([])}},l0=function U0(){if(X)Y.drawNodeOverlay(Z,J,W,q,z)},b0=function U0(){if(X)Y.drawNodeUnderlay(Z,J,W,q,z)},S0=function U0(){Y.drawElementText(Z,J,null,K)},H0=J.pstyle("ghost").value==="yes";if(H0){var l=J.pstyle("ghost-offset-x").pfValue,q0=J.pstyle("ghost-offset-y").pfValue,G0=J.pstyle("ghost-opacity").value,n=G0*F;Z.translate(l,q0),o(),V0(),X0(G0*$),r(),v0(n,!0),d(G0*u),h0(),Y0(V!==0||S!==0),v0(n,!1),k0(n),Z.translate(-l,-q0)}if(M)Z.translate(-W.x,-W.y);if(b0(),M)Z.translate(W.x,W.y);if(o(),V0(),X0(),r(),v0(F,!0),d(),h0(),Y0(V!==0||S!==0),v0(F,!1),k0(),M)Z.translate(-W.x,-W.y);if(S0(),l0(),Q)Z.translate(L.x1,L.y1)};zG.drawNodeOverlay=dK0("overlay");zG.drawNodeUnderlay=dK0("underlay");zG.hasPie=function(Z){return Z=Z[0],Z._private.hasPie};zG.drawPie=function(Z,J,Q,K){J=J[0],K=K||J.position();var X=J.cy().style(),U=J.pstyle("pie-size"),Y=K.x,q=K.y,z=J.width(),G=J.height(),H=Math.min(z,G)/2,W=0,F=this.usePaths();if(F)Y=0,q=0;if(U.units==="%")H=H*U.pfValue;else if(U.pfValue!==void 0)H=U.pfValue/2;for(var M=1;M<=X.pieBackgroundN;M++){var B=J.pstyle("pie-"+M+"-background-size").value,O=J.pstyle("pie-"+M+"-background-color").value,A=J.pstyle("pie-"+M+"-background-opacity").value*Q,L=B/100;if(L+W>1)L=1-W;var I=1.5*Math.PI+2*Math.PI*W,D=2*Math.PI*L,w=I+D;if(B===0||W>=1||W+L>1)continue;Z.beginPath(),Z.moveTo(Y,q),Z.arc(Y,q,H,I,w),Z.closePath(),this.colorFillStyle(Z,O[0],O[1],O[2],A),Z.fill(),W+=L}};n6={};n6.getPixelRatio=function(){var Z=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var J=this.cy.window(),Q=Z.backingStorePixelRatio||Z.webkitBackingStorePixelRatio||Z.mozBackingStorePixelRatio||Z.msBackingStorePixelRatio||Z.oBackingStorePixelRatio||Z.backingStorePixelRatio||1;return(J.devicePixelRatio||1)/Q};n6.paintCache=function(Z){var J=this.paintCaches=this.paintCaches||[],Q=!0,K;for(var X=0;X<J.length;X++)if(K=J[X],K.context===Z){Q=!1;break}if(Q)K={context:Z},J.push(K);return K};n6.createGradientStyleFor=function(Z,J,Q,K,X){var U,Y=this.usePaths(),q=Q.pstyle(J+"-gradient-stop-colors").value,z=Q.pstyle(J+"-gradient-stop-positions").pfValue;if(K==="radial-gradient")if(Q.isEdge()){var G=Q.sourceEndpoint(),H=Q.targetEndpoint(),W=Q.midpoint(),F=aY(G,W),M=aY(H,W);U=Z.createRadialGradient(W.x,W.y,0,W.x,W.y,Math.max(F,M))}else{var B=Y?{x:0,y:0}:Q.position(),O=Q.paddedWidth(),A=Q.paddedHeight();U=Z.createRadialGradient(B.x,B.y,0,B.x,B.y,Math.max(O,A))}else if(Q.isEdge()){var L=Q.sourceEndpoint(),I=Q.targetEndpoint();U=Z.createLinearGradient(L.x,L.y,I.x,I.y)}else{var D=Y?{x:0,y:0}:Q.position(),w=Q.paddedWidth(),N=Q.paddedHeight(),E=w/2,j=N/2,P=Q.pstyle("background-gradient-direction").value;switch(P){case"to-bottom":U=Z.createLinearGradient(D.x,D.y-j,D.x,D.y+j);break;case"to-top":U=Z.createLinearGradient(D.x,D.y+j,D.x,D.y-j);break;case"to-left":U=Z.createLinearGradient(D.x+E,D.y,D.x-E,D.y);break;case"to-right":U=Z.createLinearGradient(D.x-E,D.y,D.x+E,D.y);break;case"to-bottom-right":case"to-right-bottom":U=Z.createLinearGradient(D.x-E,D.y-j,D.x+E,D.y+j);break;case"to-top-right":case"to-right-top":U=Z.createLinearGradient(D.x-E,D.y+j,D.x+E,D.y-j);break;case"to-bottom-left":case"to-left-bottom":U=Z.createLinearGradient(D.x+E,D.y-j,D.x-E,D.y+j);break;case"to-top-left":case"to-left-top":U=Z.createLinearGradient(D.x+E,D.y+j,D.x-E,D.y-j);break}}if(!U)return null;var C=z.length===q.length,T=q.length;for(var V=0;V<T;V++)U.addColorStop(C?z[V]:V/(T-1),"rgba("+q[V][0]+","+q[V][1]+","+q[V][2]+","+X+")");return U};n6.gradientFillStyle=function(Z,J,Q,K){var X=this.createGradientStyleFor(Z,"background",J,Q,K);if(!X)return null;Z.fillStyle=X};n6.colorFillStyle=function(Z,J,Q,K,X){Z.fillStyle="rgba("+J+","+Q+","+K+","+X+")"};n6.eleFillStyle=function(Z,J,Q){var K=J.pstyle("background-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientFillStyle(Z,J,K,Q);else{var X=J.pstyle("background-color").value;this.colorFillStyle(Z,X[0],X[1],X[2],Q)}};n6.gradientStrokeStyle=function(Z,J,Q,K){var X=this.createGradientStyleFor(Z,"line",J,Q,K);if(!X)return null;Z.strokeStyle=X};n6.colorStrokeStyle=function(Z,J,Q,K,X){Z.strokeStyle="rgba("+J+","+Q+","+K+","+X+")"};n6.eleStrokeStyle=function(Z,J,Q){var K=J.pstyle("line-fill").value;if(K==="linear-gradient"||K==="radial-gradient")this.gradientStrokeStyle(Z,J,K,Q);else{var X=J.pstyle("line-color").value;this.colorStrokeStyle(Z,X[0],X[1],X[2],Q)}};n6.matchCanvasSize=function(Z){var J=this,Q=J.data,K=J.findContainerClientCoords(),X=K[2],U=K[3],Y=J.getPixelRatio(),q=J.motionBlurPxRatio;if(Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_NODE]||Z===J.data.bufferCanvases[J.MOTIONBLUR_BUFFER_DRAG])Y=q;var z=X*Y,G=U*Y,H;if(z===J.canvasWidth&&G===J.canvasHeight)return;J.fontCaches=null;var W=Q.canvasContainer;W.style.width=X+"px",W.style.height=U+"px";for(var F=0;F<J.CANVAS_LAYERS;F++)H=Q.canvases[F],H.width=z,H.height=G,H.style.width=X+"px",H.style.height=U+"px";for(var F=0;F<J.BUFFER_COUNT;F++)H=Q.bufferCanvases[F],H.width=z,H.height=G,H.style.width=X+"px",H.style.height=U+"px";if(J.textureMult=1,Y<=1)H=Q.bufferCanvases[J.TEXTURE_BUFFER],J.textureMult=2,H.width=z*J.textureMult,H.height=G*J.textureMult;J.canvasWidth=z,J.canvasHeight=G};n6.renderTo=function(Z,J,Q,K){this.render({forcedContext:Z,forcedZoom:J,forcedPan:Q,drawAllLayers:!0,forcedPxRatio:K})};n6.render=function(Z){Z=Z||b40();var{forcedContext:J,drawAllLayers:Q,drawOnlyNodeLayer:K,forcedZoom:X,forcedPan:U}=Z,Y=this,q=Z.forcedPxRatio===void 0?this.getPixelRatio():Z.forcedPxRatio,z=Y.cy,G=Y.data,H=G.canvasNeedsRedraw,W=Y.textureOnViewport&&!J&&(Y.pinching||Y.hoverData.dragging||Y.swipePanning||Y.data.wheelZooming),F=Z.motionBlur!==void 0?Z.motionBlur:Y.motionBlur,M=Y.motionBlurPxRatio,B=z.hasCompoundNodes(),O=Y.hoverData.draggingEles,A=Y.hoverData.selecting||Y.touchData.selecting?!0:!1;F=F&&!J&&Y.motionBlurEnabled&&!A;var L=F;if(!J){if(Y.prevPxRatio!==q)Y.invalidateContainerClientCoordsCache(),Y.matchCanvasSize(Y.container),Y.redrawHint("eles",!0),Y.redrawHint("drag",!0);Y.prevPxRatio=q}if(!J&&Y.motionBlurTimeout)clearTimeout(Y.motionBlurTimeout);if(F){if(Y.mbFrames==null)Y.mbFrames=0;if(Y.mbFrames++,Y.mbFrames<3)L=!1;if(Y.mbFrames>Y.minMbLowQualFrames)Y.motionBlurPxRatio=Y.mbPxRBlurry}if(Y.clearingMotionBlur)Y.motionBlurPxRatio=1;if(Y.textureDrawLastFrame&&!W)H[Y.NODE]=!0,H[Y.SELECT_BOX]=!0;var I=z.style(),D=z.zoom(),w=X!==void 0?X:D,N=z.pan(),E={x:N.x,y:N.y},j={zoom:D,pan:{x:N.x,y:N.y}},P=Y.prevViewport,C=P===void 0||j.zoom!==P.zoom||j.pan.x!==P.pan.x||j.pan.y!==P.pan.y;if(!C&&!(O&&!B))Y.motionBlurPxRatio=1;if(U)E=U;w*=q,E.x*=q,E.y*=q;var T=Y.getCachedZSortedEles();function V(A0,r,v0,Y0,k0){var h0=A0.globalCompositeOperation;A0.globalCompositeOperation="destination-out",Y.colorFillStyle(A0,255,255,255,Y.motionBlurTransparency),A0.fillRect(r,v0,Y0,k0),A0.globalCompositeOperation=h0}function S(A0,r){var v0,Y0,k0,h0;if(!Y.clearingMotionBlur&&(A0===G.bufferContexts[Y.MOTIONBLUR_BUFFER_NODE]||A0===G.bufferContexts[Y.MOTIONBLUR_BUFFER_DRAG]))v0={x:N.x*M,y:N.y*M},Y0=D*M,k0=Y.canvasWidth*M,h0=Y.canvasHeight*M;else v0=E,Y0=w,k0=Y.canvasWidth,h0=Y.canvasHeight;if(A0.setTransform(1,0,0,1,0,0),r==="motionBlur")V(A0,0,0,k0,h0);else if(!J&&(r===void 0||r))A0.clearRect(0,0,k0,h0);if(!Q)A0.translate(v0.x,v0.y),A0.scale(Y0,Y0);if(U)A0.translate(U.x,U.y);if(X)A0.scale(X,X)}if(!W)Y.textureDrawLastFrame=!1;if(W){if(Y.textureDrawLastFrame=!0,!Y.textureCache){Y.textureCache={},Y.textureCache.bb=z.mutableElements().boundingBox(),Y.textureCache.texture=Y.data.bufferCanvases[Y.TEXTURE_BUFFER];var $=Y.data.bufferContexts[Y.TEXTURE_BUFFER];$.setTransform(1,0,0,1,0,0),$.clearRect(0,0,Y.canvasWidth*Y.textureMult,Y.canvasHeight*Y.textureMult),Y.render({forcedContext:$,drawOnlyNodeLayer:!0,forcedPxRatio:q*Y.textureMult});var j=Y.textureCache.viewport={zoom:z.zoom(),pan:z.pan(),width:Y.canvasWidth,height:Y.canvasHeight};j.mpan={x:(0-j.pan.x)/j.zoom,y:(0-j.pan.y)/j.zoom}}H[Y.DRAG]=!1,H[Y.NODE]=!1;var f=G.contexts[Y.NODE],h=Y.textureCache.texture,j=Y.textureCache.viewport;if(f.setTransform(1,0,0,1,0,0),F)V(f,0,0,j.width,j.height);else f.clearRect(0,0,j.width,j.height);var v=I.core("outside-texture-bg-color").value,b=I.core("outside-texture-bg-opacity").value;Y.colorFillStyle(f,v[0],v[1],v[2],b),f.fillRect(0,0,j.width,j.height);var D=z.zoom();S(f,!1),f.clearRect(j.mpan.x,j.mpan.y,j.width/j.zoom/q,j.height/j.zoom/q),f.drawImage(h,j.mpan.x,j.mpan.y,j.width/j.zoom/q,j.height/j.zoom/q)}else if(Y.textureOnViewport&&!J)Y.textureCache=null;var y=z.extent(),k=Y.pinching||Y.hoverData.dragging||Y.swipePanning||Y.data.wheelZooming||Y.hoverData.draggingEles||Y.cy.animated(),g=Y.hideEdgesOnViewport&&k,u=[];if(u[Y.NODE]=!H[Y.NODE]&&F&&!Y.clearedForMotionBlur[Y.NODE]||Y.clearingMotionBlur,u[Y.NODE])Y.clearedForMotionBlur[Y.NODE]=!0;if(u[Y.DRAG]=!H[Y.DRAG]&&F&&!Y.clearedForMotionBlur[Y.DRAG]||Y.clearingMotionBlur,u[Y.DRAG])Y.clearedForMotionBlur[Y.DRAG]=!0;if(H[Y.NODE]||Q||K||u[Y.NODE]){var i=F&&!u[Y.NODE]&&M!==1,f=J||(i?Y.data.bufferContexts[Y.MOTIONBLUR_BUFFER_NODE]:G.contexts[Y.NODE]),e=F&&!i?"motionBlur":void 0;if(S(f,e),g)Y.drawCachedNodes(f,T.nondrag,q,y);else Y.drawLayeredElements(f,T.nondrag,q,y);if(Y.debug)Y.drawDebugPoints(f,T.nondrag);if(!Q&&!F)H[Y.NODE]=!1}if(!K&&(H[Y.DRAG]||Q||u[Y.DRAG])){var i=F&&!u[Y.DRAG]&&M!==1,f=J||(i?Y.data.bufferContexts[Y.MOTIONBLUR_BUFFER_DRAG]:G.contexts[Y.DRAG]);if(S(f,F&&!i?"motionBlur":void 0),g)Y.drawCachedNodes(f,T.drag,q,y);else Y.drawCachedElements(f,T.drag,q,y);if(Y.debug)Y.drawDebugPoints(f,T.drag);if(!Q&&!F)H[Y.DRAG]=!1}if(Y.showFps||!K&&H[Y.SELECT_BOX]&&!Q){var f=J||G.contexts[Y.SELECT_BOX];if(S(f),Y.selection[4]==1&&(Y.hoverData.selecting||Y.touchData.selecting)){var D=Y.cy.zoom(),J0=I.core("selection-box-border-width").value/D;if(f.lineWidth=J0,f.fillStyle="rgba("+I.core("selection-box-color").value[0]+","+I.core("selection-box-color").value[1]+","+I.core("selection-box-color").value[2]+","+I.core("selection-box-opacity").value+")",f.fillRect(Y.selection[0],Y.selection[1],Y.selection[2]-Y.selection[0],Y.selection[3]-Y.selection[1]),J0>0)f.strokeStyle="rgba("+I.core("selection-box-border-color").value[0]+","+I.core("selection-box-border-color").value[1]+","+I.core("selection-box-border-color").value[2]+","+I.core("selection-box-opacity").value+")",f.strokeRect(Y.selection[0],Y.selection[1],Y.selection[2]-Y.selection[0],Y.selection[3]-Y.selection[1])}if(G.bgActivePosistion&&!Y.hoverData.selecting){var D=Y.cy.zoom(),z0=G.bgActivePosistion;f.fillStyle="rgba("+I.core("active-bg-color").value[0]+","+I.core("active-bg-color").value[1]+","+I.core("active-bg-color").value[2]+","+I.core("active-bg-opacity").value+")",f.beginPath(),f.arc(z0.x,z0.y,I.core("active-bg-size").pfValue/D,0,2*Math.PI),f.fill()}var t=Y.lastRedrawTime;if(Y.showFps&&t){t=Math.round(t);var B0=Math.round(1000/t);f.setTransform(1,0,0,1,0,0),f.fillStyle="rgba(255, 0, 0, 0.75)",f.strokeStyle="rgba(255, 0, 0, 0.75)",f.lineWidth=1,f.fillText("1 frame = "+t+" ms = "+B0+" fps",0,20);var X0=60;f.strokeRect(0,30,250,20),f.fillRect(0,30,250*Math.min(B0/X0,1),20)}if(!Q)H[Y.SELECT_BOX]=!1}if(F&&M!==1){var d=G.contexts[Y.NODE],o=Y.data.bufferCanvases[Y.MOTIONBLUR_BUFFER_NODE],a=G.contexts[Y.DRAG],Q0=Y.data.bufferCanvases[Y.MOTIONBLUR_BUFFER_DRAG],K0=function A0(r,v0,Y0){if(r.setTransform(1,0,0,1,0,0),Y0||!L)r.clearRect(0,0,Y.canvasWidth,Y.canvasHeight);else V(r,0,0,Y.canvasWidth,Y.canvasHeight);var k0=M;r.drawImage(v0,0,0,Y.canvasWidth*k0,Y.canvasHeight*k0,0,0,Y.canvasWidth,Y.canvasHeight)};if(H[Y.NODE]||u[Y.NODE])K0(d,o,u[Y.NODE]),H[Y.NODE]=!1;if(H[Y.DRAG]||u[Y.DRAG])K0(a,Q0,u[Y.DRAG]),H[Y.DRAG]=!1}if(Y.prevViewport=j,Y.clearingMotionBlur)Y.clearingMotionBlur=!1,Y.motionBlurCleared=!0,Y.motionBlur=!0;if(F)Y.motionBlurTimeout=setTimeout(function(){Y.motionBlurTimeout=null,Y.clearedForMotionBlur[Y.NODE]=!1,Y.clearedForMotionBlur[Y.DRAG]=!1,Y.motionBlur=!1,Y.clearingMotionBlur=!W,Y.mbFrames=0,H[Y.NODE]=!0,H[Y.DRAG]=!0,Y.redraw()},Dl0);if(!J)z.emit("render")};YU={};YU.drawPolygonPath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2;if(Z.beginPath)Z.beginPath();Z.moveTo(J+Y*U[0],Q+q*U[1]);for(var z=1;z<U.length/2;z++)Z.lineTo(J+Y*U[z*2],Q+q*U[z*2+1]);Z.closePath()};YU.drawRoundPolygonPath=function(Z,J,Q,K,X,U,Y){Y.forEach(function(q){return $K0(Z,q)}),Z.closePath()};YU.drawRoundRectanglePath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2,z=U==="auto"?oY(K,X):Math.min(U,q,Y);if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.arcTo(J+Y,Q-q,J+Y,Q,z),Z.arcTo(J+Y,Q+q,J,Q+q,z),Z.arcTo(J-Y,Q+q,J-Y,Q,z),Z.arcTo(J-Y,Q-q,J,Q-q,z),Z.lineTo(J,Q-q),Z.closePath()};YU.drawBottomRoundRectanglePath=function(Z,J,Q,K,X,U){var Y=K/2,q=X/2,z=U==="auto"?oY(K,X):U;if(Z.beginPath)Z.beginPath();Z.moveTo(J,Q-q),Z.lineTo(J+Y,Q-q),Z.lineTo(J+Y,Q),Z.arcTo(J+Y,Q+q,J,Q+q,z),Z.arcTo(J-Y,Q+q,J-Y,Q,z),Z.lineTo(J-Y,Q-q),Z.lineTo(J,Q-q),Z.closePath()};YU.drawCutRectanglePath=function(Z,J,Q,K,X,U,Y){var q=K/2,z=X/2,G=Y==="auto"?t$():Y;if(Z.beginPath)Z.beginPath();Z.moveTo(J-q+G,Q-z),Z.lineTo(J+q-G,Q-z),Z.lineTo(J+q,Q-z+G),Z.lineTo(J+q,Q+z-G),Z.lineTo(J+q-G,Q+z),Z.lineTo(J-q+G,Q+z),Z.lineTo(J-q,Q+z-G),Z.lineTo(J-q,Q-z+G),Z.closePath()};YU.drawBarrelPath=function(Z,J,Q,K,X){var U=K/2,Y=X/2,q=J-U,z=J+U,G=Q-Y,H=Q+Y,W=S$(K,X),F=W.widthOffset,M=W.heightOffset,B=W.ctrlPtOffsetPct*F;if(Z.beginPath)Z.beginPath();Z.moveTo(q,G+M),Z.lineTo(q,H-M),Z.quadraticCurveTo(q+B,H,q+F,H),Z.lineTo(z-F,H),Z.quadraticCurveTo(z-B,H,z,H-M),Z.lineTo(z,G+M),Z.quadraticCurveTo(z-B,G,z-F,G),Z.lineTo(q+F,G),Z.quadraticCurveTo(q+B,G,q,G+M),Z.closePath()};M40=Math.sin(0),B40=Math.cos(0),m$={},g$={},iK0=Math.PI/40;for(pY=0*Math.PI;pY<2*Math.PI;pY+=iK0)m$[pY]=Math.sin(pY),g$[pY]=Math.cos(pY);YU.drawEllipsePath=function(Z,J,Q,K,X){if(Z.beginPath)Z.beginPath();if(Z.ellipse)Z.ellipse(J,Q,K/2,X/2,0,0,2*Math.PI);else{var U,Y,q=K/2,z=X/2;for(var G=0*Math.PI;G<2*Math.PI;G+=iK0)if(U=J-q*m$[G]*M40+q*g$[G]*B40,Y=Q+z*g$[G]*M40+z*m$[G]*B40,G===0)Z.moveTo(U,Y);else Z.lineTo(U,Y)}Z.closePath()};LM={};LM.createBuffer=function(Z,J){var Q=document.createElement("canvas");return Q.width=Z,Q.height=J,[Q,Q.getContext("2d")]};LM.bufferCanvasImage=function(Z){var J=this.cy,Q=J.mutableElements(),K=Q.boundingBox(),X=this.findContainerClientCoords(),U=Z.full?Math.ceil(K.w):X[2],Y=Z.full?Math.ceil(K.h):X[3],q=K9(Z.maxWidth)||K9(Z.maxHeight),z=this.getPixelRatio(),G=1;if(Z.scale!==void 0)U*=Z.scale,Y*=Z.scale,G=Z.scale;else if(q){var H=1/0,W=1/0;if(K9(Z.maxWidth))H=G*Z.maxWidth/U;if(K9(Z.maxHeight))W=G*Z.maxHeight/Y;G=Math.min(H,W),U*=G,Y*=G}if(!q)U*=z,Y*=z,G*=z;var F=document.createElement("canvas");F.width=U,F.height=Y,F.style.width=U+"px",F.style.height=Y+"px";var M=F.getContext("2d");if(U>0&&Y>0){M.clearRect(0,0,U,Y),M.globalCompositeOperation="source-over";var B=this.getCachedZSortedEles();if(Z.full)M.translate(-K.x1*G,-K.y1*G),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(K.x1*G,K.y1*G);else{var O=J.pan(),A={x:O.x*G,y:O.y*G};G*=J.zoom(),M.translate(A.x,A.y),M.scale(G,G),this.drawElements(M,B),M.scale(1/G,1/G),M.translate(-A.x,-A.y)}if(Z.bg)M.globalCompositeOperation="destination-over",M.fillStyle=Z.bg,M.rect(0,0,U,Y),M.fill()}return F};LM.png=function(Z){return sK0(Z,this.bufferCanvasImage(Z),"image/png")};LM.jpg=function(Z){return sK0(Z,this.bufferCanvasImage(Z),"image/jpeg")};rK0={};rK0.nodeShapeImpl=function(Z,J,Q,K,X,U,Y,q){switch(Z){case"ellipse":return this.drawEllipsePath(J,Q,K,X,U);case"polygon":return this.drawPolygonPath(J,Q,K,X,U,Y);case"round-polygon":return this.drawRoundPolygonPath(J,Q,K,X,U,Y,q);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(J,Q,K,X,U,q);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(J,Q,K,X,U,Y,q);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(J,Q,K,X,U,q);case"barrel":return this.drawBarrelPath(J,Q,K,X,U)}};El0=nK0,S8=nK0.prototype;S8.CANVAS_LAYERS=3;S8.SELECT_BOX=0;S8.DRAG=1;S8.NODE=2;S8.BUFFER_COUNT=3;S8.TEXTURE_BUFFER=0;S8.MOTIONBLUR_BUFFER_NODE=1;S8.MOTIONBLUR_BUFFER_DRAG=2;S8.redrawHint=function(Z,J){var Q=this;switch(Z){case"eles":Q.data.canvasNeedsRedraw[S8.NODE]=J;break;case"drag":Q.data.canvasNeedsRedraw[S8.DRAG]=J;break;case"select":Q.data.canvasNeedsRedraw[S8.SELECT_BOX]=J;break}};wl0=typeof Path2D!=="undefined";S8.path2dEnabled=function(Z){if(Z===void 0)return this.pathsEnabled;this.pathsEnabled=Z?!0:!1};S8.usePaths=function(){return wl0&&this.pathsEnabled};S8.setImgSmoothing=function(Z,J){if(Z.imageSmoothingEnabled!=null)Z.imageSmoothingEnabled=J;else Z.webkitImageSmoothingEnabled=J,Z.mozImageSmoothingEnabled=J,Z.msImageSmoothingEnabled=J};S8.getImgSmoothing=function(Z){if(Z.imageSmoothingEnabled!=null)return Z.imageSmoothingEnabled;else return Z.webkitImageSmoothingEnabled||Z.mozImageSmoothingEnabled||Z.msImageSmoothingEnabled};S8.makeOffscreenCanvas=function(Z,J){var Q;if((typeof OffscreenCanvas==="undefined"?"undefined":NJ(OffscreenCanvas))!=="undefined")Q=new OffscreenCanvas(Z,J);else{var K=this.cy.window(),X=K.document;Q=X.createElement("canvas"),Q.width=Z,Q.height=J}return Q};[cK0,NK,_5,F_,Qq,zG,n6,YU,LM,rK0].forEach(function(Z){b9(S8,Z)});jl0=[{name:"null",impl:fK0},{name:"base",impl:mK0},{name:"canvas",impl:El0}],Cl0=[{type:"layout",extensions:vc0},{type:"renderer",extensions:jl0}],aK0={},oK0={};GM.prototype.extension=p$;Cl0.forEach(function(Z){Z.extensions.forEach(function(J){tK0(Z.type,J.name,J.impl)})});Zq=Z50.prototype;Zq.instanceString=function(){return"stylesheet"};Zq.selector=function(Z){var J=this.length++;return this[J]={selector:Z,properties:[]},this};Zq.css=function(Z,J){var Q=this.length-1;if(S9(Z))this[Q].properties.push({name:Z,value:J});else if(D8(Z)){var K=Z,X=Object.keys(K);for(var U=0;U<X.length;U++){var Y=X[U],q=K[Y];if(q==null)continue;var z=A7.properties[Y]||A7.properties[s3(Y)];if(z==null)continue;var G=z.name,H=q;this[Q].properties.push({name:G,value:H})}}return this};Zq.style=Zq.css;Zq.generateStyle=function(Z){var J=new A7(Z);return this.appendToStyle(J)};Zq.appendToStyle=function(Z){for(var J=0;J<this.length;J++){var Q=this[J],K=Q.selector,X=Q.properties;Z.selector(K);for(var U=0;U<X.length;U++){var Y=X[U];Z.css(Y.name,Y.value)}}return Z};k5.use=function(Z){var J=Array.prototype.slice.call(arguments,1);return J.unshift(k5),Z.apply(null,J),this};k5.warnings=function(Z){return $40(Z)};k5.version=Sl0;k5.stylesheet=k5.Stylesheet=Z50});var B_=i7((IM,M_)=>{(function Z(J,Q){if(typeof IM==="object"&&typeof M_==="object")M_.exports=Q();else if(typeof define==="function"&&define.amd)define([],Q);else if(typeof IM==="object")IM.layoutBase=Q();else J.layoutBase=Q()})(IM,function(){return function(Z){var J={};function Q(K){if(J[K])return J[K].exports;var X=J[K]={i:K,l:!1,exports:{}};return Z[K].call(X.exports,X,X.exports,Q),X.l=!0,X.exports}return Q.m=Z,Q.c=J,Q.i=function(K){return K},Q.d=function(K,X,U){if(!Q.o(K,X))Object.defineProperty(K,X,{configurable:!1,enumerable:!0,get:U})},Q.n=function(K){var X=K&&K.__esModule?function U(){return K.default}:function U(){return K};return Q.d(X,"a",X),X},Q.o=function(K,X){return Object.prototype.hasOwnProperty.call(K,X)},Q.p="",Q(Q.s=26)}([function(Z,J,Q){function K(){}K.QUALITY=1,K.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,K.DEFAULT_INCREMENTAL=!1,K.DEFAULT_ANIMATION_ON_LAYOUT=!0,K.DEFAULT_ANIMATION_DURING_LAYOUT=!1,K.DEFAULT_ANIMATION_PERIOD=50,K.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,K.DEFAULT_GRAPH_MARGIN=15,K.NODE_DIMENSIONS_INCLUDE_LABELS=!1,K.SIMPLE_NODE_SIZE=40,K.SIMPLE_NODE_HALF_SIZE=K.SIMPLE_NODE_SIZE/2,K.EMPTY_COMPOUND_NODE_SIZE=40,K.MIN_EDGE_LENGTH=1,K.WORLD_BOUNDARY=1e6,K.INITIAL_WORLD_BOUNDARY=K.WORLD_BOUNDARY/1000,K.WORLD_CENTER_X=1200,K.WORLD_CENTER_Y=900,Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(8),U=Q(9);function Y(z,G,H){K.call(this,H),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=H,this.bendpoints=[],this.source=z,this.target=G}Y.prototype=Object.create(K.prototype);for(var q in K)Y[q]=K[q];Y.prototype.getSource=function(){return this.source},Y.prototype.getTarget=function(){return this.target},Y.prototype.isInterGraph=function(){return this.isInterGraph},Y.prototype.getLength=function(){return this.length},Y.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},Y.prototype.getBendpoints=function(){return this.bendpoints},Y.prototype.getLca=function(){return this.lca},Y.prototype.getSourceInLca=function(){return this.sourceInLca},Y.prototype.getTargetInLca=function(){return this.targetInLca},Y.prototype.getOtherEnd=function(z){if(this.source===z)return this.target;else if(this.target===z)return this.source;else throw"Node is not incident with this edge"},Y.prototype.getOtherEndInGraph=function(z,G){var H=this.getOtherEnd(z),W=G.getGraphManager().getRoot();while(!0){if(H.getOwner()==G)return H;if(H.getOwner()==W)break;H=H.getOwner().getParent()}return null},Y.prototype.updateLength=function(){var z=new Array(4);if(this.isOverlapingSourceAndTarget=X.getIntersection(this.target.getRect(),this.source.getRect(),z),!this.isOverlapingSourceAndTarget){if(this.lengthX=z[0]-z[2],this.lengthY=z[1]-z[3],Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)}},Y.prototype.updateLengthSimple=function(){if(this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1)this.lengthX=U.sign(this.lengthX);if(Math.abs(this.lengthY)<1)this.lengthY=U.sign(this.lengthY);this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},Z.exports=Y},function(Z,J,Q){function K(X){this.vGraphObject=X}Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(13),Y=Q(0),q=Q(16),z=Q(4);function G(W,F,M,B){if(M==null&&B==null)B=F;if(K.call(this,B),W.graphManager!=null)W=W.graphManager;if(this.estimatedSize=X.MIN_VALUE,this.inclusionTreeDepth=X.MAX_VALUE,this.vGraphObject=B,this.edges=[],this.graphManager=W,M!=null&&F!=null)this.rect=new U(F.x,F.y,M.width,M.height);else this.rect=new U}G.prototype=Object.create(K.prototype);for(var H in K)G[H]=K[H];G.prototype.getEdges=function(){return this.edges},G.prototype.getChild=function(){return this.child},G.prototype.getOwner=function(){return this.owner},G.prototype.getWidth=function(){return this.rect.width},G.prototype.setWidth=function(W){this.rect.width=W},G.prototype.getHeight=function(){return this.rect.height},G.prototype.setHeight=function(W){this.rect.height=W},G.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},G.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},G.prototype.getCenter=function(){return new z(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},G.prototype.getLocation=function(){return new z(this.rect.x,this.rect.y)},G.prototype.getRect=function(){return this.rect},G.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},G.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},G.prototype.setRect=function(W,F){this.rect.x=W.x,this.rect.y=W.y,this.rect.width=F.width,this.rect.height=F.height},G.prototype.setCenter=function(W,F){this.rect.x=W-this.rect.width/2,this.rect.y=F-this.rect.height/2},G.prototype.setLocation=function(W,F){this.rect.x=W,this.rect.y=F},G.prototype.moveBy=function(W,F){this.rect.x+=W,this.rect.y+=F},G.prototype.getEdgeListToNode=function(W){var F=[],M,B=this;return B.edges.forEach(function(O){if(O.target==W){if(O.source!=B)throw"Incorrect edge source!";F.push(O)}}),F},G.prototype.getEdgesBetween=function(W){var F=[],M,B=this;return B.edges.forEach(function(O){if(!(O.source==B||O.target==B))throw"Incorrect edge source and/or target";if(O.target==W||O.source==W)F.push(O)}),F},G.prototype.getNeighborsList=function(){var W=new Set,F=this;return F.edges.forEach(function(M){if(M.source==F)W.add(M.target);else{if(M.target!=F)throw"Incorrect incidency!";W.add(M.source)}}),W},G.prototype.withChildren=function(){var W=new Set,F,M;if(W.add(this),this.child!=null){var B=this.child.getNodes();for(var O=0;O<B.length;O++)F=B[O],M=F.withChildren(),M.forEach(function(A){W.add(A)})}return W},G.prototype.getNoOfChildren=function(){var W=0,F;if(this.child==null)W=1;else{var M=this.child.getNodes();for(var B=0;B<M.length;B++)F=M[B],W+=F.getNoOfChildren()}if(W==0)W=1;return W},G.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},G.prototype.calcEstimatedSize=function(){if(this.child==null)return this.estimatedSize=(this.rect.width+this.rect.height)/2;else return this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize},G.prototype.scatter=function(){var W,F,M=-Y.INITIAL_WORLD_BOUNDARY,B=Y.INITIAL_WORLD_BOUNDARY;W=Y.WORLD_CENTER_X+q.nextDouble()*(B-M)+M;var O=-Y.INITIAL_WORLD_BOUNDARY,A=Y.INITIAL_WORLD_BOUNDARY;F=Y.WORLD_CENTER_Y+q.nextDouble()*(A-O)+O,this.rect.x=W,this.rect.y=F},G.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var W=this.getChild();if(W.updateBounds(!0),this.rect.x=W.getLeft(),this.rect.y=W.getTop(),this.setWidth(W.getRight()-W.getLeft()),this.setHeight(W.getBottom()-W.getTop()),Y.NODE_DIMENSIONS_INCLUDE_LABELS){var F=W.getRight()-W.getLeft(),M=W.getBottom()-W.getTop();if(this.labelWidth>F)this.rect.x-=(this.labelWidth-F)/2,this.setWidth(this.labelWidth);if(this.labelHeight>M){if(this.labelPos=="center")this.rect.y-=(this.labelHeight-M)/2;else if(this.labelPos=="top")this.rect.y-=this.labelHeight-M;this.setHeight(this.labelHeight)}}}},G.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==X.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},G.prototype.transform=function(W){var F=this.rect.x;if(F>Y.WORLD_BOUNDARY)F=Y.WORLD_BOUNDARY;else if(F<-Y.WORLD_BOUNDARY)F=-Y.WORLD_BOUNDARY;var M=this.rect.y;if(M>Y.WORLD_BOUNDARY)M=Y.WORLD_BOUNDARY;else if(M<-Y.WORLD_BOUNDARY)M=-Y.WORLD_BOUNDARY;var B=new z(F,M),O=W.inverseTransformPoint(B);this.setLocation(O.x,O.y)},G.prototype.getLeft=function(){return this.rect.x},G.prototype.getRight=function(){return this.rect.x+this.rect.width},G.prototype.getTop=function(){return this.rect.y},G.prototype.getBottom=function(){return this.rect.y+this.rect.height},G.prototype.getParent=function(){if(this.owner==null)return null;return this.owner.getParent()},Z.exports=G},function(Z,J,Q){function K(X,U){if(X==null&&U==null)this.x=0,this.y=0;else this.x=X,this.y=U}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.setX=function(X){this.x=X},K.prototype.setY=function(X){this.y=X},K.prototype.getDifference=function(X){return new DimensionD(this.x-X.x,this.y-X.y)},K.prototype.getCopy=function(){return new K(this.x,this.y)},K.prototype.translate=function(X){return this.x+=X.width,this.y+=X.height,this},Z.exports=K},function(Z,J,Q){var K=Q(2),X=Q(10),U=Q(0),Y=Q(6),q=Q(3),z=Q(1),G=Q(13),H=Q(12),W=Q(11);function F(B,O,A){if(K.call(this,A),this.estimatedSize=X.MIN_VALUE,this.margin=U.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=B,O!=null&&O instanceof Y)this.graphManager=O;else if(O!=null&&O instanceof Layout)this.graphManager=O.graphManager}F.prototype=Object.create(K.prototype);for(var M in K)F[M]=K[M];F.prototype.getNodes=function(){return this.nodes},F.prototype.getEdges=function(){return this.edges},F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getParent=function(){return this.parent},F.prototype.getLeft=function(){return this.left},F.prototype.getRight=function(){return this.right},F.prototype.getTop=function(){return this.top},F.prototype.getBottom=function(){return this.bottom},F.prototype.isConnected=function(){return this.isConnected},F.prototype.add=function(B,O,A){if(O==null&&A==null){var L=B;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(L)>-1)throw"Node already in graph!";return L.owner=this,this.getNodes().push(L),L}else{var I=B;if(!(this.getNodes().indexOf(O)>-1&&this.getNodes().indexOf(A)>-1))throw"Source or target not in graph!";if(!(O.owner==A.owner&&O.owner==this))throw"Both owners must be this graph!";if(O.owner!=A.owner)return null;if(I.source=O,I.target=A,I.isInterGraph=!1,this.getEdges().push(I),O.edges.push(I),A!=O)A.edges.push(I);return I}},F.prototype.remove=function(B){var O=B;if(B instanceof q){if(O==null)throw"Node is null!";if(!(O.owner!=null&&O.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";var A=O.edges.slice(),L,I=A.length;for(var D=0;D<I;D++)if(L=A[D],L.isInterGraph)this.graphManager.remove(L);else L.source.owner.remove(L);var w=this.nodes.indexOf(O);if(w==-1)throw"Node not in owner node list!";this.nodes.splice(w,1)}else if(B instanceof z){var L=B;if(L==null)throw"Edge is null!";if(!(L.source!=null&&L.target!=null))throw"Source and/or target is null!";if(!(L.source.owner!=null&&L.target.owner!=null&&L.source.owner==this&&L.target.owner==this))throw"Source and/or target owner is invalid!";var N=L.source.edges.indexOf(L),E=L.target.edges.indexOf(L);if(!(N>-1&&E>-1))throw"Source and/or target doesn't know this edge!";if(L.source.edges.splice(N,1),L.target!=L.source)L.target.edges.splice(E,1);var w=L.source.owner.getEdges().indexOf(L);if(w==-1)throw"Not in owner's edge list!";L.source.owner.getEdges().splice(w,1)}},F.prototype.updateLeftTop=function(){var{MAX_VALUE:B,MAX_VALUE:O}=X,A,L,I,D=this.getNodes(),w=D.length;for(var N=0;N<w;N++){var E=D[N];if(A=E.getTop(),L=E.getLeft(),B>A)B=A;if(O>L)O=L}if(B==X.MAX_VALUE)return null;if(D[0].getParent().paddingLeft!=null)I=D[0].getParent().paddingLeft;else I=this.margin;return this.left=O-I,this.top=B-I,new H(this.left,this.top)},F.prototype.updateBounds=function(B){var O=X.MAX_VALUE,A=-X.MAX_VALUE,L=X.MAX_VALUE,I=-X.MAX_VALUE,D,w,N,E,j,P=this.nodes,C=P.length;for(var T=0;T<C;T++){var V=P[T];if(B&&V.child!=null)V.updateBounds();if(D=V.getLeft(),w=V.getRight(),N=V.getTop(),E=V.getBottom(),O>D)O=D;if(A<w)A=w;if(L>N)L=N;if(I<E)I=E}var S=new G(O,L,A-O,I-L);if(O==X.MAX_VALUE)this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom();if(P[0].getParent().paddingLeft!=null)j=P[0].getParent().paddingLeft;else j=this.margin;this.left=S.x-j,this.right=S.x+S.width+j,this.top=S.y-j,this.bottom=S.y+S.height+j},F.calculateBounds=function(B){var O=X.MAX_VALUE,A=-X.MAX_VALUE,L=X.MAX_VALUE,I=-X.MAX_VALUE,D,w,N,E,j=B.length;for(var P=0;P<j;P++){var C=B[P];if(D=C.getLeft(),w=C.getRight(),N=C.getTop(),E=C.getBottom(),O>D)O=D;if(A<w)A=w;if(L>N)L=N;if(I<E)I=E}var T=new G(O,L,A-O,I-L);return T},F.prototype.getInclusionTreeDepth=function(){if(this==this.graphManager.getRoot())return 1;else return this.parent.getInclusionTreeDepth()},F.prototype.getEstimatedSize=function(){if(this.estimatedSize==X.MIN_VALUE)throw"assert failed";return this.estimatedSize},F.prototype.calcEstimatedSize=function(){var B=0,O=this.nodes,A=O.length;for(var L=0;L<A;L++){var I=O[L];B+=I.calcEstimatedSize()}if(B==0)this.estimatedSize=U.EMPTY_COMPOUND_NODE_SIZE;else this.estimatedSize=B/Math.sqrt(this.nodes.length);return this.estimatedSize},F.prototype.updateConnected=function(){var B=this;if(this.nodes.length==0){this.isConnected=!0;return}var O=new W,A=new Set,L=this.nodes[0],I,D,w=L.withChildren();w.forEach(function(T){O.push(T),A.add(T)});while(O.length!==0){L=O.shift(),I=L.getEdges();var N=I.length;for(var E=0;E<N;E++){var j=I[E];if(D=j.getOtherEndInGraph(L,this),D!=null&&!A.has(D)){var P=D.withChildren();P.forEach(function(T){O.push(T),A.add(T)})}}}if(this.isConnected=!1,A.size>=this.nodes.length){var C=0;if(A.forEach(function(T){if(T.owner==B)C++}),C==this.nodes.length)this.isConnected=!0}},Z.exports=F},function(Z,J,Q){var K,X=Q(1);function U(Y){K=Q(5),this.layout=Y,this.graphs=[],this.edges=[]}U.prototype.addRoot=function(){var Y=this.layout.newGraph(),q=this.layout.newNode(null),z=this.add(Y,q);return this.setRootGraph(z),this.rootGraph},U.prototype.add=function(Y,q,z,G,H){if(z==null&&G==null&&H==null){if(Y==null)throw"Graph is null!";if(q==null)throw"Parent node is null!";if(this.graphs.indexOf(Y)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(Y),Y.parent!=null)throw"Already has a parent!";if(q.child!=null)throw"Already has a child!";return Y.parent=q,q.child=Y,Y}else{H=z,G=q,z=Y;var W=G.getOwner(),F=H.getOwner();if(!(W!=null&&W.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(F!=null&&F.getGraphManager()==this))throw"Target not in this graph mgr!";if(W==F)return z.isInterGraph=!1,W.add(z,G,H);else{if(z.isInterGraph=!0,z.source=G,z.target=H,this.edges.indexOf(z)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(z),!(z.source!=null&&z.target!=null))throw"Edge source and/or target is null!";if(!(z.source.edges.indexOf(z)==-1&&z.target.edges.indexOf(z)==-1))throw"Edge already in source and/or target incidency list!";return z.source.edges.push(z),z.target.edges.push(z),z}}},U.prototype.remove=function(Y){if(Y instanceof K){var q=Y;if(q.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(q==this.rootGraph||q.parent!=null&&q.parent.graphManager==this))throw"Invalid parent node!";var z=[];z=z.concat(q.getEdges());var G,H=z.length;for(var W=0;W<H;W++)G=z[W],q.remove(G);var F=[];F=F.concat(q.getNodes());var M;H=F.length;for(var W=0;W<H;W++)M=F[W],q.remove(M);if(q==this.rootGraph)this.setRootGraph(null);var B=this.graphs.indexOf(q);this.graphs.splice(B,1),q.parent=null}else if(Y instanceof X){if(G=Y,G==null)throw"Edge is null!";if(!G.isInterGraph)throw"Not an inter-graph edge!";if(!(G.source!=null&&G.target!=null))throw"Source and/or target is null!";if(!(G.source.edges.indexOf(G)!=-1&&G.target.edges.indexOf(G)!=-1))throw"Source and/or target doesn't know this edge!";var B=G.source.edges.indexOf(G);if(G.source.edges.splice(B,1),B=G.target.edges.indexOf(G),G.target.edges.splice(B,1),!(G.source.owner!=null&&G.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(G.source.owner.getGraphManager().edges.indexOf(G)==-1)throw"Not in owner graph manager's edge list!";var B=G.source.owner.getGraphManager().edges.indexOf(G);G.source.owner.getGraphManager().edges.splice(B,1)}},U.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},U.prototype.getGraphs=function(){return this.graphs},U.prototype.getAllNodes=function(){if(this.allNodes==null){var Y=[],q=this.getGraphs(),z=q.length;for(var G=0;G<z;G++)Y=Y.concat(q[G].getNodes());this.allNodes=Y}return this.allNodes},U.prototype.resetAllNodes=function(){this.allNodes=null},U.prototype.resetAllEdges=function(){this.allEdges=null},U.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},U.prototype.getAllEdges=function(){if(this.allEdges==null){var Y=[],q=this.getGraphs(),z=q.length;for(var G=0;G<q.length;G++)Y=Y.concat(q[G].getEdges());Y=Y.concat(this.edges),this.allEdges=Y}return this.allEdges},U.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},U.prototype.setAllNodesToApplyGravitation=function(Y){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=Y},U.prototype.getRoot=function(){return this.rootGraph},U.prototype.setRootGraph=function(Y){if(Y.getGraphManager()!=this)throw"Root not in this graph mgr!";if(this.rootGraph=Y,Y.parent==null)Y.parent=this.layout.newNode("Root node")},U.prototype.getLayout=function(){return this.layout},U.prototype.isOneAncestorOfOther=function(Y,q){if(!(Y!=null&&q!=null))throw"assert failed";if(Y==q)return!0;var z=Y.getOwner(),G;do{if(G=z.getParent(),G==null)break;if(G==q)return!0;if(z=G.getOwner(),z==null)break}while(!0);z=q.getOwner();do{if(G=z.getParent(),G==null)break;if(G==Y)return!0;if(z=G.getOwner(),z==null)break}while(!0);return!1},U.prototype.calcLowestCommonAncestors=function(){var Y,q,z,G,H,W=this.getAllEdges(),F=W.length;for(var M=0;M<F;M++){if(Y=W[M],q=Y.source,z=Y.target,Y.lca=null,Y.sourceInLca=q,Y.targetInLca=z,q==z){Y.lca=q.getOwner();continue}G=q.getOwner();while(Y.lca==null){Y.targetInLca=z,H=z.getOwner();while(Y.lca==null){if(H==G){Y.lca=H;break}if(H==this.rootGraph)break;if(Y.lca!=null)throw"assert failed";Y.targetInLca=H.getParent(),H=Y.targetInLca.getOwner()}if(G==this.rootGraph)break;if(Y.lca==null)Y.sourceInLca=G.getParent(),G=Y.sourceInLca.getOwner()}if(Y.lca==null)throw"assert failed"}},U.prototype.calcLowestCommonAncestor=function(Y,q){if(Y==q)return Y.getOwner();var z=Y.getOwner();do{if(z==null)break;var G=q.getOwner();do{if(G==null)break;if(G==z)return G;G=G.getParent().getOwner()}while(!0);z=z.getParent().getOwner()}while(!0);return z},U.prototype.calcInclusionTreeDepths=function(Y,q){if(Y==null&&q==null)Y=this.rootGraph,q=1;var z,G=Y.getNodes(),H=G.length;for(var W=0;W<H;W++)if(z=G[W],z.inclusionTreeDepth=q,z.child!=null)this.calcInclusionTreeDepths(z.child,q+1)},U.prototype.includesInvalidEdge=function(){var Y,q=this.edges.length;for(var z=0;z<q;z++)if(Y=this.edges[z],this.isOneAncestorOfOther(Y.source,Y.target))return!0;return!1},Z.exports=U},function(Z,J,Q){var K=Q(0);function X(){}for(var U in K)X[U]=K[U];X.MAX_ITERATIONS=2500,X.DEFAULT_EDGE_LENGTH=50,X.DEFAULT_SPRING_STRENGTH=0.45,X.DEFAULT_REPULSION_STRENGTH=4500,X.DEFAULT_GRAVITY_STRENGTH=0.4,X.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,X.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,X.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,X.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,X.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,X.DEFAULT_COOLING_FACTOR_INCREMENTAL=0.3,X.COOLING_ADAPTATION_FACTOR=0.33,X.ADAPTATION_LOWER_NODE_LIMIT=1000,X.ADAPTATION_UPPER_NODE_LIMIT=5000,X.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,X.MAX_NODE_DISPLACEMENT=X.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,X.MIN_REPULSION_DIST=X.DEFAULT_EDGE_LENGTH/10,X.CONVERGENCE_CHECK_PERIOD=100,X.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=0.1,X.MIN_EDGE_LENGTH=1,X.GRID_CALCULATION_CHECK_PERIOD=10,Z.exports=X},function(Z,J,Q){var K=Q(12);function X(){}X.calcSeparationAmount=function(U,Y,q,z){if(!U.intersects(Y))throw"assert failed";var G=new Array(2);if(this.decideDirectionsForOverlappingNodes(U,Y,G),q[0]=Math.min(U.getRight(),Y.getRight())-Math.max(U.x,Y.x),q[1]=Math.min(U.getBottom(),Y.getBottom())-Math.max(U.y,Y.y),U.getX()<=Y.getX()&&U.getRight()>=Y.getRight())q[0]+=Math.min(Y.getX()-U.getX(),U.getRight()-Y.getRight());else if(Y.getX()<=U.getX()&&Y.getRight()>=U.getRight())q[0]+=Math.min(U.getX()-Y.getX(),Y.getRight()-U.getRight());if(U.getY()<=Y.getY()&&U.getBottom()>=Y.getBottom())q[1]+=Math.min(Y.getY()-U.getY(),U.getBottom()-Y.getBottom());else if(Y.getY()<=U.getY()&&Y.getBottom()>=U.getBottom())q[1]+=Math.min(U.getY()-Y.getY(),Y.getBottom()-U.getBottom());var H=Math.abs((Y.getCenterY()-U.getCenterY())/(Y.getCenterX()-U.getCenterX()));if(Y.getCenterY()===U.getCenterY()&&Y.getCenterX()===U.getCenterX())H=1;var W=H*q[0],F=q[1]/H;if(q[0]<F)F=q[0];else W=q[1];q[0]=-1*G[0]*(F/2+z),q[1]=-1*G[1]*(W/2+z)},X.decideDirectionsForOverlappingNodes=function(U,Y,q){if(U.getCenterX()<Y.getCenterX())q[0]=-1;else q[0]=1;if(U.getCenterY()<Y.getCenterY())q[1]=-1;else q[1]=1},X.getIntersection2=function(U,Y,q){var z=U.getCenterX(),G=U.getCenterY(),H=Y.getCenterX(),W=Y.getCenterY();if(U.intersects(Y))return q[0]=z,q[1]=G,q[2]=H,q[3]=W,!0;var F=U.getX(),M=U.getY(),B=U.getRight(),O=U.getX(),A=U.getBottom(),L=U.getRight(),I=U.getWidthHalf(),D=U.getHeightHalf(),w=Y.getX(),N=Y.getY(),E=Y.getRight(),j=Y.getX(),P=Y.getBottom(),C=Y.getRight(),T=Y.getWidthHalf(),V=Y.getHeightHalf(),S=!1,$=!1;if(z===H){if(G>W)return q[0]=z,q[1]=M,q[2]=H,q[3]=P,!1;else if(G<W)return q[0]=z,q[1]=A,q[2]=H,q[3]=N,!1}else if(G===W){if(z>H)return q[0]=F,q[1]=G,q[2]=E,q[3]=W,!1;else if(z<H)return q[0]=B,q[1]=G,q[2]=w,q[3]=W,!1}else{var f=U.height/U.width,h=Y.height/Y.width,v=(W-G)/(H-z),b=void 0,y=void 0,k=void 0,g=void 0,u=void 0,i=void 0;if(-f===v)if(z>H)q[0]=O,q[1]=A,S=!0;else q[0]=B,q[1]=M,S=!0;else if(f===v)if(z>H)q[0]=F,q[1]=M,S=!0;else q[0]=L,q[1]=A,S=!0;if(-h===v)if(H>z)q[2]=j,q[3]=P,$=!0;else q[2]=E,q[3]=N,$=!0;else if(h===v)if(H>z)q[2]=w,q[3]=N,$=!0;else q[2]=C,q[3]=P,$=!0;if(S&&$)return!1;if(z>H)if(G>W)b=this.getCardinalDirection(f,v,4),y=this.getCardinalDirection(h,v,2);else b=this.getCardinalDirection(-f,v,3),y=this.getCardinalDirection(-h,v,1);else if(G>W)b=this.getCardinalDirection(-f,v,1),y=this.getCardinalDirection(-h,v,3);else b=this.getCardinalDirection(f,v,2),y=this.getCardinalDirection(h,v,4);if(!S)switch(b){case 1:g=M,k=z+-D/v,q[0]=k,q[1]=g;break;case 2:k=L,g=G+I*v,q[0]=k,q[1]=g;break;case 3:g=A,k=z+D/v,q[0]=k,q[1]=g;break;case 4:k=O,g=G+-I*v,q[0]=k,q[1]=g;break}if(!$)switch(y){case 1:i=N,u=H+-V/v,q[2]=u,q[3]=i;break;case 2:u=C,i=W+T*v,q[2]=u,q[3]=i;break;case 3:i=P,u=H+V/v,q[2]=u,q[3]=i;break;case 4:u=j,i=W+-T*v,q[2]=u,q[3]=i;break}}return!1},X.getCardinalDirection=function(U,Y,q){if(U>Y)return q;else return 1+q%4},X.getIntersection=function(U,Y,q,z){if(z==null)return this.getIntersection2(U,Y,q);var{x:G,y:H}=U,W=Y.x,F=Y.y,M=q.x,B=q.y,O=z.x,A=z.y,L=void 0,I=void 0,D=void 0,w=void 0,N=void 0,E=void 0,j=void 0,P=void 0,C=void 0;if(D=F-H,N=G-W,j=W*H-G*F,w=A-B,E=M-O,P=O*B-M*A,C=D*E-w*N,C===0)return null;return L=(N*P-E*j)/C,I=(w*j-D*P)/C,new K(L,I)},X.angleOfVector=function(U,Y,q,z){var G=void 0;if(U!==q){if(G=Math.atan((z-Y)/(q-U)),q<U)G+=Math.PI;else if(z<Y)G+=this.TWO_PI}else if(z<Y)G=this.ONE_AND_HALF_PI;else G=this.HALF_PI;return G},X.doIntersect=function(U,Y,q,z){var{x:G,y:H}=U,W=Y.x,F=Y.y,M=q.x,B=q.y,O=z.x,A=z.y,L=(W-G)*(A-B)-(O-M)*(F-H);if(L===0)return!1;else{var I=((A-B)*(O-G)+(M-O)*(A-H))/L,D=((H-F)*(O-G)+(W-G)*(A-H))/L;return 0<I&&I<1&&0<D&&D<1}},X.HALF_PI=0.5*Math.PI,X.ONE_AND_HALF_PI=1.5*Math.PI,X.TWO_PI=2*Math.PI,X.THREE_PI=3*Math.PI,Z.exports=X},function(Z,J,Q){function K(){}K.sign=function(X){if(X>0)return 1;else if(X<0)return-1;else return 0},K.floor=function(X){return X<0?Math.ceil(X):Math.floor(X)},K.ceil=function(X){return X<0?Math.floor(X):Math.ceil(X)},Z.exports=K},function(Z,J,Q){function K(){}K.MAX_VALUE=2147483647,K.MIN_VALUE=-2147483648,Z.exports=K},function(Z,J,Q){var K=function(){function G(H,W){for(var F=0;F<W.length;F++){var M=W[F];if(M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M)M.writable=!0;Object.defineProperty(H,M.key,M)}}return function(H,W,F){if(W)G(H.prototype,W);if(F)G(H,F);return H}}();function X(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var U=function G(H){return{value:H,next:null,prev:null}},Y=function G(H,W,F,M){if(H!==null)H.next=W;else M.head=W;if(F!==null)F.prev=W;else M.tail=W;return W.prev=H,W.next=F,M.length++,W},q=function G(H,W){var{prev:F,next:M}=H;if(F!==null)F.next=M;else W.head=M;if(M!==null)M.prev=F;else W.tail=F;return H.prev=H.next=null,W.length--,H},z=function(){function G(H){var W=this;if(X(this,G),this.length=0,this.head=null,this.tail=null,H!=null)H.forEach(function(F){return W.push(F)})}return K(G,[{key:"size",value:function H(){return this.length}},{key:"insertBefore",value:function H(W,F){return Y(F.prev,U(W),F,this)}},{key:"insertAfter",value:function H(W,F){return Y(F,U(W),F.next,this)}},{key:"insertNodeBefore",value:function H(W,F){return Y(F.prev,W,F,this)}},{key:"insertNodeAfter",value:function H(W,F){return Y(F,W,F.next,this)}},{key:"push",value:function H(W){return Y(this.tail,U(W),null,this)}},{key:"unshift",value:function H(W){return Y(null,U(W),this.head,this)}},{key:"remove",value:function H(W){return q(W,this)}},{key:"pop",value:function H(){return q(this.tail,this).value}},{key:"popNode",value:function H(){return q(this.tail,this)}},{key:"shift",value:function H(){return q(this.head,this).value}},{key:"shiftNode",value:function H(){return q(this.head,this)}},{key:"get_object_at",value:function H(W){if(W<=this.length()){var F=1,M=this.head;while(F<W)M=M.next,F++;return M.value}}},{key:"set_object_at",value:function H(W,F){if(W<=this.length()){var M=1,B=this.head;while(M<W)B=B.next,M++;B.value=F}}}]),G}();Z.exports=z},function(Z,J,Q){function K(X,U,Y){if(this.x=null,this.y=null,X==null&&U==null&&Y==null)this.x=0,this.y=0;else if(typeof X=="number"&&typeof U=="number"&&Y==null)this.x=X,this.y=U;else if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.x=Y.x,this.y=Y.y}K.prototype.getX=function(){return this.x},K.prototype.getY=function(){return this.y},K.prototype.getLocation=function(){return new K(this.x,this.y)},K.prototype.setLocation=function(X,U,Y){if(X.constructor.name=="Point"&&U==null&&Y==null)Y=X,this.setLocation(Y.x,Y.y);else if(typeof X=="number"&&typeof U=="number"&&Y==null)if(parseInt(X)==X&&parseInt(U)==U)this.move(X,U);else this.x=Math.floor(X+0.5),this.y=Math.floor(U+0.5)},K.prototype.move=function(X,U){this.x=X,this.y=U},K.prototype.translate=function(X,U){this.x+=X,this.y+=U},K.prototype.equals=function(X){if(X.constructor.name=="Point"){var U=X;return this.x==U.x&&this.y==U.y}return this==X},K.prototype.toString=function(){return new K().constructor.name+"[x="+this.x+",y="+this.y+"]"},Z.exports=K},function(Z,J,Q){function K(X,U,Y,q){if(this.x=0,this.y=0,this.width=0,this.height=0,X!=null&&U!=null&&Y!=null&&q!=null)this.x=X,this.y=U,this.width=Y,this.height=q}K.prototype.getX=function(){return this.x},K.prototype.setX=function(X){this.x=X},K.prototype.getY=function(){return this.y},K.prototype.setY=function(X){this.y=X},K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},K.prototype.getRight=function(){return this.x+this.width},K.prototype.getBottom=function(){return this.y+this.height},K.prototype.intersects=function(X){if(this.getRight()<X.x)return!1;if(this.getBottom()<X.y)return!1;if(X.getRight()<this.x)return!1;if(X.getBottom()<this.y)return!1;return!0},K.prototype.getCenterX=function(){return this.x+this.width/2},K.prototype.getMinX=function(){return this.getX()},K.prototype.getMaxX=function(){return this.getX()+this.width},K.prototype.getCenterY=function(){return this.y+this.height/2},K.prototype.getMinY=function(){return this.getY()},K.prototype.getMaxY=function(){return this.getY()+this.height},K.prototype.getWidthHalf=function(){return this.width/2},K.prototype.getHeightHalf=function(){return this.height/2},Z.exports=K},function(Z,J,Q){var K=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol==="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function X(){}X.lastID=0,X.createID=function(U){if(X.isPrimitive(U))return U;if(U.uniqueID!=null)return U.uniqueID;return U.uniqueID=X.getString(),X.lastID++,U.uniqueID},X.getString=function(U){if(U==null)U=X.lastID;return"Object#"+U},X.isPrimitive=function(U){var Y=typeof U==="undefined"?"undefined":K(U);return U==null||Y!="object"&&Y!="function"},Z.exports=X},function(Z,J,Q){function K(M){if(Array.isArray(M)){for(var B=0,O=Array(M.length);B<M.length;B++)O[B]=M[B];return O}else return Array.from(M)}var X=Q(0),U=Q(6),Y=Q(3),q=Q(1),z=Q(5),G=Q(4),H=Q(17),W=Q(27);function F(M){if(W.call(this),this.layoutQuality=X.QUALITY,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=X.DEFAULT_INCREMENTAL,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new U(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,M!=null)this.isRemoteUse=M}F.RANDOM_SEED=1,F.prototype=Object.create(W.prototype),F.prototype.getGraphManager=function(){return this.graphManager},F.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},F.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},F.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},F.prototype.newGraphManager=function(){var M=new U(this);return this.graphManager=M,M},F.prototype.newGraph=function(M){return new z(null,this.graphManager,M)},F.prototype.newNode=function(M){return new Y(this.graphManager,M)},F.prototype.newEdge=function(M){return new q(null,null,M)},F.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},F.prototype.runLayout=function(){if(this.isLayoutFinished=!1,this.tilingPreLayout)this.tilingPreLayout();this.initParameters();var M;if(this.checkLayoutSuccess())M=!1;else M=this.layout();if(X.ANIMATE==="during")return!1;if(M){if(!this.isSubLayout)this.doPostLayout()}if(this.tilingPostLayout)this.tilingPostLayout();return this.isLayoutFinished=!0,M},F.prototype.doPostLayout=function(){if(!this.incremental)this.transform();this.update()},F.prototype.update2=function(){if(this.createBendsAsNeeded)this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges();if(!this.isRemoteUse){var M,B=this.graphManager.getAllEdges();for(var O=0;O<B.length;O++)M=B[O];var A,L=this.graphManager.getRoot().getNodes();for(var O=0;O<L.length;O++)A=L[O];this.update(this.graphManager.getRoot())}},F.prototype.update=function(M){if(M==null)this.update2();else if(M instanceof Y){var B=M;if(B.getChild()!=null){var O=B.getChild().getNodes();for(var A=0;A<O.length;A++)update(O[A])}if(B.vGraphObject!=null){var L=B.vGraphObject;L.update(B)}}else if(M instanceof q){var I=M;if(I.vGraphObject!=null){var D=I.vGraphObject;D.update(I)}}else if(M instanceof z){var w=M;if(w.vGraphObject!=null){var N=w.vGraphObject;N.update(w)}}},F.prototype.initParameters=function(){if(!this.isSubLayout)this.layoutQuality=X.QUALITY,this.animationDuringLayout=X.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=X.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=X.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=X.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=X.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=X.DEFAULT_UNIFORM_LEAF_NODE_SIZES;if(this.animationDuringLayout)this.animationOnLayout=!1},F.prototype.transform=function(M){if(M==null)this.transform(new G(0,0));else{var B=new H,O=this.graphManager.getRoot().updateLeftTop();if(O!=null){B.setWorldOrgX(M.x),B.setWorldOrgY(M.y),B.setDeviceOrgX(O.x),B.setDeviceOrgY(O.y);var A=this.getAllNodes(),L;for(var I=0;I<A.length;I++)L=A[I],L.transform(B)}}},F.prototype.positionNodesRandomly=function(M){if(M==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else{var B,O,A=M.getNodes();for(var L=0;L<A.length;L++)if(B=A[L],O=B.getChild(),O==null)B.scatter();else if(O.getNodes().length==0)B.scatter();else this.positionNodesRandomly(O),B.updateBounds()}},F.prototype.getFlatForest=function(){var M=[],B=!0,O=this.graphManager.getRoot().getNodes(),A=!0;for(var L=0;L<O.length;L++)if(O[L].getChild()!=null)A=!1;if(!A)return M;var I=new Set,D=[],w=new Map,N=[];N=N.concat(O);while(N.length>0&&B){D.push(N[0]);while(D.length>0&&B){var E=D[0];D.splice(0,1),I.add(E);var j=E.getEdges();for(var L=0;L<j.length;L++){var P=j[L].getOtherEnd(E);if(w.get(E)!=P)if(!I.has(P))D.push(P),w.set(P,E);else{B=!1;break}}}if(!B)M=[];else{var C=[].concat(K(I));M.push(C);for(var L=0;L<C.length;L++){var T=C[L],V=N.indexOf(T);if(V>-1)N.splice(V,1)}I=new Set,w=new Map}}return M},F.prototype.createDummyNodesForBendpoints=function(M){var B=[],O=M.source,A=this.graphManager.calcLowestCommonAncestor(M.source,M.target);for(var L=0;L<M.bendpoints.length;L++){var I=this.newNode(null);I.setRect(new Point(0,0),new Dimension(1,1)),A.add(I);var D=this.newEdge(null);this.graphManager.add(D,O,I),B.add(I),O=I}var D=this.newEdge(null);if(this.graphManager.add(D,O,M.target),this.edgeToDummyNodes.set(M,B),M.isInterGraph())this.graphManager.remove(M);else A.remove(M);return B},F.prototype.createBendpointsFromDummyNodes=function(){var M=[];M=M.concat(this.graphManager.getAllEdges()),M=[].concat(K(this.edgeToDummyNodes.keys())).concat(M);for(var B=0;B<M.length;B++){var O=M[B];if(O.bendpoints.length>0){var A=this.edgeToDummyNodes.get(O);for(var L=0;L<A.length;L++){var I=A[L],D=new G(I.getCenterX(),I.getCenterY()),w=O.bendpoints.get(L);w.x=D.x,w.y=D.y,I.getOwner().remove(I)}this.graphManager.add(O,O.source,O.target)}}},F.transform=function(M,B,O,A){if(O!=null&&A!=null){var L=B;if(M<=50){var I=B/O;L-=(B-I)/50*(50-M)}else{var D=B*A;L+=(D-B)/50*(M-50)}return L}else{var w,N;if(M<=50)w=9*B/500,N=B/10;else w=9*B/50,N=-8*B;return w*M+N}},F.findCenterOfTree=function(M){var B=[];B=B.concat(M);var O=[],A=new Map,L=!1,I=null;if(B.length==1||B.length==2)L=!0,I=B[0];for(var D=0;D<B.length;D++){var w=B[D],N=w.getNeighborsList().size;if(A.set(w,w.getNeighborsList().size),N==1)O.push(w)}var E=[];E=E.concat(O);while(!L){var j=[];j=j.concat(E),E=[];for(var D=0;D<B.length;D++){var w=B[D],P=B.indexOf(w);if(P>=0)B.splice(P,1);var C=w.getNeighborsList();C.forEach(function(S){if(O.indexOf(S)<0){var $=A.get(S),f=$-1;if(f==1)E.push(S);A.set(S,f)}})}if(O=O.concat(E),B.length==1||B.length==2)L=!0,I=B[0]}return I},F.prototype.setGraphManager=function(M){this.graphManager=M},Z.exports=F},function(Z,J,Q){function K(){}K.seed=1,K.x=0,K.nextDouble=function(){return K.x=Math.sin(K.seed++)*1e4,K.x-Math.floor(K.x)},Z.exports=K},function(Z,J,Q){var K=Q(4);function X(U,Y){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}X.prototype.getWorldOrgX=function(){return this.lworldOrgX},X.prototype.setWorldOrgX=function(U){this.lworldOrgX=U},X.prototype.getWorldOrgY=function(){return this.lworldOrgY},X.prototype.setWorldOrgY=function(U){this.lworldOrgY=U},X.prototype.getWorldExtX=function(){return this.lworldExtX},X.prototype.setWorldExtX=function(U){this.lworldExtX=U},X.prototype.getWorldExtY=function(){return this.lworldExtY},X.prototype.setWorldExtY=function(U){this.lworldExtY=U},X.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},X.prototype.setDeviceOrgX=function(U){this.ldeviceOrgX=U},X.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},X.prototype.setDeviceOrgY=function(U){this.ldeviceOrgY=U},X.prototype.getDeviceExtX=function(){return this.ldeviceExtX},X.prototype.setDeviceExtX=function(U){this.ldeviceExtX=U},X.prototype.getDeviceExtY=function(){return this.ldeviceExtY},X.prototype.setDeviceExtY=function(U){this.ldeviceExtY=U},X.prototype.transformX=function(U){var Y=0,q=this.lworldExtX;if(q!=0)Y=this.ldeviceOrgX+(U-this.lworldOrgX)*this.ldeviceExtX/q;return Y},X.prototype.transformY=function(U){var Y=0,q=this.lworldExtY;if(q!=0)Y=this.ldeviceOrgY+(U-this.lworldOrgY)*this.ldeviceExtY/q;return Y},X.prototype.inverseTransformX=function(U){var Y=0,q=this.ldeviceExtX;if(q!=0)Y=this.lworldOrgX+(U-this.ldeviceOrgX)*this.lworldExtX/q;return Y},X.prototype.inverseTransformY=function(U){var Y=0,q=this.ldeviceExtY;if(q!=0)Y=this.lworldOrgY+(U-this.ldeviceOrgY)*this.lworldExtY/q;return Y},X.prototype.inverseTransformPoint=function(U){var Y=new K(this.inverseTransformX(U.x),this.inverseTransformY(U.y));return Y},Z.exports=X},function(Z,J,Q){function K(W){if(Array.isArray(W)){for(var F=0,M=Array(W.length);F<W.length;F++)M[F]=W[F];return M}else return Array.from(W)}var X=Q(15),U=Q(7),Y=Q(0),q=Q(8),z=Q(9);function G(){X.call(this),this.useSmartIdealEdgeLengthCalculation=U.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=U.DEFAULT_EDGE_LENGTH,this.springConstant=U.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=U.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=U.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=U.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=U.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*U.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=U.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=U.MAX_ITERATIONS}G.prototype=Object.create(X.prototype);for(var H in X)G[H]=X[H];G.prototype.initParameters=function(){X.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=U.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},G.prototype.calcIdealEdgeLengths=function(){var W,F,M,B,O,A,L=this.getGraphManager().getAllEdges();for(var I=0;I<L.length;I++)if(W=L[I],W.idealLength=this.idealEdgeLength,W.isInterGraph){if(M=W.getSource(),B=W.getTarget(),O=W.getSourceInLca().getEstimatedSize(),A=W.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation)W.idealLength+=O+A-2*Y.SIMPLE_NODE_SIZE;F=W.getLca().getInclusionTreeDepth(),W.idealLength+=U.DEFAULT_EDGE_LENGTH*U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(M.getInclusionTreeDepth()+B.getInclusionTreeDepth()-2*F)}},G.prototype.initSpringEmbedder=function(){var W=this.getAllNodes().length;if(this.incremental){if(W>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(this.coolingFactor*U.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(W-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-U.COOLING_ADAPTATION_FACTOR));this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT_INCREMENTAL}else{if(W>U.ADAPTATION_LOWER_NODE_LIMIT)this.coolingFactor=Math.max(U.COOLING_ADAPTATION_FACTOR,1-(W-U.ADAPTATION_LOWER_NODE_LIMIT)/(U.ADAPTATION_UPPER_NODE_LIMIT-U.ADAPTATION_LOWER_NODE_LIMIT)*(1-U.COOLING_ADAPTATION_FACTOR));else this.coolingFactor=1;this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=U.MAX_NODE_DISPLACEMENT}this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},G.prototype.calcSpringForces=function(){var W=this.getAllEdges(),F;for(var M=0;M<W.length;M++)F=W[M],this.calcSpringForce(F,F.idealLength)},G.prototype.calcRepulsionForces=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M,B,O,A,L=this.getAllNodes(),I;if(this.useFRGridVariant){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&W)this.updateGrid();I=new Set;for(M=0;M<L.length;M++)O=L[M],this.calculateRepulsionForceOfANode(O,I,W,F),I.add(O)}else for(M=0;M<L.length;M++){O=L[M];for(B=M+1;B<L.length;B++){if(A=L[B],O.getOwner()!=A.getOwner())continue;this.calcRepulsionForce(O,A)}}},G.prototype.calcGravitationalForces=function(){var W,F=this.getAllNodesToApplyGravitation();for(var M=0;M<F.length;M++)W=F[M],this.calcGravitationalForce(W)},G.prototype.moveNodes=function(){var W=this.getAllNodes(),F;for(var M=0;M<W.length;M++)F=W[M],F.move()},G.prototype.calcSpringForce=function(W,F){var M=W.getSource(),B=W.getTarget(),O,A,L,I;if(this.uniformLeafNodeSizes&&M.getChild()==null&&B.getChild()==null)W.updateLengthSimple();else if(W.updateLength(),W.isOverlapingSourceAndTarget)return;if(O=W.getLength(),O==0)return;A=this.springConstant*(O-F),L=A*(W.lengthX/O),I=A*(W.lengthY/O),M.springForceX+=L,M.springForceY+=I,B.springForceX-=L,B.springForceY-=I},G.prototype.calcRepulsionForce=function(W,F){var M=W.getRect(),B=F.getRect(),O=new Array(2),A=new Array(4),L,I,D,w,N,E,j;if(M.intersects(B)){q.calcSeparationAmount(M,B,O,U.DEFAULT_EDGE_LENGTH/2),E=2*O[0],j=2*O[1];var P=W.noOfChildren*F.noOfChildren/(W.noOfChildren+F.noOfChildren);W.repulsionForceX-=P*E,W.repulsionForceY-=P*j,F.repulsionForceX+=P*E,F.repulsionForceY+=P*j}else{if(this.uniformLeafNodeSizes&&W.getChild()==null&&F.getChild()==null)L=B.getCenterX()-M.getCenterX(),I=B.getCenterY()-M.getCenterY();else q.getIntersection(M,B,A),L=A[2]-A[0],I=A[3]-A[1];if(Math.abs(L)<U.MIN_REPULSION_DIST)L=z.sign(L)*U.MIN_REPULSION_DIST;if(Math.abs(I)<U.MIN_REPULSION_DIST)I=z.sign(I)*U.MIN_REPULSION_DIST;D=L*L+I*I,w=Math.sqrt(D),N=this.repulsionConstant*W.noOfChildren*F.noOfChildren/D,E=N*L/w,j=N*I/w,W.repulsionForceX-=E,W.repulsionForceY-=j,F.repulsionForceX+=E,F.repulsionForceY+=j}},G.prototype.calcGravitationalForce=function(W){var F,M,B,O,A,L,I,D;if(F=W.getOwner(),M=(F.getRight()+F.getLeft())/2,B=(F.getTop()+F.getBottom())/2,O=W.getCenterX()-M,A=W.getCenterY()-B,L=Math.abs(O)+W.getWidth()/2,I=Math.abs(A)+W.getHeight()/2,W.getOwner()==this.graphManager.getRoot()){if(D=F.getEstimatedSize()*this.gravityRangeFactor,L>D||I>D)W.gravitationForceX=-this.gravityConstant*O,W.gravitationForceY=-this.gravityConstant*A}else if(D=F.getEstimatedSize()*this.compoundGravityRangeFactor,L>D||I>D)W.gravitationForceX=-this.gravityConstant*O*this.compoundGravityConstant,W.gravitationForceY=-this.gravityConstant*A*this.compoundGravityConstant},G.prototype.isConverged=function(){var W,F=!1;if(this.totalIterations>this.maxIterations/3)F=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2;return W=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,W||F},G.prototype.animate=function(){if(this.animationDuringLayout&&!this.isSubLayout)if(this.notAnimatedIterations==this.animationPeriod)this.update(),this.notAnimatedIterations=0;else this.notAnimatedIterations++},G.prototype.calcNoOfChildrenForAllNodes=function(){var W,F=this.graphManager.getAllNodes();for(var M=0;M<F.length;M++)W=F[M],W.noOfChildren=W.getNoOfChildren()},G.prototype.calcGrid=function(W){var F=0,M=0;F=parseInt(Math.ceil((W.getRight()-W.getLeft())/this.repulsionRange)),M=parseInt(Math.ceil((W.getBottom()-W.getTop())/this.repulsionRange));var B=new Array(F);for(var O=0;O<F;O++)B[O]=new Array(M);for(var O=0;O<F;O++)for(var A=0;A<M;A++)B[O][A]=new Array;return B},G.prototype.addNodeToGrid=function(W,F,M){var B=0,O=0,A=0,L=0;B=parseInt(Math.floor((W.getRect().x-F)/this.repulsionRange)),O=parseInt(Math.floor((W.getRect().width+W.getRect().x-F)/this.repulsionRange)),A=parseInt(Math.floor((W.getRect().y-M)/this.repulsionRange)),L=parseInt(Math.floor((W.getRect().height+W.getRect().y-M)/this.repulsionRange));for(var I=B;I<=O;I++)for(var D=A;D<=L;D++)this.grid[I][D].push(W),W.setGridCoordinates(B,O,A,L)},G.prototype.updateGrid=function(){var W,F,M=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(W=0;W<M.length;W++)F=M[W],this.addNodeToGrid(F,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},G.prototype.calculateRepulsionForceOfANode=function(W,F,M,B){if(this.totalIterations%U.GRID_CALCULATION_CHECK_PERIOD==1&&M||B){var O=new Set;W.surrounding=new Array;var A,L=this.grid;for(var I=W.startX-1;I<W.finishX+2;I++)for(var D=W.startY-1;D<W.finishY+2;D++)if(!(I<0||D<0||I>=L.length||D>=L[0].length))for(var w=0;w<L[I][D].length;w++){if(A=L[I][D][w],W.getOwner()!=A.getOwner()||W==A)continue;if(!F.has(A)&&!O.has(A)){var N=Math.abs(W.getCenterX()-A.getCenterX())-(W.getWidth()/2+A.getWidth()/2),E=Math.abs(W.getCenterY()-A.getCenterY())-(W.getHeight()/2+A.getHeight()/2);if(N<=this.repulsionRange&&E<=this.repulsionRange)O.add(A)}}W.surrounding=[].concat(K(O))}for(I=0;I<W.surrounding.length;I++)this.calcRepulsionForce(W,W.surrounding[I])},G.prototype.calcRepulsionRange=function(){return 0},Z.exports=G},function(Z,J,Q){var K=Q(1),X=Q(7);function U(q,z,G){K.call(this,q,z,G),this.idealLength=X.DEFAULT_EDGE_LENGTH}U.prototype=Object.create(K.prototype);for(var Y in K)U[Y]=K[Y];Z.exports=U},function(Z,J,Q){var K=Q(3);function X(Y,q,z,G){K.call(this,Y,q,z,G),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}X.prototype=Object.create(K.prototype);for(var U in K)X[U]=K[U];X.prototype.setGridCoordinates=function(Y,q,z,G){this.startX=Y,this.finishX=q,this.startY=z,this.finishY=G},Z.exports=X},function(Z,J,Q){function K(X,U){if(this.width=0,this.height=0,X!==null&&U!==null)this.height=U,this.width=X}K.prototype.getWidth=function(){return this.width},K.prototype.setWidth=function(X){this.width=X},K.prototype.getHeight=function(){return this.height},K.prototype.setHeight=function(X){this.height=X},Z.exports=K},function(Z,J,Q){var K=Q(14);function X(){this.map={},this.keys=[]}X.prototype.put=function(U,Y){var q=K.createID(U);if(!this.contains(q))this.map[q]=Y,this.keys.push(U)},X.prototype.contains=function(U){var Y=K.createID(U);return this.map[U]!=null},X.prototype.get=function(U){var Y=K.createID(U);return this.map[Y]},X.prototype.keySet=function(){return this.keys},Z.exports=X},function(Z,J,Q){var K=Q(14);function X(){this.set={}}X.prototype.add=function(U){var Y=K.createID(U);if(!this.contains(Y))this.set[Y]=U},X.prototype.remove=function(U){delete this.set[K.createID(U)]},X.prototype.clear=function(){this.set={}},X.prototype.contains=function(U){return this.set[K.createID(U)]==U},X.prototype.isEmpty=function(){return this.size()===0},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAllTo=function(U){var Y=Object.keys(this.set),q=Y.length;for(var z=0;z<q;z++)U.push(this.set[Y[z]])},X.prototype.size=function(){return Object.keys(this.set).length},X.prototype.addAll=function(U){var Y=U.length;for(var q=0;q<Y;q++){var z=U[q];this.add(z)}},Z.exports=X},function(Z,J,Q){var K=function(){function q(z,G){for(var H=0;H<G.length;H++){var W=G[H];if(W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W)W.writable=!0;Object.defineProperty(z,W.key,W)}}return function(z,G,H){if(G)q(z.prototype,G);if(H)q(z,H);return z}}();function X(q,z){if(!(q instanceof z))throw new TypeError("Cannot call a class as a function")}var U=Q(11),Y=function(){function q(z,G){if(X(this,q),G!==null||G!==void 0)this.compareFunction=this._defaultCompareFunction;var H=void 0;if(z instanceof U)H=z.size();else H=z.length;this._quicksort(z,0,H-1)}return K(q,[{key:"_quicksort",value:function z(G,H,W){if(H<W){var F=this._partition(G,H,W);this._quicksort(G,H,F),this._quicksort(G,F+1,W)}}},{key:"_partition",value:function z(G,H,W){var F=this._get(G,H),M=H,B=W;while(!0){while(this.compareFunction(F,this._get(G,B)))B--;while(this.compareFunction(this._get(G,M),F))M++;if(M<B)this._swap(G,M,B),M++,B--;else return B}}},{key:"_get",value:function z(G,H){if(G instanceof U)return G.get_object_at(H);else return G[H]}},{key:"_set",value:function z(G,H,W){if(G instanceof U)G.set_object_at(H,W);else G[H]=W}},{key:"_swap",value:function z(G,H,W){var F=this._get(G,H);this._set(G,H,this._get(G,W)),this._set(G,W,F)}},{key:"_defaultCompareFunction",value:function z(G,H){return H>G}}]),q}();Z.exports=Y},function(Z,J,Q){var K=function(){function Y(q,z){for(var G=0;G<z.length;G++){var H=z[G];if(H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H)H.writable=!0;Object.defineProperty(q,H.key,H)}}return function(q,z,G){if(z)Y(q.prototype,z);if(G)Y(q,G);return q}}();function X(Y,q){if(!(Y instanceof q))throw new TypeError("Cannot call a class as a function")}var U=function(){function Y(q,z){var G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;X(this,Y),this.sequence1=q,this.sequence2=z,this.match_score=G,this.mismatch_penalty=H,this.gap_penalty=W,this.iMax=q.length+1,this.jMax=z.length+1,this.grid=new Array(this.iMax);for(var F=0;F<this.iMax;F++){this.grid[F]=new Array(this.jMax);for(var M=0;M<this.jMax;M++)this.grid[F][M]=0}this.tracebackGrid=new Array(this.iMax);for(var B=0;B<this.iMax;B++){this.tracebackGrid[B]=new Array(this.jMax);for(var O=0;O<this.jMax;O++)this.tracebackGrid[B][O]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return K(Y,[{key:"getScore",value:function q(){return this.score}},{key:"getAlignments",value:function q(){return this.alignments}},{key:"computeGrids",value:function q(){for(var z=1;z<this.jMax;z++)this.grid[0][z]=this.grid[0][z-1]+this.gap_penalty,this.tracebackGrid[0][z]=[!1,!1,!0];for(var G=1;G<this.iMax;G++)this.grid[G][0]=this.grid[G-1][0]+this.gap_penalty,this.tracebackGrid[G][0]=[!1,!0,!1];for(var H=1;H<this.iMax;H++)for(var W=1;W<this.jMax;W++){var F=void 0;if(this.sequence1[H-1]===this.sequence2[W-1])F=this.grid[H-1][W-1]+this.match_score;else F=this.grid[H-1][W-1]+this.mismatch_penalty;var M=this.grid[H-1][W]+this.gap_penalty,B=this.grid[H][W-1]+this.gap_penalty,O=[F,M,B],A=this.arrayAllMaxIndexes(O);this.grid[H][W]=O[A[0]],this.tracebackGrid[H][W]=[A.includes(0),A.includes(1),A.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function q(){var z=[];z.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});while(z[0]){var G=z[0],H=this.tracebackGrid[G.pos[0]][G.pos[1]];if(H[0])z.push({pos:[G.pos[0]-1,G.pos[1]-1],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(H[1])z.push({pos:[G.pos[0]-1,G.pos[1]],seq1:this.sequence1[G.pos[0]-1]+G.seq1,seq2:"-"+G.seq2});if(H[2])z.push({pos:[G.pos[0],G.pos[1]-1],seq1:"-"+G.seq1,seq2:this.sequence2[G.pos[1]-1]+G.seq2});if(G.pos[0]===0&&G.pos[1]===0)this.alignments.push({sequence1:G.seq1,sequence2:G.seq2});z.shift()}return this.alignments}},{key:"getAllIndexes",value:function q(z,G){var H=[],W=-1;while((W=z.indexOf(G,W+1))!==-1)H.push(W);return H}},{key:"arrayAllMaxIndexes",value:function q(z){return this.getAllIndexes(z,Math.max.apply(null,z))}}]),Y}();Z.exports=U},function(Z,J,Q){var K=function X(){return};K.FDLayout=Q(18),K.FDLayoutConstants=Q(7),K.FDLayoutEdge=Q(19),K.FDLayoutNode=Q(20),K.DimensionD=Q(21),K.HashMap=Q(22),K.HashSet=Q(23),K.IGeometry=Q(8),K.IMath=Q(9),K.Integer=Q(10),K.Point=Q(12),K.PointD=Q(4),K.RandomSeed=Q(16),K.RectangleD=Q(13),K.Transform=Q(17),K.UniqueIDGeneretor=Q(14),K.Quicksort=Q(24),K.LinkedList=Q(11),K.LGraphObject=Q(2),K.LGraph=Q(5),K.LEdge=Q(1),K.LGraphManager=Q(6),K.LNode=Q(3),K.Layout=Q(15),K.LayoutConstants=Q(0),K.NeedlemanWunsch=Q(25),Z.exports=K},function(Z,J,Q){function K(){this.listeners=[]}var X=K.prototype;X.addListener=function(U,Y){this.listeners.push({event:U,callback:Y})},X.removeListener=function(U,Y){for(var q=this.listeners.length;q>=0;q--){var z=this.listeners[q];if(z.event===U&&z.callback===Y)this.listeners.splice(q,1)}},X.emit=function(U,Y){for(var q=0;q<this.listeners.length;q++){var z=this.listeners[q];if(U===z.event)z.callback(Y)}},Z.exports=K}])})});var O_=i7((DM,R_)=>{(function Z(J,Q){if(typeof DM==="object"&&typeof R_==="object")R_.exports=Q(B_());else if(typeof define==="function"&&define.amd)define(["layout-base"],Q);else if(typeof DM==="object")DM.coseBase=Q(B_());else J.coseBase=Q(J.layoutBase)})(DM,function(Z){return function(J){var Q={};function K(X){if(Q[X])return Q[X].exports;var U=Q[X]={i:X,l:!1,exports:{}};return J[X].call(U.exports,U,U.exports,K),U.l=!0,U.exports}return K.m=J,K.c=Q,K.i=function(X){return X},K.d=function(X,U,Y){if(!K.o(X,U))Object.defineProperty(X,U,{configurable:!1,enumerable:!0,get:Y})},K.n=function(X){var U=X&&X.__esModule?function Y(){return X.default}:function Y(){return X};return K.d(U,"a",U),U},K.o=function(X,U){return Object.prototype.hasOwnProperty.call(X,U)},K.p="",K(K.s=7)}([function(J,Q){J.exports=Z},function(J,Q,K){var X=K(0).FDLayoutConstants;function U(){}for(var Y in X)U[Y]=X[Y];U.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,U.DEFAULT_RADIAL_SEPARATION=X.DEFAULT_EDGE_LENGTH,U.DEFAULT_COMPONENT_SEPERATION=60,U.TILE=!0,U.TILING_PADDING_VERTICAL=10,U.TILING_PADDING_HORIZONTAL=10,U.TREE_REDUCTION_ON_INCREMENTAL=!1,J.exports=U},function(J,Q,K){var X=K(0).FDLayoutEdge;function U(q,z,G){X.call(this,q,z,G)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).LGraph;function U(q,z,G){X.call(this,q,z,G)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).LGraphManager;function U(q){X.call(this,q)}U.prototype=Object.create(X.prototype);for(var Y in X)U[Y]=X[Y];J.exports=U},function(J,Q,K){var X=K(0).FDLayoutNode,U=K(0).IMath;function Y(z,G,H,W){X.call(this,z,G,H,W)}Y.prototype=Object.create(X.prototype);for(var q in X)Y[q]=X[q];Y.prototype.move=function(){var z=this.graphManager.getLayout();if(this.displacementX=z.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=z.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>z.coolingFactor*z.maxNodeDisplacement)this.displacementX=z.coolingFactor*z.maxNodeDisplacement*U.sign(this.displacementX);if(Math.abs(this.displacementY)>z.coolingFactor*z.maxNodeDisplacement)this.displacementY=z.coolingFactor*z.maxNodeDisplacement*U.sign(this.displacementY);if(this.child==null)this.moveBy(this.displacementX,this.displacementY);else if(this.child.getNodes().length==0)this.moveBy(this.displacementX,this.displacementY);else this.propogateDisplacementToChildren(this.displacementX,this.displacementY);z.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},Y.prototype.propogateDisplacementToChildren=function(z,G){var H=this.getChild().getNodes(),W;for(var F=0;F<H.length;F++)if(W=H[F],W.getChild()==null)W.moveBy(z,G),W.displacementX+=z,W.displacementY+=G;else W.propogateDisplacementToChildren(z,G)},Y.prototype.setPred1=function(z){this.pred1=z},Y.prototype.getPred1=function(){return pred1},Y.prototype.getPred2=function(){return pred2},Y.prototype.setNext=function(z){this.next=z},Y.prototype.getNext=function(){return next},Y.prototype.setProcessed=function(z){this.processed=z},Y.prototype.isProcessed=function(){return processed},J.exports=Y},function(J,Q,K){var X=K(0).FDLayout,U=K(4),Y=K(3),q=K(5),z=K(2),G=K(1),H=K(0).FDLayoutConstants,W=K(0).LayoutConstants,F=K(0).Point,M=K(0).PointD,B=K(0).Layout,O=K(0).Integer,A=K(0).IGeometry,L=K(0).LGraph,I=K(0).Transform;function D(){X.call(this),this.toBeTiled={}}D.prototype=Object.create(X.prototype);for(var w in X)D[w]=X[w];D.prototype.newGraphManager=function(){var N=new U(this);return this.graphManager=N,N},D.prototype.newGraph=function(N){return new Y(null,this.graphManager,N)},D.prototype.newNode=function(N){return new q(this.graphManager,N)},D.prototype.newEdge=function(N){return new z(null,null,N)},D.prototype.initParameters=function(){if(X.prototype.initParameters.call(this,arguments),!this.isSubLayout){if(G.DEFAULT_EDGE_LENGTH<10)this.idealEdgeLength=10;else this.idealEdgeLength=G.DEFAULT_EDGE_LENGTH;this.useSmartIdealEdgeLengthCalculation=G.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=H.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=H.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=H.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=H.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=H.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=H.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/H.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=H.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1}},D.prototype.layout=function(){var N=W.DEFAULT_CREATE_BENDS_AS_NEEDED;if(N)this.createBendpoints(),this.graphManager.resetAllEdges();return this.level=0,this.classicLayout()},D.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var N=this.getFlatForest();if(N.length>0)this.positionNodesRadially(N);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(P){return E.has(P)});this.graphManager.setAllNodesToApplyGravitation(j),this.positionNodesRandomly()}}else if(G.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var E=new Set(this.getAllNodes()),j=this.nodesWithGravity.filter(function(T){return E.has(T)});this.graphManager.setAllNodesToApplyGravitation(j)}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},D.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%H.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.coolingCycle++,this.layoutQuality==0)this.coolingAdjuster=this.coolingCycle;else if(this.layoutQuality==1)this.coolingAdjuster=this.coolingCycle/3;this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var N=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(C){return N.has(C)});this.graphManager.setAllNodesToApplyGravitation(E),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=H.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;if(this.afterGrowthIterations%10==0)this.graphManager.updateBounds(),this.updateGrid();this.coolingFactor=H.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var j=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(j,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},D.prototype.getPositionsData=function(){var N=this.graphManager.getAllNodes(),E={};for(var j=0;j<N.length;j++){var P=N[j].rect,C=N[j].id;E[C]={id:C,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return E},D.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var N=!1;if(H.ANIMATE==="during")this.emit("layoutstarted");else{while(!N)N=this.tick();this.graphManager.updateBounds()}},D.prototype.calculateNodesToApplyGravitationTo=function(){var N=[],E,j=this.graphManager.getGraphs(),P=j.length,C;for(C=0;C<P;C++)if(E=j[C],E.updateConnected(),!E.isConnected)N=N.concat(E.getNodes());return N},D.prototype.createBendpoints=function(){var N=[];N=N.concat(this.graphManager.getAllEdges());var E=new Set,j;for(j=0;j<N.length;j++){var P=N[j];if(!E.has(P)){var C=P.getSource(),T=P.getTarget();if(C==T)P.getBendpoints().push(new M),P.getBendpoints().push(new M),this.createDummyNodesForBendpoints(P),E.add(P);else{var V=[];if(V=V.concat(C.getEdgeListToNode(T)),V=V.concat(T.getEdgeListToNode(C)),!E.has(V[0])){if(V.length>1){var S;for(S=0;S<V.length;S++){var $=V[S];$.getBendpoints().push(new M),this.createDummyNodesForBendpoints($)}}V.forEach(function(f){E.add(f)})}}}if(E.size==N.length)break}},D.prototype.positionNodesRadially=function(N){var E=new F(0,0),j=Math.ceil(Math.sqrt(N.length)),P=0,C=0,T=0,V=new M(0,0);for(var S=0;S<N.length;S++){if(S%j==0){if(T=0,C=P,S!=0)C+=G.DEFAULT_COMPONENT_SEPERATION;P=0}var $=N[S],f=B.findCenterOfTree($);if(E.x=T,E.y=C,V=D.radialLayout($,f,E),V.y>P)P=Math.floor(V.y);T=Math.floor(V.x+G.DEFAULT_COMPONENT_SEPERATION)}this.transform(new M(W.WORLD_CENTER_X-V.x/2,W.WORLD_CENTER_Y-V.y/2))},D.radialLayout=function(N,E,j){var P=Math.max(this.maxDiagonalInTree(N),G.DEFAULT_RADIAL_SEPARATION);D.branchRadialLayout(E,null,0,359,0,P);var C=L.calculateBounds(N),T=new I;T.setDeviceOrgX(C.getMinX()),T.setDeviceOrgY(C.getMinY()),T.setWorldOrgX(j.x),T.setWorldOrgY(j.y);for(var V=0;V<N.length;V++){var S=N[V];S.transform(T)}var $=new M(C.getMaxX(),C.getMaxY());return T.inverseTransformPoint($)},D.branchRadialLayout=function(N,E,j,P,C,T){var V=(P-j+1)/2;if(V<0)V+=180;var S=(V+j)%360,$=S*A.TWO_PI/360,f=Math.cos($),h=C*Math.cos($),v=C*Math.sin($);N.setCenter(h,v);var b=[];b=b.concat(N.getEdges());var y=b.length;if(E!=null)y--;var k=0,g=b.length,u,i=N.getEdgesBetween(E);while(i.length>1){var e=i[0];i.splice(0,1);var J0=b.indexOf(e);if(J0>=0)b.splice(J0,1);g--,y--}if(E!=null)u=(b.indexOf(i[0])+1)%g;else u=0;var z0=Math.abs(P-j)/y;for(var t=u;k!=y;t=++t%g){var B0=b[t].getOtherEnd(N);if(B0==E)continue;var X0=(j+k*z0)%360,d=(X0+z0)%360;D.branchRadialLayout(B0,N,X0,d,C+T,T),k++}},D.maxDiagonalInTree=function(N){var E=O.MIN_VALUE;for(var j=0;j<N.length;j++){var P=N[j],C=P.getDiagonal();if(C>E)E=C}return E},D.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},D.prototype.groupZeroDegreeMembers=function(){var N=this,E={};this.memberGroups={},this.idToDummyNode={};var j=[],P=this.graphManager.getAllNodes();for(var C=0;C<P.length;C++){var T=P[C],V=T.getParent();if(this.getNodeDegreeWithChildren(T)===0&&(V.id==null||!this.getToBeTiled(V)))j.push(T)}for(var C=0;C<j.length;C++){var T=j[C],S=T.getParent().id;if(typeof E[S]==="undefined")E[S]=[];E[S]=E[S].concat(T)}Object.keys(E).forEach(function($){if(E[$].length>1){var f="DummyCompound_"+$;N.memberGroups[f]=E[$];var h=E[$][0].getParent(),v=new q(N.graphManager);v.id=f,v.paddingLeft=h.paddingLeft||0,v.paddingRight=h.paddingRight||0,v.paddingBottom=h.paddingBottom||0,v.paddingTop=h.paddingTop||0,N.idToDummyNode[f]=v;var b=N.getGraphManager().add(N.newGraph(),v),y=h.getChild();y.add(v);for(var k=0;k<E[$].length;k++){var g=E[$][k];y.remove(g),b.add(g)}}})},D.prototype.clearCompounds=function(){var N={},E={};this.performDFSOnCompounds();for(var j=0;j<this.compoundOrder.length;j++)E[this.compoundOrder[j].id]=this.compoundOrder[j],N[this.compoundOrder[j].id]=[].concat(this.compoundOrder[j].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[j].getChild()),this.compoundOrder[j].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(N,E)},D.prototype.clearZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(j){var P=N.idToDummyNode[j];E[j]=N.tileNodes(N.memberGroups[j],P.paddingLeft+P.paddingRight),P.rect.width=E[j].width,P.rect.height=E[j].height})},D.prototype.repopulateCompounds=function(){for(var N=this.compoundOrder.length-1;N>=0;N--){var E=this.compoundOrder[N],j=E.id,P=E.paddingLeft,C=E.paddingTop;this.adjustLocations(this.tiledMemberPack[j],E.rect.x,E.rect.y,P,C)}},D.prototype.repopulateZeroDegreeMembers=function(){var N=this,E=this.tiledZeroDegreePack;Object.keys(E).forEach(function(j){var P=N.idToDummyNode[j],C=P.paddingLeft,T=P.paddingTop;N.adjustLocations(E[j],P.rect.x,P.rect.y,C,T)})},D.prototype.getToBeTiled=function(N){var E=N.id;if(this.toBeTiled[E]!=null)return this.toBeTiled[E];var j=N.getChild();if(j==null)return this.toBeTiled[E]=!1,!1;var P=j.getNodes();for(var C=0;C<P.length;C++){var T=P[C];if(this.getNodeDegree(T)>0)return this.toBeTiled[E]=!1,!1;if(T.getChild()==null){this.toBeTiled[T.id]=!1;continue}if(!this.getToBeTiled(T))return this.toBeTiled[E]=!1,!1}return this.toBeTiled[E]=!0,!0},D.prototype.getNodeDegree=function(N){var E=N.id,j=N.getEdges(),P=0;for(var C=0;C<j.length;C++){var T=j[C];if(T.getSource().id!==T.getTarget().id)P=P+1}return P},D.prototype.getNodeDegreeWithChildren=function(N){var E=this.getNodeDegree(N);if(N.getChild()==null)return E;var j=N.getChild().getNodes();for(var P=0;P<j.length;P++){var C=j[P];E+=this.getNodeDegreeWithChildren(C)}return E},D.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},D.prototype.fillCompexOrderByDFS=function(N){for(var E=0;E<N.length;E++){var j=N[E];if(j.getChild()!=null)this.fillCompexOrderByDFS(j.getChild().getNodes());if(this.getToBeTiled(j))this.compoundOrder.push(j)}},D.prototype.adjustLocations=function(N,E,j,P,C){E+=P,j+=C;var T=E;for(var V=0;V<N.rows.length;V++){var S=N.rows[V];E=T;var $=0;for(var f=0;f<S.length;f++){var h=S[f];if(h.rect.x=E,h.rect.y=j,E+=h.rect.width+N.horizontalPadding,h.rect.height>$)$=h.rect.height}j+=$+N.verticalPadding}},D.prototype.tileCompoundMembers=function(N,E){var j=this;this.tiledMemberPack=[],Object.keys(N).forEach(function(P){var C=E[P];j.tiledMemberPack[P]=j.tileNodes(N[P],C.paddingLeft+C.paddingRight),C.rect.width=j.tiledMemberPack[P].width,C.rect.height=j.tiledMemberPack[P].height})},D.prototype.tileNodes=function(N,E){var{TILING_PADDING_VERTICAL:j,TILING_PADDING_HORIZONTAL:P}=G,C={rows:[],rowWidth:[],rowHeight:[],width:0,height:E,verticalPadding:j,horizontalPadding:P};N.sort(function(S,$){if(S.rect.width*S.rect.height>$.rect.width*$.rect.height)return-1;if(S.rect.width*S.rect.height<$.rect.width*$.rect.height)return 1;return 0});for(var T=0;T<N.length;T++){var V=N[T];if(C.rows.length==0)this.insertNodeToRow(C,V,0,E);else if(this.canAddHorizontal(C,V.rect.width,V.rect.height))this.insertNodeToRow(C,V,this.getShortestRowIndex(C),E);else this.insertNodeToRow(C,V,C.rows.length,E);this.shiftToLastRow(C)}return C},D.prototype.insertNodeToRow=function(N,E,j,P){var C=P;if(j==N.rows.length){var T=[];N.rows.push(T),N.rowWidth.push(C),N.rowHeight.push(0)}var V=N.rowWidth[j]+E.rect.width;if(N.rows[j].length>0)V+=N.horizontalPadding;if(N.rowWidth[j]=V,N.width<V)N.width=V;var S=E.rect.height;if(j>0)S+=N.verticalPadding;var $=0;if(S>N.rowHeight[j])$=N.rowHeight[j],N.rowHeight[j]=S,$=N.rowHeight[j]-$;N.height+=$,N.rows[j].push(E)},D.prototype.getShortestRowIndex=function(N){var E=-1,j=Number.MAX_VALUE;for(var P=0;P<N.rows.length;P++)if(N.rowWidth[P]<j)E=P,j=N.rowWidth[P];return E},D.prototype.getLongestRowIndex=function(N){var E=-1,j=Number.MIN_VALUE;for(var P=0;P<N.rows.length;P++)if(N.rowWidth[P]>j)E=P,j=N.rowWidth[P];return E},D.prototype.canAddHorizontal=function(N,E,j){var P=this.getShortestRowIndex(N);if(P<0)return!0;var C=N.rowWidth[P];if(C+N.horizontalPadding+E<=N.width)return!0;var T=0;if(N.rowHeight[P]<j){if(P>0)T=j+N.verticalPadding-N.rowHeight[P]}var V;if(N.width-C>=E+N.horizontalPadding)V=(N.height+T)/(C+E+N.horizontalPadding);else V=(N.height+T)/N.width;T=j+N.verticalPadding;var S;if(N.width<E)S=(N.height+T)/E;else S=(N.height+T)/N.width;if(S<1)S=1/S;if(V<1)V=1/V;return V<S},D.prototype.shiftToLastRow=function(N){var E=this.getLongestRowIndex(N),j=N.rowWidth.length-1,P=N.rows[E],C=P[P.length-1],T=C.width+N.horizontalPadding;if(N.width-N.rowWidth[j]>T&&E!=j){P.splice(-1,1),N.rows[j].push(C),N.rowWidth[E]=N.rowWidth[E]-T,N.rowWidth[j]=N.rowWidth[j]+T,N.width=N.rowWidth[instance.getLongestRowIndex(N)];var V=Number.MIN_VALUE;for(var S=0;S<P.length;S++)if(P[S].height>V)V=P[S].height;if(E>0)V+=N.verticalPadding;var $=N.rowHeight[E]+N.rowHeight[j];if(N.rowHeight[E]=V,N.rowHeight[j]<C.height+N.verticalPadding)N.rowHeight[j]=C.height+N.verticalPadding;var f=N.rowHeight[E]+N.rowHeight[j];N.height+=f-$,this.shiftToLastRow(N)}},D.prototype.tilingPreLayout=function(){if(G.TILE)this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers()},D.prototype.tilingPostLayout=function(){if(G.TILE)this.repopulateZeroDegreeMembers(),this.repopulateCompounds()},D.prototype.reduceTrees=function(){var N=[],E=!0,j;while(E){var P=this.graphManager.getAllNodes(),C=[];E=!1;for(var T=0;T<P.length;T++)if(j=P[T],j.getEdges().length==1&&!j.getEdges()[0].isInterGraph&&j.getChild()==null)C.push([j,j.getEdges()[0],j.getOwner()]),E=!0;if(E==!0){var V=[];for(var S=0;S<C.length;S++)if(C[S][0].getEdges().length==1)V.push(C[S]),C[S][0].getOwner().remove(C[S][0]);N.push(V),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=N},D.prototype.growTree=function(N){var E=N.length,j=N[E-1],P;for(var C=0;C<j.length;C++)P=j[C],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);N.splice(N.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},D.prototype.findPlaceforPrunedNode=function(N){var E,j,P=N[0];if(P==N[1].source)j=N[1].target;else j=N[1].source;var{startX:C,finishX:T,startY:V,finishY:S}=j,$=0,f=0,h=0,v=0,b=[$,h,f,v];if(V>0)for(var y=C;y<=T;y++)b[0]+=this.grid[y][V-1].length+this.grid[y][V].length-1;if(T<this.grid.length-1)for(var y=V;y<=S;y++)b[1]+=this.grid[T+1][y].length+this.grid[T][y].length-1;if(S<this.grid[0].length-1)for(var y=C;y<=T;y++)b[2]+=this.grid[y][S+1].length+this.grid[y][S].length-1;if(C>0)for(var y=V;y<=S;y++)b[3]+=this.grid[C-1][y].length+this.grid[C][y].length-1;var k=O.MAX_VALUE,g,u;for(var i=0;i<b.length;i++)if(b[i]<k)k=b[i],g=1,u=i;else if(b[i]==k)g++;if(g==3&&k==0){if(b[0]==0&&b[1]==0&&b[2]==0)E=1;else if(b[0]==0&&b[1]==0&&b[3]==0)E=0;else if(b[0]==0&&b[2]==0&&b[3]==0)E=3;else if(b[1]==0&&b[2]==0&&b[3]==0)E=2}else if(g==2&&k==0){var e=Math.floor(Math.random()*2);if(b[0]==0&&b[1]==0)if(e==0)E=0;else E=1;else if(b[0]==0&&b[2]==0)if(e==0)E=0;else E=2;else if(b[0]==0&&b[3]==0)if(e==0)E=0;else E=3;else if(b[1]==0&&b[2]==0)if(e==0)E=1;else E=2;else if(b[1]==0&&b[3]==0)if(e==0)E=1;else E=3;else if(e==0)E=2;else E=3}else if(g==4&&k==0){var e=Math.floor(Math.random()*4);E=e}else E=u;if(E==0)P.setCenter(j.getCenterX(),j.getCenterY()-j.getHeight()/2-H.DEFAULT_EDGE_LENGTH-P.getHeight()/2);else if(E==1)P.setCenter(j.getCenterX()+j.getWidth()/2+H.DEFAULT_EDGE_LENGTH+P.getWidth()/2,j.getCenterY());else if(E==2)P.setCenter(j.getCenterX(),j.getCenterY()+j.getHeight()/2+H.DEFAULT_EDGE_LENGTH+P.getHeight()/2);else P.setCenter(j.getCenterX()-j.getWidth()/2-H.DEFAULT_EDGE_LENGTH-P.getWidth()/2,j.getCenterY())},J.exports=D},function(J,Q,K){var X={};X.layoutBase=K(0),X.CoSEConstants=K(1),X.CoSEEdge=K(2),X.CoSEGraph=K(3),X.CoSEGraphManager=K(4),X.CoSELayout=K(6),X.CoSENode=K(5),J.exports=X}])})});var Q50=i7((NM,A_)=>{(function Z(J,Q){if(typeof NM==="object"&&typeof A_==="object")A_.exports=Q(O_());else if(typeof define==="function"&&define.amd)define(["cose-base"],Q);else if(typeof NM==="object")NM.cytoscapeCoseBilkent=Q(O_());else J.cytoscapeCoseBilkent=Q(J.coseBase)})(NM,function(Z){return function(J){var Q={};function K(X){if(Q[X])return Q[X].exports;var U=Q[X]={i:X,l:!1,exports:{}};return J[X].call(U.exports,U,U.exports,K),U.l=!0,U.exports}return K.m=J,K.c=Q,K.i=function(X){return X},K.d=function(X,U,Y){if(!K.o(X,U))Object.defineProperty(X,U,{configurable:!1,enumerable:!0,get:Y})},K.n=function(X){var U=X&&X.__esModule?function Y(){return X.default}:function Y(){return X};return K.d(U,"a",U),U},K.o=function(X,U){return Object.prototype.hasOwnProperty.call(X,U)},K.p="",K(K.s=1)}([function(J,Q){J.exports=Z},function(J,Q,K){var X=K(0).layoutBase.LayoutConstants,U=K(0).layoutBase.FDLayoutConstants,Y=K(0).CoSEConstants,q=K(0).CoSELayout,z=K(0).CoSENode,G=K(0).layoutBase.PointD,H=K(0).layoutBase.DimensionD,W={ready:function A(){},stop:function A(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:0.45,nestingFactor:0.1,gravity:0.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:0.5};function F(A,L){var I={};for(var D in A)I[D]=A[D];for(var D in L)I[D]=L[D];return I}function M(A){this.options=F(W,A),B(this.options)}var B=function A(L){if(L.nodeRepulsion!=null)Y.DEFAULT_REPULSION_STRENGTH=U.DEFAULT_REPULSION_STRENGTH=L.nodeRepulsion;if(L.idealEdgeLength!=null)Y.DEFAULT_EDGE_LENGTH=U.DEFAULT_EDGE_LENGTH=L.idealEdgeLength;if(L.edgeElasticity!=null)Y.DEFAULT_SPRING_STRENGTH=U.DEFAULT_SPRING_STRENGTH=L.edgeElasticity;if(L.nestingFactor!=null)Y.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=U.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=L.nestingFactor;if(L.gravity!=null)Y.DEFAULT_GRAVITY_STRENGTH=U.DEFAULT_GRAVITY_STRENGTH=L.gravity;if(L.numIter!=null)Y.MAX_ITERATIONS=U.MAX_ITERATIONS=L.numIter;if(L.gravityRange!=null)Y.DEFAULT_GRAVITY_RANGE_FACTOR=U.DEFAULT_GRAVITY_RANGE_FACTOR=L.gravityRange;if(L.gravityCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_STRENGTH=U.DEFAULT_COMPOUND_GRAVITY_STRENGTH=L.gravityCompound;if(L.gravityRangeCompound!=null)Y.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=U.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=L.gravityRangeCompound;if(L.initialEnergyOnIncremental!=null)Y.DEFAULT_COOLING_FACTOR_INCREMENTAL=U.DEFAULT_COOLING_FACTOR_INCREMENTAL=L.initialEnergyOnIncremental;if(L.quality=="draft")X.QUALITY=0;else if(L.quality=="proof")X.QUALITY=2;else X.QUALITY=1;Y.NODE_DIMENSIONS_INCLUDE_LABELS=U.NODE_DIMENSIONS_INCLUDE_LABELS=X.NODE_DIMENSIONS_INCLUDE_LABELS=L.nodeDimensionsIncludeLabels,Y.DEFAULT_INCREMENTAL=U.DEFAULT_INCREMENTAL=X.DEFAULT_INCREMENTAL=!L.randomize,Y.ANIMATE=U.ANIMATE=X.ANIMATE=L.animate,Y.TILE=L.tile,Y.TILING_PADDING_VERTICAL=typeof L.tilingPaddingVertical==="function"?L.tilingPaddingVertical.call():L.tilingPaddingVertical,Y.TILING_PADDING_HORIZONTAL=typeof L.tilingPaddingHorizontal==="function"?L.tilingPaddingHorizontal.call():L.tilingPaddingHorizontal};M.prototype.run=function(){var A,L,I=this.options,D=this.idToLNode={},w=this.layout=new q,N=this;N.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var E=w.newGraphManager();this.gm=E;var j=this.options.eles.nodes(),P=this.options.eles.edges();this.root=E.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(j),w);for(var C=0;C<P.length;C++){var T=P[C],V=this.idToLNode[T.data("source")],S=this.idToLNode[T.data("target")];if(V!==S&&V.getEdgesBetween(S).length==0){var $=E.add(w.newEdge(),V,S);$.id=T.id()}}var f=function v(b,y){if(typeof b==="number")b=y;var k=b.data("id"),g=N.idToLNode[k];return{x:g.getRect().getCenterX(),y:g.getRect().getCenterY()}},h=function v(){var b=function i(){if(I.fit)I.cy.fit(I.eles,I.padding);if(!A)A=!0,N.cy.one("layoutready",I.ready),N.cy.trigger({type:"layoutready",layout:N})},y=N.options.refresh,k;for(var g=0;g<y&&!k;g++)k=N.stopped||N.layout.tick();if(k){if(w.checkLayoutSuccess()&&!w.isSubLayout)w.doPostLayout();if(w.tilingPostLayout)w.tilingPostLayout();if(w.isLayoutFinished=!0,N.options.eles.nodes().positions(f),b(),N.cy.one("layoutstop",N.options.stop),N.cy.trigger({type:"layoutstop",layout:N}),L)cancelAnimationFrame(L);A=!1;return}var u=N.layout.getPositionsData();I.eles.nodes().positions(function(i,e){if(typeof i==="number")i=e;if(!i.isParent()){var J0=i.id(),z0=u[J0],t=i;while(z0==null)if(z0=u[t.data("parent")]||u["DummyCompound_"+t.data("parent")],u[J0]=z0,t=t.parent()[0],t==null)break;if(z0!=null)return{x:z0.x,y:z0.y};else return{x:i.position("x"),y:i.position("y")}}}),b(),L=requestAnimationFrame(v)};if(w.addListener("layoutstarted",function(){if(N.options.animate==="during")L=requestAnimationFrame(h)}),w.runLayout(),this.options.animate!=="during")N.options.eles.nodes().not(":parent").layoutPositions(N,N.options,f),A=!1;return this},M.prototype.getTopMostNodes=function(A){var L={};for(var I=0;I<A.length;I++)L[A[I].id()]=!0;var D=A.filter(function(w,N){if(typeof w==="number")w=N;var E=w.parent()[0];while(E!=null){if(L[E.id()])return!1;E=E.parent()[0]}return!0});return D},M.prototype.processChildrenList=function(A,L,I){var D=L.length;for(var w=0;w<D;w++){var N=L[w],E=N.children(),j,P=N.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(N.outerWidth()!=null&&N.outerHeight()!=null)j=A.add(new z(I.graphManager,new G(N.position("x")-P.w/2,N.position("y")-P.h/2),new H(parseFloat(P.w),parseFloat(P.h))));else j=A.add(new z(this.graphManager));if(j.id=N.data("id"),j.paddingLeft=parseInt(N.css("padding")),j.paddingTop=parseInt(N.css("padding")),j.paddingRight=parseInt(N.css("padding")),j.paddingBottom=parseInt(N.css("padding")),this.options.nodeDimensionsIncludeLabels){if(N.isParent()){var C=N.boundingBox({includeLabels:!0,includeNodes:!1}).w,T=N.boundingBox({includeLabels:!0,includeNodes:!1}).h,V=N.css("text-halign");j.labelWidth=C,j.labelHeight=T,j.labelPos=V}}if(this.idToLNode[N.data("id")]=j,isNaN(j.rect.x))j.rect.x=0;if(isNaN(j.rect.y))j.rect.y=0;if(E!=null&&E.length>0){var S=I.getGraphManager().add(I.newGraph(),j);this.processChildrenList(S,E,I)}}},M.prototype.stop=function(){return this.stopped=!0,this};var O=function A(L){L("layout","cose-bilkent",M)};if(typeof cytoscape!=="undefined")O(cytoscape);J.exports=O}])})});var G50={};q8(G50,{diagram:()=>Kd0});function U50(Z,J,Q,K,X){return Z.insert("polygon",":first-child").attr("points",K.map(function(U){return U.x+","+U.y}).join(" ")).attr("transform","translate("+(X.width-J)/2+", "+Q+")")}async function D_(Z,J,Q,K,X){if(await al0(Z,J,Q,K,X),Q.children)await Promise.all(Q.children.map((U,Y)=>D_(Z,J,U,K<0?Y:K,X)))}function Y50(Z,J){J.edges().map((Q,K)=>{const X=Q.data();if(Q[0]._private.bodyBounds){const U=Q[0]._private.rscratch;p.trace("Edge: ",K,X),Z.insert("path").attr("d",`M ${U.startX},${U.startY} L ${U.midX},${U.midY} L${U.endX},${U.endY} `).attr("class","edge section-edge-"+X.section+" edge-depth-"+X.depth)}})}function N_(Z,J,Q,K){if(J.add({group:"nodes",data:{id:Z.id.toString(),labelText:Z.descr,height:Z.height,width:Z.width,level:K,nodeId:Z.id,padding:Z.padding,type:Z.type},position:{x:Z.x,y:Z.y}}),Z.children)Z.children.forEach((X)=>{N_(X,J,Q,K+1),J.add({group:"edges",data:{id:`${Z.id}_${X.id}`,source:Z.id,target:X.id,depth:K,section:X.section}})})}function q50(Z,J){return new Promise((Q)=>{const K=$0("body").append("div").attr("id","cy").attr("style","display:none"),X=k5({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});K.remove(),N_(Z,X,J,0),X.nodes().forEach(function(U){U.layoutDimensions=()=>{const Y=U.data();return{w:Y.width,h:Y.height}}}),X.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),X.ready((U)=>{p.info("Ready",U),Q(X)})})}function z50(Z,J){J.nodes().map((Q,K)=>{const X=Q.data();X.x=Q.position().x,X.y=Q.position().y,ol0(Z,X);const U=Z.getElementById(X.nodeId);p.info("Id:",K,"Position: (",Q.position().x,", ",Q.position().y,")",X),U.attr("transform",`translate(${Q.position().x-X.width/2}, ${Q.position().y-X.height/2})`),U.attr("attr",`apa-${K})`)})}var X50,L_,Tl0,O4,K50=0,I_,fl0,vl0,kl0,$l0,wJ,_l0,bl0,xl0,hl0,yl0,ul0,ml0,gl0,pl0=12,cl0,ll0,dl0,il0,sl0,rl0,nl0,al0,ol0,tl0,el0,Zd0,Jd0,Qd0,Kd0;var H50=_(()=>{x6();FZ();QY();X8();J50();X50=z7(Q50(),1);i9();_Q();L_=function(){var Z=R(function(w,N,E,j){for(E=E||{},j=w.length;j--;E[w[j]]=N);return E},"o"),J=[1,4],Q=[1,13],K=[1,12],X=[1,15],U=[1,16],Y=[1,20],q=[1,19],z=[6,7,8],G=[1,26],H=[1,24],W=[1,25],F=[6,7,11],M=[1,6,13,15,16,19,22],B=[1,33],O=[1,34],A=[1,6,7,11,13,15,16,19,22],L={trace:R(function w(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:R(function w(N,E,j,P,C,T,V){var S=T.length-1;switch(C){case 6:case 7:return P;case 8:P.getLogger().trace("Stop NL ");break;case 9:P.getLogger().trace("Stop EOF ");break;case 11:P.getLogger().trace("Stop NL2 ");break;case 12:P.getLogger().trace("Stop EOF2 ");break;case 15:P.getLogger().info("Node: ",T[S].id),P.addNode(T[S-1].length,T[S].id,T[S].descr,T[S].type);break;case 16:P.getLogger().trace("Icon: ",T[S]),P.decorateNode({icon:T[S]});break;case 17:case 21:P.decorateNode({class:T[S]});break;case 18:P.getLogger().trace("SPACELIST");break;case 19:P.getLogger().trace("Node: ",T[S].id),P.addNode(0,T[S].id,T[S].descr,T[S].type);break;case 20:P.decorateNode({icon:T[S]});break;case 25:P.getLogger().trace("node found ..",T[S-2]),this.$={id:T[S-1],descr:T[S-1],type:P.getType(T[S-2],T[S])};break;case 26:this.$={id:T[S],descr:T[S],type:P.nodeType.DEFAULT};break;case 27:P.getLogger().trace("node found ..",T[S-3]),this.$={id:T[S-3],descr:T[S-1],type:P.getType(T[S-2],T[S])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:J},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:J},{6:Q,7:[1,10],9:9,12:11,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},Z(z,[2,3]),{1:[2,2]},Z(z,[2,4]),Z(z,[2,5]),{1:[2,6],6:Q,12:21,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},{6:Q,9:22,12:11,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},{6:G,7:H,10:23,11:W},Z(F,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:Y,22:q}),Z(F,[2,18]),Z(F,[2,19]),Z(F,[2,20]),Z(F,[2,21]),Z(F,[2,23]),Z(F,[2,24]),Z(F,[2,26],{19:[1,30]}),{20:[1,31]},{6:G,7:H,10:32,11:W},{1:[2,7],6:Q,12:21,13:K,14:14,15:X,16:U,17:17,18:18,19:Y,22:q},Z(M,[2,14],{7:B,11:O}),Z(A,[2,8]),Z(A,[2,9]),Z(A,[2,10]),Z(F,[2,15]),Z(F,[2,16]),Z(F,[2,17]),{20:[1,35]},{21:[1,36]},Z(M,[2,13],{7:B,11:O}),Z(A,[2,11]),Z(A,[2,12]),{21:[1,37]},Z(F,[2,25]),Z(F,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:R(function w(N,E){if(E.recoverable)this.trace(N);else{var j=new Error(N);throw j.hash=E,j}},"parseError"),parse:R(function w(N){var E=this,j=[0],P=[],C=[null],T=[],V=this.table,S="",$=0,f=0,h=0,v=2,b=1,y=T.slice.call(arguments,1),k=Object.create(this.lexer),g={yy:{}};for(var u in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,u))g.yy[u]=this.yy[u];if(k.setInput(N,g.yy),g.yy.lexer=k,g.yy.parser=this,typeof k.yylloc=="undefined")k.yylloc={};var i=k.yylloc;T.push(i);var e=k.options&&k.options.ranges;if(typeof g.yy.parseError==="function")this.parseError=g.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function J0(k0){j.length=j.length-2*k0,C.length=C.length-k0,T.length=T.length-k0}R(J0,"popStack");function z0(){var k0=P.pop()||k.lex()||b;if(typeof k0!=="number"){if(k0 instanceof Array)P=k0,k0=P.pop();k0=E.symbols_[k0]||k0}return k0}R(z0,"lex");var t,B0,X0,d,o,a,Q0={},K0,A0,r,v0;while(!0){if(X0=j[j.length-1],this.defaultActions[X0])d=this.defaultActions[X0];else{if(t===null||typeof t=="undefined")t=z0();d=V[X0]&&V[X0][t]}if(typeof d==="undefined"||!d.length||!d[0]){var Y0="";v0=[];for(K0 in V[X0])if(this.terminals_[K0]&&K0>v)v0.push("'"+this.terminals_[K0]+"'");if(k.showPosition)Y0="Parse error on line "+($+1)+":\n"+k.showPosition()+"\nExpecting "+v0.join(", ")+", got '"+(this.terminals_[t]||t)+"'";else Y0="Parse error on line "+($+1)+": Unexpected "+(t==b?"end of input":"'"+(this.terminals_[t]||t)+"'");this.parseError(Y0,{text:k.match,token:this.terminals_[t]||t,line:k.yylineno,loc:i,expected:v0})}if(d[0]instanceof Array&&d.length>1)throw new Error("Parse Error: multiple actions possible at state: "+X0+", token: "+t);switch(d[0]){case 1:if(j.push(t),C.push(k.yytext),T.push(k.yylloc),j.push(d[1]),t=null,!B0){if(f=k.yyleng,S=k.yytext,$=k.yylineno,i=k.yylloc,h>0)h--}else t=B0,B0=null;break;case 2:if(A0=this.productions_[d[1]][1],Q0.$=C[C.length-A0],Q0._$={first_line:T[T.length-(A0||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(A0||1)].first_column,last_column:T[T.length-1].last_column},e)Q0._$.range=[T[T.length-(A0||1)].range[0],T[T.length-1].range[1]];if(a=this.performAction.apply(Q0,[S,f,$,g.yy,d[1],C,T].concat(y)),typeof a!=="undefined")return a;if(A0)j=j.slice(0,-1*A0*2),C=C.slice(0,-1*A0),T=T.slice(0,-1*A0);j.push(this.productions_[d[1]][0]),C.push(Q0.$),T.push(Q0._$),r=V[j[j.length-2]][j[j.length-1]],j.push(r);break;case 3:return!0}}return!0},"parse")},I=function(){var w={EOF:1,parseError:R(function N(E,j){if(this.yy.parser)this.yy.parser.parseError(E,j);else throw new Error(E)},"parseError"),setInput:R(function(N,E){if(this.yy=E||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var E=N.match(/(?:\r\n?|\n).*/g);if(E)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),N},"input"),unput:R(function(N){var E=N.length,j=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-E),this.offset-=E;var P=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1)this.yylineno-=j.length-1;var C=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===P.length?this.yylloc.first_column:0)+P[P.length-j.length].length-j[0].length:this.yylloc.first_column-E},this.options.ranges)this.yylloc.range=[C[0],C[0]+this.yyleng-E];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(N){this.unput(this.match.slice(N))},"less"),pastInput:R(function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var N=this.match;if(N.length<20)N+=this._input.substr(0,20-N.length);return(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var N=this.pastInput(),E=new Array(N.length+1).join("-");return N+this.upcomingInput()+"\n"+E+"^"},"showPosition"),test_match:R(function(N,E){var j,P,C;if(this.options.backtrack_lexer){if(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)C.yylloc.range=this.yylloc.range.slice(0)}if(P=N[0].match(/(?:\r\n?|\n).*/g),P)this.yylineno+=P.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],j=this.performAction.call(this,this.yy,this,E,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(j)return j;else if(this._backtrack){for(var T in C)this[T]=C[T];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var N,E,j,P;if(!this._more)this.yytext="",this.match="";var C=this._currentRules();for(var T=0;T<C.length;T++)if(j=this._input.match(this.rules[C[T]]),j&&(!E||j[0].length>E[0].length)){if(E=j,P=T,this.options.backtrack_lexer)if(N=this.test_match(j,C[T]),N!==!1)return N;else if(this._backtrack){E=!1;continue}else return!1;else if(!this.options.flex)break}if(E){if(N=this.test_match(E,C[P]),N!==!1)return N;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function N(){var E=this.next();if(E)return E;else return this.lex()},"lex"),begin:R(function N(E){this.conditionStack.push(E)},"begin"),popState:R(function N(){var E=this.conditionStack.length-1;if(E>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function N(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function N(E){if(E=this.conditionStack.length-1-Math.abs(E||0),E>=0)return this.conditionStack[E];else return"INITIAL"},"topState"),pushState:R(function N(E){this.begin(E)},"pushState"),stateStackSize:R(function N(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function N(E,j,P,C){var T=C;switch(P){case 0:return E.getLogger().trace("Found comment",j.yytext),6;break;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;break;case 4:this.popState();break;case 5:E.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return E.getLogger().trace("SPACELINE"),6;break;case 7:return 7;case 8:return 15;case 9:E.getLogger().trace("end icon"),this.popState();break;case 10:return E.getLogger().trace("Exploding node"),this.begin("NODE"),19;break;case 11:return E.getLogger().trace("Cloud"),this.begin("NODE"),19;break;case 12:return E.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;break;case 13:return E.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;break;case 14:return this.begin("NODE"),19;break;case 15:return this.begin("NODE"),19;break;case 16:return this.begin("NODE"),19;break;case 17:return this.begin("NODE"),19;break;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:E.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return E.getLogger().trace("description:",j.yytext),"NODE_DESCR";break;case 26:this.popState();break;case 27:return this.popState(),E.getLogger().trace("node end ))"),"NODE_DEND";break;case 28:return this.popState(),E.getLogger().trace("node end )"),"NODE_DEND";break;case 29:return this.popState(),E.getLogger().trace("node end ...",j.yytext),"NODE_DEND";break;case 30:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 31:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 32:return this.popState(),E.getLogger().trace("node end (-"),"NODE_DEND";break;case 33:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 34:return this.popState(),E.getLogger().trace("node end (("),"NODE_DEND";break;case 35:return E.getLogger().trace("Long description:",j.yytext),20;break;case 36:return E.getLogger().trace("Long description:",j.yytext),20;break}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return w}();L.lexer=I;function D(){this.yy={}}return R(D,"Parser"),D.prototype=L,L.Parser=D,new D}();L_.parser=L_;Tl0=L_,O4=[],I_={},fl0=R(()=>{O4=[],K50=0,I_={}},"clear"),vl0=R(function(Z){for(let J=O4.length-1;J>=0;J--)if(O4[J].level<Z)return O4[J];return null},"getParent"),kl0=R(()=>{return O4.length>0?O4[0]:null},"getMindmap"),$l0=R((Z,J,Q,K)=>{p.info("addNode",Z,J,Q,K);const X=W0();let U=X.mindmap?.padding??B8.mindmap.padding;switch(K){case wJ.ROUNDED_RECT:case wJ.RECT:case wJ.HEXAGON:U*=2}const Y={id:K50++,nodeId:u8(J,X),level:Z,descr:u8(Q,X),type:K,children:[],width:X.mindmap?.maxNodeWidth??B8.mindmap.maxNodeWidth,padding:U},q=vl0(Z);if(q)q.children.push(Y),O4.push(Y);else if(O4.length===0)O4.push(Y);else throw new Error('There can be only one root. No parent could be found for ("'+Y.descr+'")')},"addNode"),wJ={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},_l0=R((Z,J)=>{switch(p.debug("In get type",Z,J),Z){case"[":return wJ.RECT;case"(":return J===")"?wJ.ROUNDED_RECT:wJ.CLOUD;case"((":return wJ.CIRCLE;case")":return wJ.CLOUD;case"))":return wJ.BANG;case"{{":return wJ.HEXAGON;default:return wJ.DEFAULT}},"getType"),bl0=R((Z,J)=>{I_[Z]=J},"setElementForId"),xl0=R((Z)=>{if(!Z)return;const J=W0(),Q=O4[O4.length-1];if(Z.icon)Q.icon=u8(Z.icon,J);if(Z.class)Q.class=u8(Z.class,J)},"decorateNode"),hl0=R((Z)=>{switch(Z){case wJ.DEFAULT:return"no-border";case wJ.RECT:return"rect";case wJ.ROUNDED_RECT:return"rounded-rect";case wJ.CIRCLE:return"circle";case wJ.CLOUD:return"cloud";case wJ.BANG:return"bang";case wJ.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),yl0=R(()=>p,"getLogger"),ul0=R((Z)=>I_[Z],"getElementById"),ml0={clear:fl0,addNode:$l0,getMindmap:kl0,nodeType:wJ,getType:_l0,setElementForId:bl0,decorateNode:xl0,type2Str:hl0,getLogger:yl0,getElementById:ul0},gl0=ml0,cl0=R(function(Z,J,Q,K){J.append("path").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("d",`M0 ${Q.height-5} v${-Q.height+10} q0,-5 5,-5 h${Q.width-10} q5,0 5,5 v${Q.height-5} H0 Z`),J.append("line").attr("class","node-line-"+K).attr("x1",0).attr("y1",Q.height).attr("x2",Q.width).attr("y2",Q.height)},"defaultBkg"),ll0=R(function(Z,J,Q){J.append("rect").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("height",Q.height).attr("width",Q.width)},"rectBkg"),dl0=R(function(Z,J,Q){const{width:K,height:X}=Q,U=0.15*K,Y=0.25*K,q=0.35*K,z=0.2*K;J.append("path").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("d",`M0 0 a${U},${U} 0 0,1 ${K*0.25},${-1*K*0.1}
      a${q},${q} 1 0,1 ${K*0.4},${-1*K*0.1}
      a${Y},${Y} 1 0,1 ${K*0.35},${1*K*0.2}

      a${U},${U} 1 0,1 ${K*0.15},${1*X*0.35}
      a${z},${z} 1 0,1 ${-1*K*0.15},${1*X*0.65}

      a${Y},${U} 1 0,1 ${-1*K*0.25},${K*0.15}
      a${q},${q} 1 0,1 ${-1*K*0.5},0
      a${U},${U} 1 0,1 ${-1*K*0.25},${-1*K*0.15}

      a${U},${U} 1 0,1 ${-1*K*0.1},${-1*X*0.35}
      a${z},${z} 1 0,1 ${K*0.1},${-1*X*0.65}

    H0 V0 Z`)},"cloudBkg"),il0=R(function(Z,J,Q){const{width:K,height:X}=Q,U=0.15*K;J.append("path").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("d",`M0 0 a${U},${U} 1 0,0 ${K*0.25},${-1*X*0.1}
      a${U},${U} 1 0,0 ${K*0.25},0
      a${U},${U} 1 0,0 ${K*0.25},0
      a${U},${U} 1 0,0 ${K*0.25},${1*X*0.1}

      a${U},${U} 1 0,0 ${K*0.15},${1*X*0.33}
      a${U*0.8},${U*0.8} 1 0,0 0,${1*X*0.34}
      a${U},${U} 1 0,0 ${-1*K*0.15},${1*X*0.33}

      a${U},${U} 1 0,0 ${-1*K*0.25},${X*0.15}
      a${U},${U} 1 0,0 ${-1*K*0.25},0
      a${U},${U} 1 0,0 ${-1*K*0.25},0
      a${U},${U} 1 0,0 ${-1*K*0.25},${-1*X*0.15}

      a${U},${U} 1 0,0 ${-1*K*0.1},${-1*X*0.33}
      a${U*0.8},${U*0.8} 1 0,0 0,${-1*X*0.34}
      a${U},${U} 1 0,0 ${K*0.1},${-1*X*0.33}

    H0 V0 Z`)},"bangBkg"),sl0=R(function(Z,J,Q){J.append("circle").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("r",Q.width/2)},"circleBkg");R(U50,"insertPolygonShape");rl0=R(function(Z,J,Q){const K=Q.height,U=K/4,Y=Q.width-Q.padding+2*U,q=[{x:U,y:0},{x:Y-U,y:0},{x:Y,y:-K/2},{x:Y-U,y:-K},{x:U,y:-K},{x:0,y:-K/2}];U50(J,Y,K,q,Q)},"hexagonBkg"),nl0=R(function(Z,J,Q){J.append("rect").attr("id","node-"+Q.id).attr("class","node-bkg node-"+Z.type2Str(Q.type)).attr("height",Q.height).attr("rx",Q.padding).attr("ry",Q.padding).attr("width",Q.width)},"roundedRectBkg"),al0=R(async function(Z,J,Q,K,X){const U=X.htmlLabels,Y=K%(pl0-1),q=J.append("g");Q.section=Y;let z="section-"+Y;if(Y<0)z+=" section-root";q.attr("class",(Q.class?Q.class+" ":"")+"mindmap-node "+z);const G=q.append("g"),H=q.append("g"),W=Q.descr.replace(/(<br\/*>)/g,"\n");if(await MQ(H,W,{useHtmlLabels:U,width:Q.width,classes:"mindmap-node-label"},X),!U)H.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const F=H.node().getBBox(),[M]=p4(X.fontSize);if(Q.height=F.height+M*1.1*0.5+Q.padding,Q.width=F.width+2*Q.padding,Q.icon)if(Q.type===Z.nodeType.CIRCLE)Q.height+=50,Q.width+=50,q.append("foreignObject").attr("height","50px").attr("width",Q.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+Y+" "+Q.icon),H.attr("transform","translate("+Q.width/2+", "+(Q.height/2-1.5*Q.padding)+")");else{Q.width+=50;const B=Q.height;Q.height=Math.max(B,60);const O=Math.abs(Q.height-B);q.append("foreignObject").attr("width","60px").attr("height",Q.height).attr("style","text-align: center;margin-top:"+O/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+Y+" "+Q.icon),H.attr("transform","translate("+(25+Q.width/2)+", "+(O/2+Q.padding/2)+")")}else if(!U){const B=Q.width/2,O=Q.padding/2;H.attr("transform","translate("+B+", "+O+")")}else{const B=(Q.width-F.width)/2,O=(Q.height-F.height)/2;H.attr("transform","translate("+B+", "+O+")")}switch(Q.type){case Z.nodeType.DEFAULT:cl0(Z,G,Q,Y);break;case Z.nodeType.ROUNDED_RECT:nl0(Z,G,Q,Y);break;case Z.nodeType.RECT:ll0(Z,G,Q,Y);break;case Z.nodeType.CIRCLE:G.attr("transform","translate("+Q.width/2+", "+ +Q.height/2+")"),sl0(Z,G,Q,Y);break;case Z.nodeType.CLOUD:dl0(Z,G,Q,Y);break;case Z.nodeType.BANG:il0(Z,G,Q,Y);break;case Z.nodeType.HEXAGON:rl0(Z,G,Q,Y);break}return Z.setElementForId(Q.id,q),Q.height},"drawNode"),ol0=R(function(Z,J){const Q=Z.getElementById(J.id),K=J.x||0,X=J.y||0;Q.attr("transform","translate("+K+","+X+")")},"positionNode");k5.use(X50.default);R(D_,"drawNodes");R(Y50,"drawEdges");R(N_,"addNodes");R(q50,"layoutMindmap");R(z50,"positionNodes");tl0=R(async(Z,J,Q,K)=>{p.debug("Rendering mindmap diagram\n"+Z);const X=K.db,U=X.getMindmap();if(!U)return;const Y=W0();Y.htmlLabels=!1;const q=OQ(J),z=q.append("g");z.attr("class","mindmap-edges");const G=q.append("g");G.attr("class","mindmap-nodes"),await D_(X,G,U,-1,Y);const H=await q50(U,Y);Y50(z,H),z50(X,H),gK(void 0,q,Y.mindmap?.padding??B8.mindmap.padding,Y.mindmap?.useMaxWidth??B8.mindmap.useMaxWidth)},"draw"),el0={draw:tl0},Zd0=R((Z)=>{let J="";for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++)if(Z["lineColor"+Q]=Z["lineColor"+Q]||Z["cScaleInv"+Q],V7(Z["lineColor"+Q]))Z["lineColor"+Q]=W9(Z["lineColor"+Q],20);else Z["lineColor"+Q]=R9(Z["lineColor"+Q],20);for(let Q=0;Q<Z.THEME_COLOR_LIMIT;Q++){const K=""+(17-3*Q);J+=`
    .section-${Q-1} rect, .section-${Q-1} path, .section-${Q-1} circle, .section-${Q-1} polygon, .section-${Q-1} path  {
      fill: ${Z["cScale"+Q]};
    }
    .section-${Q-1} text {
     fill: ${Z["cScaleLabel"+Q]};
    }
    .node-icon-${Q-1} {
      font-size: 40px;
      color: ${Z["cScaleLabel"+Q]};
    }
    .section-edge-${Q-1}{
      stroke: ${Z["cScale"+Q]};
    }
    .edge-depth-${Q-1}{
      stroke-width: ${K};
    }
    .section-${Q-1} line {
      stroke: ${Z["cScaleInv"+Q]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return J},"genSections"),Jd0=R((Z)=>`
  .edge {
    stroke-width: 3;
  }
  ${Zd0(Z)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${Z.git0};
  }
  .section-root text {
    fill: ${Z.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),Qd0=Jd0,Kd0={db:gl0,renderer:el0,parser:Tl0,styles:Qd0}});function EM(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q<K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q<X||Q===void 0&&X>=X))Q=X}return Q}function GG(Z,J){let Q;if(J===void 0){for(let K of Z)if(K!=null&&(Q>K||Q===void 0&&K>=K))Q=K}else{let K=-1;for(let X of Z)if((X=J(X,++K,Z))!=null&&(Q>X||Q===void 0&&X>=X))Q=X}return Q}function HG(Z,J){let Q=0;if(J===void 0){for(let K of Z)if(K=+K)Q+=K}else{let K=-1;for(let X of Z)if(X=+J(X,++K,Z))Q+=X}return Q}var E_=()=>{};function Xd0(Z){return Z.target.depth}function w_(Z){return Z.depth}function j_(Z,J){return J-1-Z.height}function wM(Z,J){return Z.sourceLinks.length?Z.depth:J-1}function C_(Z){return Z.targetLinks.length?Z.depth:Z.sourceLinks.length?GG(Z.sourceLinks,Xd0)-1:0}var P_=_(()=>{E_()});function WG(Z){return function(){return Z}}function W50(Z,J){return WD(Z.source,J.source)||Z.index-J.index}function F50(Z,J){return WD(Z.target,J.target)||Z.index-J.index}function WD(Z,J){return Z.y0-J.y0}function V_(Z){return Z.value}function Ud0(Z){return Z.index}function Yd0(Z){return Z.nodes}function qd0(Z){return Z.links}function M50(Z,J){const Q=Z.get(J);if(!Q)throw new Error("missing: "+J);return Q}function B50({nodes:Z}){for(let J of Z){let Q=J.y0,K=Q;for(let X of J.sourceLinks)X.y0=Q+X.width/2,Q+=X.width;for(let X of J.targetLinks)X.y1=K+X.width/2,K+=X.width}}function FD(){let Z=0,J=0,Q=1,K=1,X=24,U=8,Y,q=Ud0,z=wM,G,H,W=Yd0,F=qd0,M=6;function B(){const h={nodes:W.apply(null,arguments),links:F.apply(null,arguments)};return O(h),A(h),L(h),I(h),N(h),B50(h),h}B.update=function(h){return B50(h),h},B.nodeId=function(h){return arguments.length?(q=typeof h==="function"?h:WG(h),B):q},B.nodeAlign=function(h){return arguments.length?(z=typeof h==="function"?h:WG(h),B):z},B.nodeSort=function(h){return arguments.length?(G=h,B):G},B.nodeWidth=function(h){return arguments.length?(X=+h,B):X},B.nodePadding=function(h){return arguments.length?(U=Y=+h,B):U},B.nodes=function(h){return arguments.length?(W=typeof h==="function"?h:WG(h),B):W},B.links=function(h){return arguments.length?(F=typeof h==="function"?h:WG(h),B):F},B.linkSort=function(h){return arguments.length?(H=h,B):H},B.size=function(h){return arguments.length?(Z=J=0,Q=+h[0],K=+h[1],B):[Q-Z,K-J]},B.extent=function(h){return arguments.length?(Z=+h[0][0],Q=+h[1][0],J=+h[0][1],K=+h[1][1],B):[[Z,J],[Q,K]]},B.iterations=function(h){return arguments.length?(M=+h,B):M};function O({nodes:h,links:v}){for(let[y,k]of h.entries())k.index=y,k.sourceLinks=[],k.targetLinks=[];const b=new Map(h.map((y,k)=>[q(y,k,h),y]));for(let[y,k]of v.entries()){k.index=y;let{source:g,target:u}=k;if(typeof g!=="object")g=k.source=M50(b,g);if(typeof u!=="object")u=k.target=M50(b,u);g.sourceLinks.push(k),u.targetLinks.push(k)}if(H!=null)for(let{sourceLinks:y,targetLinks:k}of h)y.sort(H),k.sort(H)}function A({nodes:h}){for(let v of h)v.value=v.fixedValue===void 0?Math.max(HG(v.sourceLinks,V_),HG(v.targetLinks,V_)):v.fixedValue}function L({nodes:h}){const v=h.length;let b=new Set(h),y=new Set,k=0;while(b.size){for(let g of b){g.depth=k;for(let{target:u}of g.sourceLinks)y.add(u)}if(++k>v)throw new Error("circular link");b=y,y=new Set}}function I({nodes:h}){const v=h.length;let b=new Set(h),y=new Set,k=0;while(b.size){for(let g of b){g.height=k;for(let{source:u}of g.targetLinks)y.add(u)}if(++k>v)throw new Error("circular link");b=y,y=new Set}}function D({nodes:h}){const v=EM(h,(k)=>k.depth)+1,b=(Q-Z-X)/(v-1),y=new Array(v);for(let k of h){const g=Math.max(0,Math.min(v-1,Math.floor(z.call(null,k,v))));if(k.layer=g,k.x0=Z+g*b,k.x1=k.x0+X,y[g])y[g].push(k);else y[g]=[k]}if(G)for(let k of y)k.sort(G);return y}function w(h){const v=GG(h,(b)=>(K-J-(b.length-1)*Y)/HG(b,V_));for(let b of h){let y=J;for(let k of b){k.y0=y,k.y1=y+k.value*v,y=k.y1+Y;for(let g of k.sourceLinks)g.width=g.value*v}y=(K-y+Y)/(b.length+1);for(let k=0;k<b.length;++k){const g=b[k];g.y0+=y*(k+1),g.y1+=y*(k+1)}S(b)}}function N(h){const v=D(h);Y=Math.min(U,(K-J)/(EM(v,(b)=>b.length)-1)),w(v);for(let b=0;b<M;++b){const y=Math.pow(0.99,b),k=Math.max(1-y,(b+1)/M);j(v,y,k),E(v,y,k)}}function E(h,v,b){for(let y=1,k=h.length;y<k;++y){const g=h[y];for(let u of g){let i=0,e=0;for(let{source:z0,value:t}of u.targetLinks){let B0=t*(u.layer-z0.layer);i+=$(z0,u)*B0,e+=B0}if(!(e>0))continue;let J0=(i/e-u.y0)*v;u.y0+=J0,u.y1+=J0,V(u)}if(G===void 0)g.sort(WD);P(g,b)}}function j(h,v,b){for(let y=h.length,k=y-2;k>=0;--k){const g=h[k];for(let u of g){let i=0,e=0;for(let{target:z0,value:t}of u.sourceLinks){let B0=t*(z0.layer-u.layer);i+=f(u,z0)*B0,e+=B0}if(!(e>0))continue;let J0=(i/e-u.y0)*v;u.y0+=J0,u.y1+=J0,V(u)}if(G===void 0)g.sort(WD);P(g,b)}}function P(h,v){const b=h.length>>1,y=h[b];T(h,y.y0-Y,b-1,v),C(h,y.y1+Y,b+1,v),T(h,K,h.length-1,v),C(h,J,0,v)}function C(h,v,b,y){for(;b<h.length;++b){const k=h[b],g=(v-k.y0)*y;if(g>0.000001)k.y0+=g,k.y1+=g;v=k.y1+Y}}function T(h,v,b,y){for(;b>=0;--b){const k=h[b],g=(k.y1-v)*y;if(g>0.000001)k.y0-=g,k.y1-=g;v=k.y0-Y}}function V({sourceLinks:h,targetLinks:v}){if(H===void 0){for(let{source:{sourceLinks:b}}of v)b.sort(F50);for(let{target:{targetLinks:b}}of h)b.sort(W50)}}function S(h){if(H===void 0)for(let{sourceLinks:v,targetLinks:b}of h)v.sort(F50),b.sort(W50)}function $(h,v){let b=h.y0-(h.sourceLinks.length-1)*Y/2;for(let{target:y,width:k}of h.sourceLinks){if(y===v)break;b+=k+Y}for(let{source:y,width:k}of v.targetLinks){if(y===h)break;b-=k}return b}function f(h,v){let b=v.y0-(v.targetLinks.length-1)*Y/2;for(let{source:y,width:k}of v.targetLinks){if(y===h)break;b+=k+Y}for(let{target:y,width:k}of h.sourceLinks){if(y===v)break;b-=k}return b}return B}var R50=_(()=>{E_();P_()});function f_(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function O50(){return new f_}var S_,T_,Kq=0.000001,zd0,v_;var A50=_(()=>{S_=Math.PI,T_=2*S_,zd0=T_-Kq;f_.prototype=O50.prototype={constructor:f_,moveTo:function(Z,J){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)},closePath:function(){if(this._x1!==null)this._x1=this._x0,this._y1=this._y0,this._+="Z"},lineTo:function(Z,J){this._+="L"+(this._x1=+Z)+","+(this._y1=+J)},quadraticCurveTo:function(Z,J,Q,K){this._+="Q"+ +Z+","+ +J+","+(this._x1=+Q)+","+(this._y1=+K)},bezierCurveTo:function(Z,J,Q,K,X,U){this._+="C"+ +Z+","+ +J+","+ +Q+","+ +K+","+(this._x1=+X)+","+(this._y1=+U)},arcTo:function(Z,J,Q,K,X){Z=+Z,J=+J,Q=+Q,K=+K,X=+X;var U=this._x1,Y=this._y1,q=Q-Z,z=K-J,G=U-Z,H=Y-J,W=G*G+H*H;if(X<0)throw new Error("negative radius: "+X);if(this._x1===null)this._+="M"+(this._x1=Z)+","+(this._y1=J);else if(!(W>Kq));else if(!(Math.abs(H*q-z*G)>Kq)||!X)this._+="L"+(this._x1=Z)+","+(this._y1=J);else{var F=Q-U,M=K-Y,B=q*q+z*z,O=F*F+M*M,A=Math.sqrt(B),L=Math.sqrt(W),I=X*Math.tan((S_-Math.acos((B+W-O)/(2*A*L)))/2),D=I/L,w=I/A;if(Math.abs(D-1)>Kq)this._+="L"+(Z+D*G)+","+(J+D*H);this._+="A"+X+","+X+",0,0,"+ +(H*F>G*M)+","+(this._x1=Z+w*q)+","+(this._y1=J+w*z)}},arc:function(Z,J,Q,K,X,U){Z=+Z,J=+J,Q=+Q,U=!!U;var Y=Q*Math.cos(K),q=Q*Math.sin(K),z=Z+Y,G=J+q,H=1^U,W=U?K-X:X-K;if(Q<0)throw new Error("negative radius: "+Q);if(this._x1===null)this._+="M"+z+","+G;else if(Math.abs(this._x1-z)>Kq||Math.abs(this._y1-G)>Kq)this._+="L"+z+","+G;if(!Q)return;if(W<0)W=W%T_+T_;if(W>zd0)this._+="A"+Q+","+Q+",0,1,"+H+","+(Z-Y)+","+(J-q)+"A"+Q+","+Q+",0,1,"+H+","+(this._x1=z)+","+(this._y1=G);else if(W>Kq)this._+="A"+Q+","+Q+",0,"+ +(W>=S_)+","+H+","+(this._x1=Z+Q*Math.cos(X))+","+(this._y1=J+Q*Math.sin(X))},rect:function(Z,J,Q,K){this._+="M"+(this._x0=this._x1=+Z)+","+(this._y0=this._y1=+J)+"h"+ +Q+"v"+ +K+"h"+-Q+"Z"},toString:function(){return this._}};v_=O50});var L50=_(()=>{A50()});function MD(Z){return function J(){return Z}}function I50(Z){return Z[0]}function D50(Z){return Z[1]}var N50;var E50=_(()=>{N50=Array.prototype.slice});function Gd0(Z){return Z.source}function Hd0(Z){return Z.target}function Wd0(Z){var J=Gd0,Q=Hd0,K=I50,X=D50,U=null;function Y(){var q,z=N50.call(arguments),G=J.apply(this,z),H=Q.apply(this,z);if(!U)U=q=v_();if(Z(U,+K.apply(this,(z[0]=G,z)),+X.apply(this,z),+K.apply(this,(z[0]=H,z)),+X.apply(this,z)),q)return U=null,q+""||null}return Y.source=function(q){return arguments.length?(J=q,Y):J},Y.target=function(q){return arguments.length?(Q=q,Y):Q},Y.x=function(q){return arguments.length?(K=typeof q==="function"?q:MD(+q),Y):K},Y.y=function(q){return arguments.length?(X=typeof q==="function"?q:MD(+q),Y):X},Y.context=function(q){return arguments.length?(U=q==null?null:q,Y):U},Y}function Fd0(Z,J,Q,K,X){Z.moveTo(J,Q),Z.bezierCurveTo(J=(J+K)/2,Q,J,X,K,X)}function k_(){return Wd0(Fd0)}var w50=_(()=>{L50();E50()});var j50=_(()=>{w50()});function Md0(Z){return[Z.source.x1,Z.y0]}function Bd0(Z){return[Z.target.x0,Z.y1]}function BD(){return k_().source(Md0).target(Bd0)}var C50=_(()=>{j50()});var P50=_(()=>{R50();P_();C50()});var S50={};q8(S50,{diagram:()=>Td0});var $_,RD,AD,LD,OD,Rd0,Od0,Ad0,Ld0,Id0,Dd0,Nd0,Ed0,wd0,V50,jd0,Cd0,Pd0,Vd0,Sd0,Td0;var T50=_(()=>{X8();i9();P50();$_=function(){var Z=R(function(q,z,G,H){for(G=G||{},H=q.length;H--;G[q[H]]=z);return G},"o"),J=[1,9],Q=[1,10],K=[1,5,10,12],X={trace:R(function q(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:R(function q(z,G,H,W,F,M,B){var O=M.length-1;switch(F){case 7:const A=W.findOrCreateNode(M[O-4].trim().replaceAll('""','"')),L=W.findOrCreateNode(M[O-2].trim().replaceAll('""','"')),I=parseFloat(M[O].trim());W.addLink(A,L,I);break;case 8:case 9:case 11:this.$=M[O];break;case 10:this.$=M[O-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:J,20:Q},{1:[2,6],7:11,10:[1,12]},Z(Q,[2,4],{9:13,5:[1,14]}),{12:[1,15]},Z(K,[2,8]),Z(K,[2,9]),{19:[1,16]},Z(K,[2,11]),{1:[2,1]},{1:[2,5]},Z(Q,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:J,20:Q},{15:18,16:7,17:8,18:J,20:Q},{18:[1,19]},Z(Q,[2,3]),{12:[1,20]},Z(K,[2,10]),{15:21,16:7,17:8,18:J,20:Q},Z([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:R(function q(z,G){if(G.recoverable)this.trace(z);else{var H=new Error(z);throw H.hash=G,H}},"parseError"),parse:R(function q(z){var G=this,H=[0],W=[],F=[null],M=[],B=this.table,O="",A=0,L=0,I=0,D=2,w=1,N=M.slice.call(arguments,1),E=Object.create(this.lexer),j={yy:{}};for(var P in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,P))j.yy[P]=this.yy[P];if(E.setInput(z,j.yy),j.yy.lexer=E,j.yy.parser=this,typeof E.yylloc=="undefined")E.yylloc={};var C=E.yylloc;M.push(C);var T=E.options&&E.options.ranges;if(typeof j.yy.parseError==="function")this.parseError=j.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function V(z0){H.length=H.length-2*z0,F.length=F.length-z0,M.length=M.length-z0}R(V,"popStack");function S(){var z0=W.pop()||E.lex()||w;if(typeof z0!=="number"){if(z0 instanceof Array)W=z0,z0=W.pop();z0=G.symbols_[z0]||z0}return z0}R(S,"lex");var $,f,h,v,b,y,k={},g,u,i,e;while(!0){if(h=H[H.length-1],this.defaultActions[h])v=this.defaultActions[h];else{if($===null||typeof $=="undefined")$=S();v=B[h]&&B[h][$]}if(typeof v==="undefined"||!v.length||!v[0]){var J0="";e=[];for(g in B[h])if(this.terminals_[g]&&g>D)e.push("'"+this.terminals_[g]+"'");if(E.showPosition)J0="Parse error on line "+(A+1)+":\n"+E.showPosition()+"\nExpecting "+e.join(", ")+", got '"+(this.terminals_[$]||$)+"'";else J0="Parse error on line "+(A+1)+": Unexpected "+($==w?"end of input":"'"+(this.terminals_[$]||$)+"'");this.parseError(J0,{text:E.match,token:this.terminals_[$]||$,line:E.yylineno,loc:C,expected:e})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+h+", token: "+$);switch(v[0]){case 1:if(H.push($),F.push(E.yytext),M.push(E.yylloc),H.push(v[1]),$=null,!f){if(L=E.yyleng,O=E.yytext,A=E.yylineno,C=E.yylloc,I>0)I--}else $=f,f=null;break;case 2:if(u=this.productions_[v[1]][1],k.$=F[F.length-u],k._$={first_line:M[M.length-(u||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(u||1)].first_column,last_column:M[M.length-1].last_column},T)k._$.range=[M[M.length-(u||1)].range[0],M[M.length-1].range[1]];if(y=this.performAction.apply(k,[O,L,A,j.yy,v[1],F,M].concat(N)),typeof y!=="undefined")return y;if(u)H=H.slice(0,-1*u*2),F=F.slice(0,-1*u),M=M.slice(0,-1*u);H.push(this.productions_[v[1]][0]),F.push(k.$),M.push(k._$),i=B[H[H.length-2]][H[H.length-1]],H.push(i);break;case 3:return!0}}return!0},"parse")},U=function(){var q={EOF:1,parseError:R(function z(G,H){if(this.yy.parser)this.yy.parser.parseError(G,H);else throw new Error(G)},"parseError"),setInput:R(function(z,G){if(this.yy=G||this.yy||{},this._input=z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var z=this._input[0];this.yytext+=z,this.yyleng++,this.offset++,this.match+=z,this.matched+=z;var G=z.match(/(?:\r\n?|\n).*/g);if(G)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),z},"input"),unput:R(function(z){var G=z.length,H=z.split(/(?:\r\n?|\n)/g);this._input=z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-G),this.offset-=G;var W=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1)this.yylineno-=H.length-1;var F=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===W.length?this.yylloc.first_column:0)+W[W.length-H.length].length-H[0].length:this.yylloc.first_column-G},this.options.ranges)this.yylloc.range=[F[0],F[0]+this.yyleng-G];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(z){this.unput(this.match.slice(z))},"less"),pastInput:R(function(){var z=this.matched.substr(0,this.matched.length-this.match.length);return(z.length>20?"...":"")+z.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var z=this.match;if(z.length<20)z+=this._input.substr(0,20-z.length);return(z.substr(0,20)+(z.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var z=this.pastInput(),G=new Array(z.length+1).join("-");return z+this.upcomingInput()+"\n"+G+"^"},"showPosition"),test_match:R(function(z,G){var H,W,F;if(this.options.backtrack_lexer){if(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)F.yylloc.range=this.yylloc.range.slice(0)}if(W=z[0].match(/(?:\r\n?|\n).*/g),W)this.yylineno+=W.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:W?W[W.length-1].length-W[W.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+z[0].length},this.yytext+=z[0],this.match+=z[0],this.matches=z,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(z[0].length),this.matched+=z[0],H=this.performAction.call(this,this.yy,this,G,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(H)return H;else if(this._backtrack){for(var M in F)this[M]=F[M];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var z,G,H,W;if(!this._more)this.yytext="",this.match="";var F=this._currentRules();for(var M=0;M<F.length;M++)if(H=this._input.match(this.rules[F[M]]),H&&(!G||H[0].length>G[0].length)){if(G=H,W=M,this.options.backtrack_lexer)if(z=this.test_match(H,F[M]),z!==!1)return z;else if(this._backtrack){G=!1;continue}else return!1;else if(!this.options.flex)break}if(G){if(z=this.test_match(G,F[W]),z!==!1)return z;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function z(){var G=this.next();if(G)return G;else return this.lex()},"lex"),begin:R(function z(G){this.conditionStack.push(G)},"begin"),popState:R(function z(){var G=this.conditionStack.length-1;if(G>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function z(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function z(G){if(G=this.conditionStack.length-1-Math.abs(G||0),G>=0)return this.conditionStack[G];else return"INITIAL"},"topState"),pushState:R(function z(G){this.begin(G)},"pushState"),stateStackSize:R(function z(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:R(function z(G,H,W,F){var M=F;switch(W){case 0:return this.pushState("csv"),4;break;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;break;case 5:return 20;case 6:return this.popState("escaped_text"),18;break;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return q}();X.lexer=U;function Y(){this.yy={}}return R(Y,"Parser"),Y.prototype=X,X.Parser=Y,new Y}();$_.parser=$_;RD=$_,AD=[],LD=[],OD=new Map,Rd0=R(()=>{AD=[],LD=[],OD=new Map,O8()},"clear"),Od0=class{constructor(Z,J,Q=0){this.source=Z,this.target=J,this.value=Q}static{R(this,"SankeyLink")}},Ad0=R((Z,J,Q)=>{AD.push(new Od0(Z,J,Q))},"addLink"),Ld0=class{constructor(Z){this.ID=Z}static{R(this,"SankeyNode")}},Id0=R((Z)=>{Z=g0.sanitizeText(Z,W0());let J=OD.get(Z);if(J===void 0)J=new Ld0(Z),OD.set(Z,J),LD.push(J);return J},"findOrCreateNode"),Dd0=R(()=>LD,"getNodes"),Nd0=R(()=>AD,"getLinks"),Ed0=R(()=>({nodes:LD.map((Z)=>({id:Z.ID})),links:AD.map((Z)=>({source:Z.source.ID,target:Z.target.ID,value:Z.value}))}),"getGraph"),wd0={nodesMap:OD,getConfig:R(()=>W0().sankey,"getConfig"),getNodes:Dd0,getLinks:Nd0,getGraph:Ed0,addLink:Ad0,findOrCreateNode:Id0,getAccTitle:f8,setAccTitle:E8,getAccDescription:k8,setAccDescription:v8,getDiagramTitle:m8,setDiagramTitle:o8,clear:Rd0},V50=class Z{static{R(this,"Uid")}static{this.count=0}static next(J){return new Z(J+ ++Z.count)}constructor(J){this.id=J,this.href=`#${J}`}toString(){return"url("+this.href+")"}},jd0={left:w_,right:j_,center:C_,justify:wM},Cd0=R(function(Z,J,Q,K){const{securityLevel:X,sankey:U}=W0(),Y=I2.sankey;let q;if(X==="sandbox")q=$0("#i"+J);const z=X==="sandbox"?$0(q.nodes()[0].contentDocument.body):$0("body"),G=X==="sandbox"?z.select(`[id="${J}"]`):$0(`[id="${J}"]`),H=U?.width??Y.width,W=U?.height??Y.width,F=U?.useMaxWidth??Y.useMaxWidth,M=U?.nodeAlignment??Y.nodeAlignment,B=U?.prefix??Y.prefix,O=U?.suffix??Y.suffix,A=U?.showValues??Y.showValues,L=K.db.getGraph(),I=jd0[M],D=10;FD().nodeId((T)=>T.id).nodeWidth(D).nodePadding(10+(A?15:0)).nodeAlign(I).extent([[0,0],[H,W]])(L);const N=sK(vj);G.append("g").attr("class","nodes").selectAll(".node").data(L.nodes).join("g").attr("class","node").attr("id",(T)=>(T.uid=V50.next("node-")).id).attr("transform",function(T){return"translate("+T.x0+","+T.y0+")"}).attr("x",(T)=>T.x0).attr("y",(T)=>T.y0).append("rect").attr("height",(T)=>{return T.y1-T.y0}).attr("width",(T)=>T.x1-T.x0).attr("fill",(T)=>N(T.id));const E=R(({id:T,value:V})=>{if(!A)return T;return`${T}
${B}${Math.round(V*100)/100}${O}`},"getText");G.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(L.nodes).join("text").attr("x",(T)=>T.x0<H/2?T.x1+6:T.x0-6).attr("y",(T)=>(T.y1+T.y0)/2).attr("dy",`${A?"0":"0.35"}em`).attr("text-anchor",(T)=>T.x0<H/2?"start":"end").text(E);const j=G.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",0.5).selectAll(".link").data(L.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),P=U?.linkColor??"gradient";if(P==="gradient"){const T=j.append("linearGradient").attr("id",(V)=>(V.uid=V50.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",(V)=>V.source.x1).attr("x2",(V)=>V.target.x0);T.append("stop").attr("offset","0%").attr("stop-color",(V)=>N(V.source.id)),T.append("stop").attr("offset","100%").attr("stop-color",(V)=>N(V.target.id))}let C;switch(P){case"gradient":C=R((T)=>T.uid,"coloring");break;case"source":C=R((T)=>N(T.source.id),"coloring");break;case"target":C=R((T)=>N(T.target.id),"coloring");break;default:C=P}j.append("path").attr("d",BD()).attr("stroke",C).attr("stroke-width",(T)=>Math.max(1,T.width)),gK(void 0,G,0,F)},"draw"),Pd0={draw:Cd0},Vd0=R((Z)=>{return Z.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,"\n").trim()},"prepareTextForParsing"),Sd0=RD.parse.bind(RD);RD.parse=(Z)=>Sd0(Vd0(Z));Td0={parser:RD,db:wd0,renderer:Pd0}});var v50={};q8(v50,{diagram:()=>ld0});var f50,__,fd0,vd0,kd0,$d0,_d0,FG,bd0=1e4,xd0,hd0,yd0,ud0,md0,gd0,pd0,cd0,ld0;var k50=_(()=>{OA();FZ();QY();X8();OF();f50={packet:[]},__=structuredClone(f50),fd0=B8.packet,vd0=R(()=>{const Z=J6({...fd0,...a8().packet});if(Z.showBits)Z.paddingY+=10;return Z},"getConfig"),kd0=R(()=>__.packet,"getPacket"),$d0=R((Z)=>{if(Z.length>0)__.packet.push(Z)},"pushWord"),_d0=R(()=>{O8(),__=structuredClone(f50)},"clear"),FG={pushWord:$d0,getPacket:kd0,getConfig:vd0,clear:_d0,setAccTitle:E8,getAccTitle:f8,setDiagramTitle:o8,getDiagramTitle:m8,getAccDescription:k8,setAccDescription:v8},xd0=R((Z)=>{qY(Z,FG);let J=-1,Q=[],K=1;const{bitsPerRow:X}=FG.getConfig();for(let{start:U,end:Y,label:q}of Z.blocks){if(Y&&Y<U)throw new Error(`Packet block ${U} - ${Y} is invalid. End must be greater than start.`);if(U!==J+1)throw new Error(`Packet block ${U} - ${Y??U} is not contiguous. It should start from ${J+1}.`);J=Y??U,p.debug(`Packet block ${U} - ${J} with label ${q}`);while(Q.length<=X+1&&FG.getPacket().length<bd0){const[z,G]=hd0({start:U,end:Y,label:q},K,X);if(Q.push(z),z.end+1===K*X)FG.pushWord(Q),Q=[],K++;if(!G)break;({start:U,end:Y,label:q}=G)}}FG.pushWord(Q)},"populate"),hd0=R((Z,J,Q)=>{if(Z.end===void 0)Z.end=Z.start;if(Z.start>Z.end)throw new Error(`Block start ${Z.start} is greater than block end ${Z.end}.`);if(Z.end+1<=J*Q)return[Z,void 0];return[{start:Z.start,end:J*Q-1,label:Z.label},{start:J*Q,end:Z.end,label:Z.label}]},"getNextFittingBlock"),yd0={parse:R(async(Z)=>{const J=await w5("packet",Z);p.debug(J),xd0(J)},"parse")},ud0=R((Z,J,Q,K)=>{const X=K.db,U=X.getConfig(),{rowHeight:Y,paddingY:q,bitWidth:z,bitsPerRow:G}=U,H=X.getPacket(),W=X.getDiagramTitle(),F=Y+q,M=F*(H.length+1)-(W?0:Y),B=z*G+2,O=OQ(J);O.attr("viewbox",`0 0 ${B} ${M}`),R8(O,M,B,U.useMaxWidth);for(let[A,L]of H.entries())md0(O,L,A,U);O.append("text").text(W).attr("x",B/2).attr("y",M-F/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),md0=R((Z,J,Q,{rowHeight:K,paddingX:X,paddingY:U,bitWidth:Y,bitsPerRow:q,showBits:z})=>{const G=Z.append("g"),H=Q*(K+U)+U;for(let W of J){const F=W.start%q*Y+1,M=(W.end-W.start+1)*Y-X;if(G.append("rect").attr("x",F).attr("y",H).attr("width",M).attr("height",K).attr("class","packetBlock"),G.append("text").attr("x",F+M/2).attr("y",H+K/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(W.label),!z)continue;const B=W.end===W.start,O=H-2;if(G.append("text").attr("x",F+(B?M/2:0)).attr("y",O).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",B?"middle":"start").text(W.start),!B)G.append("text").attr("x",F+M).attr("y",O).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(W.end)}},"drawWord"),gd0={draw:ud0},pd0={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},cd0=R(({packet:Z}={})=>{const J=J6(pd0,Z);return`
	.packetByte {
		font-size: ${J.byteFontSize};
	}
	.packetByte.start {
		fill: ${J.startByteColor};
	}
	.packetByte.end {
		fill: ${J.endByteColor};
	}
	.packetLabel {
		fill: ${J.labelColor};
		font-size: ${J.labelFontSize};
	}
	.packetTitle {
		fill: ${J.titleColor};
		font-size: ${J.titleFontSize};
	}
	.packetBlock {
		stroke: ${J.blockStrokeColor};
		stroke-width: ${J.blockStrokeWidth};
		fill: ${J.blockFillColor};
	}
	`},"styles"),ld0={parser:yd0,db:FG,renderer:gd0,styles:cd0}});var r50={};q8(r50,{diagram:()=>Ai0});function y50(Z){switch(p.debug("typeStr2Type",Z),Z){case"[]":return"square";case"()":return p.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function u50(Z){switch(p.debug("typeStr2Type",Z),Z){case"==":return"thick";default:return"normal"}}function m50(Z){switch(Z.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}function g50(Z,J){if(Z===0||!Number.isInteger(Z))throw new Error("Columns must be an integer !== 0.");if(J<0||!Number.isInteger(J))throw new Error("Position must be a non-negative integer."+J);if(Z<0)return{px:J,py:0};if(Z===1)return{px:0,py:J};const Q=J%Z,K=Math.floor(J/Z);return{px:Q,py:K}}function ND(Z,J,Q=0,K=0){if(p.debug("setBlockSizes abc95 (start)",Z.id,Z?.size?.x,"block width =",Z?.size,"sieblingWidth",Q),!Z?.size?.width)Z.size={width:Q,height:K,x:0,y:0};let X=0,U=0;if(Z.children?.length>0){for(let M of Z.children)ND(M,J);const Y=Mi0(Z);X=Y.width,U=Y.height,p.debug("setBlockSizes abc95 maxWidth of",Z.id,":s children is ",X,U);for(let M of Z.children)if(M.size)p.debug(`abc95 Setting size of children of ${Z.id} id=${M.id} ${X} ${U} ${JSON.stringify(M.size)}`),M.size.width=X*(M.widthInColumns??1)+eZ*((M.widthInColumns??1)-1),M.size.height=U,M.size.x=0,M.size.y=0,p.debug(`abc95 updating size of ${Z.id} children child:${M.id} maxWidth:${X} maxHeight:${U}`);for(let M of Z.children)ND(M,J,X,U);const q=Z.columns??-1;let z=0;for(let M of Z.children)z+=M.widthInColumns??1;let G=Z.children.length;if(q>0&&q<z)G=q;const H=Math.ceil(z/G);let W=G*(X+eZ)+eZ,F=H*(U+eZ)+eZ;if(W<Q){p.debug(`Detected to small siebling: abc95 ${Z.id} sieblingWidth ${Q} sieblingHeight ${K} width ${W}`),W=Q,F=K;const M=(Q-G*eZ-eZ)/G,B=(K-H*eZ-eZ)/H;p.debug("Size indata abc88",Z.id,"childWidth",M,"maxWidth",X),p.debug("Size indata abc88",Z.id,"childHeight",B,"maxHeight",U),p.debug("Size indata abc88 xSize",G,"padding",eZ);for(let O of Z.children)if(O.size)O.size.width=M,O.size.height=B,O.size.x=0,O.size.y=0}if(p.debug(`abc95 (finale calc) ${Z.id} xSize ${G} ySize ${H} columns ${q}${Z.children.length} width=${Math.max(W,Z.size?.width||0)}`),W<(Z?.size?.width||0)){W=Z?.size?.width||0;const M=q>0?Math.min(Z.children.length,q):Z.children.length;if(M>0){const B=(W-M*eZ-eZ)/M;p.debug("abc95 (growing to fit) width",Z.id,W,Z.size?.width,B);for(let O of Z.children)if(O.size)O.size.width=B}}Z.size={width:W,height:F,x:0,y:0}}p.debug("setBlockSizes abc94 (done)",Z.id,Z?.size?.x,Z?.size?.width,Z?.size?.y,Z?.size?.height)}function u_(Z,J){p.debug(`abc85 layout blocks (=>layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`);const Q=Z.columns??-1;if(p.debug("layoutBlocks columns abc95",Z.id,"=>",Q,Z),Z.children&&Z.children.length>0){const K=Z?.children[0]?.size?.width??0,X=Z.children.length*K+(Z.children.length-1)*eZ;p.debug("widthOfChildren 88",X,"posX");let U=0;p.debug("abc91 block?.size?.x",Z.id,Z?.size?.x);let Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-eZ,q=0;for(let z of Z.children){const G=Z;if(!z.size)continue;const{width:H,height:W}=z.size,{px:F,py:M}=g50(Q,U);if(M!=q)q=M,Y=Z?.size?.x?Z?.size?.x+(-Z?.size?.width/2||0):-eZ,p.debug("New row in layout for block",Z.id," and child ",z.id,q);if(p.debug(`abc89 layout blocks (child) id: ${z.id} Pos: ${U} (px, py) ${F},${M} (${G?.size?.x},${G?.size?.y}) parent: ${G.id} width: ${H}${eZ}`),G.size){const B=H/2;z.size.x=Y+eZ+B,p.debug(`abc91 layout blocks (calc) px, pyid:${z.id} startingPos=X${Y} new startingPosX${z.size.x} ${B} padding=${eZ} width=${H} halfWidth=${B} => x:${z.size.x} y:${z.size.y} ${z.widthInColumns} (width * (child?.w || 1)) / 2 ${H*(z?.widthInColumns??1)/2}`),Y=z.size.x+B,z.size.y=G.size.y-G.size.height/2+M*(W+eZ)+W/2+eZ,p.debug(`abc88 layout blocks (calc) px, pyid:${z.id}startingPosX${Y}${eZ}${B}=>x:${z.size.x}y:${z.size.y}${z.widthInColumns}(width * (child?.w || 1)) / 2${H*(z?.widthInColumns??1)/2}`)}if(z.children)u_(z,J);U+=z?.widthInColumns??1,p.debug("abc88 columnsPos",z,U)}}p.debug(`layout blocks (<==layoutBlocks) ${Z.id} x: ${Z?.size?.x} y: ${Z?.size?.y} width: ${Z?.size?.width}`)}function m_(Z,{minX:J,minY:Q,maxX:K,maxY:X}={minX:0,minY:0,maxX:0,maxY:0}){if(Z.size&&Z.id!=="root"){const{x:U,y:Y,width:q,height:z}=Z.size;if(U-q/2<J)J=U-q/2;if(Y-z/2<Q)Q=Y-z/2;if(U+q/2>K)K=U+q/2;if(Y+z/2>X)X=Y+z/2}if(Z.children)for(let U of Z.children)({minX:J,minY:Q,maxX:K,maxY:X}=m_(U,{minX:J,minY:Q,maxX:K,maxY:X}));return{minX:J,minY:Q,maxX:K,maxY:X}}function p50(Z){const J=Z.getBlock("root");if(!J)return;ND(J,Z,0,0),u_(J,Z),p.debug("getBlocks",JSON.stringify(J,null,2));const{minX:Q,minY:K,maxX:X,maxY:U}=m_(J),Y=U-K,q=X-Q;return{x:Q,y:K,width:q,height:Y}}function g_(Z,J,Q=!1){const K=Z;let X="default";if((K?.classes?.length||0)>0)X=(K?.classes??[]).join(" ");X=X+" flowchart-label";let U=0,Y="",q;switch(K.type){case"round":U=5,Y="rect";break;case"composite":U=0,Y="composite",q=0;break;case"square":Y="rect";break;case"diamond":Y="question";break;case"hexagon":Y="hexagon";break;case"block_arrow":Y="block_arrow";break;case"odd":Y="rect_left_inv_arrow";break;case"lean_right":Y="lean_right";break;case"lean_left":Y="lean_left";break;case"trapezoid":Y="trapezoid";break;case"inv_trapezoid":Y="inv_trapezoid";break;case"rect_left_inv_arrow":Y="rect_left_inv_arrow";break;case"circle":Y="circle";break;case"ellipse":Y="ellipse";break;case"stadium":Y="stadium";break;case"subroutine":Y="subroutine";break;case"cylinder":Y="cylinder";break;case"group":Y="rect";break;case"doublecircle":Y="doublecircle";break;default:Y="rect"}const z=yU(K?.styles??[]),G=K.label,H=K.size??{width:0,height:0,x:0,y:0};return{labelStyle:z.labelStyle,shape:Y,labelText:G,rx:U,ry:U,class:X,style:z.style,id:K.id,directions:K.directions,width:H.width,height:H.height,x:H.x,y:H.y,positioned:Q,intersect:void 0,type:K.type,padding:q??a8()?.block?.padding??0}}async function c50(Z,J,Q){const K=g_(J,Q,!1);if(K.type==="group")return;const X=await IW(Z,K),U=X.node().getBBox(),Y=Q.getBlock(K.id);Y.size={width:U.width,height:U.height,x:0,y:0,node:X},Q.setBlock(Y),X.remove()}async function l50(Z,J,Q){const K=g_(J,Q,!0);if(Q.getBlock(K.id).type!=="space")await IW(Z,K),J.intersect=K?.intersect,DW(K)}async function ED(Z,J,Q,K){for(let X of J)if(await K(Z,X,Q),X.children)await ED(Z,X.children,Q,K)}async function d50(Z,J,Q){await ED(Z,J,Q,c50)}async function i50(Z,J,Q){await ED(Z,J,Q,l50)}async function s50(Z,J,Q,K,X){const U=new J8({multigraph:!0,compound:!0});U.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let Y of Q)if(Y.size)U.setNode(Y.id,{width:Y.size.width,height:Y.size.height,intersect:Y.intersect});for(let Y of J)if(Y.start&&Y.end){const q=K.getBlock(Y.start),z=K.getBlock(Y.end);if(q?.size&&z?.size){const G=q.size,H=z.size,W=[{x:G.x,y:G.y},{x:G.x+(H.x-G.x)/2,y:G.y+(H.y-G.y)/2},{x:H.x,y:H.y}];if(oI(Z,{v:Y.start,w:Y.end,name:Y.id},{...Y,arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:W,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",U,X),Y.label)await nI(Z,{...Y,label:Y.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:Y.arrowTypeEnd,arrowTypeStart:Y.arrowTypeStart,points:W,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),aI({...Y,x:W[1].x,y:W[1].y},{originalPath:W})}}}var b_,dd0,A4,h_,x_,$50="color",_50="fill",id0="bgFill",x50=",",sd0,DD,rd0,nd0,ad0,od0,h50,y_,jM,td0,b50=0,ed0,Zi0,Ji0,Qi0,Ki0,Xi0,Ui0,Yi0,qi0,zi0,Gi0,Hi0,ID,Wi0,Fi0,eZ,Mi0,Bi0,Ri0,Oi0,Ai0;var n50=_(()=>{pk();UY();f4();x6();FZ();X8();AP();_Q();i9();aJ();b_=function(){var Z=R(function(D,w,N,E){for(N=N||{},E=D.length;E--;N[D[E]]=w);return N},"o"),J=[1,7],Q=[1,13],K=[1,14],X=[1,15],U=[1,19],Y=[1,16],q=[1,17],z=[1,18],G=[8,30],H=[8,21,28,29,30,31,32,40,44,47],W=[1,23],F=[1,24],M=[8,15,16,21,28,29,30,31,32,40,44,47],B=[8,15,16,21,27,28,29,30,31,32,40,44,47],O=[1,49],A={trace:R(function D(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:R(function D(w,N,E,j,P,C,T){var V=C.length-1;switch(P){case 4:j.getLogger().debug("Rule: separator (NL) ");break;case 5:j.getLogger().debug("Rule: separator (Space) ");break;case 6:j.getLogger().debug("Rule: separator (EOF) ");break;case 7:j.getLogger().debug("Rule: hierarchy: ",C[V-1]),j.setHierarchy(C[V-1]);break;case 8:j.getLogger().debug("Stop NL ");break;case 9:j.getLogger().debug("Stop EOF ");break;case 10:j.getLogger().debug("Stop NL2 ");break;case 11:j.getLogger().debug("Stop EOF2 ");break;case 12:j.getLogger().debug("Rule: statement: ",C[V]),typeof C[V].length==="number"?this.$=C[V]:this.$=[C[V]];break;case 13:j.getLogger().debug("Rule: statement #2: ",C[V-1]),this.$=[C[V-1]].concat(C[V]);break;case 14:j.getLogger().debug("Rule: link: ",C[V],w),this.$={edgeTypeStr:C[V],label:""};break;case 15:j.getLogger().debug("Rule: LABEL link: ",C[V-3],C[V-1],C[V]),this.$={edgeTypeStr:C[V],label:C[V-1]};break;case 18:const S=parseInt(C[V]),$=j.generateId();this.$={id:$,type:"space",label:"",width:S,children:[]};break;case 23:j.getLogger().debug("Rule: (nodeStatement link node) ",C[V-2],C[V-1],C[V]," typestr: ",C[V-1].edgeTypeStr);const f=j.edgeStrToEdgeData(C[V-1].edgeTypeStr);this.$=[{id:C[V-2].id,label:C[V-2].label,type:C[V-2].type,directions:C[V-2].directions},{id:C[V-2].id+"-"+C[V].id,start:C[V-2].id,end:C[V].id,label:C[V-1].label,type:"edge",directions:C[V].directions,arrowTypeEnd:f,arrowTypeStart:"arrow_open"},{id:C[V].id,label:C[V].label,type:j.typeStr2Type(C[V].typeStr),directions:C[V].directions}];break;case 24:j.getLogger().debug("Rule: nodeStatement (abc88 node size) ",C[V-1],C[V]),this.$={id:C[V-1].id,label:C[V-1].label,type:j.typeStr2Type(C[V-1].typeStr),directions:C[V-1].directions,widthInColumns:parseInt(C[V],10)};break;case 25:j.getLogger().debug("Rule: nodeStatement (node) ",C[V]),this.$={id:C[V].id,label:C[V].label,type:j.typeStr2Type(C[V].typeStr),directions:C[V].directions,widthInColumns:1};break;case 26:j.getLogger().debug("APA123",this?this:"na"),j.getLogger().debug("COLUMNS: ",C[V]),this.$={type:"column-setting",columns:C[V]==="auto"?-1:parseInt(C[V])};break;case 27:j.getLogger().debug("Rule: id-block statement : ",C[V-2],C[V-1]);const h=j.generateId();this.$={...C[V-2],type:"composite",children:C[V-1]};break;case 28:j.getLogger().debug("Rule: blockStatement : ",C[V-2],C[V-1],C[V]);const v=j.generateId();this.$={id:v,type:"composite",label:"",children:C[V-1]};break;case 29:j.getLogger().debug("Rule: node (NODE_ID separator): ",C[V]),this.$={id:C[V]};break;case 30:j.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",C[V-1],C[V]),this.$={id:C[V-1],label:C[V].label,typeStr:C[V].typeStr,directions:C[V].directions};break;case 31:j.getLogger().debug("Rule: dirList: ",C[V]),this.$=[C[V]];break;case 32:j.getLogger().debug("Rule: dirList: ",C[V-1],C[V]),this.$=[C[V-1]].concat(C[V]);break;case 33:j.getLogger().debug("Rule: nodeShapeNLabel: ",C[V-2],C[V-1],C[V]),this.$={typeStr:C[V-2]+C[V],label:C[V-1]};break;case 34:j.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",C[V-3],C[V-2]," #3:",C[V-1],C[V]),this.$={typeStr:C[V-3]+C[V],label:C[V-2],directions:C[V-1]};break;case 35:case 36:this.$={type:"classDef",id:C[V-1].trim(),css:C[V].trim()};break;case 37:this.$={type:"applyClass",id:C[V-1].trim(),styleClass:C[V].trim()};break;case 38:this.$={type:"applyStyles",id:C[V-1].trim(),stylesStr:C[V].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:J,22:8,23:9,24:10,25:11,26:12,28:Q,29:K,31:X,32:U,40:Y,44:q,47:z},{8:[1,20]},Z(G,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:J,28:Q,29:K,31:X,32:U,40:Y,44:q,47:z}),Z(H,[2,16],{14:22,15:W,16:F}),Z(H,[2,17]),Z(H,[2,18]),Z(H,[2,19]),Z(H,[2,20]),Z(H,[2,21]),Z(H,[2,22]),Z(M,[2,25],{27:[1,25]}),Z(H,[2,26]),{19:26,26:12,32:U},{11:27,13:4,19:5,20:6,21:J,22:8,23:9,24:10,25:11,26:12,28:Q,29:K,31:X,32:U,40:Y,44:q,47:z},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},Z(B,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},Z(G,[2,13]),{26:35,32:U},{32:[2,14]},{17:[1,36]},Z(M,[2,24]),{11:37,13:4,14:22,15:W,16:F,19:5,20:6,21:J,22:8,23:9,24:10,25:11,26:12,28:Q,29:K,31:X,32:U,40:Y,44:q,47:z},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},Z(B,[2,30]),{18:[1,43]},{18:[1,44]},Z(M,[2,23]),{18:[1,45]},{30:[1,46]},Z(H,[2,28]),Z(H,[2,35]),Z(H,[2,36]),Z(H,[2,37]),Z(H,[2,38]),{37:[1,47]},{34:48,35:O},{15:[1,50]},Z(H,[2,27]),Z(B,[2,33]),{39:[1,51]},{34:52,35:O,39:[2,31]},{32:[2,15]},Z(B,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:R(function D(w,N){if(N.recoverable)this.trace(w);else{var E=new Error(w);throw E.hash=N,E}},"parseError"),parse:R(function D(w){var N=this,E=[0],j=[],P=[null],C=[],T=this.table,V="",S=0,$=0,f=0,h=2,v=1,b=C.slice.call(arguments,1),y=Object.create(this.lexer),k={yy:{}};for(var g in this.yy)if(Object.prototype.hasOwnProperty.call(this.yy,g))k.yy[g]=this.yy[g];if(y.setInput(w,k.yy),k.yy.lexer=y,k.yy.parser=this,typeof y.yylloc=="undefined")y.yylloc={};var u=y.yylloc;C.push(u);var i=y.options&&y.options.ranges;if(typeof k.yy.parseError==="function")this.parseError=k.yy.parseError;else this.parseError=Object.getPrototypeOf(this).parseError;function e(Y0){E.length=E.length-2*Y0,P.length=P.length-Y0,C.length=C.length-Y0}R(e,"popStack");function J0(){var Y0=j.pop()||y.lex()||v;if(typeof Y0!=="number"){if(Y0 instanceof Array)j=Y0,Y0=j.pop();Y0=N.symbols_[Y0]||Y0}return Y0}R(J0,"lex");var z0,t,B0,X0,d,o,a={},Q0,K0,A0,r;while(!0){if(B0=E[E.length-1],this.defaultActions[B0])X0=this.defaultActions[B0];else{if(z0===null||typeof z0=="undefined")z0=J0();X0=T[B0]&&T[B0][z0]}if(typeof X0==="undefined"||!X0.length||!X0[0]){var v0="";r=[];for(Q0 in T[B0])if(this.terminals_[Q0]&&Q0>h)r.push("'"+this.terminals_[Q0]+"'");if(y.showPosition)v0="Parse error on line "+(S+1)+":\n"+y.showPosition()+"\nExpecting "+r.join(", ")+", got '"+(this.terminals_[z0]||z0)+"'";else v0="Parse error on line "+(S+1)+": Unexpected "+(z0==v?"end of input":"'"+(this.terminals_[z0]||z0)+"'");this.parseError(v0,{text:y.match,token:this.terminals_[z0]||z0,line:y.yylineno,loc:u,expected:r})}if(X0[0]instanceof Array&&X0.length>1)throw new Error("Parse Error: multiple actions possible at state: "+B0+", token: "+z0);switch(X0[0]){case 1:if(E.push(z0),P.push(y.yytext),C.push(y.yylloc),E.push(X0[1]),z0=null,!t){if($=y.yyleng,V=y.yytext,S=y.yylineno,u=y.yylloc,f>0)f--}else z0=t,t=null;break;case 2:if(K0=this.productions_[X0[1]][1],a.$=P[P.length-K0],a._$={first_line:C[C.length-(K0||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(K0||1)].first_column,last_column:C[C.length-1].last_column},i)a._$.range=[C[C.length-(K0||1)].range[0],C[C.length-1].range[1]];if(o=this.performAction.apply(a,[V,$,S,k.yy,X0[1],P,C].concat(b)),typeof o!=="undefined")return o;if(K0)E=E.slice(0,-1*K0*2),P=P.slice(0,-1*K0),C=C.slice(0,-1*K0);E.push(this.productions_[X0[1]][0]),P.push(a.$),C.push(a._$),A0=T[E[E.length-2]][E[E.length-1]],E.push(A0);break;case 3:return!0}}return!0},"parse")},L=function(){var D={EOF:1,parseError:R(function w(N,E){if(this.yy.parser)this.yy.parser.parseError(N,E);else throw new Error(N)},"parseError"),setInput:R(function(w,N){if(this.yy=N||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges)this.yylloc.range=[0,0];return this.offset=0,this},"setInput"),input:R(function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var N=w.match(/(?:\r\n?|\n).*/g);if(N)this.yylineno++,this.yylloc.last_line++;else this.yylloc.last_column++;if(this.options.ranges)this.yylloc.range[1]++;return this._input=this._input.slice(1),w},"input"),unput:R(function(w){var N=w.length,E=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var j=this.match.split(/(?:\r\n?|\n)/g);if(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1)this.yylineno-=E.length-1;var P=this.yylloc.range;if(this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===j.length?this.yylloc.first_column:0)+j[j.length-E.length].length-E[0].length:this.yylloc.first_column-N},this.options.ranges)this.yylloc.range=[P[0],P[0]+this.yyleng-N];return this.yyleng=this.yytext.length,this},"unput"),more:R(function(){return this._more=!0,this},"more"),reject:R(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:R(function(w){this.unput(this.match.slice(w))},"less"),pastInput:R(function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:R(function(){var w=this.match;if(w.length<20)w+=this._input.substr(0,20-w.length);return(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:R(function(){var w=this.pastInput(),N=new Array(w.length+1).join("-");return w+this.upcomingInput()+"\n"+N+"^"},"showPosition"),test_match:R(function(w,N){var E,j,P;if(this.options.backtrack_lexer){if(P={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)P.yylloc.range=this.yylloc.range.slice(0)}if(j=w[0].match(/(?:\r\n?|\n).*/g),j)this.yylineno+=j.length;if(this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges)this.yylloc.range=[this.offset,this.offset+=this.yyleng];if(this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],E=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input)this.done=!1;if(E)return E;else if(this._backtrack){for(var C in P)this[C]=P[C];return!1}return!1},"test_match"),next:R(function(){if(this.done)return this.EOF;if(!this._input)this.done=!0;var w,N,E,j;if(!this._more)this.yytext="",this.match="";var P=this._currentRules();for(var C=0;C<P.length;C++)if(E=this._input.match(this.rules[P[C]]),E&&(!N||E[0].length>N[0].length)){if(N=E,j=C,this.options.backtrack_lexer)if(w=this.test_match(E,P[C]),w!==!1)return w;else if(this._backtrack){N=!1;continue}else return!1;else if(!this.options.flex)break}if(N){if(w=this.test_match(N,P[j]),w!==!1)return w;return!1}if(this._input==="")return this.EOF;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:R(function w(){var N=this.next();if(N)return N;else return this.lex()},"lex"),begin:R(function w(N){this.conditionStack.push(N)},"begin"),popState:R(function w(){var N=this.conditionStack.length-1;if(N>0)return this.conditionStack.pop();else return this.conditionStack[0]},"popState"),_currentRules:R(function w(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1])return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;else return this.conditions.INITIAL.rules},"_currentRules"),topState:R(function w(N){if(N=this.conditionStack.length-1-Math.abs(N||0),N>=0)return this.conditionStack[N];else return"INITIAL"},"topState"),pushState:R(function w(N){this.begin(N)},"pushState"),stateStackSize:R(function w(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:R(function w(N,E,j,P){var C=P;switch(j){case 0:return 10;case 1:return N.getLogger().debug("Found space-block"),31;break;case 2:return N.getLogger().debug("Found nl-block"),31;break;case 3:return N.getLogger().debug("Found space-block"),29;break;case 4:N.getLogger().debug(".",E.yytext);break;case 5:N.getLogger().debug("_",E.yytext);break;case 6:return 5;case 7:return E.yytext=-1,28;break;case 8:return E.yytext=E.yytext.replace(/columns\s+/,""),N.getLogger().debug("COLUMNS (LEX)",E.yytext),28;break;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:N.getLogger().debug("LEX: POPPING STR:",E.yytext),this.popState();break;case 14:return N.getLogger().debug("LEX: STR end:",E.yytext),"STR";break;case 15:return E.yytext=E.yytext.replace(/space\:/,""),N.getLogger().debug("SPACE NUM (LEX)",E.yytext),21;break;case 16:return E.yytext="1",N.getLogger().debug("COLUMNS (LEX)",E.yytext),21;break;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;break;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";break;case 22:return this.popState(),this.pushState("CLASSDEFID"),41;break;case 23:return this.popState(),42;break;case 24:return this.pushState("CLASS"),44;break;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;break;case 26:return this.popState(),46;break;case 27:return this.pushState("STYLE_STMNT"),47;break;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;break;case 29:return this.popState(),49;break;case 30:return this.pushState("acc_title"),"acc_title";break;case 31:return this.popState(),"acc_title_value";break;case 32:return this.pushState("acc_descr"),"acc_descr";break;case 33:return this.popState(),"acc_descr_value";break;case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 39:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 40:return this.popState(),N.getLogger().debug("Lex: ))"),"NODE_DEND";break;case 41:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 42:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 43:return this.popState(),N.getLogger().debug("Lex: (-"),"NODE_DEND";break;case 44:return this.popState(),N.getLogger().debug("Lex: -)"),"NODE_DEND";break;case 45:return this.popState(),N.getLogger().debug("Lex: (("),"NODE_DEND";break;case 46:return this.popState(),N.getLogger().debug("Lex: ]]"),"NODE_DEND";break;case 47:return this.popState(),N.getLogger().debug("Lex: ("),"NODE_DEND";break;case 48:return this.popState(),N.getLogger().debug("Lex: ])"),"NODE_DEND";break;case 49:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 50:return this.popState(),N.getLogger().debug("Lex: /]"),"NODE_DEND";break;case 51:return this.popState(),N.getLogger().debug("Lex: )]"),"NODE_DEND";break;case 52:return this.popState(),N.getLogger().debug("Lex: )"),"NODE_DEND";break;case 53:return this.popState(),N.getLogger().debug("Lex: ]>"),"NODE_DEND";break;case 54:return this.popState(),N.getLogger().debug("Lex: ]"),"NODE_DEND";break;case 55:return N.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;break;case 56:return N.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;break;case 57:return N.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;break;case 58:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 59:return N.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;break;case 60:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 61:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 62:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 63:return N.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;break;case 64:return N.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;break;case 65:return N.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;break;case 66:return this.pushState("NODE"),36;break;case 67:return this.pushState("NODE"),36;break;case 68:return this.pushState("NODE"),36;break;case 69:return this.pushState("NODE"),36;break;case 70:return this.pushState("NODE"),36;break;case 71:return this.pushState("NODE"),36;break;case 72:return this.pushState("NODE"),36;break;case 73:return N.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;break;case 74:return this.pushState("BLOCK_ARROW"),N.getLogger().debug("LEX ARR START"),38;break;case 75:return N.getLogger().debug("Lex: NODE_ID",E.yytext),32;break;case 76:return N.getLogger().debug("Lex: EOF",E.yytext),8;break;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:N.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:N.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return N.getLogger().debug("LEX: NODE_DESCR:",E.yytext),"NODE_DESCR";break;case 84:N.getLogger().debug("LEX POPPING"),this.popState();break;case 85:N.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (right): dir:",E.yytext),"DIR";break;case 87:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (left):",E.yytext),"DIR";break;case 88:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (x):",E.yytext),"DIR";break;case 89:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (y):",E.yytext),"DIR";break;case 90:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (up):",E.yytext),"DIR";break;case 91:return E.yytext=E.yytext.replace(/^,\s*/,""),N.getLogger().debug("Lex (down):",E.yytext),"DIR";break;case 92:return E.yytext="]>",N.getLogger().debug("Lex (ARROW_DIR end):",E.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";break;case 93:return N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 94:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 95:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 96:return N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 97:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 98:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 99:return N.getLogger().debug("Lex: START_LINK",E.yytext),this.pushState("LLABEL"),16;break;case 100:this.pushState("md_string");break;case 101:return N.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";break;case 102:return this.popState(),N.getLogger().debug("Lex: LINK","#"+E.yytext+"#"),15;break;case 103:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 104:return this.popState(),N.getLogger().debug("Lex: LINK",E.yytext),15;break;case 105:return N.getLogger().debug("Lex: COLON",E.yytext),E.yytext=E.yytext.slice(1),27;break}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return D}();A.lexer=L;function I(){this.yy={}}return R(I,"Parser"),I.prototype=A,A.Parser=I,new I}();b_.parser=b_;dd0=b_,A4=new Map,h_=[],x_=new Map,sd0=W0(),DD=new Map,rd0=R((Z)=>g0.sanitizeText(Z,sd0),"sanitizeText"),nd0=R(function(Z,J=""){let Q=DD.get(Z);if(!Q)Q={id:Z,styles:[],textStyles:[]},DD.set(Z,Q);if(J!==void 0&&J!==null)J.split(x50).forEach((K)=>{const X=K.replace(/([^;]*);/,"$1").trim();if(RegExp($50).exec(K)){const Y=X.replace(_50,id0).replace($50,_50);Q.textStyles.push(Y)}Q.styles.push(X)})},"addStyleClass"),ad0=R(function(Z,J=""){const Q=A4.get(Z);if(J!==void 0&&J!==null)Q.styles=J.split(x50)},"addStyle2Node"),od0=R(function(Z,J){Z.split(",").forEach(function(Q){let K=A4.get(Q);if(K===void 0){const X=Q.trim();K={id:X,type:"na",children:[]},A4.set(X,K)}if(!K.classes)K.classes=[];K.classes.push(J)})},"setCssClass"),h50=R((Z,J)=>{const Q=Z.flat(),K=[];for(let X of Q){if(X.label)X.label=rd0(X.label);if(X.type==="classDef"){nd0(X.id,X.css);continue}if(X.type==="applyClass"){od0(X.id,X?.styleClass??"");continue}if(X.type==="applyStyles"){if(X?.stylesStr)ad0(X.id,X?.stylesStr);continue}if(X.type==="column-setting")J.columns=X.columns??-1;else if(X.type==="edge"){const U=(x_.get(X.id)??0)+1;x_.set(X.id,U),X.id=U+"-"+X.id,h_.push(X)}else{if(!X.label)if(X.type==="composite")X.label="";else X.label=X.id;const U=A4.get(X.id);if(U===void 0)A4.set(X.id,X);else{if(X.type!=="na")U.type=X.type;if(X.label!==X.id)U.label=X.label}if(X.children)h50(X.children,X);if(X.type==="space"){const Y=X.width??1;for(let q=0;q<Y;q++){const z=x8(X);z.id=z.id+"-"+q,A4.set(z.id,z),K.push(z)}}else if(U===void 0)K.push(X)}}J.children=K},"populateBlockDatabase"),y_=[],jM={id:"root",type:"composite",children:[],columns:-1},td0=R(()=>{p.debug("Clear called"),O8(),jM={id:"root",type:"composite",children:[],columns:-1},A4=new Map([["root",jM]]),y_=[],DD=new Map,h_=[],x_=new Map},"clear");R(y50,"typeStr2Type");R(u50,"edgeTypeStr2Type");R(m50,"edgeStrToEdgeData");ed0=R(()=>{return b50++,"id-"+Math.random().toString(36).substr(2,12)+"-"+b50},"generateId"),Zi0=R((Z)=>{jM.children=Z,h50(Z,jM),y_=jM.children},"setHierarchy"),Ji0=R((Z)=>{const J=A4.get(Z);if(!J)return-1;if(J.columns)return J.columns;if(!J.children)return-1;return J.children.length},"getColumns"),Qi0=R(()=>{return[...A4.values()]},"getBlocksFlat"),Ki0=R(()=>{return y_||[]},"getBlocks"),Xi0=R(()=>{return h_},"getEdges"),Ui0=R((Z)=>{return A4.get(Z)},"getBlock"),Yi0=R((Z)=>{A4.set(Z.id,Z)},"setBlock"),qi0=R(()=>console,"getLogger"),zi0=R(function(){return DD},"getClasses"),Gi0={getConfig:R(()=>a8().block,"getConfig"),typeStr2Type:y50,edgeTypeStr2Type:u50,edgeStrToEdgeData:m50,getLogger:qi0,getBlocksFlat:Qi0,getBlocks:Ki0,getEdges:Xi0,setHierarchy:Zi0,getBlock:Ui0,setBlock:Yi0,getColumns:Ji0,getClasses:zi0,clear:td0,generateId:ed0},Hi0=Gi0,ID=R((Z,J)=>{const Q=TG,K=Q(Z,"r"),X=Q(Z,"g"),U=Q(Z,"b");return j6(K,X,U,J)},"fade"),Wi0=R((Z)=>`.label {
    font-family: ${Z.fontFamily};
    color: ${Z.nodeTextColor||Z.textColor};
  }
  .cluster-label text {
    fill: ${Z.titleColor};
  }
  .cluster-label span,p {
    color: ${Z.titleColor};
  }



  .label text,span,p {
    fill: ${Z.nodeTextColor||Z.textColor};
    color: ${Z.nodeTextColor||Z.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${Z.mainBkg};
    stroke: ${Z.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${Z.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${Z.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${Z.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${Z.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${Z.edgeLabelBackground};
      fill: ${Z.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${ID(Z.edgeLabelBackground,0.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${ID(Z.mainBkg,0.5)};
    fill: ${ID(Z.clusterBkg,0.5)};
    stroke: ${ID(Z.clusterBorder,0.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${Z.titleColor};
  }

  .cluster span,p {
    color: ${Z.titleColor};
  }
  /* .cluster div {
    color: ${Z.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${Z.fontFamily};
    font-size: 12px;
    background: ${Z.tertiaryColor};
    border: 1px solid ${Z.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${Z.textColor};
  }
`,"getStyles"),Fi0=Wi0,eZ=W0()?.block?.padding??8;R(g50,"calculateBlockPosition");Mi0=R((Z)=>{let J=0,Q=0;for(let K of Z.children){const{width:X,height:U,x:Y,y:q}=K.size??{width:0,height:0,x:0,y:0};if(p.debug("getMaxChildSize abc95 child:",K.id,"width:",X,"height:",U,"x:",Y,"y:",q,K.type),K.type==="space")continue;if(X>J)J=X/(Z.widthInColumns??1);if(U>Q)Q=U}return{width:J,height:Q}},"getMaxChildSize");R(ND,"setBlockSizes");R(u_,"layoutBlocks");R(m_,"findBounds");R(p50,"layout");R(g_,"getNodeFromBlock");R(c50,"calculateBlockSize");R(l50,"insertBlockPositioned");R(ED,"performOperations");R(d50,"calculateBlockSizes");R(i50,"insertBlocks");R(s50,"insertEdges");Bi0=R(function(Z,J){return J.db.getClasses()},"getClasses"),Ri0=R(async function(Z,J,Q,K){const{securityLevel:X,block:U}=a8(),Y=K.db;let q;if(X==="sandbox")q=$0("#i"+J);const z=X==="sandbox"?$0(q.nodes()[0].contentDocument.body):$0("body"),G=X==="sandbox"?z.select(`[id="${J}"]`):$0(`[id="${J}"]`);rI(G,["point","circle","cross"],K.type,J);const W=Y.getBlocks(),F=Y.getBlocksFlat(),M=Y.getEdges(),B=G.insert("g").attr("class","block");await d50(B,W,Y);const O=p50(Y);if(await i50(B,W,Y),await s50(B,M,F,Y,J),O){const A=O,L=Math.max(1,Math.round(0.125*(A.width/A.height))),I=A.height+L+10,D=A.width+10,{useMaxWidth:w}=U;R8(G,I,D,!!w),p.debug("Here Bounds",O,A),G.attr("viewBox",`${A.x-5} ${A.y-5} ${A.width+10} ${A.height+10}`)}},"draw"),Oi0={draw:Ri0,getClasses:Bi0},Ai0={parser:dd0,db:Hi0,renderer:Oi0,styles:Fi0}});T1();cU();f4();x6();FZ();IV();QY();X8();gC();i9();var mO="comm",gO="rule",pO="decl";var da="@import";var ia="@keyframes";var sa="@layer";function cO(Z){return Z.trim()}function BW(Z,J,Q){return Z.replace(J,Q)}function ra(Z,J,Q){return Z.indexOf(J,Q)}function KY(Z,J){return Z.charCodeAt(J)|0}function TX(Z,J,Q){return Z.slice(J,Q)}function p6(Z){return Z.length}function na(Z){return Z.length}function f1(Z,J){return J.push(Z),Z}var DV=Math.abs,MW=String.fromCharCode;function dO(Z,J,Q,K,X,U,Y,q){return{value:Z,root:J,parent:Q,type:K,props:X,children:U,line:lO,column:v1,length:Y,return:"",siblings:q}}function oa(){return XJ}function ta(){if(XJ=AQ>0?KY($1,--AQ):0,v1--,XJ===10)v1=1,lO--;return XJ}function LQ(){if(XJ=AQ<aa?KY($1,AQ++):0,v1++,XJ===10)v1=1,lO++;return XJ}function Y5(){return KY($1,AQ)}function RW(){return AQ}function iO(Z,J){return TX($1,Z,J)}function k1(Z){switch(Z){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ea(Z){return lO=v1=1,aa=p6($1=Z),AQ=0,[]}function Zo(Z){return $1="",Z}function sO(Z){return cO(iO(AQ-1,NV(Z===91?Z+2:Z===40?Z+1:Z)))}function Jo(Z){while(XJ=Y5())if(XJ<33)LQ();else break;return k1(Z)>2||k1(XJ)>3?"":" "}function Qo(Z,J){while(--J&&LQ())if(XJ<48||XJ>102||XJ>57&&XJ<65||XJ>70&&XJ<97)break;return iO(Z,RW()+(J<6&&Y5()==32&&LQ()==32))}function NV(Z){while(LQ())switch(XJ){case Z:return AQ;case 34:case 39:if(Z!==34&&Z!==39)NV(XJ);break;case 40:if(Z===41)NV(Z);break;case 92:LQ();break}return AQ}function Ko(Z,J){while(LQ())if(Z+XJ===57)break;else if(Z+XJ===84&&Y5()===47)break;return"/*"+iO(J,AQ-1)+"*"+MW(Z===47?Z:LQ())}function Xo(Z){while(!k1(Y5()))LQ();return iO(Z,AQ)}var lO=1,v1=1,aa=0,AQ=0,XJ=0,$1="";function qo(Z){return Zo(rO("",null,null,null,[""],Z=ea(Z),0,[0],Z))}function rO(Z,J,Q,K,X,U,Y,q,z){var G=0,H=0,W=Y,F=0,M=0,B=0,O=1,A=1,L=1,I=0,D="",w=X,N=U,E=K,j=D;while(A)switch(B=I,I=LQ()){case 40:if(B!=108&&KY(j,W-1)==58){if(ra(j+=BW(sO(I),"&","&\f"),"&\f",DV(G?q[G-1]:0))!=-1)L=-1;break}case 34:case 39:case 91:j+=sO(I);break;case 9:case 10:case 13:case 32:j+=Jo(B);break;case 92:j+=Qo(RW()-1,7);continue;case 47:switch(Y5()){case 42:case 47:if(f1(Gw0(Ko(LQ(),RW()),J,Q,z),z),(k1(B||1)==5||k1(Y5()||1)==5)&&p6(j)&&TX(j,-1,void 0)!==" ")j+=" ";break;default:j+="/"}break;case 123*O:q[G++]=p6(j)*L;case 125*O:case 59:case 0:switch(I){case 0:case 125:A=0;case 59+H:if(L==-1)j=BW(j,/\f/g,"");if(M>0&&(p6(j)-W||O===0&&B===47))f1(M>32?Yo(j+";",K,Q,W-1,z):Yo(BW(j," ","")+";",K,Q,W-2,z),z);break;case 59:j+=";";default:if(f1(E=Uo(j,J,Q,G,H,X,q,D,w=[],N=[],W,U),U),I===123)if(H===0)rO(j,J,E,E,w,U,W,q,N);else switch(F===99&&KY(j,3)===110?100:F){case 100:case 108:case 109:case 115:rO(Z,E,E,K&&f1(Uo(Z,E,E,0,0,X,q,D,X,w=[],W,N),N),X,N,W,q,K?w:N);break;default:rO(j,E,E,E,[""],N,0,q,N)}}G=H=M=0,O=L=1,D=j="",W=Y;break;case 58:W=1+p6(j),M=B;default:if(O<1){if(I==123)--O;else if(I==125&&O++==0&&ta()==125)continue}switch(j+=MW(I),I*O){case 38:L=H>0?1:(j+="\f",-1);break;case 44:q[G++]=(p6(j)-1)*L,L=1;break;case 64:if(Y5()===45)j+=sO(LQ());F=Y5(),H=W=p6(D=j+=Xo(RW())),I++;break;case 45:if(B===45&&p6(j)==2)O=0}}return U}function Uo(Z,J,Q,K,X,U,Y,q,z,G,H,W){var F=X-1,M=X===0?U:[""],B=na(M);for(var O=0,A=0,L=0;O<K;++O)for(var I=0,D=TX(Z,F+1,F=DV(A=Y[O])),w=Z;I<B;++I)if(w=cO(A>0?M[I]+" "+D:BW(D,/&\f/g,M[I])))z[L++]=w;return dO(Z,J,Q,X===0?gO:q,z,G,H,W)}function Gw0(Z,J,Q,K){return dO(Z,J,Q,mO,MW(oa()),TX(Z,2,-2),0,K)}function Yo(Z,J,Q,K,X){return dO(Z,J,Q,pO,TX(Z,0,K),TX(Z,K+1,-1),K,X)}function nO(Z,J){var Q="";for(var K=0;K<Z.length;K++)Q+=J(Z[K],K,Z,J)||"";return Q}function zo(Z,J,Q,K){switch(Z.type){case sa:if(Z.children.length)break;case da:case pO:return Z.return=Z.return||Z.value;case mO:return"";case ia:return Z.return=Z.value+"{"+nO(Z.children,K)+"}";case gO:if(!p6(Z.value=Z.props.join(",")))return""}return p6(Q=nO(Z.children,K))?Z.return=Z.value+"{"+Q+"}":""}var PX0=z7(sD(),1);CO();function VX0(Z,J){if(Z.attr("role",Ur0),J!=="")Z.attr("aria-roledescription",J)}function SX0(Z,J,Q,K){if(Z.insert===void 0)return;if(Q){const X=`chart-desc-${K}`;Z.attr("aria-describedby",X),Z.insert("desc",":first-child").attr("id",X).text(Q)}if(J){const X=`chart-title-${K}`;Z.attr("aria-labelledby",X),Z.insert("title",":first-child").attr("id",X).text(J)}}function qb(Z){return typeof Z==="undefined"||Z===null}function TX0(Z){return typeof Z==="object"&&Z!==null}function fX0(Z){if(Array.isArray(Z))return Z;else if(qb(Z))return[];return[Z]}function vX0(Z,J){var Q,K,X,U;if(J){U=Object.keys(J);for(Q=0,K=U.length;Q<K;Q+=1)X=U[Q],Z[X]=J[X]}return Z}function kX0(Z,J){var Q="",K;for(K=0;K<J;K+=1)Q+=Z;return Q}function $X0(Z){return Z===0&&Number.NEGATIVE_INFINITY===1/Z}function zb(Z,J){var Q="",K=Z.reason||"(unknown reason)";if(!Z.mark)return K;if(Z.mark.name)Q+='in "'+Z.mark.name+'" ';if(Q+="("+(Z.mark.line+1)+":"+(Z.mark.column+1)+")",!J&&Z.mark.snippet)Q+="\n\n"+Z.mark.snippet;return K+" "+Q}function RG(Z,J){if(Error.call(this),this.name="YAMLException",this.reason=Z,this.mark=J,this.message=zb(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack||""}function wD(Z,J,Q,K,X){var U="",Y="",q=Math.floor(X/2)-1;if(K-J>q)U=" ... ",J=K-q+U.length;if(Q-K>q)Y=" ...",Q=K+q-Y.length;return{str:U+Z.slice(J,Q).replace(/\t/g,"\u2192")+Y,pos:K-J+U.length}}function jD(Z,J){return jJ.repeat(" ",J-Z.length)+Z}function _X0(Z,J){if(J=Object.create(J||null),!Z.buffer)return null;if(!J.maxLength)J.maxLength=79;if(typeof J.indent!=="number")J.indent=1;if(typeof J.linesBefore!=="number")J.linesBefore=3;if(typeof J.linesAfter!=="number")J.linesAfter=2;var Q=/\r?\n|\r|\0/g,K=[0],X=[],U,Y=-1;while(U=Q.exec(Z.buffer))if(X.push(U.index),K.push(U.index+U[0].length),Z.position<=U.index&&Y<0)Y=K.length-2;if(Y<0)Y=K.length-1;var q="",z,G,H=Math.min(Z.line+J.linesAfter,X.length).toString().length,W=J.maxLength-(J.indent+H+3);for(z=1;z<=J.linesBefore;z++){if(Y-z<0)break;G=wD(Z.buffer,K[Y-z],X[Y-z],Z.position-(K[Y]-K[Y-z]),W),q=jJ.repeat(" ",J.indent)+jD((Z.line-z+1).toString(),H)+" | "+G.str+"\n"+q}G=wD(Z.buffer,K[Y],X[Y],Z.position,W),q+=jJ.repeat(" ",J.indent)+jD((Z.line+1).toString(),H)+" | "+G.str+"\n",q+=jJ.repeat("-",J.indent+H+3+G.pos)+"^\n";for(z=1;z<=J.linesAfter;z++){if(Y+z>=X.length)break;G=wD(Z.buffer,K[Y+z],X[Y+z],Z.position-(K[Y]-K[Y+z]),W),q+=jJ.repeat(" ",J.indent)+jD((Z.line+z+1).toString(),H)+" | "+G.str+"\n"}return q.replace(/\n$/,"")}function bX0(Z){var J={};if(Z!==null)Object.keys(Z).forEach(function(Q){Z[Q].forEach(function(K){J[String(K)]=Q})});return J}function xX0(Z,J){if(J=J||{},Object.keys(J).forEach(function(Q){if(Br0.indexOf(Q)===-1)throw new N6('Unknown option "'+Q+'" is met in definition of "'+Z+'" YAML type.')}),this.options=J,this.tag=Z,this.kind=J.kind||null,this.resolve=J.resolve||function(){return!0},this.construct=J.construct||function(Q){return Q},this.instanceOf=J.instanceOf||null,this.predicate=J.predicate||null,this.represent=J.represent||null,this.representName=J.representName||null,this.defaultStyle=J.defaultStyle||null,this.multi=J.multi||!1,this.styleAliases=bX0(J.styleAliases||null),Rr0.indexOf(this.kind)===-1)throw new N6('Unknown kind "'+this.kind+'" is specified for "'+Z+'" YAML type.')}function d_(Z,J){var Q=[];return Z[J].forEach(function(K){var X=Q.length;Q.forEach(function(U,Y){if(U.tag===K.tag&&U.kind===K.kind&&U.multi===K.multi)X=Y}),Q[X]=K}),Q}function hX0(){var Z={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},J,Q;function K(X){if(X.multi)Z.multi[X.kind].push(X),Z.multi.fallback.push(X);else Z[X.kind][X.tag]=Z.fallback[X.tag]=X}R(K,"collectType");for(J=0,Q=arguments.length;J<Q;J+=1)arguments[J].forEach(K);return Z}function CD(Z){return this.extend(Z)}function yX0(Z){if(Z===null)return!0;var J=Z.length;return J===1&&Z==="~"||J===4&&(Z==="null"||Z==="Null"||Z==="NULL")}function uX0(){return null}function mX0(Z){return Z===null}function gX0(Z){if(Z===null)return!1;var J=Z.length;return J===4&&(Z==="true"||Z==="True"||Z==="TRUE")||J===5&&(Z==="false"||Z==="False"||Z==="FALSE")}function pX0(Z){return Z==="true"||Z==="True"||Z==="TRUE"}function cX0(Z){return Object.prototype.toString.call(Z)==="[object Boolean]"}function lX0(Z){return 48<=Z&&Z<=57||65<=Z&&Z<=70||97<=Z&&Z<=102}function dX0(Z){return 48<=Z&&Z<=55}function iX0(Z){return 48<=Z&&Z<=57}function sX0(Z){if(Z===null)return!1;var J=Z.length,Q=0,K=!1,X;if(!J)return!1;if(X=Z[Q],X==="-"||X==="+")X=Z[++Q];if(X==="0"){if(Q+1===J)return!0;if(X=Z[++Q],X==="b"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(X!=="0"&&X!=="1")return!1;K=!0}return K&&X!=="_"}if(X==="x"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!lX0(Z.charCodeAt(Q)))return!1;K=!0}return K&&X!=="_"}if(X==="o"){Q++;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!dX0(Z.charCodeAt(Q)))return!1;K=!0}return K&&X!=="_"}}if(X==="_")return!1;for(;Q<J;Q++){if(X=Z[Q],X==="_")continue;if(!iX0(Z.charCodeAt(Q)))return!1;K=!0}if(!K||X==="_")return!1;return!0}function rX0(Z){var J=Z,Q=1,K;if(J.indexOf("_")!==-1)J=J.replace(/_/g,"");if(K=J[0],K==="-"||K==="+"){if(K==="-")Q=-1;J=J.slice(1),K=J[0]}if(J==="0")return 0;if(K==="0"){if(J[1]==="b")return Q*parseInt(J.slice(2),2);if(J[1]==="x")return Q*parseInt(J.slice(2),16);if(J[1]==="o")return Q*parseInt(J.slice(2),8)}return Q*parseInt(J,10)}function nX0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1===0&&!jJ.isNegativeZero(Z))}function aX0(Z){if(Z===null)return!1;if(!jr0.test(Z)||Z[Z.length-1]==="_")return!1;return!0}function oX0(Z){var J,Q;if(J=Z.replace(/_/g,"").toLowerCase(),Q=J[0]==="-"?-1:1,"+-".indexOf(J[0])>=0)J=J.slice(1);if(J===".inf")return Q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(J===".nan")return NaN;return Q*parseFloat(J,10)}function tX0(Z,J){var Q;if(isNaN(Z))switch(J){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===Z)switch(J){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===Z)switch(J){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(jJ.isNegativeZero(Z))return"-0.0";return Q=Z.toString(10),Cr0.test(Q)?Q.replace("e",".e"):Q}function eX0(Z){return Object.prototype.toString.call(Z)==="[object Number]"&&(Z%1!==0||jJ.isNegativeZero(Z))}function KU0(Z){if(Z===null)return!1;if(JU0.exec(Z)!==null)return!0;if(QU0.exec(Z)!==null)return!0;return!1}function XU0(Z){var J,Q,K,X,U,Y,q,z=0,G=null,H,W,F;if(J=JU0.exec(Z),J===null)J=QU0.exec(Z);if(J===null)throw new Error("Date resolve error");if(Q=+J[1],K=+J[2]-1,X=+J[3],!J[4])return new Date(Date.UTC(Q,K,X));if(U=+J[4],Y=+J[5],q=+J[6],J[7]){z=J[7].slice(0,3);while(z.length<3)z+="0";z=+z}if(J[9]){if(H=+J[10],W=+(J[11]||0),G=(H*60+W)*60000,J[9]==="-")G=-G}if(F=new Date(Date.UTC(Q,K,X,U,Y,q,z)),G)F.setTime(F.getTime()-G);return F}function UU0(Z){return Z.toISOString()}function YU0(Z){return Z==="<<"||Z===null}function qU0(Z){if(Z===null)return!1;var J,Q,K=0,X=Z.length,U=Gb;for(Q=0;Q<X;Q++){if(J=U.indexOf(Z.charAt(Q)),J>64)continue;if(J<0)return!1;K+=6}return K%8===0}function zU0(Z){var J,Q,K=Z.replace(/[\r\n=]/g,""),X=K.length,U=Gb,Y=0,q=[];for(J=0;J<X;J++){if(J%4===0&&J)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);Y=Y<<6|U.indexOf(K.charAt(J))}if(Q=X%4*6,Q===0)q.push(Y>>16&255),q.push(Y>>8&255),q.push(Y&255);else if(Q===18)q.push(Y>>10&255),q.push(Y>>2&255);else if(Q===12)q.push(Y>>4&255);return new Uint8Array(q)}function GU0(Z){var J="",Q=0,K,X,U=Z.length,Y=Gb;for(K=0;K<U;K++){if(K%3===0&&K)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];Q=(Q<<8)+Z[K]}if(X=U%3,X===0)J+=Y[Q>>18&63],J+=Y[Q>>12&63],J+=Y[Q>>6&63],J+=Y[Q&63];else if(X===2)J+=Y[Q>>10&63],J+=Y[Q>>4&63],J+=Y[Q<<2&63],J+=Y[64];else if(X===1)J+=Y[Q>>2&63],J+=Y[Q<<4&63],J+=Y[64],J+=Y[64];return J}function HU0(Z){return Object.prototype.toString.call(Z)==="[object Uint8Array]"}function WU0(Z){if(Z===null)return!0;var J=[],Q,K,X,U,Y,q=Z;for(Q=0,K=q.length;Q<K;Q+=1){if(X=q[Q],Y=!1,kr0.call(X)!=="[object Object]")return!1;for(U in X)if(vr0.call(X,U))if(!Y)Y=!0;else return!1;if(!Y)return!1;if(J.indexOf(U)===-1)J.push(U);else return!1}return!0}function FU0(Z){return Z!==null?Z:[]}function MU0(Z){if(Z===null)return!0;var J,Q,K,X,U,Y=Z;U=new Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1){if(K=Y[J],_r0.call(K)!=="[object Object]")return!1;if(X=Object.keys(K),X.length!==1)return!1;U[J]=[X[0],K[X[0]]]}return!0}function BU0(Z){if(Z===null)return[];var J,Q,K,X,U,Y=Z;U=new Array(Y.length);for(J=0,Q=Y.length;J<Q;J+=1)K=Y[J],X=Object.keys(K),U[J]=[X[0],K[X[0]]];return U}function RU0(Z){if(Z===null)return!0;var J,Q=Z;for(J in Q)if(xr0.call(Q,J)){if(Q[J]!==null)return!1}return!0}function OU0(Z){return Z!==null?Z:{}}function i_(Z){return Object.prototype.toString.call(Z)}function L4(Z){return Z===10||Z===13}function qU(Z){return Z===9||Z===32}function p7(Z){return Z===9||Z===32||Z===10||Z===13}function Uq(Z){return Z===44||Z===91||Z===93||Z===123||Z===125}function EU0(Z){var J;if(48<=Z&&Z<=57)return Z-48;if(J=Z|32,97<=J&&J<=102)return J-97+10;return-1}function wU0(Z){if(Z===120)return 2;if(Z===117)return 4;if(Z===85)return 8;return 0}function jU0(Z){if(48<=Z&&Z<=57)return Z-48;return-1}function s_(Z){return Z===48?"\0":Z===97?"\x07":Z===98?"\b":Z===116?"	":Z===9?"	":Z===110?"\n":Z===118?"\v":Z===102?"\f":Z===114?"\r":Z===101?"\x1B":Z===32?" ":Z===34?'"':Z===47?"/":Z===92?"\\":Z===78?"\x85":Z===95?"\xA0":Z===76?"\u2028":Z===80?"\u2029":""}function CU0(Z){if(Z<=65535)return String.fromCharCode(Z);return String.fromCharCode((Z-65536>>10)+55296,(Z-65536&1023)+56320)}function SU0(Z,J){this.input=Z,this.filename=J.filename||null,this.schema=J.schema||AU0,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=Z.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Hb(Z,J){var Q={name:Z.filename,buffer:Z.input.slice(0,-1),position:Z.position,line:Z.line,column:Z.position-Z.lineStart};return Q.snippet=Mr0(Q),new N6(J,Q)}function C9(Z,J){throw Hb(Z,J)}function CM(Z,J){if(Z.onWarning)Z.onWarning.call(null,Hb(Z,J))}function b5(Z,J,Q,K){var X,U,Y,q;if(J<Q){if(q=Z.input.slice(J,Q),K){for(X=0,U=q.length;X<U;X+=1)if(Y=q.charCodeAt(X),!(Y===9||32<=Y&&Y<=1114111))C9(Z,"expected valid JSON character")}else if(ur0.test(q))C9(Z,"the stream contains non-printable characters");Z.result+=q}}function r_(Z,J,Q,K){var X,U,Y,q;if(!jJ.isObject(Q))C9(Z,"cannot merge mappings; the provided source object is unacceptable");X=Object.keys(Q);for(Y=0,q=X.length;Y<q;Y+=1)if(U=X[Y],!zU.call(J,U))J[U]=Q[U],K[U]=!0}function Yq(Z,J,Q,K,X,U,Y,q,z){var G,H;if(Array.isArray(X)){X=Array.prototype.slice.call(X);for(G=0,H=X.length;G<H;G+=1){if(Array.isArray(X[G]))C9(Z,"nested arrays are not supported inside keys");if(typeof X==="object"&&i_(X[G])==="[object Object]")X[G]="[object Object]"}}if(typeof X==="object"&&i_(X)==="[object Object]")X="[object Object]";if(X=String(X),J===null)J={};if(K==="tag:yaml.org,2002:merge")if(Array.isArray(U))for(G=0,H=U.length;G<H;G+=1)r_(Z,J,U[G],Q);else r_(Z,J,U,Q);else{if(!Z.json&&!zU.call(Q,X)&&zU.call(J,X))Z.line=Y||Z.line,Z.lineStart=q||Z.lineStart,Z.position=z||Z.position,C9(Z,"duplicated mapping key");if(X==="__proto__")Object.defineProperty(J,X,{configurable:!0,enumerable:!0,writable:!0,value:U});else J[X]=U;delete Q[X]}return J}function $D(Z){var J=Z.input.charCodeAt(Z.position);if(J===10)Z.position++;else if(J===13){if(Z.position++,Z.input.charCodeAt(Z.position)===10)Z.position++}else C9(Z,"a line break is expected");Z.line+=1,Z.lineStart=Z.position,Z.firstTabInLine=-1}function ZJ(Z,J,Q){var K=0,X=Z.input.charCodeAt(Z.position);while(X!==0){while(qU(X)){if(X===9&&Z.firstTabInLine===-1)Z.firstTabInLine=Z.position;X=Z.input.charCodeAt(++Z.position)}if(J&&X===35)do X=Z.input.charCodeAt(++Z.position);while(X!==10&&X!==13&&X!==0);if(L4(X)){$D(Z),X=Z.input.charCodeAt(Z.position),K++,Z.lineIndent=0;while(X===32)Z.lineIndent++,X=Z.input.charCodeAt(++Z.position)}else break}if(Q!==-1&&K!==0&&Z.lineIndent<Q)CM(Z,"deficient indentation");return K}function TM(Z){var J=Z.position,Q;if(Q=Z.input.charCodeAt(J),(Q===45||Q===46)&&Q===Z.input.charCodeAt(J+1)&&Q===Z.input.charCodeAt(J+2)){if(J+=3,Q=Z.input.charCodeAt(J),Q===0||p7(Q))return!0}return!1}function _D(Z,J){if(J===1)Z.result+=" ";else if(J>1)Z.result+=jJ.repeat("\n",J-1)}function TU0(Z,J,Q){var K,X,U,Y,q,z,G,H,W=Z.kind,F=Z.result,M;if(M=Z.input.charCodeAt(Z.position),p7(M)||Uq(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96)return!1;if(M===63||M===45){if(X=Z.input.charCodeAt(Z.position+1),p7(X)||Q&&Uq(X))return!1}Z.kind="scalar",Z.result="",U=Y=Z.position,q=!1;while(M!==0){if(M===58){if(X=Z.input.charCodeAt(Z.position+1),p7(X)||Q&&Uq(X))break}else if(M===35){if(K=Z.input.charCodeAt(Z.position-1),p7(K))break}else if(Z.position===Z.lineStart&&TM(Z)||Q&&Uq(M))break;else if(L4(M))if(z=Z.line,G=Z.lineStart,H=Z.lineIndent,ZJ(Z,!1,-1),Z.lineIndent>=J){q=!0,M=Z.input.charCodeAt(Z.position);continue}else{Z.position=Y,Z.line=z,Z.lineStart=G,Z.lineIndent=H;break}if(q)b5(Z,U,Y,!1),_D(Z,Z.line-z),U=Y=Z.position,q=!1;if(!qU(M))Y=Z.position+1;M=Z.input.charCodeAt(++Z.position)}if(b5(Z,U,Y,!1),Z.result)return!0;return Z.kind=W,Z.result=F,!1}function fU0(Z,J){var Q,K,X;if(Q=Z.input.charCodeAt(Z.position),Q!==39)return!1;Z.kind="scalar",Z.result="",Z.position++,K=X=Z.position;while((Q=Z.input.charCodeAt(Z.position))!==0)if(Q===39)if(b5(Z,K,Z.position,!0),Q=Z.input.charCodeAt(++Z.position),Q===39)K=Z.position,Z.position++,X=Z.position;else return!0;else if(L4(Q))b5(Z,K,X,!0),_D(Z,ZJ(Z,!1,J)),K=X=Z.position;else if(Z.position===Z.lineStart&&TM(Z))C9(Z,"unexpected end of the document within a single quoted scalar");else Z.position++,X=Z.position;C9(Z,"unexpected end of the stream within a single quoted scalar")}function vU0(Z,J){var Q,K,X,U,Y,q;if(q=Z.input.charCodeAt(Z.position),q!==34)return!1;Z.kind="scalar",Z.result="",Z.position++,Q=K=Z.position;while((q=Z.input.charCodeAt(Z.position))!==0)if(q===34)return b5(Z,Q,Z.position,!0),Z.position++,!0;else if(q===92){if(b5(Z,Q,Z.position,!0),q=Z.input.charCodeAt(++Z.position),L4(q))ZJ(Z,!1,J);else if(q<256&&PU0[q])Z.result+=VU0[q],Z.position++;else if((Y=wU0(q))>0){X=Y,U=0;for(;X>0;X--)if(q=Z.input.charCodeAt(++Z.position),(Y=EU0(q))>=0)U=(U<<4)+Y;else C9(Z,"expected hexadecimal character");Z.result+=CU0(U),Z.position++}else C9(Z,"unknown escape sequence");Q=K=Z.position}else if(L4(q))b5(Z,Q,K,!0),_D(Z,ZJ(Z,!1,J)),Q=K=Z.position;else if(Z.position===Z.lineStart&&TM(Z))C9(Z,"unexpected end of the document within a double quoted scalar");else Z.position++,K=Z.position;C9(Z,"unexpected end of the stream within a double quoted scalar")}function kU0(Z,J){var Q=!0,K,X,U,Y=Z.tag,q,z=Z.anchor,G,H,W,F,M,B=Object.create(null),O,A,L,I;if(I=Z.input.charCodeAt(Z.position),I===91)H=93,M=!1,q=[];else if(I===123)H=125,M=!0,q={};else return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=q;I=Z.input.charCodeAt(++Z.position);while(I!==0){if(ZJ(Z,!0,J),I=Z.input.charCodeAt(Z.position),I===H)return Z.position++,Z.tag=Y,Z.anchor=z,Z.kind=M?"mapping":"sequence",Z.result=q,!0;else if(!Q)C9(Z,"missed comma between flow collection entries");else if(I===44)C9(Z,"expected the node content, but found ','");if(A=O=L=null,W=F=!1,I===63){if(G=Z.input.charCodeAt(Z.position+1),p7(G))W=F=!0,Z.position++,ZJ(Z,!0,J)}if(K=Z.line,X=Z.lineStart,U=Z.position,qq(Z,J,PD,!1,!0),A=Z.tag,O=Z.result,ZJ(Z,!0,J),I=Z.input.charCodeAt(Z.position),(F||Z.line===K)&&I===58)W=!0,I=Z.input.charCodeAt(++Z.position),ZJ(Z,!0,J),qq(Z,J,PD,!1,!0),L=Z.result;if(M)Yq(Z,q,B,A,O,L,K,X,U);else if(W)q.push(Yq(Z,null,B,A,O,L,K,X,U));else q.push(O);if(ZJ(Z,!0,J),I=Z.input.charCodeAt(Z.position),I===44)Q=!0,I=Z.input.charCodeAt(++Z.position);else Q=!1}C9(Z,"unexpected end of the stream within a flow collection")}function $U0(Z,J){var Q,K,X=p_,U=!1,Y=!1,q=J,z=0,G=!1,H,W;if(W=Z.input.charCodeAt(Z.position),W===124)K=!1;else if(W===62)K=!0;else return!1;Z.kind="scalar",Z.result="";while(W!==0)if(W=Z.input.charCodeAt(++Z.position),W===43||W===45)if(p_===X)X=W===43?t50:yr0;else C9(Z,"repeat of a chomping mode identifier");else if((H=jU0(W))>=0)if(H===0)C9(Z,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!Y)q=J+H-1,Y=!0;else C9(Z,"repeat of an indentation width identifier");else break;if(qU(W)){do W=Z.input.charCodeAt(++Z.position);while(qU(W));if(W===35)do W=Z.input.charCodeAt(++Z.position);while(!L4(W)&&W!==0)}while(W!==0){$D(Z),Z.lineIndent=0,W=Z.input.charCodeAt(Z.position);while((!Y||Z.lineIndent<q)&&W===32)Z.lineIndent++,W=Z.input.charCodeAt(++Z.position);if(!Y&&Z.lineIndent>q)q=Z.lineIndent;if(L4(W)){z++;continue}if(Z.lineIndent<q){if(X===t50)Z.result+=jJ.repeat("\n",U?1+z:z);else if(X===p_){if(U)Z.result+="\n"}break}if(K)if(qU(W))G=!0,Z.result+=jJ.repeat("\n",U?1+z:z);else if(G)G=!1,Z.result+=jJ.repeat("\n",z+1);else if(z===0){if(U)Z.result+=" "}else Z.result+=jJ.repeat("\n",z);else Z.result+=jJ.repeat("\n",U?1+z:z);U=!0,Y=!0,z=0,Q=Z.position;while(!L4(W)&&W!==0)W=Z.input.charCodeAt(++Z.position);b5(Z,Q,Z.position,!1)}return!0}function n_(Z,J){var Q,K=Z.tag,X=Z.anchor,U=[],Y,q=!1,z;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=U;z=Z.input.charCodeAt(Z.position);while(z!==0){if(Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,C9(Z,"tab characters must not be used in indentation");if(z!==45)break;if(Y=Z.input.charCodeAt(Z.position+1),!p7(Y))break;if(q=!0,Z.position++,ZJ(Z,!0,-1)){if(Z.lineIndent<=J){U.push(null),z=Z.input.charCodeAt(Z.position);continue}}if(Q=Z.line,qq(Z,J,IU0,!1,!0),U.push(Z.result),ZJ(Z,!0,-1),z=Z.input.charCodeAt(Z.position),(Z.line===Q||Z.lineIndent>J)&&z!==0)C9(Z,"bad indentation of a sequence entry");else if(Z.lineIndent<J)break}if(q)return Z.tag=K,Z.anchor=X,Z.kind="sequence",Z.result=U,!0;return!1}function _U0(Z,J,Q){var K,X,U,Y,q,z,G=Z.tag,H=Z.anchor,W={},F=Object.create(null),M=null,B=null,O=null,A=!1,L=!1,I;if(Z.firstTabInLine!==-1)return!1;if(Z.anchor!==null)Z.anchorMap[Z.anchor]=W;I=Z.input.charCodeAt(Z.position);while(I!==0){if(!A&&Z.firstTabInLine!==-1)Z.position=Z.firstTabInLine,C9(Z,"tab characters must not be used in indentation");if(K=Z.input.charCodeAt(Z.position+1),U=Z.line,(I===63||I===58)&&p7(K)){if(I===63){if(A)Yq(Z,W,F,M,B,null,Y,q,z),M=B=O=null;L=!0,A=!0,X=!0}else if(A)A=!1,X=!0;else C9(Z,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");Z.position+=1,I=K}else{if(Y=Z.line,q=Z.lineStart,z=Z.position,!qq(Z,Q,LU0,!1,!0))break;if(Z.line===U){I=Z.input.charCodeAt(Z.position);while(qU(I))I=Z.input.charCodeAt(++Z.position);if(I===58){if(I=Z.input.charCodeAt(++Z.position),!p7(I))C9(Z,"a whitespace character is expected after the key-value separator within a block mapping");if(A)Yq(Z,W,F,M,B,null,Y,q,z),M=B=O=null;L=!0,A=!1,X=!1,M=Z.tag,B=Z.result}else if(L)C9(Z,"can not read an implicit mapping pair; a colon is missed");else return Z.tag=G,Z.anchor=H,!0}else if(L)C9(Z,"can not read a block mapping entry; a multiline key may not be an implicit key");else return Z.tag=G,Z.anchor=H,!0}if(Z.line===U||Z.lineIndent>J){if(A)Y=Z.line,q=Z.lineStart,z=Z.position;if(qq(Z,J,VD,!0,X))if(A)B=Z.result;else O=Z.result;if(!A)Yq(Z,W,F,M,B,O,Y,q,z),M=B=O=null;ZJ(Z,!0,-1),I=Z.input.charCodeAt(Z.position)}if((Z.line===U||Z.lineIndent>J)&&I!==0)C9(Z,"bad indentation of a mapping entry");else if(Z.lineIndent<J)break}if(A)Yq(Z,W,F,M,B,null,Y,q,z);if(L)Z.tag=G,Z.anchor=H,Z.kind="mapping",Z.result=W;return L}function bU0(Z){var J,Q=!1,K=!1,X,U,Y;if(Y=Z.input.charCodeAt(Z.position),Y!==33)return!1;if(Z.tag!==null)C9(Z,"duplication of a tag property");if(Y=Z.input.charCodeAt(++Z.position),Y===60)Q=!0,Y=Z.input.charCodeAt(++Z.position);else if(Y===33)K=!0,X="!!",Y=Z.input.charCodeAt(++Z.position);else X="!";if(J=Z.position,Q){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&Y!==62);if(Z.position<Z.length)U=Z.input.slice(J,Z.position),Y=Z.input.charCodeAt(++Z.position);else C9(Z,"unexpected end of the stream within a verbatim tag")}else{while(Y!==0&&!p7(Y)){if(Y===33)if(!K){if(X=Z.input.slice(J-1,Z.position+1),!DU0.test(X))C9(Z,"named tag handle cannot contain such characters");K=!0,J=Z.position+1}else C9(Z,"tag suffix cannot contain exclamation marks");Y=Z.input.charCodeAt(++Z.position)}if(U=Z.input.slice(J,Z.position),gr0.test(U))C9(Z,"tag suffix cannot contain flow indicator characters")}if(U&&!NU0.test(U))C9(Z,"tag name cannot contain such characters: "+U);try{U=decodeURIComponent(U)}catch(q){C9(Z,"tag name is malformed: "+U)}if(Q)Z.tag=U;else if(zU.call(Z.tagMap,X))Z.tag=Z.tagMap[X]+U;else if(X==="!")Z.tag="!"+U;else if(X==="!!")Z.tag="tag:yaml.org,2002:"+U;else C9(Z,'undeclared tag handle "'+X+'"');return!0}function xU0(Z){var J,Q;if(Q=Z.input.charCodeAt(Z.position),Q!==38)return!1;if(Z.anchor!==null)C9(Z,"duplication of an anchor property");Q=Z.input.charCodeAt(++Z.position),J=Z.position;while(Q!==0&&!p7(Q)&&!Uq(Q))Q=Z.input.charCodeAt(++Z.position);if(Z.position===J)C9(Z,"name of an anchor node must contain at least one character");return Z.anchor=Z.input.slice(J,Z.position),!0}function hU0(Z){var J,Q,K;if(K=Z.input.charCodeAt(Z.position),K!==42)return!1;K=Z.input.charCodeAt(++Z.position),J=Z.position;while(K!==0&&!p7(K)&&!Uq(K))K=Z.input.charCodeAt(++Z.position);if(Z.position===J)C9(Z,"name of an alias node must contain at least one character");if(Q=Z.input.slice(J,Z.position),!zU.call(Z.anchorMap,Q))C9(Z,'unidentified alias "'+Q+'"');return Z.result=Z.anchorMap[Q],ZJ(Z,!0,-1),!0}function qq(Z,J,Q,K,X){var U,Y,q,z=1,G=!1,H=!1,W,F,M,B,O,A;if(Z.listener!==null)Z.listener("open",Z);if(Z.tag=null,Z.anchor=null,Z.kind=null,Z.result=null,U=Y=q=VD===Q||IU0===Q,K){if(ZJ(Z,!0,-1)){if(G=!0,Z.lineIndent>J)z=1;else if(Z.lineIndent===J)z=0;else if(Z.lineIndent<J)z=-1}}if(z===1)while(bU0(Z)||xU0(Z))if(ZJ(Z,!0,-1)){if(G=!0,q=U,Z.lineIndent>J)z=1;else if(Z.lineIndent===J)z=0;else if(Z.lineIndent<J)z=-1}else q=!1;if(q)q=G||X;if(z===1||VD===Q){if(PD===Q||LU0===Q)O=J;else O=J+1;if(A=Z.position-Z.lineStart,z===1)if(q&&(n_(Z,A)||_U0(Z,A,O))||kU0(Z,O))H=!0;else{if(Y&&$U0(Z,O)||fU0(Z,O)||vU0(Z,O))H=!0;else if(hU0(Z)){if(H=!0,Z.tag!==null||Z.anchor!==null)C9(Z,"alias node should not have any properties")}else if(TU0(Z,O,PD===Q)){if(H=!0,Z.tag===null)Z.tag="?"}if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(z===0)H=q&&n_(Z,A)}if(Z.tag===null){if(Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}else if(Z.tag==="?"){if(Z.result!==null&&Z.kind!=="scalar")C9(Z,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+Z.kind+'"');for(W=0,F=Z.implicitTypes.length;W<F;W+=1)if(B=Z.implicitTypes[W],B.resolve(Z.result)){if(Z.result=B.construct(Z.result),Z.tag=B.tag,Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result;break}}else if(Z.tag!=="!"){if(zU.call(Z.typeMap[Z.kind||"fallback"],Z.tag))B=Z.typeMap[Z.kind||"fallback"][Z.tag];else{B=null,M=Z.typeMap.multi[Z.kind||"fallback"];for(W=0,F=M.length;W<F;W+=1)if(Z.tag.slice(0,M[W].tag.length)===M[W].tag){B=M[W];break}}if(!B)C9(Z,"unknown tag !<"+Z.tag+">");if(Z.result!==null&&B.kind!==Z.kind)C9(Z,"unacceptable node kind for !<"+Z.tag+'> tag; it should be "'+B.kind+'", not "'+Z.kind+'"');if(!B.resolve(Z.result,Z.tag))C9(Z,"cannot resolve a node with !<"+Z.tag+"> explicit tag");else if(Z.result=B.construct(Z.result,Z.tag),Z.anchor!==null)Z.anchorMap[Z.anchor]=Z.result}if(Z.listener!==null)Z.listener("close",Z);return Z.tag!==null||Z.anchor!==null||H}function yU0(Z){var J=Z.position,Q,K,X,U=!1,Y;Z.version=null,Z.checkLineBreaks=Z.legacy,Z.tagMap=Object.create(null),Z.anchorMap=Object.create(null);while((Y=Z.input.charCodeAt(Z.position))!==0){if(ZJ(Z,!0,-1),Y=Z.input.charCodeAt(Z.position),Z.lineIndent>0||Y!==37)break;U=!0,Y=Z.input.charCodeAt(++Z.position),Q=Z.position;while(Y!==0&&!p7(Y))Y=Z.input.charCodeAt(++Z.position);if(K=Z.input.slice(Q,Z.position),X=[],K.length<1)C9(Z,"directive name must not be less than one character in length");while(Y!==0){while(qU(Y))Y=Z.input.charCodeAt(++Z.position);if(Y===35){do Y=Z.input.charCodeAt(++Z.position);while(Y!==0&&!L4(Y));break}if(L4(Y))break;Q=Z.position;while(Y!==0&&!p7(Y))Y=Z.input.charCodeAt(++Z.position);X.push(Z.input.slice(Q,Z.position))}if(Y!==0)$D(Z);if(zU.call(e50,K))e50[K](Z,K,X);else CM(Z,'unknown document directive "'+K+'"')}if(ZJ(Z,!0,-1),Z.lineIndent===0&&Z.input.charCodeAt(Z.position)===45&&Z.input.charCodeAt(Z.position+1)===45&&Z.input.charCodeAt(Z.position+2)===45)Z.position+=3,ZJ(Z,!0,-1);else if(U)C9(Z,"directives end mark is expected");if(qq(Z,Z.lineIndent-1,VD,!1,!0),ZJ(Z,!0,-1),Z.checkLineBreaks&&mr0.test(Z.input.slice(J,Z.position)))CM(Z,"non-ASCII line breaks are interpreted as content");if(Z.documents.push(Z.result),Z.position===Z.lineStart&&TM(Z)){if(Z.input.charCodeAt(Z.position)===46)Z.position+=3,ZJ(Z,!0,-1);return}if(Z.position<Z.length-1)C9(Z,"end of the stream or a document separator is expected");else return}function Wb(Z,J){if(Z=String(Z),J=J||{},Z.length!==0){if(Z.charCodeAt(Z.length-1)!==10&&Z.charCodeAt(Z.length-1)!==13)Z+="\n";if(Z.charCodeAt(0)===65279)Z=Z.slice(1)}var Q=new SU0(Z,J),K=Z.indexOf("\0");if(K!==-1)Q.position=K,C9(Q,"null byte is not allowed in input");Q.input+="\0";while(Q.input.charCodeAt(Q.position)===32)Q.lineIndent+=1,Q.position+=1;while(Q.position<Q.length-1)yU0(Q);return Q.documents}function uU0(Z,J,Q){if(J!==null&&typeof J==="object"&&typeof Q==="undefined")Q=J,J=null;var K=Wb(Z,Q);if(typeof J!=="function")return K;for(var X=0,U=K.length;X<U;X+=1)J(K[X])}function mU0(Z,J){var Q=Wb(Z,J);if(Q.length===0)return;else if(Q.length===1)return Q[0];throw new N6("expected a single document in the stream, but found more")}function nU0(Z,J){var Q,K,X,U,Y,q,z;if(J===null)return{};Q={},K=Object.keys(J);for(X=0,U=K.length;X<U;X+=1){if(Y=K[X],q=String(J[Y]),Y.slice(0,2)==="!!")Y="tag:yaml.org,2002:"+Y.slice(2);if(z=Z.compiledTypeMap.fallback[Y],z&&cU0.call(z.styleAliases,q))q=z.styleAliases[q];Q[Y]=q}return Q}function aU0(Z){var J,Q,K;if(J=Z.toString(16).toUpperCase(),Z<=255)Q="x",K=2;else if(Z<=65535)Q="u",K=4;else if(Z<=4294967295)Q="U",K=8;else throw new N6("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+Q+jJ.repeat("0",K-J.length)+J}function oU0(Z){this.schema=Z.schema||AU0,this.indent=Math.max(1,Z.indent||2),this.noArrayIndent=Z.noArrayIndent||!1,this.skipInvalid=Z.skipInvalid||!1,this.flowLevel=jJ.isNothing(Z.flowLevel)?-1:Z.flowLevel,this.styleMap=nU0(this.schema,Z.styles||null),this.sortKeys=Z.sortKeys||!1,this.lineWidth=Z.lineWidth||80,this.noRefs=Z.noRefs||!1,this.noCompatMode=Z.noCompatMode||!1,this.condenseFlow=Z.condenseFlow||!1,this.quotingType=Z.quotingType==='"'?VM:zn0,this.forceQuotes=Z.forceQuotes||!1,this.replacer=typeof Z.replacer==="function"?Z.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function o_(Z,J){var Q=jJ.repeat(" ",J),K=0,X=-1,U="",Y,q=Z.length;while(K<q){if(X=Z.indexOf("\n",K),X===-1)Y=Z.slice(K),K=q;else Y=Z.slice(K,X+1),K=X+1;if(Y.length&&Y!=="\n")U+=Q;U+=Y}return U}function TD(Z,J){return"\n"+jJ.repeat(" ",Z.indent*J)}function tU0(Z,J){var Q,K,X;for(Q=0,K=Z.implicitTypes.length;Q<K;Q+=1)if(X=Z.implicitTypes[Q],X.resolve(J))return!0;return!1}function SM(Z){return Z===ir0||Z===lr0}function OG(Z){return 32<=Z&&Z<=126||161<=Z&&Z<=55295&&Z!==8232&&Z!==8233||57344<=Z&&Z<=65533&&Z!==Fb||65536<=Z&&Z<=1114111}function t_(Z){return OG(Z)&&Z!==Fb&&Z!==dr0&&Z!==PM}function e_(Z,J,Q){var K=t_(Z),X=K&&!SM(Z);return(Q?K:K&&Z!==lU0&&Z!==dU0&&Z!==iU0&&Z!==sU0&&Z!==rU0)&&Z!==a_&&!(J===SD&&!X)||t_(J)&&!SM(J)&&Z===a_||J===SD&&X}function eU0(Z){return OG(Z)&&Z!==Fb&&!SM(Z)&&Z!==er0&&Z!==Qn0&&Z!==SD&&Z!==lU0&&Z!==dU0&&Z!==iU0&&Z!==sU0&&Z!==rU0&&Z!==a_&&Z!==ar0&&Z!==tr0&&Z!==sr0&&Z!==Un0&&Z!==Zn0&&Z!==Jn0&&Z!==or0&&Z!==rr0&&Z!==nr0&&Z!==Kn0&&Z!==Xn0}function ZY0(Z){return!SM(Z)&&Z!==SD}function BG(Z,J){var Q=Z.charCodeAt(J),K;if(Q>=55296&&Q<=56319&&J+1<Z.length){if(K=Z.charCodeAt(J+1),K>=56320&&K<=57343)return(Q-55296)*1024+K-56320+65536}return Q}function Mb(Z){var J=/^\n* /;return J.test(Z)}function XY0(Z,J,Q,K,X,U,Y,q){var z,G=0,H=null,W=!1,F=!1,M=K!==-1,B=-1,O=eU0(BG(Z,0))&&ZY0(BG(Z,Z.length-1));if(J||Y)for(z=0;z<Z.length;G>=65536?z+=2:z++){if(G=BG(Z,z),!OG(G))return MG;O=O&&e_(G,H,q),H=G}else{for(z=0;z<Z.length;G>=65536?z+=2:z++){if(G=BG(Z,z),G===PM){if(W=!0,M)F=F||z-B-1>K&&Z[B+1]!==" ",B=z}else if(!OG(G))return MG;O=O&&e_(G,H,q),H=G}F=F||M&&(z-B-1>K&&Z[B+1]!==" ")}if(!W&&!F){if(O&&!Y&&!X(Z))return JY0;return U===VM?MG:Zb}if(Q>9&&Mb(Z))return MG;if(!Y)return F?KY0:QY0;return U===VM?MG:Zb}function UY0(Z,J,Q,K,X){Z.dump=function(){if(J.length===0)return Z.quotingType===VM?'""':"''";if(!Z.noCompatMode){if(Yn0.indexOf(J)!==-1||qn0.test(J))return Z.quotingType===VM?'"'+J+'"':"'"+J+"'"}var U=Z.indent*Math.max(1,Q),Y=Z.lineWidth===-1?-1:Math.max(Math.min(Z.lineWidth,40),Z.lineWidth-U),q=K||Z.flowLevel>-1&&Q>=Z.flowLevel;function z(G){return tU0(Z,G)}switch(R(z,"testAmbiguity"),XY0(J,q,Z.indent,Y,z,Z.quotingType,Z.forceQuotes&&!K,X)){case JY0:return J;case Zb:return"'"+J.replace(/'/g,"''")+"'";case QY0:return"|"+Jb(J,Z.indent)+Qb(o_(J,U));case KY0:return">"+Jb(J,Z.indent)+Qb(o_(YY0(J,Y),U));case MG:return'"'+qY0(J)+'"';default:throw new N6("impossible error: invalid scalar style")}}()}function Jb(Z,J){var Q=Mb(Z)?String(J):"",K=Z[Z.length-1]==="\n",X=K&&(Z[Z.length-2]==="\n"||Z==="\n"),U=X?"+":K?"":"-";return Q+U+"\n"}function Qb(Z){return Z[Z.length-1]==="\n"?Z.slice(0,-1):Z}function YY0(Z,J){var Q=/(\n+)([^\n]*)/g,K=function(){var G=Z.indexOf("\n");return G=G!==-1?G:Z.length,Q.lastIndex=G,Kb(Z.slice(0,G),J)}(),X=Z[0]==="\n"||Z[0]===" ",U,Y;while(Y=Q.exec(Z)){var q=Y[1],z=Y[2];U=z[0]===" ",K+=q+(!X&&!U&&z!==""?"\n":"")+Kb(z,J),X=U}return K}function Kb(Z,J){if(Z===""||Z[0]===" ")return Z;var Q=/ [^ ]/g,K,X=0,U,Y=0,q=0,z="";while(K=Q.exec(Z)){if(q=K.index,q-X>J)U=Y>X?Y:q,z+="\n"+Z.slice(X,U),X=U+1;Y=q}if(z+="\n",Z.length-X>J&&Y>X)z+=Z.slice(X,Y)+"\n"+Z.slice(Y+1);else z+=Z.slice(X);return z.slice(1)}function qY0(Z){var J="",Q=0,K;for(var X=0;X<Z.length;Q>=65536?X+=2:X++)if(Q=BG(Z,X),K=w7[Q],!K&&OG(Q)){if(J+=Z[X],Q>=65536)J+=Z[X+1]}else J+=K||aU0(Q);return J}function zY0(Z,J,Q){var K="",X=Z.tag,U,Y,q;for(U=0,Y=Q.length;U<Y;U+=1){if(q=Q[U],Z.replacer)q=Z.replacer.call(Q,String(U),q);if(EK(Z,J,q,!1,!1)||typeof q==="undefined"&&EK(Z,J,null,!1,!1)){if(K!=="")K+=","+(!Z.condenseFlow?" ":"");K+=Z.dump}}Z.tag=X,Z.dump="["+K+"]"}function Xb(Z,J,Q,K){var X="",U=Z.tag,Y,q,z;for(Y=0,q=Q.length;Y<q;Y+=1){if(z=Q[Y],Z.replacer)z=Z.replacer.call(Q,String(Y),z);if(EK(Z,J+1,z,!0,!0,!1,!0)||typeof z==="undefined"&&EK(Z,J+1,null,!0,!0,!1,!0)){if(!K||X!=="")X+=TD(Z,J);if(Z.dump&&PM===Z.dump.charCodeAt(0))X+="-";else X+="- ";X+=Z.dump}}Z.tag=U,Z.dump=X||"[]"}function GY0(Z,J,Q){var K="",X=Z.tag,U=Object.keys(Q),Y,q,z,G,H;for(Y=0,q=U.length;Y<q;Y+=1){if(H="",K!=="")H+=", ";if(Z.condenseFlow)H+='"';if(z=U[Y],G=Q[z],Z.replacer)G=Z.replacer.call(Q,z,G);if(!EK(Z,J,z,!1,!1))continue;if(Z.dump.length>1024)H+="? ";if(H+=Z.dump+(Z.condenseFlow?'"':"")+":"+(Z.condenseFlow?"":" "),!EK(Z,J,G,!1,!1))continue;H+=Z.dump,K+=H}Z.tag=X,Z.dump="{"+K+"}"}function HY0(Z,J,Q,K){var X="",U=Z.tag,Y=Object.keys(Q),q,z,G,H,W,F;if(Z.sortKeys===!0)Y.sort();else if(typeof Z.sortKeys==="function")Y.sort(Z.sortKeys);else if(Z.sortKeys)throw new N6("sortKeys must be a boolean or a function");for(q=0,z=Y.length;q<z;q+=1){if(F="",!K||X!=="")F+=TD(Z,J);if(G=Y[q],H=Q[G],Z.replacer)H=Z.replacer.call(Q,G,H);if(!EK(Z,J+1,G,!0,!0,!0))continue;if(W=Z.tag!==null&&Z.tag!=="?"||Z.dump&&Z.dump.length>1024,W)if(Z.dump&&PM===Z.dump.charCodeAt(0))F+="?";else F+="? ";if(F+=Z.dump,W)F+=TD(Z,J);if(!EK(Z,J+1,H,!0,W))continue;if(Z.dump&&PM===Z.dump.charCodeAt(0))F+=":";else F+=": ";F+=Z.dump,X+=F}Z.tag=U,Z.dump=X||"{}"}function Ub(Z,J,Q){var K,X,U,Y,q,z;X=Q?Z.explicitTypes:Z.implicitTypes;for(U=0,Y=X.length;U<Y;U+=1)if(q=X[U],(q.instanceOf||q.predicate)&&(!q.instanceOf||typeof J==="object"&&J instanceof q.instanceOf)&&(!q.predicate||q.predicate(J))){if(Q)if(q.multi&&q.representName)Z.tag=q.representName(J);else Z.tag=q.tag;else Z.tag="?";if(q.represent){if(z=Z.styleMap[q.tag]||q.defaultStyle,pU0.call(q.represent)==="[object Function]")K=q.represent(J,z);else if(cU0.call(q.represent,z))K=q.represent[z](J,z);else throw new N6("!<"+q.tag+'> tag resolver accepts not "'+z+'" style');Z.dump=K}return!0}return!1}function EK(Z,J,Q,K,X,U,Y){if(Z.tag=null,Z.dump=Q,!Ub(Z,Q,!1))Ub(Z,Q,!0);var q=pU0.call(Z.dump),z=K,G;if(K)K=Z.flowLevel<0||Z.flowLevel>J;var H=q==="[object Object]"||q==="[object Array]",W,F;if(H)W=Z.duplicates.indexOf(Q),F=W!==-1;if(Z.tag!==null&&Z.tag!=="?"||F||Z.indent!==2&&J>0)X=!1;if(F&&Z.usedDuplicates[W])Z.dump="*ref_"+W;else{if(H&&F&&!Z.usedDuplicates[W])Z.usedDuplicates[W]=!0;if(q==="[object Object]"){if(K&&Object.keys(Z.dump).length!==0){if(HY0(Z,J,Z.dump,X),F)Z.dump="&ref_"+W+Z.dump}else if(GY0(Z,J,Z.dump),F)Z.dump="&ref_"+W+" "+Z.dump}else if(q==="[object Array]"){if(K&&Z.dump.length!==0){if(Z.noArrayIndent&&!Y&&J>0)Xb(Z,J-1,Z.dump,X);else Xb(Z,J,Z.dump,X);if(F)Z.dump="&ref_"+W+Z.dump}else if(zY0(Z,J,Z.dump),F)Z.dump="&ref_"+W+" "+Z.dump}else if(q==="[object String]"){if(Z.tag!=="?")UY0(Z,Z.dump,J,U,z)}else if(q==="[object Undefined]")return!1;else{if(Z.skipInvalid)return!1;throw new N6("unacceptable kind of an object to dump "+q)}if(Z.tag!==null&&Z.tag!=="?"){if(G=encodeURI(Z.tag[0]==="!"?Z.tag.slice(1):Z.tag).replace(/!/g,"%21"),Z.tag[0]==="!")G="!"+G;else if(G.slice(0,18)==="tag:yaml.org,2002:")G="!!"+G.slice(18);else G="!<"+G+">";Z.dump=G+" "+Z.dump}}return!0}function WY0(Z,J){var Q=[],K=[],X,U;fD(Z,Q,K);for(X=0,U=K.length;X<U;X+=1)J.duplicates.push(Q[K[X]]);J.usedDuplicates=new Array(U)}function fD(Z,J,Q){var K,X,U;if(Z!==null&&typeof Z==="object")if(X=J.indexOf(Z),X!==-1){if(Q.indexOf(X)===-1)Q.push(X)}else if(J.push(Z),Array.isArray(Z))for(X=0,U=Z.length;X<U;X+=1)fD(Z[X],J,Q);else{K=Object.keys(Z);for(X=0,U=K.length;X<U;X+=1)fD(Z[K[X]],J,Q)}}function FY0(Z,J){J=J||{};var Q=new oU0(J);if(!Q.noRefs)WY0(Z,Q);var K=Z;if(Q.replacer)K=Q.replacer.call({"":K},"",K);if(EK(Q,0,K,!0,!0))return Q.dump+"\n";return""}function bD(Z,J){return function(){throw new Error("Function yaml."+Z+" is removed in js-yaml 4. Use yaml."+J+" instead, which is now safe by default.")}}function MY0(Z){const J=Z.match(hN);if(!J)return{text:Z,metadata:{}};let Q=Fn0(J[1],{schema:Wn0})??{};Q=typeof Q==="object"&&!Array.isArray(Q)?Q:{};const K={};if(Q.displayMode)K.displayMode=Q.displayMode.toString();if(Q.title)K.title=Q.title.toString();if(Q.config)K.config=Q.config;return{text:Z.slice(J[0].length),metadata:K}}function Bb(Z){const J=Mn0(Z),Q=Bn0(J),K=Rn0(Q.text),X=J6(Q.config,K.directive);return Z=Yr0(K.text),{code:Z,title:Q.title,config:X}}function BY0(Z){const J=new TextEncoder().encode(Z),Q=Array.from(J,(K)=>String.fromCodePoint(K)).join("");return btoa(Q)}function Rb(Z){const J=Bb(Z);return gG(),oh(J.config??{}),J}async function RY0(Z,J){kD();try{const{code:Q}=Rb(Z);return{diagramType:(await AY0(Q)).type}}catch(Q){if(J?.suppressErrors)return!1;throw Q}}function Yb(Z,J){return Z.append("iframe").attr("id",J).attr("style","width: 100%; height: 100%;").attr("sandbox","")}function OY0(Z={}){const J=TZ({},Z);if(J?.fontFamily&&!J.themeVariables?.fontFamily){if(!J.themeVariables)J.themeVariables={};J.themeVariables.fontFamily=J.fontFamily}if(rh(J),J?.theme&&J.theme in T4)J.themeVariables=T4[J.theme].getThemeVariables(J.themeVariables);else if(J)J.themeVariables=T4.default.getThemeVariables(J.themeVariables);const Q=typeof J==="object"?sh(J):mN();B2(Q.logLevel),kD()}function LY0(Z,J,Q,K){VX0(J,Z),SX0(J,Q,K,J.attr("id"))}var QX0="c4",Li0=R((Z)=>{return/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(Z)},"detector"),Ii0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (jo(),wo));return{id:QX0,diagram:Z}},"loader"),Di0={id:QX0,detector:Li0,loader:Ii0},Ni0=Di0,KX0="flowchart",Ei0=R((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-wrapper"||J?.flowchart?.defaultRenderer==="elk")return!1;return/^\s*graph/.test(Z)},"detector"),wi0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (RA(),BA));return{id:KX0,diagram:Z}},"loader"),ji0={id:KX0,detector:Ei0,loader:wi0},Ci0=ji0,XX0="flowchart-v2",Pi0=R((Z,J)=>{if(J?.flowchart?.defaultRenderer==="dagre-d3"||J?.flowchart?.defaultRenderer==="elk")return!1;if(/^\s*graph/.test(Z)&&J?.flowchart?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*flowchart/.test(Z)},"detector"),Vi0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (RA(),BA));return{id:XX0,diagram:Z}},"loader"),Si0={id:XX0,detector:Pi0,loader:Vi0},Ti0=Si0,UX0="er",fi0=R((Z)=>{return/^\s*erDiagram/.test(Z)},"detector"),vi0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (Bt(),Mt));return{id:UX0,diagram:Z}},"loader"),ki0={id:UX0,detector:fi0,loader:vi0},$i0=ki0,YX0="gitGraph",_i0=R((Z)=>{return/^\s*gitGraph/.test(Z)},"detector"),bi0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (TZ0(),SZ0));return{id:YX0,diagram:Z}},"loader"),xi0={id:YX0,detector:_i0,loader:bi0},hi0=xi0,qX0="gantt",yi0=R((Z)=>{return/^\s*gantt/.test(Z)},"detector"),ui0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (nZ0(),rZ0));return{id:qX0,diagram:Z}},"loader"),mi0={id:qX0,detector:yi0,loader:ui0},gi0=mi0,zX0="info",pi0=R((Z)=>{return/^\s*info/.test(Z)},"detector"),ci0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (oZ0(),aZ0));return{id:zX0,diagram:Z}},"loader"),li0={id:zX0,detector:pi0,loader:ci0},GX0="pie",di0=R((Z)=>{return/^\s*pie/.test(Z)},"detector"),ii0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (JJ0(),ZJ0));return{id:GX0,diagram:Z}},"loader"),si0={id:GX0,detector:di0,loader:ii0},HX0="quadrantChart",ri0=R((Z)=>{return/^\s*quadrantChart/.test(Z)},"detector"),ni0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (LJ0(),AJ0));return{id:HX0,diagram:Z}},"loader"),ai0={id:HX0,detector:ri0,loader:ni0},oi0=ai0,WX0="xychart",ti0=R((Z)=>{return/^\s*xychart-beta/.test(Z)},"detector"),ei0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (uJ0(),yJ0));return{id:WX0,diagram:Z}},"loader"),Zs0={id:WX0,detector:ti0,loader:ei0},Js0=Zs0,FX0="requirement",Qs0=R((Z)=>{return/^\s*requirement(Diagram)?/.test(Z)},"detector"),Ks0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (iJ0(),dJ0));return{id:FX0,diagram:Z}},"loader"),Xs0={id:FX0,detector:Qs0,loader:Ks0},Us0=Xs0,MX0="sequence",Ys0=R((Z)=>{return/^\s*sequenceDiagram/.test(Z)},"detector"),qs0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (O70(),R70));return{id:MX0,diagram:Z}},"loader"),zs0={id:MX0,detector:Ys0,loader:qs0},Gs0=zs0,BX0="class",Hs0=R((Z,J)=>{if(J?.class?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*classDiagram/.test(Z)},"detector"),Ws0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (V70(),P70));return{id:BX0,diagram:Z}},"loader"),Fs0={id:BX0,detector:Hs0,loader:Ws0},Ms0=Fs0,RX0="classDiagram",Bs0=R((Z,J)=>{if(/^\s*classDiagram/.test(Z)&&J?.class?.defaultRenderer==="dagre-wrapper")return!0;return/^\s*classDiagram-v2/.test(Z)},"detector"),Rs0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (m70(),u70));return{id:RX0,diagram:Z}},"loader"),Os0={id:RX0,detector:Bs0,loader:Rs0},As0=Os0,OX0="state",Ls0=R((Z,J)=>{if(J?.state?.defaultRenderer==="dagre-wrapper")return!1;return/^\s*stateDiagram/.test(Z)},"detector"),Is0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (C60(),j60));return{id:OX0,diagram:Z}},"loader"),Ds0={id:OX0,detector:Ls0,loader:Is0},Ns0=Ds0,AX0="stateDiagram",Es0=R((Z,J)=>{if(/^\s*stateDiagram-v2/.test(Z))return!0;if(/^\s*stateDiagram/.test(Z)&&J?.state?.defaultRenderer==="dagre-wrapper")return!0;return!1},"detector"),ws0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (V60(),P60));return{id:AX0,diagram:Z}},"loader"),js0={id:AX0,detector:Es0,loader:ws0},Cs0=js0,LX0="journey",Ps0=R((Z)=>{return/^\s*journey/.test(Z)},"detector"),Vs0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (y60(),h60));return{id:LX0,diagram:Z}},"loader"),Ss0={id:LX0,detector:Ps0,loader:Vs0},Ts0=Ss0,fs0=R((Z,J,Q)=>{p.debug("rendering svg for syntax error\n");const K=OQ(J),X=K.append("g");K.attr("viewBox","0 0 2412 512"),R8(K,100,512,!0),X.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),X.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),X.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),X.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),X.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),X.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),X.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),X.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${Q}`)},"draw"),IX0={draw:fs0},vs0=IX0,ks0={db:{},renderer:IX0,parser:{parse:R(()=>{return},"parse")}},$s0=ks0,DX0="flowchart-elk",_s0=R((Z,J={})=>{if(/^\s*flowchart-elk/.test(Z)||/^\s*flowchart|graph/.test(Z)&&J?.flowchart?.defaultRenderer==="elk")return J.layout="elk",!0;return!1},"detector"),bs0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (RA(),BA));return{id:DX0,diagram:Z}},"loader"),xs0={id:DX0,detector:_s0,loader:bs0},hs0=xs0,NX0="timeline",ys0=R((Z)=>{return/^\s*timeline/.test(Z)},"detector"),us0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (JQ0(),ZQ0));return{id:NX0,diagram:Z}},"loader"),ms0={id:NX0,detector:ys0,loader:us0},gs0=ms0,EX0="mindmap",ps0=R((Z)=>{return/^\s*mindmap/.test(Z)},"detector"),cs0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (H50(),G50));return{id:EX0,diagram:Z}},"loader"),ls0={id:EX0,detector:ps0,loader:cs0},ds0=ls0,wX0="sankey",is0=R((Z)=>{return/^\s*sankey-beta/.test(Z)},"detector"),ss0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (T50(),S50));return{id:wX0,diagram:Z}},"loader"),rs0={id:wX0,detector:is0,loader:ss0},ns0=rs0,jX0="packet",as0=R((Z)=>{return/^\s*packet-beta/.test(Z)},"detector"),os0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (k50(),v50));return{id:jX0,diagram:Z}},"loader"),ts0={id:jX0,detector:as0,loader:os0},CX0="block",es0=R((Z)=>{return/^\s*block-beta/.test(Z)},"detector"),Zr0=R(async()=>{const{diagram:Z}=await Promise.resolve().then(() => (n50(),r50));return{id:CX0,diagram:Z}},"loader"),Jr0={id:CX0,detector:es0,loader:Zr0},Qr0=Jr0,a50=!1,kD=R(()=>{if(a50)return;a50=!0,pG("error",$s0,(Z)=>{return Z.toLowerCase().trim()==="error"}),pG("---",{db:{clear:R(()=>{},"clear")},styles:{},renderer:{draw:R(()=>{},"draw")},parser:{parse:R(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:R(()=>null,"init")},(Z)=>{return Z.toLowerCase().trimStart().startsWith("---")}),uN(Ni0,As0,Ms0,$i0,gi0,li0,si0,Us0,Gs0,hs0,Ti0,Ci0,ds0,gs0,hi0,Cs0,Ns0,Ts0,oi0,ns0,ts0,Js0,Qr0)},"addDiagrams"),Kr0=R(async()=>{p.debug("Loading registered diagrams");const J=(await Promise.allSettled(Object.entries(BU).map(async([Q,{detector:K,loader:X}])=>{if(X)try{D2(Q)}catch{try{const{diagram:U,id:Y}=await X();pG(Y,U,K)}catch(U){throw p.error(`Failed to load external diagram with key ${Q}. Removing from detectors.`),delete BU[Q],U}}}))).filter((Q)=>Q.status==="rejected");if(J.length>0){p.error(`Failed to load ${J.length} external diagrams`);for(let Q of J)p.error(Q);throw new Error(`Failed to load ${J.length} external diagrams`)}},"loadRegisteredDiagrams"),l_=class Z{constructor(J,Q,K,X,U){this.type=J,this.text=Q,this.db=K,this.parser=X,this.renderer=U}static{R(this,"Diagram")}static async fromText(J,Q={}){const K=a8(),X=uG(J,K);J=tc(J)+"\n";try{D2(X)}catch{const G=ch(X);if(!G)throw new yN(`Diagram ${X} not found.`);const{id:H,diagram:W}=await G();pG(H,W)}const{db:U,parser:Y,renderer:q,init:z}=D2(X);if(Y.parser)Y.parser.yy=U;if(U.clear?.(),z?.(K),Q.title)U.setDiagramTitle?.(Q.title);return await Y.parse(J),new Z(X,J,U,Y,q)}async render(J,Q){await this.renderer.draw(this.text,J,Q,this)}getParser(){return this.parser}getType(){return this.type}},o50=[],Xr0=R(()=>{o50.forEach((Z)=>{Z()}),o50=[]},"attachFunctions"),Ur0="graphics-document document";R(VX0,"setA11yDiagramInfo");R(SX0,"addSVGa11yTitleDescription");var Yr0=R((Z)=>{return Z.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()},"cleanupComments");R(qb,"isNothing");R(TX0,"isObject");R(fX0,"toArray");R(vX0,"extend");R(kX0,"repeat");R($X0,"isNegativeZero");var qr0=qb,zr0=TX0,Gr0=fX0,Hr0=kX0,Wr0=$X0,Fr0=vX0,jJ={isNothing:qr0,isObject:zr0,toArray:Gr0,repeat:Hr0,isNegativeZero:Wr0,extend:Fr0};R(zb,"formatError");R(RG,"YAMLException$1");RG.prototype=Object.create(Error.prototype);RG.prototype.constructor=RG;RG.prototype.toString=R(function Z(J){return this.name+": "+zb(this,J)},"toString");var N6=RG;R(wD,"getLine");R(jD,"padStart");R(_X0,"makeSnippet");var Mr0=_X0,Br0=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Rr0=["scalar","sequence","mapping"];R(bX0,"compileStyleAliases");R(xX0,"Type$1");var E7=xX0;R(d_,"compileList");R(hX0,"compileMap");R(CD,"Schema$1");CD.prototype.extend=R(function Z(J){var Q=[],K=[];if(J instanceof E7)K.push(J);else if(Array.isArray(J))K=K.concat(J);else if(J&&(Array.isArray(J.implicit)||Array.isArray(J.explicit))){if(J.implicit)Q=Q.concat(J.implicit);if(J.explicit)K=K.concat(J.explicit)}else throw new N6("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Q.forEach(function(U){if(!(U instanceof E7))throw new N6("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(U.loadKind&&U.loadKind!=="scalar")throw new N6("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(U.multi)throw new N6("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),K.forEach(function(U){if(!(U instanceof E7))throw new N6("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var X=Object.create(CD.prototype);return X.implicit=(this.implicit||[]).concat(Q),X.explicit=(this.explicit||[]).concat(K),X.compiledImplicit=d_(X,"implicit"),X.compiledExplicit=d_(X,"explicit"),X.compiledTypeMap=hX0(X.compiledImplicit,X.compiledExplicit),X},"extend");var Or0=CD,Ar0=new E7("tag:yaml.org,2002:str",{kind:"scalar",construct:R(function(Z){return Z!==null?Z:""},"construct")}),Lr0=new E7("tag:yaml.org,2002:seq",{kind:"sequence",construct:R(function(Z){return Z!==null?Z:[]},"construct")}),Ir0=new E7("tag:yaml.org,2002:map",{kind:"mapping",construct:R(function(Z){return Z!==null?Z:{}},"construct")}),Dr0=new Or0({explicit:[Ar0,Lr0,Ir0]});R(yX0,"resolveYamlNull");R(uX0,"constructYamlNull");R(mX0,"isNull");var Nr0=new E7("tag:yaml.org,2002:null",{kind:"scalar",resolve:yX0,construct:uX0,predicate:mX0,represent:{canonical:R(function(){return"~"},"canonical"),lowercase:R(function(){return"null"},"lowercase"),uppercase:R(function(){return"NULL"},"uppercase"),camelcase:R(function(){return"Null"},"camelcase"),empty:R(function(){return""},"empty")},defaultStyle:"lowercase"});R(gX0,"resolveYamlBoolean");R(pX0,"constructYamlBoolean");R(cX0,"isBoolean");var Er0=new E7("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gX0,construct:pX0,predicate:cX0,represent:{lowercase:R(function(Z){return Z?"true":"false"},"lowercase"),uppercase:R(function(Z){return Z?"TRUE":"FALSE"},"uppercase"),camelcase:R(function(Z){return Z?"True":"False"},"camelcase")},defaultStyle:"lowercase"});R(lX0,"isHexCode");R(dX0,"isOctCode");R(iX0,"isDecCode");R(sX0,"resolveYamlInteger");R(rX0,"constructYamlInteger");R(nX0,"isInteger");var wr0=new E7("tag:yaml.org,2002:int",{kind:"scalar",resolve:sX0,construct:rX0,predicate:nX0,represent:{binary:R(function(Z){return Z>=0?"0b"+Z.toString(2):"-0b"+Z.toString(2).slice(1)},"binary"),octal:R(function(Z){return Z>=0?"0o"+Z.toString(8):"-0o"+Z.toString(8).slice(1)},"octal"),decimal:R(function(Z){return Z.toString(10)},"decimal"),hexadecimal:R(function(Z){return Z>=0?"0x"+Z.toString(16).toUpperCase():"-0x"+Z.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),jr0=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");R(aX0,"resolveYamlFloat");R(oX0,"constructYamlFloat");var Cr0=/^[-+]?[0-9]+e/;R(tX0,"representYamlFloat");R(eX0,"isFloat");var Pr0=new E7("tag:yaml.org,2002:float",{kind:"scalar",resolve:aX0,construct:oX0,predicate:eX0,represent:tX0,defaultStyle:"lowercase"}),ZU0=Dr0.extend({implicit:[Nr0,Er0,wr0,Pr0]}),Vr0=ZU0,JU0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),QU0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");R(KU0,"resolveYamlTimestamp");R(XU0,"constructYamlTimestamp");R(UU0,"representYamlTimestamp");var Sr0=new E7("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:KU0,construct:XU0,instanceOf:Date,represent:UU0});R(YU0,"resolveYamlMerge");var Tr0=new E7("tag:yaml.org,2002:merge",{kind:"scalar",resolve:YU0}),Gb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";R(qU0,"resolveYamlBinary");R(zU0,"constructYamlBinary");R(GU0,"representYamlBinary");R(HU0,"isBinary");var fr0=new E7("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qU0,construct:zU0,predicate:HU0,represent:GU0}),vr0=Object.prototype.hasOwnProperty,kr0=Object.prototype.toString;R(WU0,"resolveYamlOmap");R(FU0,"constructYamlOmap");var $r0=new E7("tag:yaml.org,2002:omap",{kind:"sequence",resolve:WU0,construct:FU0}),_r0=Object.prototype.toString;R(MU0,"resolveYamlPairs");R(BU0,"constructYamlPairs");var br0=new E7("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:MU0,construct:BU0}),xr0=Object.prototype.hasOwnProperty;R(RU0,"resolveYamlSet");R(OU0,"constructYamlSet");var hr0=new E7("tag:yaml.org,2002:set",{kind:"mapping",resolve:RU0,construct:OU0}),AU0=Vr0.extend({implicit:[Sr0,Tr0],explicit:[fr0,$r0,br0,hr0]}),zU=Object.prototype.hasOwnProperty,PD=1,LU0=2,IU0=3,VD=4,p_=1,yr0=2,t50=3,ur0=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,mr0=/[\x85\u2028\u2029]/,gr0=/[,\[\]\{\}]/,DU0=/^(?:!|!!|![a-z\-]+!)$/i,NU0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;R(i_,"_class");R(L4,"is_EOL");R(qU,"is_WHITE_SPACE");R(p7,"is_WS_OR_EOL");R(Uq,"is_FLOW_INDICATOR");R(EU0,"fromHexCode");R(wU0,"escapedHexLen");R(jU0,"fromDecimalCode");R(s_,"simpleEscapeSequence");R(CU0,"charFromCodepoint");var PU0=new Array(256),VU0=new Array(256);for(Xq=0;Xq<256;Xq++)PU0[Xq]=s_(Xq)?1:0,VU0[Xq]=s_(Xq);var Xq;R(SU0,"State$1");R(Hb,"generateError");R(C9,"throwError");R(CM,"throwWarning");var e50={YAML:R(function Z(J,Q,K){var X,U,Y;if(J.version!==null)C9(J,"duplication of %YAML directive");if(K.length!==1)C9(J,"YAML directive accepts exactly one argument");if(X=/^([0-9]+)\.([0-9]+)$/.exec(K[0]),X===null)C9(J,"ill-formed argument of the YAML directive");if(U=parseInt(X[1],10),Y=parseInt(X[2],10),U!==1)C9(J,"unacceptable YAML version of the document");if(J.version=K[0],J.checkLineBreaks=Y<2,Y!==1&&Y!==2)CM(J,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:R(function Z(J,Q,K){var X,U;if(K.length!==2)C9(J,"TAG directive accepts exactly two arguments");if(X=K[0],U=K[1],!DU0.test(X))C9(J,"ill-formed tag handle (first argument) of the TAG directive");if(zU.call(J.tagMap,X))C9(J,'there is a previously declared suffix for "'+X+'" tag handle');if(!NU0.test(U))C9(J,"ill-formed tag prefix (second argument) of the TAG directive");try{U=decodeURIComponent(U)}catch(Y){C9(J,"tag prefix is malformed: "+U)}J.tagMap[X]=U},"handleTagDirective")};R(b5,"captureSegment");R(r_,"mergeMappings");R(Yq,"storeMappingPair");R($D,"readLineBreak");R(ZJ,"skipSeparationSpace");R(TM,"testDocumentSeparator");R(_D,"writeFoldedLines");R(TU0,"readPlainScalar");R(fU0,"readSingleQuotedScalar");R(vU0,"readDoubleQuotedScalar");R(kU0,"readFlowCollection");R($U0,"readBlockScalar");R(n_,"readBlockSequence");R(_U0,"readBlockMapping");R(bU0,"readTagProperty");R(xU0,"readAnchorProperty");R(hU0,"readAlias");R(qq,"composeNode");R(yU0,"readDocument");R(Wb,"loadDocuments");R(uU0,"loadAll$1");R(mU0,"load$1");var pr0=uU0,cr0=mU0,gU0={loadAll:pr0,load:cr0},pU0=Object.prototype.toString,cU0=Object.prototype.hasOwnProperty,Fb=65279,lr0=9,PM=10,dr0=13,ir0=32,sr0=33,rr0=34,a_=35,nr0=37,ar0=38,or0=39,tr0=42,lU0=44,er0=45,SD=58,Zn0=61,Jn0=62,Qn0=63,Kn0=64,dU0=91,iU0=93,Xn0=96,sU0=123,Un0=124,rU0=125,w7={};w7[0]="\\0";w7[7]="\\a";w7[8]="\\b";w7[9]="\\t";w7[10]="\\n";w7[11]="\\v";w7[12]="\\f";w7[13]="\\r";w7[27]="\\e";w7[34]='\\"';w7[92]="\\\\";w7[133]="\\N";w7[160]="\\_";w7[8232]="\\L";w7[8233]="\\P";var Yn0=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],qn0=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;R(nU0,"compileStyleMap");R(aU0,"encodeHex");var zn0=1,VM=2;R(oU0,"State");R(o_,"indentString");R(TD,"generateNextLine");R(tU0,"testImplicitResolving");R(SM,"isWhitespace");R(OG,"isPrintable");R(t_,"isNsCharOrWhitespace");R(e_,"isPlainSafe");R(eU0,"isPlainSafeFirst");R(ZY0,"isPlainSafeLast");R(BG,"codePointAt");R(Mb,"needIndentIndicator");var JY0=1,Zb=2,QY0=3,KY0=4,MG=5;R(XY0,"chooseScalarStyle");R(UY0,"writeScalar");R(Jb,"blockHeader");R(Qb,"dropEndingNewline");R(YY0,"foldString");R(Kb,"foldLine");R(qY0,"escapeString");R(zY0,"writeFlowSequence");R(Xb,"writeBlockSequence");R(GY0,"writeFlowMapping");R(HY0,"writeBlockMapping");R(Ub,"detectType");R(EK,"writeNode");R(WY0,"getDuplicateReferences");R(fD,"inspectNode");R(FY0,"dump$1");var Gn0=FY0,Hn0={dump:Gn0};R(bD,"renamed");var Wn0=ZU0,Fn0=gU0.load,wk9=gU0.loadAll,jk9=Hn0.dump,Ck9=bD("safeLoad","load"),Pk9=bD("safeLoadAll","loadAll"),Vk9=bD("safeDump","dump");R(MY0,"extractFrontMatter");var Mn0=R((Z)=>{return Z.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(J,Q,K)=>"<"+Q+K.replace(/="([^"]*)"/g,"='$1'")+">")},"cleanupText"),Bn0=R((Z)=>{const{text:J,metadata:Q}=MY0(Z),{displayMode:K,title:X,config:U={}}=Q;if(K){if(!U.gantt)U.gantt={};U.gantt.displayMode=K}return{title:X,config:U,text:J}},"processFrontmatter"),Rn0=R((Z)=>{const J=B9.detectInit(Z)??{},Q=B9.detectDirective(Z,"wrap");if(Array.isArray(Q))J.wrap=Q.some(({type:K})=>K==="wrap");else if(Q?.type==="wrap")J.wrap=!0;return{text:ic(Z),directive:J}},"processDirectives");R(Bb,"preprocessDiagram");R(BY0,"toBase64");var On0=50000,An0="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Ln0="sandbox",In0="loose",Dn0="http://www.w3.org/2000/svg",Nn0="http://www.w3.org/1999/xlink",En0="http://www.w3.org/1999/xhtml",wn0="100%",jn0="100%",Cn0="border:0;margin:0;",Pn0="margin:0",Vn0="allow-top-navigation-by-user-activation allow-popups",Sn0='The "iframe" tag is not supported by your browser.',Tn0=["foreignobject"],fn0=["dominant-baseline"];R(Rb,"processAndSetConfigs");R(RY0,"parse");var ZX0=R((Z,J,Q=[])=>{return`
.${Z} ${J} { ${Q.join(" !important; ")} !important; }`},"cssImportantStyles"),vn0=R((Z,J=new Map)=>{let Q="";if(Z.themeCSS!==void 0)Q+=`
${Z.themeCSS}`;if(Z.fontFamily!==void 0)Q+=`
:root { --mermaid-font-family: ${Z.fontFamily}}`;if(Z.altFontFamily!==void 0)Q+=`
:root { --mermaid-alt-font-family: ${Z.altFontFamily}}`;if(J instanceof Map){const Y=Z.htmlLabels??Z.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];J.forEach((q)=>{if(!p9(q.styles))Y.forEach((z)=>{Q+=ZX0(q.id,z,q.styles)});if(!p9(q.textStyles))Q+=ZX0(q.id,"tspan",(q?.textStyles||[]).map((z)=>z.replace("color","fill")))})}return Q},"createCssStyles"),kn0=R((Z,J,Q,K)=>{const X=vn0(Z,Q),U=Qy(J,X,Z.themeVariables);return nO(qo(`${K}{${U}}`),zo)},"createUserStyles"),$n0=R((Z="",J,Q)=>{let K=Z;if(!Q&&!J)K=K.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#');return K=rQ(K),K=K.replace(/<br>/g,"<br/>"),K},"cleanUpSvgCode"),_n0=R((Z="",J)=>{const Q=J?.viewBox?.baseVal?.height?J.viewBox.baseVal.height+"px":jn0,K=BY0(`<body style="${Pn0}">${Z}</body>`);return`<iframe style="width:${wn0};height:${Q};${Cn0}" src="data:text/html;charset=UTF-8;base64,${K}" sandbox="${Vn0}">
  ${Sn0}
</iframe>`},"putIntoIFrame"),JX0=R((Z,J,Q,K,X)=>{const U=Z.append("div");if(U.attr("id",Q),K)U.attr("style",K);const Y=U.append("svg").attr("id",J).attr("width","100%").attr("xmlns",Dn0);if(X)Y.attr("xmlns:xlink",X);return Y.append("g"),Z},"appendDivSvgG");R(Yb,"sandboxedIframe");var bn0=R((Z,J,Q,K)=>{Z.getElementById(J)?.remove(),Z.getElementById(Q)?.remove(),Z.getElementById(K)?.remove()},"removeExistingElements"),xn0=R(async function(Z,J,Q){kD();const K=Rb(J);J=K.code;const X=a8();if(p.debug(X),J.length>(X?.maxTextSize??On0))J=An0;const U="#"+Z,Y="i"+Z,q="#"+Y,z="d"+Z,G="#"+z,H=R(()=>{const $=$0(F?q:G).node();if($&&"remove"in $)$.remove()},"removeTempElements");let W=$0("body");const F=X.securityLevel===Ln0,M=X.securityLevel===In0,B=X.fontFamily;if(Q!==void 0){if(Q)Q.innerHTML="";if(F){const S=Yb($0(Q),Y);W=$0(S.nodes()[0].contentDocument.body),W.node().style.margin=0}else W=$0(Q);JX0(W,Z,z,`font-family: ${B}`,Nn0)}else{if(bn0(document,Z,z,Y),F){const S=Yb($0("body"),Y);W=$0(S.nodes()[0].contentDocument.body),W.node().style.margin=0}else W=$0("body");JX0(W,Z,z)}let O,A;try{O=await l_.fromText(J,{title:K.title})}catch(S){if(X.suppressErrorRendering)throw H(),S;O=await l_.fromText("error"),A=S}const L=W.select(G).node(),I=O.type,D=L.firstChild,w=D.firstChild,N=O.renderer.getClasses?.(J,O),E=kn0(X,I,N,U),j=document.createElement("style");j.innerHTML=E,D.insertBefore(j,w);try{await O.renderer.draw(J,Z,FW,O)}catch(S){if(X.suppressErrorRendering)H();else vs0.draw(J,Z,FW);throw S}const P=W.select(`${G} svg`),C=O.db.getAccTitle?.(),T=O.db.getAccDescription?.();LY0(I,P,C,T),W.select(`[id="${Z}"]`).selectAll("foreignobject > *").attr("xmlns",En0);let V=W.select(G).node().innerHTML;if(p.debug("config.arrowMarkerAbsolute",X.arrowMarkerAbsolute),V=$n0(V,F,b8(X.arrowMarkerAbsolute)),F){const S=W.select(G+" svg").node();V=_n0(V,S)}else if(!M)V=PX0.default.sanitize(V,{ADD_TAGS:Tn0,ADD_ATTR:fn0});if(Xr0(),A)throw A;return H(),{diagramType:I,svg:V,bindFunctions:O.db.bindFunctions}},"render");R(OY0,"initialize");var AY0=R((Z,J={})=>{const{code:Q}=Bb(Z);return l_.fromText(Q,J)},"getDiagramFromText");R(LY0,"addA11yInfo");var zq=Object.freeze({render:xn0,parse:RY0,getDiagramFromText:AY0,initialize:OY0,getConfig:a8,setConfig:gN,getSiteConfig:mN,updateSiteConfig:nh,reset:R(()=>{gG()},"reset"),globalReset:R(()=>{gG(RU)},"globalReset"),defaultConfig:RU});B2(a8().logLevel);gG(a8());var hn0=R((Z,J,Q)=>{if(p.warn(Z),zR(Z)){if(Q)Q(Z.str,Z.hash);J.push({...Z,message:Z.str,error:Z})}else{if(Q)Q(Z);if(Z instanceof Error)J.push({str:Z.message,message:Z.message,hash:Z.name,error:Z})}},"handleError"),IY0=R(async function(Z={querySelector:".mermaid"}){try{await yn0(Z)}catch(J){if(zR(J))p.error(J.str);if(x5.parseError)x5.parseError(J);if(!Z.suppressErrors)throw p.error("Use the suppressErrors option to suppress these errors"),J}},"run"),yn0=R(async function({postRenderCallback:Z,querySelector:J,nodes:Q}={querySelector:".mermaid"}){const K=zq.getConfig();p.debug(`${!Z?"No ":""}Callback function found`);let X;if(Q)X=Q;else if(J)X=document.querySelectorAll(J);else throw new Error("Nodes and querySelector are both undefined");if(p.debug(`Found ${X.length} diagrams`),K?.startOnLoad!==void 0)p.debug("Start On Load: "+K?.startOnLoad),zq.updateSiteConfig({startOnLoad:K?.startOnLoad});const U=new B9.InitIDGenerator(K.deterministicIds,K.deterministicIDSeed);let Y;const q=[];for(let z of Array.from(X)){if(p.info("Rendering diagram: "+z.id),z.getAttribute("data-processed"))continue;z.setAttribute("data-processed","true");const G=`mermaid-${U.next()}`;Y=z.innerHTML,Y=BR(B9.entityDecode(Y)).trim().replace(/<br\s*\/?>/gi,"<br/>");const H=B9.detectInit(Y);if(H)p.debug("Detected early reinit: ",H);try{const{svg:W,bindFunctions:F}=await wY0(G,Y,z);if(z.innerHTML=W,Z)await Z(G);if(F)F(z)}catch(W){hn0(W,q,x5.parseError)}}if(q.length>0)throw q[0]},"runThrowsErrors"),DY0=R(function(Z){zq.initialize(Z)},"initialize"),un0=R(async function(Z,J,Q){if(p.warn("mermaid.init is deprecated. Please use run instead."),Z)DY0(Z);const K={postRenderCallback:Q,querySelector:".mermaid"};if(typeof J==="string")K.querySelector=J;else if(J)if(J instanceof HTMLElement)K.nodes=[J];else K.nodes=J;await IY0(K)},"init"),mn0=R(async(Z,{lazyLoad:J=!0}={})=>{if(kD(),uN(...Z),J===!1)await Kr0()},"registerExternalDiagrams"),NY0=R(function(){if(x5.startOnLoad){const{startOnLoad:Z}=zq.getConfig();if(Z)x5.run().catch((J)=>p.error("Mermaid failed to initialize",J))}},"contentLoaded");if(typeof document!=="undefined")window.addEventListener("load",NY0,!1);var gn0=R(function(Z){x5.parseError=Z},"setParseErrorHandler"),vD=[],c_=!1,EY0=R(async()=>{if(c_)return;c_=!0;while(vD.length>0){const Z=vD.shift();if(Z)try{await Z()}catch(J){p.error("Error executing queue",J)}}c_=!1},"executeQueue"),pn0=R(async(Z,J)=>{return new Promise((Q,K)=>{const X=R(()=>new Promise((U,Y)=>{zq.parse(Z,J).then((q)=>{U(q),Q(q)},(q)=>{p.error("Error parsing",q),x5.parseError?.(q),Y(q),K(q)})}),"performCall");vD.push(X),EY0().catch(K)})},"parse"),wY0=R((Z,J,Q)=>{return new Promise((K,X)=>{const U=R(()=>new Promise((Y,q)=>{zq.render(Z,J,Q).then((z)=>{Y(z),K(z)},(z)=>{p.error("Error parsing",z),x5.parseError?.(z),q(z),X(z)})}),"performCall");vD.push(U),EY0().catch(X)})},"render"),x5={startOnLoad:!0,mermaidAPI:zq,parse:pn0,render:wY0,init:un0,run:IY0,registerExternalDiagrams:mn0,registerLayoutLoaders:LV,initialize:DY0,parseError:void 0,contentLoaded:NY0,setParseErrorHandler:gn0,detectType:uG},jY0=x5;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/window.onload=()=>{[...document.querySelectorAll("pre code.language-mermaid")].map((Z)=>{const J=Z.parentElement;J.innerHTML=Z.innerHTML,J.className="language-mermaid"}),jY0.run({querySelector:".language-mermaid"})};
